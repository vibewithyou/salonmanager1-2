function kB(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var Kg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ft(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function y7(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){var i=!1;try{i=this instanceof r}catch{}return i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var iw={exports:{}},wh={},aw={exports:{}},Ct={};var qT;function x7(){if(qT)return Ct;qT=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),s=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;function v(J){return J===null||typeof J!="object"?null:(J=m&&J[m]||J["@@iterator"],typeof J=="function"?J:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,b={};function w(J,ee,te){this.props=J,this.context=ee,this.refs=b,this.updater=te||x}w.prototype.isReactComponent={},w.prototype.setState=function(J,ee){if(typeof J!="object"&&typeof J!="function"&&J!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,J,ee,"setState")},w.prototype.forceUpdate=function(J){this.updater.enqueueForceUpdate(this,J,"forceUpdate")};function k(){}k.prototype=w.prototype;function E(J,ee,te){this.props=J,this.context=ee,this.refs=b,this.updater=te||x}var P=E.prototype=new k;P.constructor=E,_(P,w.prototype),P.isPureReactComponent=!0;var C=Array.isArray,O=Object.prototype.hasOwnProperty,R={current:null},M={key:!0,ref:!0,__self:!0,__source:!0};function U(J,ee,te){var re,ie={},se=null,oe=null;if(ee!=null)for(re in ee.ref!==void 0&&(oe=ee.ref),ee.key!==void 0&&(se=""+ee.key),ee)O.call(ee,re)&&!M.hasOwnProperty(re)&&(ie[re]=ee[re]);var be=arguments.length-2;if(be===1)ie.children=te;else if(1<be){for(var fe=Array(be),xe=0;xe<be;xe++)fe[xe]=arguments[xe+2];ie.children=fe}if(J&&J.defaultProps)for(re in be=J.defaultProps,be)ie[re]===void 0&&(ie[re]=be[re]);return{$$typeof:e,type:J,key:se,ref:oe,props:ie,_owner:R.current}}function F(J,ee){return{$$typeof:e,type:J.type,key:ee,ref:J.ref,props:J.props,_owner:J._owner}}function H(J){return typeof J=="object"&&J!==null&&J.$$typeof===e}function B(J){var ee={"=":"=0",":":"=2"};return"$"+J.replace(/[=:]/g,function(te){return ee[te]})}var $=/\/+/g;function G(J,ee){return typeof J=="object"&&J!==null&&J.key!=null?B(""+J.key):ee.toString(36)}function W(J,ee,te,re,ie){var se=typeof J;(se==="undefined"||se==="boolean")&&(J=null);var oe=!1;if(J===null)oe=!0;else switch(se){case"string":case"number":oe=!0;break;case"object":switch(J.$$typeof){case e:case t:oe=!0}}if(oe)return oe=J,ie=ie(oe),J=re===""?"."+G(oe,0):re,C(ie)?(te="",J!=null&&(te=J.replace($,"$&/")+"/"),W(ie,ee,te,"",function(xe){return xe})):ie!=null&&(H(ie)&&(ie=F(ie,te+(!ie.key||oe&&oe.key===ie.key?"":(""+ie.key).replace($,"$&/")+"/")+J)),ee.push(ie)),1;if(oe=0,re=re===""?".":re+":",C(J))for(var be=0;be<J.length;be++){se=J[be];var fe=re+G(se,be);oe+=W(se,ee,te,fe,ie)}else if(fe=v(J),typeof fe=="function")for(J=fe.call(J),be=0;!(se=J.next()).done;)se=se.value,fe=re+G(se,be++),oe+=W(se,ee,te,fe,ie);else if(se==="object")throw ee=String(J),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(J).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.");return oe}function V(J,ee,te){if(J==null)return J;var re=[],ie=0;return W(J,re,"","",function(se){return ee.call(te,se,ie++)}),re}function K(J){if(J._status===-1){var ee=J._result;ee=ee(),ee.then(function(te){(J._status===0||J._status===-1)&&(J._status=1,J._result=te)},function(te){(J._status===0||J._status===-1)&&(J._status=2,J._result=te)}),J._status===-1&&(J._status=0,J._result=ee)}if(J._status===1)return J._result.default;throw J._result}var q={current:null},D={transition:null},Q={ReactCurrentDispatcher:q,ReactCurrentBatchConfig:D,ReactCurrentOwner:R};function ne(){throw Error("act(...) is not supported in production builds of React.")}return Ct.Children={map:V,forEach:function(J,ee,te){V(J,function(){ee.apply(this,arguments)},te)},count:function(J){var ee=0;return V(J,function(){ee++}),ee},toArray:function(J){return V(J,function(ee){return ee})||[]},only:function(J){if(!H(J))throw Error("React.Children.only expected to receive a single React element child.");return J}},Ct.Component=w,Ct.Fragment=n,Ct.Profiler=i,Ct.PureComponent=E,Ct.StrictMode=r,Ct.Suspense=c,Ct.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Q,Ct.act=ne,Ct.cloneElement=function(J,ee,te){if(J==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+J+".");var re=_({},J.props),ie=J.key,se=J.ref,oe=J._owner;if(ee!=null){if(ee.ref!==void 0&&(se=ee.ref,oe=R.current),ee.key!==void 0&&(ie=""+ee.key),J.type&&J.type.defaultProps)var be=J.type.defaultProps;for(fe in ee)O.call(ee,fe)&&!M.hasOwnProperty(fe)&&(re[fe]=ee[fe]===void 0&&be!==void 0?be[fe]:ee[fe])}var fe=arguments.length-2;if(fe===1)re.children=te;else if(1<fe){be=Array(fe);for(var xe=0;xe<fe;xe++)be[xe]=arguments[xe+2];re.children=be}return{$$typeof:e,type:J.type,key:ie,ref:se,props:re,_owner:oe}},Ct.createContext=function(J){return J={$$typeof:s,_currentValue:J,_currentValue2:J,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},J.Provider={$$typeof:a,_context:J},J.Consumer=J},Ct.createElement=U,Ct.createFactory=function(J){var ee=U.bind(null,J);return ee.type=J,ee},Ct.createRef=function(){return{current:null}},Ct.forwardRef=function(J){return{$$typeof:l,render:J}},Ct.isValidElement=H,Ct.lazy=function(J){return{$$typeof:p,_payload:{_status:-1,_result:J},_init:K}},Ct.memo=function(J,ee){return{$$typeof:f,type:J,compare:ee===void 0?null:ee}},Ct.startTransition=function(J){var ee=D.transition;D.transition={};try{J()}finally{D.transition=ee}},Ct.unstable_act=ne,Ct.useCallback=function(J,ee){return q.current.useCallback(J,ee)},Ct.useContext=function(J){return q.current.useContext(J)},Ct.useDebugValue=function(){},Ct.useDeferredValue=function(J){return q.current.useDeferredValue(J)},Ct.useEffect=function(J,ee){return q.current.useEffect(J,ee)},Ct.useId=function(){return q.current.useId()},Ct.useImperativeHandle=function(J,ee,te){return q.current.useImperativeHandle(J,ee,te)},Ct.useInsertionEffect=function(J,ee){return q.current.useInsertionEffect(J,ee)},Ct.useLayoutEffect=function(J,ee){return q.current.useLayoutEffect(J,ee)},Ct.useMemo=function(J,ee){return q.current.useMemo(J,ee)},Ct.useReducer=function(J,ee,te){return q.current.useReducer(J,ee,te)},Ct.useRef=function(J){return q.current.useRef(J)},Ct.useState=function(J){return q.current.useState(J)},Ct.useSyncExternalStore=function(J,ee,te){return q.current.useSyncExternalStore(J,ee,te)},Ct.useTransition=function(){return q.current.useTransition()},Ct.version="18.3.1",Ct}var UT;function uf(){return UT||(UT=1,aw.exports=x7()),aw.exports}var WT;function b7(){if(WT)return wh;WT=1;var e=uf(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function s(l,c,f){var p,m={},v=null,x=null;f!==void 0&&(v=""+f),c.key!==void 0&&(v=""+c.key),c.ref!==void 0&&(x=c.ref);for(p in c)r.call(c,p)&&!a.hasOwnProperty(p)&&(m[p]=c[p]);if(l&&l.defaultProps)for(p in c=l.defaultProps,c)m[p]===void 0&&(m[p]=c[p]);return{$$typeof:t,type:l,key:v,ref:x,props:m,_owner:i.current}}return wh.Fragment=n,wh.jsx=s,wh.jsxs=s,wh}var HT;function w7(){return HT||(HT=1,iw.exports=b7()),iw.exports}var o=w7(),Gg={},sw={exports:{}},vi={},ow={exports:{}},lw={};var VT;function _7(){return VT||(VT=1,(function(e){function t(D,Q){var ne=D.length;D.push(Q);e:for(;0<ne;){var J=ne-1>>>1,ee=D[J];if(0<i(ee,Q))D[J]=Q,D[ne]=ee,ne=J;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var Q=D[0],ne=D.pop();if(ne!==Q){D[0]=ne;e:for(var J=0,ee=D.length,te=ee>>>1;J<te;){var re=2*(J+1)-1,ie=D[re],se=re+1,oe=D[se];if(0>i(ie,ne))se<ee&&0>i(oe,ie)?(D[J]=oe,D[se]=ne,J=se):(D[J]=ie,D[re]=ne,J=re);else if(se<ee&&0>i(oe,ne))D[J]=oe,D[se]=ne,J=se;else break e}}return Q}function i(D,Q){var ne=D.sortIndex-Q.sortIndex;return ne!==0?ne:D.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();e.unstable_now=function(){return s.now()-l}}var c=[],f=[],p=1,m=null,v=3,x=!1,_=!1,b=!1,w=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function P(D){for(var Q=n(f);Q!==null;){if(Q.callback===null)r(f);else if(Q.startTime<=D)r(f),Q.sortIndex=Q.expirationTime,t(c,Q);else break;Q=n(f)}}function C(D){if(b=!1,P(D),!_)if(n(c)!==null)_=!0,K(O);else{var Q=n(f);Q!==null&&q(C,Q.startTime-D)}}function O(D,Q){_=!1,b&&(b=!1,k(U),U=-1),x=!0;var ne=v;try{for(P(Q),m=n(c);m!==null&&(!(m.expirationTime>Q)||D&&!B());){var J=m.callback;if(typeof J=="function"){m.callback=null,v=m.priorityLevel;var ee=J(m.expirationTime<=Q);Q=e.unstable_now(),typeof ee=="function"?m.callback=ee:m===n(c)&&r(c),P(Q)}else r(c);m=n(c)}if(m!==null)var te=!0;else{var re=n(f);re!==null&&q(C,re.startTime-Q),te=!1}return te}finally{m=null,v=ne,x=!1}}var R=!1,M=null,U=-1,F=5,H=-1;function B(){return!(e.unstable_now()-H<F)}function $(){if(M!==null){var D=e.unstable_now();H=D;var Q=!0;try{Q=M(!0,D)}finally{Q?G():(R=!1,M=null)}}else R=!1}var G;if(typeof E=="function")G=function(){E($)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,V=W.port2;W.port1.onmessage=$,G=function(){V.postMessage(null)}}else G=function(){w($,0)};function K(D){M=D,R||(R=!0,G())}function q(D,Q){U=w(function(){D(e.unstable_now())},Q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){_||x||(_=!0,K(O))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(D){switch(v){case 1:case 2:case 3:var Q=3;break;default:Q=v}var ne=v;v=Q;try{return D()}finally{v=ne}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,Q){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var ne=v;v=D;try{return Q()}finally{v=ne}},e.unstable_scheduleCallback=function(D,Q,ne){var J=e.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?J+ne:J):ne=J,D){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=ne+ee,D={id:p++,callback:Q,priorityLevel:D,startTime:ne,expirationTime:ee,sortIndex:-1},ne>J?(D.sortIndex=ne,t(f,D),n(c)===null&&D===n(f)&&(b?(k(U),U=-1):b=!0,q(C,ne-J))):(D.sortIndex=ee,t(c,D),_||x||(_=!0,K(O))),D},e.unstable_shouldYield=B,e.unstable_wrapCallback=function(D){var Q=v;return function(){var ne=v;v=Q;try{return D.apply(this,arguments)}finally{v=ne}}}})(lw)),lw}var KT;function S7(){return KT||(KT=1,ow.exports=_7()),ow.exports}var GT;function j7(){if(GT)return vi;GT=1;var e=uf(),t=S7();function n(u){for(var h="https://reactjs.org/docs/error-decoder.html?invariant="+u,y=1;y<arguments.length;y++)h+="&args[]="+encodeURIComponent(arguments[y]);return"Minified React error #"+u+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function a(u,h){s(u,h),s(u+"Capture",h)}function s(u,h){for(i[u]=h,u=0;u<h.length;u++)r.add(h[u])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},m={};function v(u){return c.call(m,u)?!0:c.call(p,u)?!1:f.test(u)?m[u]=!0:(p[u]=!0,!1)}function x(u,h,y,N){if(y!==null&&y.type===0)return!1;switch(typeof h){case"function":case"symbol":return!0;case"boolean":return N?!1:y!==null?!y.acceptsBooleans:(u=u.toLowerCase().slice(0,5),u!=="data-"&&u!=="aria-");default:return!1}}function _(u,h,y,N){if(h===null||typeof h>"u"||x(u,h,y,N))return!0;if(N)return!1;if(y!==null)switch(y.type){case 3:return!h;case 4:return h===!1;case 5:return isNaN(h);case 6:return isNaN(h)||1>h}return!1}function b(u,h,y,N,A,I,Y){this.acceptsBooleans=h===2||h===3||h===4,this.attributeName=N,this.attributeNamespace=A,this.mustUseProperty=y,this.propertyName=u,this.type=h,this.sanitizeURL=I,this.removeEmptyString=Y}var w={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(u){w[u]=new b(u,0,!1,u,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(u){var h=u[0];w[h]=new b(h,1,!1,u[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(u){w[u]=new b(u,2,!1,u.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(u){w[u]=new b(u,2,!1,u,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(u){w[u]=new b(u,3,!1,u.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(u){w[u]=new b(u,3,!0,u,null,!1,!1)}),["capture","download"].forEach(function(u){w[u]=new b(u,4,!1,u,null,!1,!1)}),["cols","rows","size","span"].forEach(function(u){w[u]=new b(u,6,!1,u,null,!1,!1)}),["rowSpan","start"].forEach(function(u){w[u]=new b(u,5,!1,u.toLowerCase(),null,!1,!1)});var k=/[\-:]([a-z])/g;function E(u){return u[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(u){var h=u.replace(k,E);w[h]=new b(h,1,!1,u,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(u){var h=u.replace(k,E);w[h]=new b(h,1,!1,u,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(u){var h=u.replace(k,E);w[h]=new b(h,1,!1,u,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(u){w[u]=new b(u,1,!1,u.toLowerCase(),null,!1,!1)}),w.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(u){w[u]=new b(u,1,!1,u.toLowerCase(),null,!0,!0)});function P(u,h,y,N){var A=w.hasOwnProperty(h)?w[h]:null;(A!==null?A.type!==0:N||!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(_(h,y,A,N)&&(y=null),N||A===null?v(h)&&(y===null?u.removeAttribute(h):u.setAttribute(h,""+y)):A.mustUseProperty?u[A.propertyName]=y===null?A.type===3?!1:"":y:(h=A.attributeName,N=A.attributeNamespace,y===null?u.removeAttribute(h):(A=A.type,y=A===3||A===4&&y===!0?"":""+y,N?u.setAttributeNS(N,h,y):u.setAttribute(h,y))))}var C=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,O=Symbol.for("react.element"),R=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),H=Symbol.for("react.provider"),B=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),G=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),K=Symbol.for("react.lazy"),q=Symbol.for("react.offscreen"),D=Symbol.iterator;function Q(u){return u===null||typeof u!="object"?null:(u=D&&u[D]||u["@@iterator"],typeof u=="function"?u:null)}var ne=Object.assign,J;function ee(u){if(J===void 0)try{throw Error()}catch(y){var h=y.stack.trim().match(/\n( *(at )?)/);J=h&&h[1]||""}return`
`+J+u}var te=!1;function re(u,h){if(!u||te)return"";te=!0;var y=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(h)if(h=function(){throw Error()},Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(_e){var N=_e}Reflect.construct(u,[],h)}else{try{h.call()}catch(_e){N=_e}u.call(h.prototype)}else{try{throw Error()}catch(_e){N=_e}u()}}catch(_e){if(_e&&N&&typeof _e.stack=="string"){for(var A=_e.stack.split(`
`),I=N.stack.split(`
`),Y=A.length-1,ae=I.length-1;1<=Y&&0<=ae&&A[Y]!==I[ae];)ae--;for(;1<=Y&&0<=ae;Y--,ae--)if(A[Y]!==I[ae]){if(Y!==1||ae!==1)do if(Y--,ae--,0>ae||A[Y]!==I[ae]){var de=`
`+A[Y].replace(" at new "," at ");return u.displayName&&de.includes("<anonymous>")&&(de=de.replace("<anonymous>",u.displayName)),de}while(1<=Y&&0<=ae);break}}}finally{te=!1,Error.prepareStackTrace=y}return(u=u?u.displayName||u.name:"")?ee(u):""}function ie(u){switch(u.tag){case 5:return ee(u.type);case 16:return ee("Lazy");case 13:return ee("Suspense");case 19:return ee("SuspenseList");case 0:case 2:case 15:return u=re(u.type,!1),u;case 11:return u=re(u.type.render,!1),u;case 1:return u=re(u.type,!0),u;default:return""}}function se(u){if(u==null)return null;if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case M:return"Fragment";case R:return"Portal";case F:return"Profiler";case U:return"StrictMode";case G:return"Suspense";case W:return"SuspenseList"}if(typeof u=="object")switch(u.$$typeof){case B:return(u.displayName||"Context")+".Consumer";case H:return(u._context.displayName||"Context")+".Provider";case $:var h=u.render;return u=u.displayName,u||(u=h.displayName||h.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case V:return h=u.displayName||null,h!==null?h:se(u.type)||"Memo";case K:h=u._payload,u=u._init;try{return se(u(h))}catch{}}return null}function oe(u){var h=u.type;switch(u.tag){case 24:return"Cache";case 9:return(h.displayName||"Context")+".Consumer";case 10:return(h._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return u=h.render,u=u.displayName||u.name||"",h.displayName||(u!==""?"ForwardRef("+u+")":"ForwardRef");case 7:return"Fragment";case 5:return h;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return se(h);case 8:return h===U?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h}return null}function be(u){switch(typeof u){case"boolean":case"number":case"string":case"undefined":return u;case"object":return u;default:return""}}function fe(u){var h=u.type;return(u=u.nodeName)&&u.toLowerCase()==="input"&&(h==="checkbox"||h==="radio")}function xe(u){var h=fe(u)?"checked":"value",y=Object.getOwnPropertyDescriptor(u.constructor.prototype,h),N=""+u[h];if(!u.hasOwnProperty(h)&&typeof y<"u"&&typeof y.get=="function"&&typeof y.set=="function"){var A=y.get,I=y.set;return Object.defineProperty(u,h,{configurable:!0,get:function(){return A.call(this)},set:function(Y){N=""+Y,I.call(this,Y)}}),Object.defineProperty(u,h,{enumerable:y.enumerable}),{getValue:function(){return N},setValue:function(Y){N=""+Y},stopTracking:function(){u._valueTracker=null,delete u[h]}}}}function ce(u){u._valueTracker||(u._valueTracker=xe(u))}function ue(u){if(!u)return!1;var h=u._valueTracker;if(!h)return!0;var y=h.getValue(),N="";return u&&(N=fe(u)?u.checked?"true":"false":u.value),u=N,u!==y?(h.setValue(u),!0):!1}function je(u){if(u=u||(typeof document<"u"?document:void 0),typeof u>"u")return null;try{return u.activeElement||u.body}catch{return u.body}}function Re(u,h){var y=h.checked;return ne({},h,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:y??u._wrapperState.initialChecked})}function Xe(u,h){var y=h.defaultValue==null?"":h.defaultValue,N=h.checked!=null?h.checked:h.defaultChecked;y=be(h.value!=null?h.value:y),u._wrapperState={initialChecked:N,initialValue:y,controlled:h.type==="checkbox"||h.type==="radio"?h.checked!=null:h.value!=null}}function Me(u,h){h=h.checked,h!=null&&P(u,"checked",h,!1)}function tt(u,h){Me(u,h);var y=be(h.value),N=h.type;if(y!=null)N==="number"?(y===0&&u.value===""||u.value!=y)&&(u.value=""+y):u.value!==""+y&&(u.value=""+y);else if(N==="submit"||N==="reset"){u.removeAttribute("value");return}h.hasOwnProperty("value")?Ht(u,h.type,y):h.hasOwnProperty("defaultValue")&&Ht(u,h.type,be(h.defaultValue)),h.checked==null&&h.defaultChecked!=null&&(u.defaultChecked=!!h.defaultChecked)}function Wt(u,h,y){if(h.hasOwnProperty("value")||h.hasOwnProperty("defaultValue")){var N=h.type;if(!(N!=="submit"&&N!=="reset"||h.value!==void 0&&h.value!==null))return;h=""+u._wrapperState.initialValue,y||h===u.value||(u.value=h),u.defaultValue=h}y=u.name,y!==""&&(u.name=""),u.defaultChecked=!!u._wrapperState.initialChecked,y!==""&&(u.name=y)}function Ht(u,h,y){(h!=="number"||je(u.ownerDocument)!==u)&&(y==null?u.defaultValue=""+u._wrapperState.initialValue:u.defaultValue!==""+y&&(u.defaultValue=""+y))}var Mt=Array.isArray;function It(u,h,y,N){if(u=u.options,h){h={};for(var A=0;A<y.length;A++)h["$"+y[A]]=!0;for(y=0;y<u.length;y++)A=h.hasOwnProperty("$"+u[y].value),u[y].selected!==A&&(u[y].selected=A),A&&N&&(u[y].defaultSelected=!0)}else{for(y=""+be(y),h=null,A=0;A<u.length;A++){if(u[A].value===y){u[A].selected=!0,N&&(u[A].defaultSelected=!0);return}h!==null||u[A].disabled||(h=u[A])}h!==null&&(h.selected=!0)}}function it(u,h){if(h.dangerouslySetInnerHTML!=null)throw Error(n(91));return ne({},h,{value:void 0,defaultValue:void 0,children:""+u._wrapperState.initialValue})}function Et(u,h){var y=h.value;if(y==null){if(y=h.children,h=h.defaultValue,y!=null){if(h!=null)throw Error(n(92));if(Mt(y)){if(1<y.length)throw Error(n(93));y=y[0]}h=y}h==null&&(h=""),y=h}u._wrapperState={initialValue:be(y)}}function jr(u,h){var y=be(h.value),N=be(h.defaultValue);y!=null&&(y=""+y,y!==u.value&&(u.value=y),h.defaultValue==null&&u.defaultValue!==y&&(u.defaultValue=y)),N!=null&&(u.defaultValue=""+N)}function pe(u){var h=u.textContent;h===u._wrapperState.initialValue&&h!==""&&h!==null&&(u.value=h)}function pt(u){switch(u){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function sn(u,h){return u==null||u==="http://www.w3.org/1999/xhtml"?pt(h):u==="http://www.w3.org/2000/svg"&&h==="foreignObject"?"http://www.w3.org/1999/xhtml":u}var _i,Yi=(function(u){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(h,y,N,A){MSApp.execUnsafeLocalFunction(function(){return u(h,y,N,A)})}:u})(function(u,h){if(u.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in u)u.innerHTML=h;else{for(_i=_i||document.createElement("div"),_i.innerHTML="<svg>"+h.valueOf().toString()+"</svg>",h=_i.firstChild;u.firstChild;)u.removeChild(u.firstChild);for(;h.firstChild;)u.appendChild(h.firstChild)}});function Nr(u,h){if(h){var y=u.firstChild;if(y&&y===u.lastChild&&y.nodeType===3){y.nodeValue=h;return}}u.textContent=h}var On={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},As=["Webkit","ms","Moz","O"];Object.keys(On).forEach(function(u){As.forEach(function(h){h=h+u.charAt(0).toUpperCase()+u.substring(1),On[h]=On[u]})});function Sa(u,h,y){return h==null||typeof h=="boolean"||h===""?"":y||typeof h!="number"||h===0||On.hasOwnProperty(u)&&On[u]?(""+h).trim():h+"px"}function Zr(u,h){u=u.style;for(var y in h)if(h.hasOwnProperty(y)){var N=y.indexOf("--")===0,A=Sa(y,h[y],N);y==="float"&&(y="cssFloat"),N?u.setProperty(y,A):u[y]=A}}var Rs=ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ci(u,h){if(h){if(Rs[u]&&(h.children!=null||h.dangerouslySetInnerHTML!=null))throw Error(n(137,u));if(h.dangerouslySetInnerHTML!=null){if(h.children!=null)throw Error(n(60));if(typeof h.dangerouslySetInnerHTML!="object"||!("__html"in h.dangerouslySetInnerHTML))throw Error(n(61))}if(h.style!=null&&typeof h.style!="object")throw Error(n(62))}}function Si(u,h){if(u.indexOf("-")===-1)return typeof h.is=="string";switch(u){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nt=null;function Ot(u){return u=u.target||u.srcElement||window,u.correspondingUseElement&&(u=u.correspondingUseElement),u.nodeType===3?u.parentNode:u}var Lt=null,Dt=null,jt=null;function on(u){if(u=Hs(u)){if(typeof Lt!="function")throw Error(n(280));var h=u.stateNode;h&&(h=Tu(h),Lt(u.stateNode,u.type,h))}}function Tn(u){Dt?jt?jt.push(u):jt=[u]:Dt=u}function Ke(){if(Dt){var u=Dt,h=jt;if(jt=Dt=null,on(u),h)for(u=0;u<h.length;u++)on(h[u])}}function bt(u,h){return u(h)}function Tt(){}var ln=!1;function Yt(u,h,y){if(ln)return u(h,y);ln=!0;try{return bt(u,h,y)}finally{ln=!1,(Dt!==null||jt!==null)&&(Tt(),Ke())}}function Ln(u,h){var y=u.stateNode;if(y===null)return null;var N=Tu(y);if(N===null)return null;y=N[h];e:switch(h){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(N=!N.disabled)||(u=u.type,N=!(u==="button"||u==="input"||u==="select"||u==="textarea")),u=!N;break e;default:u=!1}if(u)return null;if(y&&typeof y!="function")throw Error(n(231,h,typeof y));return y}var Dr=!1;if(l)try{var Jn={};Object.defineProperty(Jn,"passive",{get:function(){Dr=!0}}),window.addEventListener("test",Jn,Jn),window.removeEventListener("test",Jn,Jn)}catch{Dr=!1}function Zi(u,h,y,N,A,I,Y,ae,de){var _e=Array.prototype.slice.call(arguments,3);try{h.apply(y,_e)}catch(Oe){this.onError(Oe)}}var Ir=!1,Ye=null,Il=!1,su=null,Mm={onError:function(u){Ir=!0,Ye=u}};function Dm(u,h,y,N,A,I,Y,ae,de){Ir=!1,Ye=null,Zi.apply(Mm,arguments)}function Af(u,h,y,N,A,I,Y,ae,de){if(Dm.apply(this,arguments),Ir){if(Ir){var _e=Ye;Ir=!1,Ye=null}else throw Error(n(198));Il||(Il=!0,su=_e)}}function Ja(u){var h=u,y=u;if(u.alternate)for(;h.return;)h=h.return;else{u=h;do h=u,(h.flags&4098)!==0&&(y=h.return),u=h.return;while(u)}return h.tag===3?y:null}function Ms(u){if(u.tag===13){var h=u.memoizedState;if(h===null&&(u=u.alternate,u!==null&&(h=u.memoizedState)),h!==null)return h.dehydrated}return null}function Rf(u){if(Ja(u)!==u)throw Error(n(188))}function Ib(u){var h=u.alternate;if(!h){if(h=Ja(u),h===null)throw Error(n(188));return h!==u?null:u}for(var y=u,N=h;;){var A=y.return;if(A===null)break;var I=A.alternate;if(I===null){if(N=A.return,N!==null){y=N;continue}break}if(A.child===I.child){for(I=A.child;I;){if(I===y)return Rf(A),u;if(I===N)return Rf(A),h;I=I.sibling}throw Error(n(188))}if(y.return!==N.return)y=A,N=I;else{for(var Y=!1,ae=A.child;ae;){if(ae===y){Y=!0,y=A,N=I;break}if(ae===N){Y=!0,N=A,y=I;break}ae=ae.sibling}if(!Y){for(ae=I.child;ae;){if(ae===y){Y=!0,y=I,N=A;break}if(ae===N){Y=!0,N=I,y=A;break}ae=ae.sibling}if(!Y)throw Error(n(189))}}if(y.alternate!==N)throw Error(n(190))}if(y.tag!==3)throw Error(n(188));return y.stateNode.current===y?u:h}function Im(u){return u=Ib(u),u!==null?Lm(u):null}function Lm(u){if(u.tag===5||u.tag===6)return u;for(u=u.child;u!==null;){var h=Lm(u);if(h!==null)return h;u=u.sibling}return null}var $m=t.unstable_scheduleCallback,Mf=t.unstable_cancelCallback,Lb=t.unstable_shouldYield,ou=t.unstable_requestPaint,Sn=t.unstable_now,$b=t.unstable_getCurrentPriorityLevel,Df=t.unstable_ImmediatePriority,Bm=t.unstable_UserBlockingPriority,lu=t.unstable_NormalPriority,If=t.unstable_LowPriority,Po=t.unstable_IdlePriority,Ll=null,ji=null;function $l(u){if(ji&&typeof ji.onCommitFiberRoot=="function")try{ji.onCommitFiberRoot(Ll,u,void 0,(u.current.flags&128)===128)}catch{}}var wt=Math.clz32?Math.clz32:ko,gn=Math.log,cu=Math.LN2;function ko(u){return u>>>=0,u===0?32:31-(gn(u)/cu|0)|0}var ja=64,Eo=4194304;function vt(u){switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return u&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return u}}function cn(u,h){var y=u.pendingLanes;if(y===0)return 0;var N=0,A=u.suspendedLanes,I=u.pingedLanes,Y=y&268435455;if(Y!==0){var ae=Y&~A;ae!==0?N=vt(ae):(I&=Y,I!==0&&(N=vt(I)))}else Y=y&~A,Y!==0?N=vt(Y):I!==0&&(N=vt(I));if(N===0)return 0;if(h!==0&&h!==N&&(h&A)===0&&(A=N&-N,I=h&-h,A>=I||A===16&&(I&4194240)!==0))return h;if((N&4)!==0&&(N|=y&16),h=u.entangledLanes,h!==0)for(u=u.entanglements,h&=N;0<h;)y=31-wt(h),A=1<<y,N|=u[y],h&=~A;return N}function Lf(u,h){switch(u){case 1:case 2:case 4:return h+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uu(u,h){for(var y=u.suspendedLanes,N=u.pingedLanes,A=u.expirationTimes,I=u.pendingLanes;0<I;){var Y=31-wt(I),ae=1<<Y,de=A[Y];de===-1?((ae&y)===0||(ae&N)!==0)&&(A[Y]=Lf(ae,h)):de<=h&&(u.expiredLanes|=ae),I&=~ae}}function Lr(u){return u=u.pendingLanes&-1073741825,u!==0?u:u&1073741824?1073741824:0}function Fm(){var u=ja;return ja<<=1,(ja&4194240)===0&&(ja=64),u}function Co(u){for(var h=[],y=0;31>y;y++)h.push(u);return h}function Ni(u,h,y){u.pendingLanes|=h,h!==536870912&&(u.suspendedLanes=0,u.pingedLanes=0),u=u.eventTimes,h=31-wt(h),u[h]=y}function An(u,h){var y=u.pendingLanes&~h;u.pendingLanes=h,u.suspendedLanes=0,u.pingedLanes=0,u.expiredLanes&=h,u.mutableReadLanes&=h,u.entangledLanes&=h,h=u.entanglements;var N=u.eventTimes;for(u=u.expirationTimes;0<y;){var A=31-wt(y),I=1<<A;h[A]=0,N[A]=-1,u[A]=-1,y&=~I}}function Na(u,h){var y=u.entangledLanes|=h;for(u=u.entanglements;y;){var N=31-wt(y),A=1<<N;A&h|u[N]&h&&(u[N]|=h),y&=~A}}var $t=0;function Oo(u){return u&=-u,1<u?4<u?(u&268435455)!==0?16:536870912:4:1}var du,Ds,fu,hu,Bl,Fl=!1,To=[],Pi=null,Pa=null,Xi=null,zl=new Map,ft=new Map,er=[],Jt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $f(u,h){switch(u){case"focusin":case"focusout":Pi=null;break;case"dragenter":case"dragleave":Pa=null;break;case"mouseover":case"mouseout":Xi=null;break;case"pointerover":case"pointerout":zl.delete(h.pointerId);break;case"gotpointercapture":case"lostpointercapture":ft.delete(h.pointerId)}}function Is(u,h,y,N,A,I){return u===null||u.nativeEvent!==I?(u={blockedOn:h,domEventName:y,eventSystemFlags:N,nativeEvent:I,targetContainers:[A]},h!==null&&(h=Hs(h),h!==null&&Ds(h)),u):(u.eventSystemFlags|=N,h=u.targetContainers,A!==null&&h.indexOf(A)===-1&&h.push(A),u)}function Bf(u,h,y,N,A){switch(h){case"focusin":return Pi=Is(Pi,u,h,y,N,A),!0;case"dragenter":return Pa=Is(Pa,u,h,y,N,A),!0;case"mouseover":return Xi=Is(Xi,u,h,y,N,A),!0;case"pointerover":var I=A.pointerId;return zl.set(I,Is(zl.get(I)||null,u,h,y,N,A)),!0;case"gotpointercapture":return I=A.pointerId,ft.set(I,Is(ft.get(I)||null,u,h,y,N,A)),!0}return!1}function pu(u){var h=Ws(u.target);if(h!==null){var y=Ja(h);if(y!==null){if(h=y.tag,h===13){if(h=Ms(y),h!==null){u.blockedOn=h,Bl(u.priority,function(){fu(y)});return}}else if(h===3&&y.stateNode.current.memoizedState.isDehydrated){u.blockedOn=y.tag===3?y.stateNode.containerInfo:null;return}}}u.blockedOn=null}function Qi(u){if(u.blockedOn!==null)return!1;for(var h=u.targetContainers;0<h.length;){var y=vu(u.domEventName,u.eventSystemFlags,h[0],u.nativeEvent);if(y===null){y=u.nativeEvent;var N=new y.constructor(y.type,y);nt=N,y.target.dispatchEvent(N),nt=null}else return h=Hs(y),h!==null&&Ds(h),u.blockedOn=y,!1;h.shift()}return!0}function mu(u,h,y){Qi(u)&&y.delete(h)}function ql(){Fl=!1,Pi!==null&&Qi(Pi)&&(Pi=null),Pa!==null&&Qi(Pa)&&(Pa=null),Xi!==null&&Qi(Xi)&&(Xi=null),zl.forEach(mu),ft.forEach(mu)}function jn(u,h){u.blockedOn===h&&(u.blockedOn=null,Fl||(Fl=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,ql)))}function ki(u){function h(A){return jn(A,u)}if(0<To.length){jn(To[0],u);for(var y=1;y<To.length;y++){var N=To[y];N.blockedOn===u&&(N.blockedOn=null)}}for(Pi!==null&&jn(Pi,u),Pa!==null&&jn(Pa,u),Xi!==null&&jn(Xi,u),zl.forEach(h),ft.forEach(h),y=0;y<er.length;y++)N=er[y],N.blockedOn===u&&(N.blockedOn=null);for(;0<er.length&&(y=er[0],y.blockedOn===null);)pu(y),y.blockedOn===null&&er.shift()}var Ls=C.ReactCurrentBatchConfig,Ul=!0;function Bb(u,h,y,N){var A=$t,I=Ls.transition;Ls.transition=null;try{$t=1,Wl(u,h,y,N)}finally{$t=A,Ls.transition=I}}function zm(u,h,y,N){var A=$t,I=Ls.transition;Ls.transition=null;try{$t=4,Wl(u,h,y,N)}finally{$t=A,Ls.transition=I}}function Wl(u,h,y,N){if(Ul){var A=vu(u,h,y,N);if(A===null)d(u,h,N,gu,y),$f(u,N);else if(Bf(A,u,h,y,N))N.stopPropagation();else if($f(u,N),h&4&&-1<Jt.indexOf(u)){for(;A!==null;){var I=Hs(A);if(I!==null&&du(I),I=vu(u,h,y,N),I===null&&d(u,h,N,gu,y),I===A)break;A=I}A!==null&&N.stopPropagation()}else d(u,h,N,null,y)}}var gu=null;function vu(u,h,y,N){if(gu=null,u=Ot(N),u=Ws(u),u!==null)if(h=Ja(u),h===null)u=null;else if(y=h.tag,y===13){if(u=Ms(h),u!==null)return u;u=null}else if(y===3){if(h.stateNode.current.memoizedState.isDehydrated)return h.tag===3?h.stateNode.containerInfo:null;u=null}else h!==u&&(u=null);return gu=u,null}function At(u){switch(u){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($b()){case Df:return 1;case Bm:return 4;case lu:case If:return 16;case Po:return 536870912;default:return 16}default:return 16}}var es=null,Xr=null,ts=null;function Ff(){if(ts)return ts;var u,h=Xr,y=h.length,N,A="value"in es?es.value:es.textContent,I=A.length;for(u=0;u<y&&h[u]===A[u];u++);var Y=y-u;for(N=1;N<=Y&&h[y-N]===A[I-N];N++);return ts=A.slice(u,1<N?1-N:void 0)}function yu(u){var h=u.keyCode;return"charCode"in u?(u=u.charCode,u===0&&h===13&&(u=13)):u=h,u===10&&(u=13),32<=u||u===13?u:0}function Ao(){return!0}function qm(){return!1}function $r(u){function h(y,N,A,I,Y){this._reactName=y,this._targetInst=A,this.type=N,this.nativeEvent=I,this.target=Y,this.currentTarget=null;for(var ae in u)u.hasOwnProperty(ae)&&(y=u[ae],this[ae]=y?y(I):I[ae]);return this.isDefaultPrevented=(I.defaultPrevented!=null?I.defaultPrevented:I.returnValue===!1)?Ao:qm,this.isPropagationStopped=qm,this}return ne(h.prototype,{preventDefault:function(){this.defaultPrevented=!0;var y=this.nativeEvent;y&&(y.preventDefault?y.preventDefault():typeof y.returnValue!="unknown"&&(y.returnValue=!1),this.isDefaultPrevented=Ao)},stopPropagation:function(){var y=this.nativeEvent;y&&(y.stopPropagation?y.stopPropagation():typeof y.cancelBubble!="unknown"&&(y.cancelBubble=!0),this.isPropagationStopped=Ao)},persist:function(){},isPersistent:Ao}),h}var Ro={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(u){return u.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zf=$r(Ro),$s=ne({},Ro,{view:0,detail:0}),Fb=$r($s),ui,qf,Mo,Ei=ne({},$s,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fs,button:0,buttons:0,relatedTarget:function(u){return u.relatedTarget===void 0?u.fromElement===u.srcElement?u.toElement:u.fromElement:u.relatedTarget},movementX:function(u){return"movementX"in u?u.movementX:(u!==Mo&&(Mo&&u.type==="mousemove"?(ui=u.screenX-Mo.screenX,qf=u.screenY-Mo.screenY):qf=ui=0,Mo=u),ui)},movementY:function(u){return"movementY"in u?u.movementY:qf}}),Uf=$r(Ei),Um=ne({},Ei,{dataTransfer:0}),Wf=$r(Um),zb=ne({},$s,{relatedTarget:0}),xu=$r(zb),Wm=ne({},Ro,{animationName:0,elapsedTime:0,pseudoElement:0}),qb=$r(Wm),Ub=ne({},Ro,{clipboardData:function(u){return"clipboardData"in u?u.clipboardData:window.clipboardData}}),Hf=$r(Ub),Wb=ne({},Ro,{data:0}),Vf=$r(Wb),Hm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bs={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hb(u){var h=this.nativeEvent;return h.getModifierState?h.getModifierState(u):(u=Bs[u])?!!h[u]:!1}function Fs(){return Hb}var di=ne({},$s,{key:function(u){if(u.key){var h=Hm[u.key]||u.key;if(h!=="Unidentified")return h}return u.type==="keypress"?(u=yu(u),u===13?"Enter":String.fromCharCode(u)):u.type==="keydown"||u.type==="keyup"?bu[u.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fs,charCode:function(u){return u.type==="keypress"?yu(u):0},keyCode:function(u){return u.type==="keydown"||u.type==="keyup"?u.keyCode:0},which:function(u){return u.type==="keypress"?yu(u):u.type==="keydown"||u.type==="keyup"?u.keyCode:0}}),Vm=$r(di),Km=ne({},Ei,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gm=$r(Km),Kf=ne({},$s,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fs}),Gf=$r(Kf),Vb=ne({},Ro,{propertyName:0,elapsedTime:0,pseudoElement:0}),Kb=$r(Vb),Ym=ne({},Ei,{deltaX:function(u){return"deltaX"in u?u.deltaX:"wheelDeltaX"in u?-u.wheelDeltaX:0},deltaY:function(u){return"deltaY"in u?u.deltaY:"wheelDeltaY"in u?-u.wheelDeltaY:"wheelDelta"in u?-u.wheelDelta:0},deltaZ:0,deltaMode:0}),Gb=$r(Ym),Ci=[9,13,27,32],ns=l&&"CompositionEvent"in window,Hl=null;l&&"documentMode"in document&&(Hl=document.documentMode);var ka=l&&"TextEvent"in window&&!Hl,Zm=l&&(!ns||Hl&&8<Hl&&11>=Hl),zs=" ",Xm=!1;function Do(u,h){switch(u){case"keyup":return Ci.indexOf(h.keyCode)!==-1;case"keydown":return h.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Yf(u){return u=u.detail,typeof u=="object"&&"data"in u?u.data:null}var Ea=!1;function Yb(u,h){switch(u){case"compositionend":return Yf(h);case"keypress":return h.which!==32?null:(Xm=!0,zs);case"textInput":return u=h.data,u===zs&&Xm?null:u;default:return null}}function rs(u,h){if(Ea)return u==="compositionend"||!ns&&Do(u,h)?(u=Ff(),ts=Xr=es=null,Ea=!1,u):null;switch(u){case"paste":return null;case"keypress":if(!(h.ctrlKey||h.altKey||h.metaKey)||h.ctrlKey&&h.altKey){if(h.char&&1<h.char.length)return h.char;if(h.which)return String.fromCharCode(h.which)}return null;case"compositionend":return Zm&&h.locale!=="ko"?null:h.data;default:return null}}var wu={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qm(u){var h=u&&u.nodeName&&u.nodeName.toLowerCase();return h==="input"?!!wu[u.type]:h==="textarea"}function _u(u,h,y,N){Tn(N),h=j(h,"onChange"),0<h.length&&(y=new zf("onChange","change",null,y,N),u.push({event:y,listeners:h}))}var Vl=null,Qr=null;function Zb(u){ih(u,0)}function Ca(u){var h=Vs(u);if(ue(h))return u}function Xb(u,h){if(u==="change")return h}var Ji=!1;if(l){var Io;if(l){var Su="oninput"in document;if(!Su){var ju=document.createElement("div");ju.setAttribute("oninput","return;"),Su=typeof ju.oninput=="function"}Io=Su}else Io=!1;Ji=Io&&(!document.documentMode||9<document.documentMode)}function Kl(){Vl&&(Vl.detachEvent("onpropertychange",Nu),Qr=Vl=null)}function Nu(u){if(u.propertyName==="value"&&Ca(Qr)){var h=[];_u(h,Qr,u,Ot(u)),Yt(Zb,h)}}function Pu(u,h,y){u==="focusin"?(Kl(),Vl=h,Qr=y,Vl.attachEvent("onpropertychange",Nu)):u==="focusout"&&Kl()}function Lo(u){if(u==="selectionchange"||u==="keyup"||u==="keydown")return Ca(Qr)}function ku(u,h){if(u==="click")return Ca(h)}function Zf(u,h){if(u==="input"||u==="change")return Ca(h)}function Jm(u,h){return u===h&&(u!==0||1/u===1/h)||u!==u&&h!==h}var Oi=typeof Object.is=="function"?Object.is:Jm;function is(u,h){if(Oi(u,h))return!0;if(typeof u!="object"||u===null||typeof h!="object"||h===null)return!1;var y=Object.keys(u),N=Object.keys(h);if(y.length!==N.length)return!1;for(N=0;N<y.length;N++){var A=y[N];if(!c.call(h,A)||!Oi(u[A],h[A]))return!1}return!0}function eg(u){for(;u&&u.firstChild;)u=u.firstChild;return u}function Xf(u,h){var y=eg(u);u=0;for(var N;y;){if(y.nodeType===3){if(N=u+y.textContent.length,u<=h&&N>=h)return{node:y,offset:h-u};u=N}e:{for(;y;){if(y.nextSibling){y=y.nextSibling;break e}y=y.parentNode}y=void 0}y=eg(y)}}function tg(u,h){return u&&h?u===h?!0:u&&u.nodeType===3?!1:h&&h.nodeType===3?tg(u,h.parentNode):"contains"in u?u.contains(h):u.compareDocumentPosition?!!(u.compareDocumentPosition(h)&16):!1:!1}function Qf(){for(var u=window,h=je();h instanceof u.HTMLIFrameElement;){try{var y=typeof h.contentWindow.location.href=="string"}catch{y=!1}if(y)u=h.contentWindow;else break;h=je(u.document)}return h}function Jf(u){var h=u&&u.nodeName&&u.nodeName.toLowerCase();return h&&(h==="input"&&(u.type==="text"||u.type==="search"||u.type==="tel"||u.type==="url"||u.type==="password")||h==="textarea"||u.contentEditable==="true")}function ea(u){var h=Qf(),y=u.focusedElem,N=u.selectionRange;if(h!==y&&y&&y.ownerDocument&&tg(y.ownerDocument.documentElement,y)){if(N!==null&&Jf(y)){if(h=N.start,u=N.end,u===void 0&&(u=h),"selectionStart"in y)y.selectionStart=h,y.selectionEnd=Math.min(u,y.value.length);else if(u=(h=y.ownerDocument||document)&&h.defaultView||window,u.getSelection){u=u.getSelection();var A=y.textContent.length,I=Math.min(N.start,A);N=N.end===void 0?I:Math.min(N.end,A),!u.extend&&I>N&&(A=N,N=I,I=A),A=Xf(y,I);var Y=Xf(y,N);A&&Y&&(u.rangeCount!==1||u.anchorNode!==A.node||u.anchorOffset!==A.offset||u.focusNode!==Y.node||u.focusOffset!==Y.offset)&&(h=h.createRange(),h.setStart(A.node,A.offset),u.removeAllRanges(),I>N?(u.addRange(h),u.extend(Y.node,Y.offset)):(h.setEnd(Y.node,Y.offset),u.addRange(h)))}}for(h=[],u=y;u=u.parentNode;)u.nodeType===1&&h.push({element:u,left:u.scrollLeft,top:u.scrollTop});for(typeof y.focus=="function"&&y.focus(),y=0;y<h.length;y++)u=h[y],u.element.scrollLeft=u.left,u.element.scrollTop=u.top}}var Eu=l&&"documentMode"in document&&11>=document.documentMode,$o=null,Bo=null,Gl=null,Cu=!1;function ng(u,h,y){var N=y.window===y?y.document:y.nodeType===9?y:y.ownerDocument;Cu||$o==null||$o!==je(N)||(N=$o,"selectionStart"in N&&Jf(N)?N={start:N.selectionStart,end:N.selectionEnd}:(N=(N.ownerDocument&&N.ownerDocument.defaultView||window).getSelection(),N={anchorNode:N.anchorNode,anchorOffset:N.anchorOffset,focusNode:N.focusNode,focusOffset:N.focusOffset}),Gl&&is(Gl,N)||(Gl=N,N=j(Bo,"onSelect"),0<N.length&&(h=new zf("onSelect","select",null,h,y),u.push({event:h,listeners:N}),h.target=$o)))}function as(u,h){var y={};return y[u.toLowerCase()]=h.toLowerCase(),y["Webkit"+u]="webkit"+h,y["Moz"+u]="moz"+h,y}var Fo={animationend:as("Animation","AnimationEnd"),animationiteration:as("Animation","AnimationIteration"),animationstart:as("Animation","AnimationStart"),transitionend:as("Transition","TransitionEnd")},ss={},eh={};l&&(eh=document.createElement("div").style,"AnimationEvent"in window||(delete Fo.animationend.animation,delete Fo.animationiteration.animation,delete Fo.animationstart.animation),"TransitionEvent"in window||delete Fo.transitionend.transition);function Yl(u){if(ss[u])return ss[u];if(!Fo[u])return u;var h=Fo[u],y;for(y in h)if(h.hasOwnProperty(y)&&y in eh)return ss[u]=h[y];return u}var rg=Yl("animationend"),ta=Yl("animationiteration"),th=Yl("animationstart"),nh=Yl("transitionend"),zo=new Map,ig="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ti(u,h){zo.set(u,h),a(h,[u])}for(var qs=0;qs<ig.length;qs++){var Ou=ig[qs],ag=Ou.toLowerCase(),Qb=Ou[0].toUpperCase()+Ou.slice(1);Ti(ag,"on"+Qb)}Ti(rg,"onAnimationEnd"),Ti(ta,"onAnimationIteration"),Ti(th,"onAnimationStart"),Ti("dblclick","onDoubleClick"),Ti("focusin","onFocus"),Ti("focusout","onBlur"),Ti(nh,"onTransitionEnd"),s("onMouseEnter",["mouseout","mouseover"]),s("onMouseLeave",["mouseout","mouseover"]),s("onPointerEnter",["pointerout","pointerover"]),s("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sg=new Set("cancel close invalid load scroll toggle".split(" ").concat(qo));function rh(u,h,y){var N=u.type||"unknown-event";u.currentTarget=y,Af(N,h,void 0,u),u.currentTarget=null}function ih(u,h){h=(h&4)!==0;for(var y=0;y<u.length;y++){var N=u[y],A=N.event;N=N.listeners;e:{var I=void 0;if(h)for(var Y=N.length-1;0<=Y;Y--){var ae=N[Y],de=ae.instance,_e=ae.currentTarget;if(ae=ae.listener,de!==I&&A.isPropagationStopped())break e;rh(A,ae,_e),I=de}else for(Y=0;Y<N.length;Y++){if(ae=N[Y],de=ae.instance,_e=ae.currentTarget,ae=ae.listener,de!==I&&A.isPropagationStopped())break e;rh(A,ae,_e),I=de}}}if(Il)throw u=su,Il=!1,su=null,u}function en(u,h){var y=h[Vo];y===void 0&&(y=h[Vo]=new Set);var N=u+"__bubble";y.has(N)||(og(h,u,2,!1),y.add(N))}function ah(u,h,y){var N=0;h&&(N|=4),og(y,u,N,h)}var Zl="_reactListening"+Math.random().toString(36).slice(2);function Uo(u){if(!u[Zl]){u[Zl]=!0,r.forEach(function(y){y!=="selectionchange"&&(sg.has(y)||ah(y,!1,u),ah(y,!0,u))});var h=u.nodeType===9?u:u.ownerDocument;h===null||h[Zl]||(h[Zl]=!0,ah("selectionchange",!1,h))}}function og(u,h,y,N){switch(At(h)){case 1:var A=Bb;break;case 4:A=zm;break;default:A=Wl}y=A.bind(null,h,y,u),A=void 0,!Dr||h!=="touchstart"&&h!=="touchmove"&&h!=="wheel"||(A=!0),N?A!==void 0?u.addEventListener(h,y,{capture:!0,passive:A}):u.addEventListener(h,y,!0):A!==void 0?u.addEventListener(h,y,{passive:A}):u.addEventListener(h,y,!1)}function d(u,h,y,N,A){var I=N;if((h&1)===0&&(h&2)===0&&N!==null)e:for(;;){if(N===null)return;var Y=N.tag;if(Y===3||Y===4){var ae=N.stateNode.containerInfo;if(ae===A||ae.nodeType===8&&ae.parentNode===A)break;if(Y===4)for(Y=N.return;Y!==null;){var de=Y.tag;if((de===3||de===4)&&(de=Y.stateNode.containerInfo,de===A||de.nodeType===8&&de.parentNode===A))return;Y=Y.return}for(;ae!==null;){if(Y=Ws(ae),Y===null)return;if(de=Y.tag,de===5||de===6){N=I=Y;continue e}ae=ae.parentNode}}N=N.return}Yt(function(){var _e=I,Oe=Ot(y),Te=[];e:{var Ce=zo.get(u);if(Ce!==void 0){var Fe=zf,Ve=u;switch(u){case"keypress":if(yu(y)===0)break e;case"keydown":case"keyup":Fe=Vm;break;case"focusin":Ve="focus",Fe=xu;break;case"focusout":Ve="blur",Fe=xu;break;case"beforeblur":case"afterblur":Fe=xu;break;case"click":if(y.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Fe=Uf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Fe=Wf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Fe=Gf;break;case rg:case ta:case th:Fe=qb;break;case nh:Fe=Kb;break;case"scroll":Fe=Fb;break;case"wheel":Fe=Gb;break;case"copy":case"cut":case"paste":Fe=Hf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Fe=Gm}var Ge=(h&4)!==0,$n=!Ge&&u==="scroll",ge=Ge?Ce!==null?Ce+"Capture":null:Ce;Ge=[];for(var he=_e,ve;he!==null;){ve=he;var De=ve.stateNode;if(ve.tag===5&&De!==null&&(ve=De,ge!==null&&(De=Ln(he,ge),De!=null&&Ge.push(g(he,De,ve)))),$n)break;he=he.return}0<Ge.length&&(Ce=new Fe(Ce,Ve,null,y,Oe),Te.push({event:Ce,listeners:Ge}))}}if((h&7)===0){e:{if(Ce=u==="mouseover"||u==="pointerover",Fe=u==="mouseout"||u==="pointerout",Ce&&y!==nt&&(Ve=y.relatedTarget||y.fromElement)&&(Ws(Ve)||Ve[Vt]))break e;if((Fe||Ce)&&(Ce=Oe.window===Oe?Oe:(Ce=Oe.ownerDocument)?Ce.defaultView||Ce.parentWindow:window,Fe?(Ve=y.relatedTarget||y.toElement,Fe=_e,Ve=Ve?Ws(Ve):null,Ve!==null&&($n=Ja(Ve),Ve!==$n||Ve.tag!==5&&Ve.tag!==6)&&(Ve=null)):(Fe=null,Ve=_e),Fe!==Ve)){if(Ge=Uf,De="onMouseLeave",ge="onMouseEnter",he="mouse",(u==="pointerout"||u==="pointerover")&&(Ge=Gm,De="onPointerLeave",ge="onPointerEnter",he="pointer"),$n=Fe==null?Ce:Vs(Fe),ve=Ve==null?Ce:Vs(Ve),Ce=new Ge(De,he+"leave",Fe,y,Oe),Ce.target=$n,Ce.relatedTarget=ve,De=null,Ws(Oe)===_e&&(Ge=new Ge(ge,he+"enter",Ve,y,Oe),Ge.target=ve,Ge.relatedTarget=$n,De=Ge),$n=De,Fe&&Ve)t:{for(Ge=Fe,ge=Ve,he=0,ve=Ge;ve;ve=T(ve))he++;for(ve=0,De=ge;De;De=T(De))ve++;for(;0<he-ve;)Ge=T(Ge),he--;for(;0<ve-he;)ge=T(ge),ve--;for(;he--;){if(Ge===ge||ge!==null&&Ge===ge.alternate)break t;Ge=T(Ge),ge=T(ge)}Ge=null}else Ge=null;Fe!==null&&z(Te,Ce,Fe,Ge,!1),Ve!==null&&$n!==null&&z(Te,$n,Ve,Ge,!0)}}e:{if(Ce=_e?Vs(_e):window,Fe=Ce.nodeName&&Ce.nodeName.toLowerCase(),Fe==="select"||Fe==="input"&&Ce.type==="file")var Ze=Xb;else if(Qm(Ce))if(Ji)Ze=Zf;else{Ze=Lo;var at=Pu}else(Fe=Ce.nodeName)&&Fe.toLowerCase()==="input"&&(Ce.type==="checkbox"||Ce.type==="radio")&&(Ze=ku);if(Ze&&(Ze=Ze(u,_e))){_u(Te,Ze,y,Oe);break e}at&&at(u,Ce,_e),u==="focusout"&&(at=Ce._wrapperState)&&at.controlled&&Ce.type==="number"&&Ht(Ce,"number",Ce.value)}switch(at=_e?Vs(_e):window,u){case"focusin":(Qm(at)||at.contentEditable==="true")&&($o=at,Bo=_e,Gl=null);break;case"focusout":Gl=Bo=$o=null;break;case"mousedown":Cu=!0;break;case"contextmenu":case"mouseup":case"dragend":Cu=!1,ng(Te,y,Oe);break;case"selectionchange":if(Eu)break;case"keydown":case"keyup":ng(Te,y,Oe)}var st;if(ns)e:{switch(u){case"compositionstart":var mt="onCompositionStart";break e;case"compositionend":mt="onCompositionEnd";break e;case"compositionupdate":mt="onCompositionUpdate";break e}mt=void 0}else Ea?Do(u,y)&&(mt="onCompositionEnd"):u==="keydown"&&y.keyCode===229&&(mt="onCompositionStart");mt&&(Zm&&y.locale!=="ko"&&(Ea||mt!=="onCompositionStart"?mt==="onCompositionEnd"&&Ea&&(st=Ff()):(es=Oe,Xr="value"in es?es.value:es.textContent,Ea=!0)),at=j(_e,mt),0<at.length&&(mt=new Vf(mt,u,null,y,Oe),Te.push({event:mt,listeners:at}),st?mt.data=st:(st=Yf(y),st!==null&&(mt.data=st)))),(st=ka?Yb(u,y):rs(u,y))&&(_e=j(_e,"onBeforeInput"),0<_e.length&&(Oe=new Vf("onBeforeInput","beforeinput",null,y,Oe),Te.push({event:Oe,listeners:_e}),Oe.data=st))}ih(Te,h)})}function g(u,h,y){return{instance:u,listener:h,currentTarget:y}}function j(u,h){for(var y=h+"Capture",N=[];u!==null;){var A=u,I=A.stateNode;A.tag===5&&I!==null&&(A=I,I=Ln(u,y),I!=null&&N.unshift(g(u,I,A)),I=Ln(u,h),I!=null&&N.push(g(u,I,A))),u=u.return}return N}function T(u){if(u===null)return null;do u=u.return;while(u&&u.tag!==5);return u||null}function z(u,h,y,N,A){for(var I=h._reactName,Y=[];y!==null&&y!==N;){var ae=y,de=ae.alternate,_e=ae.stateNode;if(de!==null&&de===N)break;ae.tag===5&&_e!==null&&(ae=_e,A?(de=Ln(y,I),de!=null&&Y.unshift(g(y,de,ae))):A||(de=Ln(y,I),de!=null&&Y.push(g(y,de,ae)))),y=y.return}Y.length!==0&&u.push({event:h,listeners:Y})}var X=/\r\n?/g,le=/\u0000|\uFFFD/g;function me(u){return(typeof u=="string"?u:""+u).replace(X,`
`).replace(le,"")}function we(u,h,y){if(h=me(h),me(u)!==h&&y)throw Error(n(425))}function Ee(){}var Be=null,rt=null;function Nt(u,h){return u==="textarea"||u==="noscript"||typeof h.children=="string"||typeof h.children=="number"||typeof h.dangerouslySetInnerHTML=="object"&&h.dangerouslySetInnerHTML!==null&&h.dangerouslySetInnerHTML.__html!=null}var tr=typeof setTimeout=="function"?setTimeout:void 0,Un=typeof clearTimeout=="function"?clearTimeout:void 0,Jr=typeof Promise=="function"?Promise:void 0,Br=typeof queueMicrotask=="function"?queueMicrotask:typeof Jr<"u"?function(u){return Jr.resolve(null).then(u).catch(Wo)}:tr;function Wo(u){setTimeout(function(){throw u})}function sh(u,h){var y=h,N=0;do{var A=y.nextSibling;if(u.removeChild(y),A&&A.nodeType===8)if(y=A.data,y==="/$"){if(N===0){u.removeChild(A),ki(h);return}N--}else y!=="$"&&y!=="$?"&&y!=="$!"||N++;y=A}while(y);ki(h)}function os(u){for(;u!=null;u=u.nextSibling){var h=u.nodeType;if(h===1||h===3)break;if(h===8){if(h=u.data,h==="$"||h==="$!"||h==="$?")break;if(h==="/$")return null}}return u}function lg(u){u=u.previousSibling;for(var h=0;u;){if(u.nodeType===8){var y=u.data;if(y==="$"||y==="$!"||y==="$?"){if(h===0)return u;h--}else y==="/$"&&h++}u=u.previousSibling}return null}var Us=Math.random().toString(36).slice(2),na="__reactFiber$"+Us,Ho="__reactProps$"+Us,Vt="__reactContainer$"+Us,Vo="__reactEvents$"+Us,Jb="__reactListeners$"+Us,e0="__reactHandles$"+Us;function Ws(u){var h=u[na];if(h)return h;for(var y=u.parentNode;y;){if(h=y[Vt]||y[na]){if(y=h.alternate,h.child!==null||y!==null&&y.child!==null)for(u=lg(u);u!==null;){if(y=u[na])return y;u=lg(u)}return h}u=y,y=u.parentNode}return null}function Hs(u){return u=u[na]||u[Vt],!u||u.tag!==5&&u.tag!==6&&u.tag!==13&&u.tag!==3?null:u}function Vs(u){if(u.tag===5||u.tag===6)return u.stateNode;throw Error(n(33))}function Tu(u){return u[Ho]||null}var t0=[],Au=-1;function Ko(u){return{current:u}}function vn(u){0>Au||(u.current=t0[Au],t0[Au]=null,Au--)}function un(u,h){Au++,t0[Au]=u.current,u.current=h}var Go={},Fr=Ko(Go),fi=Ko(!1),Xl=Go;function Ru(u,h){var y=u.type.contextTypes;if(!y)return Go;var N=u.stateNode;if(N&&N.__reactInternalMemoizedUnmaskedChildContext===h)return N.__reactInternalMemoizedMaskedChildContext;var A={},I;for(I in y)A[I]=h[I];return N&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=h,u.__reactInternalMemoizedMaskedChildContext=A),A}function hi(u){return u=u.childContextTypes,u!=null}function cg(){vn(fi),vn(Fr)}function uO(u,h,y){if(Fr.current!==Go)throw Error(n(168));un(Fr,h),un(fi,y)}function dO(u,h,y){var N=u.stateNode;if(h=h.childContextTypes,typeof N.getChildContext!="function")return y;N=N.getChildContext();for(var A in N)if(!(A in h))throw Error(n(108,oe(u)||"Unknown",A));return ne({},y,N)}function ug(u){return u=(u=u.stateNode)&&u.__reactInternalMemoizedMergedChildContext||Go,Xl=Fr.current,un(Fr,u),un(fi,fi.current),!0}function fO(u,h,y){var N=u.stateNode;if(!N)throw Error(n(169));y?(u=dO(u,h,Xl),N.__reactInternalMemoizedMergedChildContext=u,vn(fi),vn(Fr),un(Fr,u)):vn(fi),un(fi,y)}var Ks=null,dg=!1,n0=!1;function hO(u){Ks===null?Ks=[u]:Ks.push(u)}function LV(u){dg=!0,hO(u)}function Yo(){if(!n0&&Ks!==null){n0=!0;var u=0,h=$t;try{var y=Ks;for($t=1;u<y.length;u++){var N=y[u];do N=N(!0);while(N!==null)}Ks=null,dg=!1}catch(A){throw Ks!==null&&(Ks=Ks.slice(u+1)),$m(Df,Yo),A}finally{$t=h,n0=!1}}return null}var Mu=[],Du=0,fg=null,hg=0,ra=[],ia=0,Ql=null,Gs=1,Ys="";function Jl(u,h){Mu[Du++]=hg,Mu[Du++]=fg,fg=u,hg=h}function pO(u,h,y){ra[ia++]=Gs,ra[ia++]=Ys,ra[ia++]=Ql,Ql=u;var N=Gs;u=Ys;var A=32-wt(N)-1;N&=~(1<<A),y+=1;var I=32-wt(h)+A;if(30<I){var Y=A-A%5;I=(N&(1<<Y)-1).toString(32),N>>=Y,A-=Y,Gs=1<<32-wt(h)+A|y<<A|N,Ys=I+u}else Gs=1<<I|y<<A|N,Ys=u}function r0(u){u.return!==null&&(Jl(u,1),pO(u,1,0))}function i0(u){for(;u===fg;)fg=Mu[--Du],Mu[Du]=null,hg=Mu[--Du],Mu[Du]=null;for(;u===Ql;)Ql=ra[--ia],ra[ia]=null,Ys=ra[--ia],ra[ia]=null,Gs=ra[--ia],ra[ia]=null}var Ai=null,Ri=null,bn=!1,Oa=null;function mO(u,h){var y=la(5,null,null,0);y.elementType="DELETED",y.stateNode=h,y.return=u,h=u.deletions,h===null?(u.deletions=[y],u.flags|=16):h.push(y)}function gO(u,h){switch(u.tag){case 5:var y=u.type;return h=h.nodeType!==1||y.toLowerCase()!==h.nodeName.toLowerCase()?null:h,h!==null?(u.stateNode=h,Ai=u,Ri=os(h.firstChild),!0):!1;case 6:return h=u.pendingProps===""||h.nodeType!==3?null:h,h!==null?(u.stateNode=h,Ai=u,Ri=null,!0):!1;case 13:return h=h.nodeType!==8?null:h,h!==null?(y=Ql!==null?{id:Gs,overflow:Ys}:null,u.memoizedState={dehydrated:h,treeContext:y,retryLane:1073741824},y=la(18,null,null,0),y.stateNode=h,y.return=u,u.child=y,Ai=u,Ri=null,!0):!1;default:return!1}}function a0(u){return(u.mode&1)!==0&&(u.flags&128)===0}function s0(u){if(bn){var h=Ri;if(h){var y=h;if(!gO(u,h)){if(a0(u))throw Error(n(418));h=os(y.nextSibling);var N=Ai;h&&gO(u,h)?mO(N,y):(u.flags=u.flags&-4097|2,bn=!1,Ai=u)}}else{if(a0(u))throw Error(n(418));u.flags=u.flags&-4097|2,bn=!1,Ai=u}}}function vO(u){for(u=u.return;u!==null&&u.tag!==5&&u.tag!==3&&u.tag!==13;)u=u.return;Ai=u}function pg(u){if(u!==Ai)return!1;if(!bn)return vO(u),bn=!0,!1;var h;if((h=u.tag!==3)&&!(h=u.tag!==5)&&(h=u.type,h=h!=="head"&&h!=="body"&&!Nt(u.type,u.memoizedProps)),h&&(h=Ri)){if(a0(u))throw yO(),Error(n(418));for(;h;)mO(u,h),h=os(h.nextSibling)}if(vO(u),u.tag===13){if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(n(317));e:{for(u=u.nextSibling,h=0;u;){if(u.nodeType===8){var y=u.data;if(y==="/$"){if(h===0){Ri=os(u.nextSibling);break e}h--}else y!=="$"&&y!=="$!"&&y!=="$?"||h++}u=u.nextSibling}Ri=null}}else Ri=Ai?os(u.stateNode.nextSibling):null;return!0}function yO(){for(var u=Ri;u;)u=os(u.nextSibling)}function Iu(){Ri=Ai=null,bn=!1}function o0(u){Oa===null?Oa=[u]:Oa.push(u)}var $V=C.ReactCurrentBatchConfig;function oh(u,h,y){if(u=y.ref,u!==null&&typeof u!="function"&&typeof u!="object"){if(y._owner){if(y=y._owner,y){if(y.tag!==1)throw Error(n(309));var N=y.stateNode}if(!N)throw Error(n(147,u));var A=N,I=""+u;return h!==null&&h.ref!==null&&typeof h.ref=="function"&&h.ref._stringRef===I?h.ref:(h=function(Y){var ae=A.refs;Y===null?delete ae[I]:ae[I]=Y},h._stringRef=I,h)}if(typeof u!="string")throw Error(n(284));if(!y._owner)throw Error(n(290,u))}return u}function mg(u,h){throw u=Object.prototype.toString.call(h),Error(n(31,u==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":u))}function xO(u){var h=u._init;return h(u._payload)}function bO(u){function h(ge,he){if(u){var ve=ge.deletions;ve===null?(ge.deletions=[he],ge.flags|=16):ve.push(he)}}function y(ge,he){if(!u)return null;for(;he!==null;)h(ge,he),he=he.sibling;return null}function N(ge,he){for(ge=new Map;he!==null;)he.key!==null?ge.set(he.key,he):ge.set(he.index,he),he=he.sibling;return ge}function A(ge,he){return ge=rl(ge,he),ge.index=0,ge.sibling=null,ge}function I(ge,he,ve){return ge.index=ve,u?(ve=ge.alternate,ve!==null?(ve=ve.index,ve<he?(ge.flags|=2,he):ve):(ge.flags|=2,he)):(ge.flags|=1048576,he)}function Y(ge){return u&&ge.alternate===null&&(ge.flags|=2),ge}function ae(ge,he,ve,De){return he===null||he.tag!==6?(he=Q0(ve,ge.mode,De),he.return=ge,he):(he=A(he,ve),he.return=ge,he)}function de(ge,he,ve,De){var Ze=ve.type;return Ze===M?Oe(ge,he,ve.props.children,De,ve.key):he!==null&&(he.elementType===Ze||typeof Ze=="object"&&Ze!==null&&Ze.$$typeof===K&&xO(Ze)===he.type)?(De=A(he,ve.props),De.ref=oh(ge,he,ve),De.return=ge,De):(De=Bg(ve.type,ve.key,ve.props,null,ge.mode,De),De.ref=oh(ge,he,ve),De.return=ge,De)}function _e(ge,he,ve,De){return he===null||he.tag!==4||he.stateNode.containerInfo!==ve.containerInfo||he.stateNode.implementation!==ve.implementation?(he=J0(ve,ge.mode,De),he.return=ge,he):(he=A(he,ve.children||[]),he.return=ge,he)}function Oe(ge,he,ve,De,Ze){return he===null||he.tag!==7?(he=oc(ve,ge.mode,De,Ze),he.return=ge,he):(he=A(he,ve),he.return=ge,he)}function Te(ge,he,ve){if(typeof he=="string"&&he!==""||typeof he=="number")return he=Q0(""+he,ge.mode,ve),he.return=ge,he;if(typeof he=="object"&&he!==null){switch(he.$$typeof){case O:return ve=Bg(he.type,he.key,he.props,null,ge.mode,ve),ve.ref=oh(ge,null,he),ve.return=ge,ve;case R:return he=J0(he,ge.mode,ve),he.return=ge,he;case K:var De=he._init;return Te(ge,De(he._payload),ve)}if(Mt(he)||Q(he))return he=oc(he,ge.mode,ve,null),he.return=ge,he;mg(ge,he)}return null}function Ce(ge,he,ve,De){var Ze=he!==null?he.key:null;if(typeof ve=="string"&&ve!==""||typeof ve=="number")return Ze!==null?null:ae(ge,he,""+ve,De);if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case O:return ve.key===Ze?de(ge,he,ve,De):null;case R:return ve.key===Ze?_e(ge,he,ve,De):null;case K:return Ze=ve._init,Ce(ge,he,Ze(ve._payload),De)}if(Mt(ve)||Q(ve))return Ze!==null?null:Oe(ge,he,ve,De,null);mg(ge,ve)}return null}function Fe(ge,he,ve,De,Ze){if(typeof De=="string"&&De!==""||typeof De=="number")return ge=ge.get(ve)||null,ae(he,ge,""+De,Ze);if(typeof De=="object"&&De!==null){switch(De.$$typeof){case O:return ge=ge.get(De.key===null?ve:De.key)||null,de(he,ge,De,Ze);case R:return ge=ge.get(De.key===null?ve:De.key)||null,_e(he,ge,De,Ze);case K:var at=De._init;return Fe(ge,he,ve,at(De._payload),Ze)}if(Mt(De)||Q(De))return ge=ge.get(ve)||null,Oe(he,ge,De,Ze,null);mg(he,De)}return null}function Ve(ge,he,ve,De){for(var Ze=null,at=null,st=he,mt=he=0,xr=null;st!==null&&mt<ve.length;mt++){st.index>mt?(xr=st,st=null):xr=st.sibling;var zt=Ce(ge,st,ve[mt],De);if(zt===null){st===null&&(st=xr);break}u&&st&&zt.alternate===null&&h(ge,st),he=I(zt,he,mt),at===null?Ze=zt:at.sibling=zt,at=zt,st=xr}if(mt===ve.length)return y(ge,st),bn&&Jl(ge,mt),Ze;if(st===null){for(;mt<ve.length;mt++)st=Te(ge,ve[mt],De),st!==null&&(he=I(st,he,mt),at===null?Ze=st:at.sibling=st,at=st);return bn&&Jl(ge,mt),Ze}for(st=N(ge,st);mt<ve.length;mt++)xr=Fe(st,ge,mt,ve[mt],De),xr!==null&&(u&&xr.alternate!==null&&st.delete(xr.key===null?mt:xr.key),he=I(xr,he,mt),at===null?Ze=xr:at.sibling=xr,at=xr);return u&&st.forEach(function(il){return h(ge,il)}),bn&&Jl(ge,mt),Ze}function Ge(ge,he,ve,De){var Ze=Q(ve);if(typeof Ze!="function")throw Error(n(150));if(ve=Ze.call(ve),ve==null)throw Error(n(151));for(var at=Ze=null,st=he,mt=he=0,xr=null,zt=ve.next();st!==null&&!zt.done;mt++,zt=ve.next()){st.index>mt?(xr=st,st=null):xr=st.sibling;var il=Ce(ge,st,zt.value,De);if(il===null){st===null&&(st=xr);break}u&&st&&il.alternate===null&&h(ge,st),he=I(il,he,mt),at===null?Ze=il:at.sibling=il,at=il,st=xr}if(zt.done)return y(ge,st),bn&&Jl(ge,mt),Ze;if(st===null){for(;!zt.done;mt++,zt=ve.next())zt=Te(ge,zt.value,De),zt!==null&&(he=I(zt,he,mt),at===null?Ze=zt:at.sibling=zt,at=zt);return bn&&Jl(ge,mt),Ze}for(st=N(ge,st);!zt.done;mt++,zt=ve.next())zt=Fe(st,ge,mt,zt.value,De),zt!==null&&(u&&zt.alternate!==null&&st.delete(zt.key===null?mt:zt.key),he=I(zt,he,mt),at===null?Ze=zt:at.sibling=zt,at=zt);return u&&st.forEach(function(v7){return h(ge,v7)}),bn&&Jl(ge,mt),Ze}function $n(ge,he,ve,De){if(typeof ve=="object"&&ve!==null&&ve.type===M&&ve.key===null&&(ve=ve.props.children),typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case O:e:{for(var Ze=ve.key,at=he;at!==null;){if(at.key===Ze){if(Ze=ve.type,Ze===M){if(at.tag===7){y(ge,at.sibling),he=A(at,ve.props.children),he.return=ge,ge=he;break e}}else if(at.elementType===Ze||typeof Ze=="object"&&Ze!==null&&Ze.$$typeof===K&&xO(Ze)===at.type){y(ge,at.sibling),he=A(at,ve.props),he.ref=oh(ge,at,ve),he.return=ge,ge=he;break e}y(ge,at);break}else h(ge,at);at=at.sibling}ve.type===M?(he=oc(ve.props.children,ge.mode,De,ve.key),he.return=ge,ge=he):(De=Bg(ve.type,ve.key,ve.props,null,ge.mode,De),De.ref=oh(ge,he,ve),De.return=ge,ge=De)}return Y(ge);case R:e:{for(at=ve.key;he!==null;){if(he.key===at)if(he.tag===4&&he.stateNode.containerInfo===ve.containerInfo&&he.stateNode.implementation===ve.implementation){y(ge,he.sibling),he=A(he,ve.children||[]),he.return=ge,ge=he;break e}else{y(ge,he);break}else h(ge,he);he=he.sibling}he=J0(ve,ge.mode,De),he.return=ge,ge=he}return Y(ge);case K:return at=ve._init,$n(ge,he,at(ve._payload),De)}if(Mt(ve))return Ve(ge,he,ve,De);if(Q(ve))return Ge(ge,he,ve,De);mg(ge,ve)}return typeof ve=="string"&&ve!==""||typeof ve=="number"?(ve=""+ve,he!==null&&he.tag===6?(y(ge,he.sibling),he=A(he,ve),he.return=ge,ge=he):(y(ge,he),he=Q0(ve,ge.mode,De),he.return=ge,ge=he),Y(ge)):y(ge,he)}return $n}var Lu=bO(!0),wO=bO(!1),gg=Ko(null),vg=null,$u=null,l0=null;function c0(){l0=$u=vg=null}function u0(u){var h=gg.current;vn(gg),u._currentValue=h}function d0(u,h,y){for(;u!==null;){var N=u.alternate;if((u.childLanes&h)!==h?(u.childLanes|=h,N!==null&&(N.childLanes|=h)):N!==null&&(N.childLanes&h)!==h&&(N.childLanes|=h),u===y)break;u=u.return}}function Bu(u,h){vg=u,l0=$u=null,u=u.dependencies,u!==null&&u.firstContext!==null&&((u.lanes&h)!==0&&(pi=!0),u.firstContext=null)}function aa(u){var h=u._currentValue;if(l0!==u)if(u={context:u,memoizedValue:h,next:null},$u===null){if(vg===null)throw Error(n(308));$u=u,vg.dependencies={lanes:0,firstContext:u}}else $u=$u.next=u;return h}var ec=null;function f0(u){ec===null?ec=[u]:ec.push(u)}function _O(u,h,y,N){var A=h.interleaved;return A===null?(y.next=y,f0(h)):(y.next=A.next,A.next=y),h.interleaved=y,Zs(u,N)}function Zs(u,h){u.lanes|=h;var y=u.alternate;for(y!==null&&(y.lanes|=h),y=u,u=u.return;u!==null;)u.childLanes|=h,y=u.alternate,y!==null&&(y.childLanes|=h),y=u,u=u.return;return y.tag===3?y.stateNode:null}var Zo=!1;function h0(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function SO(u,h){u=u.updateQueue,h.updateQueue===u&&(h.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,effects:u.effects})}function Xs(u,h){return{eventTime:u,lane:h,tag:0,payload:null,callback:null,next:null}}function Xo(u,h,y){var N=u.updateQueue;if(N===null)return null;if(N=N.shared,(Bt&2)!==0){var A=N.pending;return A===null?h.next=h:(h.next=A.next,A.next=h),N.pending=h,Zs(u,y)}return A=N.interleaved,A===null?(h.next=h,f0(N)):(h.next=A.next,A.next=h),N.interleaved=h,Zs(u,y)}function yg(u,h,y){if(h=h.updateQueue,h!==null&&(h=h.shared,(y&4194240)!==0)){var N=h.lanes;N&=u.pendingLanes,y|=N,h.lanes=y,Na(u,y)}}function jO(u,h){var y=u.updateQueue,N=u.alternate;if(N!==null&&(N=N.updateQueue,y===N)){var A=null,I=null;if(y=y.firstBaseUpdate,y!==null){do{var Y={eventTime:y.eventTime,lane:y.lane,tag:y.tag,payload:y.payload,callback:y.callback,next:null};I===null?A=I=Y:I=I.next=Y,y=y.next}while(y!==null);I===null?A=I=h:I=I.next=h}else A=I=h;y={baseState:N.baseState,firstBaseUpdate:A,lastBaseUpdate:I,shared:N.shared,effects:N.effects},u.updateQueue=y;return}u=y.lastBaseUpdate,u===null?y.firstBaseUpdate=h:u.next=h,y.lastBaseUpdate=h}function xg(u,h,y,N){var A=u.updateQueue;Zo=!1;var I=A.firstBaseUpdate,Y=A.lastBaseUpdate,ae=A.shared.pending;if(ae!==null){A.shared.pending=null;var de=ae,_e=de.next;de.next=null,Y===null?I=_e:Y.next=_e,Y=de;var Oe=u.alternate;Oe!==null&&(Oe=Oe.updateQueue,ae=Oe.lastBaseUpdate,ae!==Y&&(ae===null?Oe.firstBaseUpdate=_e:ae.next=_e,Oe.lastBaseUpdate=de))}if(I!==null){var Te=A.baseState;Y=0,Oe=_e=de=null,ae=I;do{var Ce=ae.lane,Fe=ae.eventTime;if((N&Ce)===Ce){Oe!==null&&(Oe=Oe.next={eventTime:Fe,lane:0,tag:ae.tag,payload:ae.payload,callback:ae.callback,next:null});e:{var Ve=u,Ge=ae;switch(Ce=h,Fe=y,Ge.tag){case 1:if(Ve=Ge.payload,typeof Ve=="function"){Te=Ve.call(Fe,Te,Ce);break e}Te=Ve;break e;case 3:Ve.flags=Ve.flags&-65537|128;case 0:if(Ve=Ge.payload,Ce=typeof Ve=="function"?Ve.call(Fe,Te,Ce):Ve,Ce==null)break e;Te=ne({},Te,Ce);break e;case 2:Zo=!0}}ae.callback!==null&&ae.lane!==0&&(u.flags|=64,Ce=A.effects,Ce===null?A.effects=[ae]:Ce.push(ae))}else Fe={eventTime:Fe,lane:Ce,tag:ae.tag,payload:ae.payload,callback:ae.callback,next:null},Oe===null?(_e=Oe=Fe,de=Te):Oe=Oe.next=Fe,Y|=Ce;if(ae=ae.next,ae===null){if(ae=A.shared.pending,ae===null)break;Ce=ae,ae=Ce.next,Ce.next=null,A.lastBaseUpdate=Ce,A.shared.pending=null}}while(!0);if(Oe===null&&(de=Te),A.baseState=de,A.firstBaseUpdate=_e,A.lastBaseUpdate=Oe,h=A.shared.interleaved,h!==null){A=h;do Y|=A.lane,A=A.next;while(A!==h)}else I===null&&(A.shared.lanes=0);rc|=Y,u.lanes=Y,u.memoizedState=Te}}function NO(u,h,y){if(u=h.effects,h.effects=null,u!==null)for(h=0;h<u.length;h++){var N=u[h],A=N.callback;if(A!==null){if(N.callback=null,N=y,typeof A!="function")throw Error(n(191,A));A.call(N)}}}var lh={},ls=Ko(lh),ch=Ko(lh),uh=Ko(lh);function tc(u){if(u===lh)throw Error(n(174));return u}function p0(u,h){switch(un(uh,h),un(ch,u),un(ls,lh),u=h.nodeType,u){case 9:case 11:h=(h=h.documentElement)?h.namespaceURI:sn(null,"");break;default:u=u===8?h.parentNode:h,h=u.namespaceURI||null,u=u.tagName,h=sn(h,u)}vn(ls),un(ls,h)}function Fu(){vn(ls),vn(ch),vn(uh)}function PO(u){tc(uh.current);var h=tc(ls.current),y=sn(h,u.type);h!==y&&(un(ch,u),un(ls,y))}function m0(u){ch.current===u&&(vn(ls),vn(ch))}var Nn=Ko(0);function bg(u){for(var h=u;h!==null;){if(h.tag===13){var y=h.memoizedState;if(y!==null&&(y=y.dehydrated,y===null||y.data==="$?"||y.data==="$!"))return h}else if(h.tag===19&&h.memoizedProps.revealOrder!==void 0){if((h.flags&128)!==0)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===u)break;for(;h.sibling===null;){if(h.return===null||h.return===u)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}var g0=[];function v0(){for(var u=0;u<g0.length;u++)g0[u]._workInProgressVersionPrimary=null;g0.length=0}var wg=C.ReactCurrentDispatcher,y0=C.ReactCurrentBatchConfig,nc=0,Pn=null,nr=null,vr=null,_g=!1,dh=!1,fh=0,BV=0;function zr(){throw Error(n(321))}function x0(u,h){if(h===null)return!1;for(var y=0;y<h.length&&y<u.length;y++)if(!Oi(u[y],h[y]))return!1;return!0}function b0(u,h,y,N,A,I){if(nc=I,Pn=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,wg.current=u===null||u.memoizedState===null?UV:WV,u=y(N,A),dh){I=0;do{if(dh=!1,fh=0,25<=I)throw Error(n(301));I+=1,vr=nr=null,h.updateQueue=null,wg.current=HV,u=y(N,A)}while(dh)}if(wg.current=Ng,h=nr!==null&&nr.next!==null,nc=0,vr=nr=Pn=null,_g=!1,h)throw Error(n(300));return u}function w0(){var u=fh!==0;return fh=0,u}function cs(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vr===null?Pn.memoizedState=vr=u:vr=vr.next=u,vr}function sa(){if(nr===null){var u=Pn.alternate;u=u!==null?u.memoizedState:null}else u=nr.next;var h=vr===null?Pn.memoizedState:vr.next;if(h!==null)vr=h,nr=u;else{if(u===null)throw Error(n(310));nr=u,u={memoizedState:nr.memoizedState,baseState:nr.baseState,baseQueue:nr.baseQueue,queue:nr.queue,next:null},vr===null?Pn.memoizedState=vr=u:vr=vr.next=u}return vr}function hh(u,h){return typeof h=="function"?h(u):h}function _0(u){var h=sa(),y=h.queue;if(y===null)throw Error(n(311));y.lastRenderedReducer=u;var N=nr,A=N.baseQueue,I=y.pending;if(I!==null){if(A!==null){var Y=A.next;A.next=I.next,I.next=Y}N.baseQueue=A=I,y.pending=null}if(A!==null){I=A.next,N=N.baseState;var ae=Y=null,de=null,_e=I;do{var Oe=_e.lane;if((nc&Oe)===Oe)de!==null&&(de=de.next={lane:0,action:_e.action,hasEagerState:_e.hasEagerState,eagerState:_e.eagerState,next:null}),N=_e.hasEagerState?_e.eagerState:u(N,_e.action);else{var Te={lane:Oe,action:_e.action,hasEagerState:_e.hasEagerState,eagerState:_e.eagerState,next:null};de===null?(ae=de=Te,Y=N):de=de.next=Te,Pn.lanes|=Oe,rc|=Oe}_e=_e.next}while(_e!==null&&_e!==I);de===null?Y=N:de.next=ae,Oi(N,h.memoizedState)||(pi=!0),h.memoizedState=N,h.baseState=Y,h.baseQueue=de,y.lastRenderedState=N}if(u=y.interleaved,u!==null){A=u;do I=A.lane,Pn.lanes|=I,rc|=I,A=A.next;while(A!==u)}else A===null&&(y.lanes=0);return[h.memoizedState,y.dispatch]}function S0(u){var h=sa(),y=h.queue;if(y===null)throw Error(n(311));y.lastRenderedReducer=u;var N=y.dispatch,A=y.pending,I=h.memoizedState;if(A!==null){y.pending=null;var Y=A=A.next;do I=u(I,Y.action),Y=Y.next;while(Y!==A);Oi(I,h.memoizedState)||(pi=!0),h.memoizedState=I,h.baseQueue===null&&(h.baseState=I),y.lastRenderedState=I}return[I,N]}function kO(){}function EO(u,h){var y=Pn,N=sa(),A=h(),I=!Oi(N.memoizedState,A);if(I&&(N.memoizedState=A,pi=!0),N=N.queue,j0(TO.bind(null,y,N,u),[u]),N.getSnapshot!==h||I||vr!==null&&vr.memoizedState.tag&1){if(y.flags|=2048,ph(9,OO.bind(null,y,N,A,h),void 0,null),yr===null)throw Error(n(349));(nc&30)!==0||CO(y,h,A)}return A}function CO(u,h,y){u.flags|=16384,u={getSnapshot:h,value:y},h=Pn.updateQueue,h===null?(h={lastEffect:null,stores:null},Pn.updateQueue=h,h.stores=[u]):(y=h.stores,y===null?h.stores=[u]:y.push(u))}function OO(u,h,y,N){h.value=y,h.getSnapshot=N,AO(h)&&RO(u)}function TO(u,h,y){return y(function(){AO(h)&&RO(u)})}function AO(u){var h=u.getSnapshot;u=u.value;try{var y=h();return!Oi(u,y)}catch{return!0}}function RO(u){var h=Zs(u,1);h!==null&&Ma(h,u,1,-1)}function MO(u){var h=cs();return typeof u=="function"&&(u=u()),h.memoizedState=h.baseState=u,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:hh,lastRenderedState:u},h.queue=u,u=u.dispatch=qV.bind(null,Pn,u),[h.memoizedState,u]}function ph(u,h,y,N){return u={tag:u,create:h,destroy:y,deps:N,next:null},h=Pn.updateQueue,h===null?(h={lastEffect:null,stores:null},Pn.updateQueue=h,h.lastEffect=u.next=u):(y=h.lastEffect,y===null?h.lastEffect=u.next=u:(N=y.next,y.next=u,u.next=N,h.lastEffect=u)),u}function DO(){return sa().memoizedState}function Sg(u,h,y,N){var A=cs();Pn.flags|=u,A.memoizedState=ph(1|h,y,void 0,N===void 0?null:N)}function jg(u,h,y,N){var A=sa();N=N===void 0?null:N;var I=void 0;if(nr!==null){var Y=nr.memoizedState;if(I=Y.destroy,N!==null&&x0(N,Y.deps)){A.memoizedState=ph(h,y,I,N);return}}Pn.flags|=u,A.memoizedState=ph(1|h,y,I,N)}function IO(u,h){return Sg(8390656,8,u,h)}function j0(u,h){return jg(2048,8,u,h)}function LO(u,h){return jg(4,2,u,h)}function $O(u,h){return jg(4,4,u,h)}function BO(u,h){if(typeof h=="function")return u=u(),h(u),function(){h(null)};if(h!=null)return u=u(),h.current=u,function(){h.current=null}}function FO(u,h,y){return y=y!=null?y.concat([u]):null,jg(4,4,BO.bind(null,h,u),y)}function N0(){}function zO(u,h){var y=sa();h=h===void 0?null:h;var N=y.memoizedState;return N!==null&&h!==null&&x0(h,N[1])?N[0]:(y.memoizedState=[u,h],u)}function qO(u,h){var y=sa();h=h===void 0?null:h;var N=y.memoizedState;return N!==null&&h!==null&&x0(h,N[1])?N[0]:(u=u(),y.memoizedState=[u,h],u)}function UO(u,h,y){return(nc&21)===0?(u.baseState&&(u.baseState=!1,pi=!0),u.memoizedState=y):(Oi(y,h)||(y=Fm(),Pn.lanes|=y,rc|=y,u.baseState=!0),h)}function FV(u,h){var y=$t;$t=y!==0&&4>y?y:4,u(!0);var N=y0.transition;y0.transition={};try{u(!1),h()}finally{$t=y,y0.transition=N}}function WO(){return sa().memoizedState}function zV(u,h,y){var N=tl(u);if(y={lane:N,action:y,hasEagerState:!1,eagerState:null,next:null},HO(u))VO(h,y);else if(y=_O(u,h,y,N),y!==null){var A=ti();Ma(y,u,N,A),KO(y,h,N)}}function qV(u,h,y){var N=tl(u),A={lane:N,action:y,hasEagerState:!1,eagerState:null,next:null};if(HO(u))VO(h,A);else{var I=u.alternate;if(u.lanes===0&&(I===null||I.lanes===0)&&(I=h.lastRenderedReducer,I!==null))try{var Y=h.lastRenderedState,ae=I(Y,y);if(A.hasEagerState=!0,A.eagerState=ae,Oi(ae,Y)){var de=h.interleaved;de===null?(A.next=A,f0(h)):(A.next=de.next,de.next=A),h.interleaved=A;return}}catch{}finally{}y=_O(u,h,A,N),y!==null&&(A=ti(),Ma(y,u,N,A),KO(y,h,N))}}function HO(u){var h=u.alternate;return u===Pn||h!==null&&h===Pn}function VO(u,h){dh=_g=!0;var y=u.pending;y===null?h.next=h:(h.next=y.next,y.next=h),u.pending=h}function KO(u,h,y){if((y&4194240)!==0){var N=h.lanes;N&=u.pendingLanes,y|=N,h.lanes=y,Na(u,y)}}var Ng={readContext:aa,useCallback:zr,useContext:zr,useEffect:zr,useImperativeHandle:zr,useInsertionEffect:zr,useLayoutEffect:zr,useMemo:zr,useReducer:zr,useRef:zr,useState:zr,useDebugValue:zr,useDeferredValue:zr,useTransition:zr,useMutableSource:zr,useSyncExternalStore:zr,useId:zr,unstable_isNewReconciler:!1},UV={readContext:aa,useCallback:function(u,h){return cs().memoizedState=[u,h===void 0?null:h],u},useContext:aa,useEffect:IO,useImperativeHandle:function(u,h,y){return y=y!=null?y.concat([u]):null,Sg(4194308,4,BO.bind(null,h,u),y)},useLayoutEffect:function(u,h){return Sg(4194308,4,u,h)},useInsertionEffect:function(u,h){return Sg(4,2,u,h)},useMemo:function(u,h){var y=cs();return h=h===void 0?null:h,u=u(),y.memoizedState=[u,h],u},useReducer:function(u,h,y){var N=cs();return h=y!==void 0?y(h):h,N.memoizedState=N.baseState=h,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:h},N.queue=u,u=u.dispatch=zV.bind(null,Pn,u),[N.memoizedState,u]},useRef:function(u){var h=cs();return u={current:u},h.memoizedState=u},useState:MO,useDebugValue:N0,useDeferredValue:function(u){return cs().memoizedState=u},useTransition:function(){var u=MO(!1),h=u[0];return u=FV.bind(null,u[1]),cs().memoizedState=u,[h,u]},useMutableSource:function(){},useSyncExternalStore:function(u,h,y){var N=Pn,A=cs();if(bn){if(y===void 0)throw Error(n(407));y=y()}else{if(y=h(),yr===null)throw Error(n(349));(nc&30)!==0||CO(N,h,y)}A.memoizedState=y;var I={value:y,getSnapshot:h};return A.queue=I,IO(TO.bind(null,N,I,u),[u]),N.flags|=2048,ph(9,OO.bind(null,N,I,y,h),void 0,null),y},useId:function(){var u=cs(),h=yr.identifierPrefix;if(bn){var y=Ys,N=Gs;y=(N&~(1<<32-wt(N)-1)).toString(32)+y,h=":"+h+"R"+y,y=fh++,0<y&&(h+="H"+y.toString(32)),h+=":"}else y=BV++,h=":"+h+"r"+y.toString(32)+":";return u.memoizedState=h},unstable_isNewReconciler:!1},WV={readContext:aa,useCallback:zO,useContext:aa,useEffect:j0,useImperativeHandle:FO,useInsertionEffect:LO,useLayoutEffect:$O,useMemo:qO,useReducer:_0,useRef:DO,useState:function(){return _0(hh)},useDebugValue:N0,useDeferredValue:function(u){var h=sa();return UO(h,nr.memoizedState,u)},useTransition:function(){var u=_0(hh)[0],h=sa().memoizedState;return[u,h]},useMutableSource:kO,useSyncExternalStore:EO,useId:WO,unstable_isNewReconciler:!1},HV={readContext:aa,useCallback:zO,useContext:aa,useEffect:j0,useImperativeHandle:FO,useInsertionEffect:LO,useLayoutEffect:$O,useMemo:qO,useReducer:S0,useRef:DO,useState:function(){return S0(hh)},useDebugValue:N0,useDeferredValue:function(u){var h=sa();return nr===null?h.memoizedState=u:UO(h,nr.memoizedState,u)},useTransition:function(){var u=S0(hh)[0],h=sa().memoizedState;return[u,h]},useMutableSource:kO,useSyncExternalStore:EO,useId:WO,unstable_isNewReconciler:!1};function Ta(u,h){if(u&&u.defaultProps){h=ne({},h),u=u.defaultProps;for(var y in u)h[y]===void 0&&(h[y]=u[y]);return h}return h}function P0(u,h,y,N){h=u.memoizedState,y=y(N,h),y=y==null?h:ne({},h,y),u.memoizedState=y,u.lanes===0&&(u.updateQueue.baseState=y)}var Pg={isMounted:function(u){return(u=u._reactInternals)?Ja(u)===u:!1},enqueueSetState:function(u,h,y){u=u._reactInternals;var N=ti(),A=tl(u),I=Xs(N,A);I.payload=h,y!=null&&(I.callback=y),h=Xo(u,I,A),h!==null&&(Ma(h,u,A,N),yg(h,u,A))},enqueueReplaceState:function(u,h,y){u=u._reactInternals;var N=ti(),A=tl(u),I=Xs(N,A);I.tag=1,I.payload=h,y!=null&&(I.callback=y),h=Xo(u,I,A),h!==null&&(Ma(h,u,A,N),yg(h,u,A))},enqueueForceUpdate:function(u,h){u=u._reactInternals;var y=ti(),N=tl(u),A=Xs(y,N);A.tag=2,h!=null&&(A.callback=h),h=Xo(u,A,N),h!==null&&(Ma(h,u,N,y),yg(h,u,N))}};function GO(u,h,y,N,A,I,Y){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(N,I,Y):h.prototype&&h.prototype.isPureReactComponent?!is(y,N)||!is(A,I):!0}function YO(u,h,y){var N=!1,A=Go,I=h.contextType;return typeof I=="object"&&I!==null?I=aa(I):(A=hi(h)?Xl:Fr.current,N=h.contextTypes,I=(N=N!=null)?Ru(u,A):Go),h=new h(y,I),u.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Pg,u.stateNode=h,h._reactInternals=u,N&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=A,u.__reactInternalMemoizedMaskedChildContext=I),h}function ZO(u,h,y,N){u=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(y,N),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(y,N),h.state!==u&&Pg.enqueueReplaceState(h,h.state,null)}function k0(u,h,y,N){var A=u.stateNode;A.props=y,A.state=u.memoizedState,A.refs={},h0(u);var I=h.contextType;typeof I=="object"&&I!==null?A.context=aa(I):(I=hi(h)?Xl:Fr.current,A.context=Ru(u,I)),A.state=u.memoizedState,I=h.getDerivedStateFromProps,typeof I=="function"&&(P0(u,h,I,y),A.state=u.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof A.getSnapshotBeforeUpdate=="function"||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(h=A.state,typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount(),h!==A.state&&Pg.enqueueReplaceState(A,A.state,null),xg(u,y,A,N),A.state=u.memoizedState),typeof A.componentDidMount=="function"&&(u.flags|=4194308)}function zu(u,h){try{var y="",N=h;do y+=ie(N),N=N.return;while(N);var A=y}catch(I){A=`
Error generating stack: `+I.message+`
`+I.stack}return{value:u,source:h,stack:A,digest:null}}function E0(u,h,y){return{value:u,source:null,stack:y??null,digest:h??null}}function C0(u,h){try{console.error(h.value)}catch(y){setTimeout(function(){throw y})}}var VV=typeof WeakMap=="function"?WeakMap:Map;function XO(u,h,y){y=Xs(-1,y),y.tag=3,y.payload={element:null};var N=h.value;return y.callback=function(){Rg||(Rg=!0,W0=N),C0(u,h)},y}function QO(u,h,y){y=Xs(-1,y),y.tag=3;var N=u.type.getDerivedStateFromError;if(typeof N=="function"){var A=h.value;y.payload=function(){return N(A)},y.callback=function(){C0(u,h)}}var I=u.stateNode;return I!==null&&typeof I.componentDidCatch=="function"&&(y.callback=function(){C0(u,h),typeof N!="function"&&(Jo===null?Jo=new Set([this]):Jo.add(this));var Y=h.stack;this.componentDidCatch(h.value,{componentStack:Y!==null?Y:""})}),y}function JO(u,h,y){var N=u.pingCache;if(N===null){N=u.pingCache=new VV;var A=new Set;N.set(h,A)}else A=N.get(h),A===void 0&&(A=new Set,N.set(h,A));A.has(y)||(A.add(y),u=s7.bind(null,u,h,y),h.then(u,u))}function eT(u){do{var h;if((h=u.tag===13)&&(h=u.memoizedState,h=h!==null?h.dehydrated!==null:!0),h)return u;u=u.return}while(u!==null);return null}function tT(u,h,y,N,A){return(u.mode&1)===0?(u===h?u.flags|=65536:(u.flags|=128,y.flags|=131072,y.flags&=-52805,y.tag===1&&(y.alternate===null?y.tag=17:(h=Xs(-1,1),h.tag=2,Xo(y,h,1))),y.lanes|=1),u):(u.flags|=65536,u.lanes=A,u)}var KV=C.ReactCurrentOwner,pi=!1;function ei(u,h,y,N){h.child=u===null?wO(h,null,y,N):Lu(h,u.child,y,N)}function nT(u,h,y,N,A){y=y.render;var I=h.ref;return Bu(h,A),N=b0(u,h,y,N,I,A),y=w0(),u!==null&&!pi?(h.updateQueue=u.updateQueue,h.flags&=-2053,u.lanes&=~A,Qs(u,h,A)):(bn&&y&&r0(h),h.flags|=1,ei(u,h,N,A),h.child)}function rT(u,h,y,N,A){if(u===null){var I=y.type;return typeof I=="function"&&!X0(I)&&I.defaultProps===void 0&&y.compare===null&&y.defaultProps===void 0?(h.tag=15,h.type=I,iT(u,h,I,N,A)):(u=Bg(y.type,null,N,h,h.mode,A),u.ref=h.ref,u.return=h,h.child=u)}if(I=u.child,(u.lanes&A)===0){var Y=I.memoizedProps;if(y=y.compare,y=y!==null?y:is,y(Y,N)&&u.ref===h.ref)return Qs(u,h,A)}return h.flags|=1,u=rl(I,N),u.ref=h.ref,u.return=h,h.child=u}function iT(u,h,y,N,A){if(u!==null){var I=u.memoizedProps;if(is(I,N)&&u.ref===h.ref)if(pi=!1,h.pendingProps=N=I,(u.lanes&A)!==0)(u.flags&131072)!==0&&(pi=!0);else return h.lanes=u.lanes,Qs(u,h,A)}return O0(u,h,y,N,A)}function aT(u,h,y){var N=h.pendingProps,A=N.children,I=u!==null?u.memoizedState:null;if(N.mode==="hidden")if((h.mode&1)===0)h.memoizedState={baseLanes:0,cachePool:null,transitions:null},un(Uu,Mi),Mi|=y;else{if((y&1073741824)===0)return u=I!==null?I.baseLanes|y:y,h.lanes=h.childLanes=1073741824,h.memoizedState={baseLanes:u,cachePool:null,transitions:null},h.updateQueue=null,un(Uu,Mi),Mi|=u,null;h.memoizedState={baseLanes:0,cachePool:null,transitions:null},N=I!==null?I.baseLanes:y,un(Uu,Mi),Mi|=N}else I!==null?(N=I.baseLanes|y,h.memoizedState=null):N=y,un(Uu,Mi),Mi|=N;return ei(u,h,A,y),h.child}function sT(u,h){var y=h.ref;(u===null&&y!==null||u!==null&&u.ref!==y)&&(h.flags|=512,h.flags|=2097152)}function O0(u,h,y,N,A){var I=hi(y)?Xl:Fr.current;return I=Ru(h,I),Bu(h,A),y=b0(u,h,y,N,I,A),N=w0(),u!==null&&!pi?(h.updateQueue=u.updateQueue,h.flags&=-2053,u.lanes&=~A,Qs(u,h,A)):(bn&&N&&r0(h),h.flags|=1,ei(u,h,y,A),h.child)}function oT(u,h,y,N,A){if(hi(y)){var I=!0;ug(h)}else I=!1;if(Bu(h,A),h.stateNode===null)Eg(u,h),YO(h,y,N),k0(h,y,N,A),N=!0;else if(u===null){var Y=h.stateNode,ae=h.memoizedProps;Y.props=ae;var de=Y.context,_e=y.contextType;typeof _e=="object"&&_e!==null?_e=aa(_e):(_e=hi(y)?Xl:Fr.current,_e=Ru(h,_e));var Oe=y.getDerivedStateFromProps,Te=typeof Oe=="function"||typeof Y.getSnapshotBeforeUpdate=="function";Te||typeof Y.UNSAFE_componentWillReceiveProps!="function"&&typeof Y.componentWillReceiveProps!="function"||(ae!==N||de!==_e)&&ZO(h,Y,N,_e),Zo=!1;var Ce=h.memoizedState;Y.state=Ce,xg(h,N,Y,A),de=h.memoizedState,ae!==N||Ce!==de||fi.current||Zo?(typeof Oe=="function"&&(P0(h,y,Oe,N),de=h.memoizedState),(ae=Zo||GO(h,y,ae,N,Ce,de,_e))?(Te||typeof Y.UNSAFE_componentWillMount!="function"&&typeof Y.componentWillMount!="function"||(typeof Y.componentWillMount=="function"&&Y.componentWillMount(),typeof Y.UNSAFE_componentWillMount=="function"&&Y.UNSAFE_componentWillMount()),typeof Y.componentDidMount=="function"&&(h.flags|=4194308)):(typeof Y.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=N,h.memoizedState=de),Y.props=N,Y.state=de,Y.context=_e,N=ae):(typeof Y.componentDidMount=="function"&&(h.flags|=4194308),N=!1)}else{Y=h.stateNode,SO(u,h),ae=h.memoizedProps,_e=h.type===h.elementType?ae:Ta(h.type,ae),Y.props=_e,Te=h.pendingProps,Ce=Y.context,de=y.contextType,typeof de=="object"&&de!==null?de=aa(de):(de=hi(y)?Xl:Fr.current,de=Ru(h,de));var Fe=y.getDerivedStateFromProps;(Oe=typeof Fe=="function"||typeof Y.getSnapshotBeforeUpdate=="function")||typeof Y.UNSAFE_componentWillReceiveProps!="function"&&typeof Y.componentWillReceiveProps!="function"||(ae!==Te||Ce!==de)&&ZO(h,Y,N,de),Zo=!1,Ce=h.memoizedState,Y.state=Ce,xg(h,N,Y,A);var Ve=h.memoizedState;ae!==Te||Ce!==Ve||fi.current||Zo?(typeof Fe=="function"&&(P0(h,y,Fe,N),Ve=h.memoizedState),(_e=Zo||GO(h,y,_e,N,Ce,Ve,de)||!1)?(Oe||typeof Y.UNSAFE_componentWillUpdate!="function"&&typeof Y.componentWillUpdate!="function"||(typeof Y.componentWillUpdate=="function"&&Y.componentWillUpdate(N,Ve,de),typeof Y.UNSAFE_componentWillUpdate=="function"&&Y.UNSAFE_componentWillUpdate(N,Ve,de)),typeof Y.componentDidUpdate=="function"&&(h.flags|=4),typeof Y.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof Y.componentDidUpdate!="function"||ae===u.memoizedProps&&Ce===u.memoizedState||(h.flags|=4),typeof Y.getSnapshotBeforeUpdate!="function"||ae===u.memoizedProps&&Ce===u.memoizedState||(h.flags|=1024),h.memoizedProps=N,h.memoizedState=Ve),Y.props=N,Y.state=Ve,Y.context=de,N=_e):(typeof Y.componentDidUpdate!="function"||ae===u.memoizedProps&&Ce===u.memoizedState||(h.flags|=4),typeof Y.getSnapshotBeforeUpdate!="function"||ae===u.memoizedProps&&Ce===u.memoizedState||(h.flags|=1024),N=!1)}return T0(u,h,y,N,I,A)}function T0(u,h,y,N,A,I){sT(u,h);var Y=(h.flags&128)!==0;if(!N&&!Y)return A&&fO(h,y,!1),Qs(u,h,I);N=h.stateNode,KV.current=h;var ae=Y&&typeof y.getDerivedStateFromError!="function"?null:N.render();return h.flags|=1,u!==null&&Y?(h.child=Lu(h,u.child,null,I),h.child=Lu(h,null,ae,I)):ei(u,h,ae,I),h.memoizedState=N.state,A&&fO(h,y,!0),h.child}function lT(u){var h=u.stateNode;h.pendingContext?uO(u,h.pendingContext,h.pendingContext!==h.context):h.context&&uO(u,h.context,!1),p0(u,h.containerInfo)}function cT(u,h,y,N,A){return Iu(),o0(A),h.flags|=256,ei(u,h,y,N),h.child}var A0={dehydrated:null,treeContext:null,retryLane:0};function R0(u){return{baseLanes:u,cachePool:null,transitions:null}}function uT(u,h,y){var N=h.pendingProps,A=Nn.current,I=!1,Y=(h.flags&128)!==0,ae;if((ae=Y)||(ae=u!==null&&u.memoizedState===null?!1:(A&2)!==0),ae?(I=!0,h.flags&=-129):(u===null||u.memoizedState!==null)&&(A|=1),un(Nn,A&1),u===null)return s0(h),u=h.memoizedState,u!==null&&(u=u.dehydrated,u!==null)?((h.mode&1)===0?h.lanes=1:u.data==="$!"?h.lanes=8:h.lanes=1073741824,null):(Y=N.children,u=N.fallback,I?(N=h.mode,I=h.child,Y={mode:"hidden",children:Y},(N&1)===0&&I!==null?(I.childLanes=0,I.pendingProps=Y):I=Fg(Y,N,0,null),u=oc(u,N,y,null),I.return=h,u.return=h,I.sibling=u,h.child=I,h.child.memoizedState=R0(y),h.memoizedState=A0,u):M0(h,Y));if(A=u.memoizedState,A!==null&&(ae=A.dehydrated,ae!==null))return GV(u,h,Y,N,ae,A,y);if(I){I=N.fallback,Y=h.mode,A=u.child,ae=A.sibling;var de={mode:"hidden",children:N.children};return(Y&1)===0&&h.child!==A?(N=h.child,N.childLanes=0,N.pendingProps=de,h.deletions=null):(N=rl(A,de),N.subtreeFlags=A.subtreeFlags&14680064),ae!==null?I=rl(ae,I):(I=oc(I,Y,y,null),I.flags|=2),I.return=h,N.return=h,N.sibling=I,h.child=N,N=I,I=h.child,Y=u.child.memoizedState,Y=Y===null?R0(y):{baseLanes:Y.baseLanes|y,cachePool:null,transitions:Y.transitions},I.memoizedState=Y,I.childLanes=u.childLanes&~y,h.memoizedState=A0,N}return I=u.child,u=I.sibling,N=rl(I,{mode:"visible",children:N.children}),(h.mode&1)===0&&(N.lanes=y),N.return=h,N.sibling=null,u!==null&&(y=h.deletions,y===null?(h.deletions=[u],h.flags|=16):y.push(u)),h.child=N,h.memoizedState=null,N}function M0(u,h){return h=Fg({mode:"visible",children:h},u.mode,0,null),h.return=u,u.child=h}function kg(u,h,y,N){return N!==null&&o0(N),Lu(h,u.child,null,y),u=M0(h,h.pendingProps.children),u.flags|=2,h.memoizedState=null,u}function GV(u,h,y,N,A,I,Y){if(y)return h.flags&256?(h.flags&=-257,N=E0(Error(n(422))),kg(u,h,Y,N)):h.memoizedState!==null?(h.child=u.child,h.flags|=128,null):(I=N.fallback,A=h.mode,N=Fg({mode:"visible",children:N.children},A,0,null),I=oc(I,A,Y,null),I.flags|=2,N.return=h,I.return=h,N.sibling=I,h.child=N,(h.mode&1)!==0&&Lu(h,u.child,null,Y),h.child.memoizedState=R0(Y),h.memoizedState=A0,I);if((h.mode&1)===0)return kg(u,h,Y,null);if(A.data==="$!"){if(N=A.nextSibling&&A.nextSibling.dataset,N)var ae=N.dgst;return N=ae,I=Error(n(419)),N=E0(I,N,void 0),kg(u,h,Y,N)}if(ae=(Y&u.childLanes)!==0,pi||ae){if(N=yr,N!==null){switch(Y&-Y){case 4:A=2;break;case 16:A=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:A=32;break;case 536870912:A=268435456;break;default:A=0}A=(A&(N.suspendedLanes|Y))!==0?0:A,A!==0&&A!==I.retryLane&&(I.retryLane=A,Zs(u,A),Ma(N,u,A,-1))}return Z0(),N=E0(Error(n(421))),kg(u,h,Y,N)}return A.data==="$?"?(h.flags|=128,h.child=u.child,h=o7.bind(null,u),A._reactRetry=h,null):(u=I.treeContext,Ri=os(A.nextSibling),Ai=h,bn=!0,Oa=null,u!==null&&(ra[ia++]=Gs,ra[ia++]=Ys,ra[ia++]=Ql,Gs=u.id,Ys=u.overflow,Ql=h),h=M0(h,N.children),h.flags|=4096,h)}function dT(u,h,y){u.lanes|=h;var N=u.alternate;N!==null&&(N.lanes|=h),d0(u.return,h,y)}function D0(u,h,y,N,A){var I=u.memoizedState;I===null?u.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:N,tail:y,tailMode:A}:(I.isBackwards=h,I.rendering=null,I.renderingStartTime=0,I.last=N,I.tail=y,I.tailMode=A)}function fT(u,h,y){var N=h.pendingProps,A=N.revealOrder,I=N.tail;if(ei(u,h,N.children,y),N=Nn.current,(N&2)!==0)N=N&1|2,h.flags|=128;else{if(u!==null&&(u.flags&128)!==0)e:for(u=h.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&dT(u,y,h);else if(u.tag===19)dT(u,y,h);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===h)break e;for(;u.sibling===null;){if(u.return===null||u.return===h)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}N&=1}if(un(Nn,N),(h.mode&1)===0)h.memoizedState=null;else switch(A){case"forwards":for(y=h.child,A=null;y!==null;)u=y.alternate,u!==null&&bg(u)===null&&(A=y),y=y.sibling;y=A,y===null?(A=h.child,h.child=null):(A=y.sibling,y.sibling=null),D0(h,!1,A,y,I);break;case"backwards":for(y=null,A=h.child,h.child=null;A!==null;){if(u=A.alternate,u!==null&&bg(u)===null){h.child=A;break}u=A.sibling,A.sibling=y,y=A,A=u}D0(h,!0,y,null,I);break;case"together":D0(h,!1,null,null,void 0);break;default:h.memoizedState=null}return h.child}function Eg(u,h){(h.mode&1)===0&&u!==null&&(u.alternate=null,h.alternate=null,h.flags|=2)}function Qs(u,h,y){if(u!==null&&(h.dependencies=u.dependencies),rc|=h.lanes,(y&h.childLanes)===0)return null;if(u!==null&&h.child!==u.child)throw Error(n(153));if(h.child!==null){for(u=h.child,y=rl(u,u.pendingProps),h.child=y,y.return=h;u.sibling!==null;)u=u.sibling,y=y.sibling=rl(u,u.pendingProps),y.return=h;y.sibling=null}return h.child}function YV(u,h,y){switch(h.tag){case 3:lT(h),Iu();break;case 5:PO(h);break;case 1:hi(h.type)&&ug(h);break;case 4:p0(h,h.stateNode.containerInfo);break;case 10:var N=h.type._context,A=h.memoizedProps.value;un(gg,N._currentValue),N._currentValue=A;break;case 13:if(N=h.memoizedState,N!==null)return N.dehydrated!==null?(un(Nn,Nn.current&1),h.flags|=128,null):(y&h.child.childLanes)!==0?uT(u,h,y):(un(Nn,Nn.current&1),u=Qs(u,h,y),u!==null?u.sibling:null);un(Nn,Nn.current&1);break;case 19:if(N=(y&h.childLanes)!==0,(u.flags&128)!==0){if(N)return fT(u,h,y);h.flags|=128}if(A=h.memoizedState,A!==null&&(A.rendering=null,A.tail=null,A.lastEffect=null),un(Nn,Nn.current),N)break;return null;case 22:case 23:return h.lanes=0,aT(u,h,y)}return Qs(u,h,y)}var hT,I0,pT,mT;hT=function(u,h){for(var y=h.child;y!==null;){if(y.tag===5||y.tag===6)u.appendChild(y.stateNode);else if(y.tag!==4&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===h)break;for(;y.sibling===null;){if(y.return===null||y.return===h)return;y=y.return}y.sibling.return=y.return,y=y.sibling}},I0=function(){},pT=function(u,h,y,N){var A=u.memoizedProps;if(A!==N){u=h.stateNode,tc(ls.current);var I=null;switch(y){case"input":A=Re(u,A),N=Re(u,N),I=[];break;case"select":A=ne({},A,{value:void 0}),N=ne({},N,{value:void 0}),I=[];break;case"textarea":A=it(u,A),N=it(u,N),I=[];break;default:typeof A.onClick!="function"&&typeof N.onClick=="function"&&(u.onclick=Ee)}ci(y,N);var Y;y=null;for(_e in A)if(!N.hasOwnProperty(_e)&&A.hasOwnProperty(_e)&&A[_e]!=null)if(_e==="style"){var ae=A[_e];for(Y in ae)ae.hasOwnProperty(Y)&&(y||(y={}),y[Y]="")}else _e!=="dangerouslySetInnerHTML"&&_e!=="children"&&_e!=="suppressContentEditableWarning"&&_e!=="suppressHydrationWarning"&&_e!=="autoFocus"&&(i.hasOwnProperty(_e)?I||(I=[]):(I=I||[]).push(_e,null));for(_e in N){var de=N[_e];if(ae=A?.[_e],N.hasOwnProperty(_e)&&de!==ae&&(de!=null||ae!=null))if(_e==="style")if(ae){for(Y in ae)!ae.hasOwnProperty(Y)||de&&de.hasOwnProperty(Y)||(y||(y={}),y[Y]="");for(Y in de)de.hasOwnProperty(Y)&&ae[Y]!==de[Y]&&(y||(y={}),y[Y]=de[Y])}else y||(I||(I=[]),I.push(_e,y)),y=de;else _e==="dangerouslySetInnerHTML"?(de=de?de.__html:void 0,ae=ae?ae.__html:void 0,de!=null&&ae!==de&&(I=I||[]).push(_e,de)):_e==="children"?typeof de!="string"&&typeof de!="number"||(I=I||[]).push(_e,""+de):_e!=="suppressContentEditableWarning"&&_e!=="suppressHydrationWarning"&&(i.hasOwnProperty(_e)?(de!=null&&_e==="onScroll"&&en("scroll",u),I||ae===de||(I=[])):(I=I||[]).push(_e,de))}y&&(I=I||[]).push("style",y);var _e=I;(h.updateQueue=_e)&&(h.flags|=4)}},mT=function(u,h,y,N){y!==N&&(h.flags|=4)};function mh(u,h){if(!bn)switch(u.tailMode){case"hidden":h=u.tail;for(var y=null;h!==null;)h.alternate!==null&&(y=h),h=h.sibling;y===null?u.tail=null:y.sibling=null;break;case"collapsed":y=u.tail;for(var N=null;y!==null;)y.alternate!==null&&(N=y),y=y.sibling;N===null?h||u.tail===null?u.tail=null:u.tail.sibling=null:N.sibling=null}}function qr(u){var h=u.alternate!==null&&u.alternate.child===u.child,y=0,N=0;if(h)for(var A=u.child;A!==null;)y|=A.lanes|A.childLanes,N|=A.subtreeFlags&14680064,N|=A.flags&14680064,A.return=u,A=A.sibling;else for(A=u.child;A!==null;)y|=A.lanes|A.childLanes,N|=A.subtreeFlags,N|=A.flags,A.return=u,A=A.sibling;return u.subtreeFlags|=N,u.childLanes=y,h}function ZV(u,h,y){var N=h.pendingProps;switch(i0(h),h.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qr(h),null;case 1:return hi(h.type)&&cg(),qr(h),null;case 3:return N=h.stateNode,Fu(),vn(fi),vn(Fr),v0(),N.pendingContext&&(N.context=N.pendingContext,N.pendingContext=null),(u===null||u.child===null)&&(pg(h)?h.flags|=4:u===null||u.memoizedState.isDehydrated&&(h.flags&256)===0||(h.flags|=1024,Oa!==null&&(K0(Oa),Oa=null))),I0(u,h),qr(h),null;case 5:m0(h);var A=tc(uh.current);if(y=h.type,u!==null&&h.stateNode!=null)pT(u,h,y,N,A),u.ref!==h.ref&&(h.flags|=512,h.flags|=2097152);else{if(!N){if(h.stateNode===null)throw Error(n(166));return qr(h),null}if(u=tc(ls.current),pg(h)){N=h.stateNode,y=h.type;var I=h.memoizedProps;switch(N[na]=h,N[Ho]=I,u=(h.mode&1)!==0,y){case"dialog":en("cancel",N),en("close",N);break;case"iframe":case"object":case"embed":en("load",N);break;case"video":case"audio":for(A=0;A<qo.length;A++)en(qo[A],N);break;case"source":en("error",N);break;case"img":case"image":case"link":en("error",N),en("load",N);break;case"details":en("toggle",N);break;case"input":Xe(N,I),en("invalid",N);break;case"select":N._wrapperState={wasMultiple:!!I.multiple},en("invalid",N);break;case"textarea":Et(N,I),en("invalid",N)}ci(y,I),A=null;for(var Y in I)if(I.hasOwnProperty(Y)){var ae=I[Y];Y==="children"?typeof ae=="string"?N.textContent!==ae&&(I.suppressHydrationWarning!==!0&&we(N.textContent,ae,u),A=["children",ae]):typeof ae=="number"&&N.textContent!==""+ae&&(I.suppressHydrationWarning!==!0&&we(N.textContent,ae,u),A=["children",""+ae]):i.hasOwnProperty(Y)&&ae!=null&&Y==="onScroll"&&en("scroll",N)}switch(y){case"input":ce(N),Wt(N,I,!0);break;case"textarea":ce(N),pe(N);break;case"select":case"option":break;default:typeof I.onClick=="function"&&(N.onclick=Ee)}N=A,h.updateQueue=N,N!==null&&(h.flags|=4)}else{Y=A.nodeType===9?A:A.ownerDocument,u==="http://www.w3.org/1999/xhtml"&&(u=pt(y)),u==="http://www.w3.org/1999/xhtml"?y==="script"?(u=Y.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild)):typeof N.is=="string"?u=Y.createElement(y,{is:N.is}):(u=Y.createElement(y),y==="select"&&(Y=u,N.multiple?Y.multiple=!0:N.size&&(Y.size=N.size))):u=Y.createElementNS(u,y),u[na]=h,u[Ho]=N,hT(u,h,!1,!1),h.stateNode=u;e:{switch(Y=Si(y,N),y){case"dialog":en("cancel",u),en("close",u),A=N;break;case"iframe":case"object":case"embed":en("load",u),A=N;break;case"video":case"audio":for(A=0;A<qo.length;A++)en(qo[A],u);A=N;break;case"source":en("error",u),A=N;break;case"img":case"image":case"link":en("error",u),en("load",u),A=N;break;case"details":en("toggle",u),A=N;break;case"input":Xe(u,N),A=Re(u,N),en("invalid",u);break;case"option":A=N;break;case"select":u._wrapperState={wasMultiple:!!N.multiple},A=ne({},N,{value:void 0}),en("invalid",u);break;case"textarea":Et(u,N),A=it(u,N),en("invalid",u);break;default:A=N}ci(y,A),ae=A;for(I in ae)if(ae.hasOwnProperty(I)){var de=ae[I];I==="style"?Zr(u,de):I==="dangerouslySetInnerHTML"?(de=de?de.__html:void 0,de!=null&&Yi(u,de)):I==="children"?typeof de=="string"?(y!=="textarea"||de!=="")&&Nr(u,de):typeof de=="number"&&Nr(u,""+de):I!=="suppressContentEditableWarning"&&I!=="suppressHydrationWarning"&&I!=="autoFocus"&&(i.hasOwnProperty(I)?de!=null&&I==="onScroll"&&en("scroll",u):de!=null&&P(u,I,de,Y))}switch(y){case"input":ce(u),Wt(u,N,!1);break;case"textarea":ce(u),pe(u);break;case"option":N.value!=null&&u.setAttribute("value",""+be(N.value));break;case"select":u.multiple=!!N.multiple,I=N.value,I!=null?It(u,!!N.multiple,I,!1):N.defaultValue!=null&&It(u,!!N.multiple,N.defaultValue,!0);break;default:typeof A.onClick=="function"&&(u.onclick=Ee)}switch(y){case"button":case"input":case"select":case"textarea":N=!!N.autoFocus;break e;case"img":N=!0;break e;default:N=!1}}N&&(h.flags|=4)}h.ref!==null&&(h.flags|=512,h.flags|=2097152)}return qr(h),null;case 6:if(u&&h.stateNode!=null)mT(u,h,u.memoizedProps,N);else{if(typeof N!="string"&&h.stateNode===null)throw Error(n(166));if(y=tc(uh.current),tc(ls.current),pg(h)){if(N=h.stateNode,y=h.memoizedProps,N[na]=h,(I=N.nodeValue!==y)&&(u=Ai,u!==null))switch(u.tag){case 3:we(N.nodeValue,y,(u.mode&1)!==0);break;case 5:u.memoizedProps.suppressHydrationWarning!==!0&&we(N.nodeValue,y,(u.mode&1)!==0)}I&&(h.flags|=4)}else N=(y.nodeType===9?y:y.ownerDocument).createTextNode(N),N[na]=h,h.stateNode=N}return qr(h),null;case 13:if(vn(Nn),N=h.memoizedState,u===null||u.memoizedState!==null&&u.memoizedState.dehydrated!==null){if(bn&&Ri!==null&&(h.mode&1)!==0&&(h.flags&128)===0)yO(),Iu(),h.flags|=98560,I=!1;else if(I=pg(h),N!==null&&N.dehydrated!==null){if(u===null){if(!I)throw Error(n(318));if(I=h.memoizedState,I=I!==null?I.dehydrated:null,!I)throw Error(n(317));I[na]=h}else Iu(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;qr(h),I=!1}else Oa!==null&&(K0(Oa),Oa=null),I=!0;if(!I)return h.flags&65536?h:null}return(h.flags&128)!==0?(h.lanes=y,h):(N=N!==null,N!==(u!==null&&u.memoizedState!==null)&&N&&(h.child.flags|=8192,(h.mode&1)!==0&&(u===null||(Nn.current&1)!==0?rr===0&&(rr=3):Z0())),h.updateQueue!==null&&(h.flags|=4),qr(h),null);case 4:return Fu(),I0(u,h),u===null&&Uo(h.stateNode.containerInfo),qr(h),null;case 10:return u0(h.type._context),qr(h),null;case 17:return hi(h.type)&&cg(),qr(h),null;case 19:if(vn(Nn),I=h.memoizedState,I===null)return qr(h),null;if(N=(h.flags&128)!==0,Y=I.rendering,Y===null)if(N)mh(I,!1);else{if(rr!==0||u!==null&&(u.flags&128)!==0)for(u=h.child;u!==null;){if(Y=bg(u),Y!==null){for(h.flags|=128,mh(I,!1),N=Y.updateQueue,N!==null&&(h.updateQueue=N,h.flags|=4),h.subtreeFlags=0,N=y,y=h.child;y!==null;)I=y,u=N,I.flags&=14680066,Y=I.alternate,Y===null?(I.childLanes=0,I.lanes=u,I.child=null,I.subtreeFlags=0,I.memoizedProps=null,I.memoizedState=null,I.updateQueue=null,I.dependencies=null,I.stateNode=null):(I.childLanes=Y.childLanes,I.lanes=Y.lanes,I.child=Y.child,I.subtreeFlags=0,I.deletions=null,I.memoizedProps=Y.memoizedProps,I.memoizedState=Y.memoizedState,I.updateQueue=Y.updateQueue,I.type=Y.type,u=Y.dependencies,I.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),y=y.sibling;return un(Nn,Nn.current&1|2),h.child}u=u.sibling}I.tail!==null&&Sn()>Wu&&(h.flags|=128,N=!0,mh(I,!1),h.lanes=4194304)}else{if(!N)if(u=bg(Y),u!==null){if(h.flags|=128,N=!0,y=u.updateQueue,y!==null&&(h.updateQueue=y,h.flags|=4),mh(I,!0),I.tail===null&&I.tailMode==="hidden"&&!Y.alternate&&!bn)return qr(h),null}else 2*Sn()-I.renderingStartTime>Wu&&y!==1073741824&&(h.flags|=128,N=!0,mh(I,!1),h.lanes=4194304);I.isBackwards?(Y.sibling=h.child,h.child=Y):(y=I.last,y!==null?y.sibling=Y:h.child=Y,I.last=Y)}return I.tail!==null?(h=I.tail,I.rendering=h,I.tail=h.sibling,I.renderingStartTime=Sn(),h.sibling=null,y=Nn.current,un(Nn,N?y&1|2:y&1),h):(qr(h),null);case 22:case 23:return Y0(),N=h.memoizedState!==null,u!==null&&u.memoizedState!==null!==N&&(h.flags|=8192),N&&(h.mode&1)!==0?(Mi&1073741824)!==0&&(qr(h),h.subtreeFlags&6&&(h.flags|=8192)):qr(h),null;case 24:return null;case 25:return null}throw Error(n(156,h.tag))}function XV(u,h){switch(i0(h),h.tag){case 1:return hi(h.type)&&cg(),u=h.flags,u&65536?(h.flags=u&-65537|128,h):null;case 3:return Fu(),vn(fi),vn(Fr),v0(),u=h.flags,(u&65536)!==0&&(u&128)===0?(h.flags=u&-65537|128,h):null;case 5:return m0(h),null;case 13:if(vn(Nn),u=h.memoizedState,u!==null&&u.dehydrated!==null){if(h.alternate===null)throw Error(n(340));Iu()}return u=h.flags,u&65536?(h.flags=u&-65537|128,h):null;case 19:return vn(Nn),null;case 4:return Fu(),null;case 10:return u0(h.type._context),null;case 22:case 23:return Y0(),null;case 24:return null;default:return null}}var Cg=!1,Ur=!1,QV=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function qu(u,h){var y=u.ref;if(y!==null)if(typeof y=="function")try{y(null)}catch(N){Rn(u,h,N)}else y.current=null}function L0(u,h,y){try{y()}catch(N){Rn(u,h,N)}}var gT=!1;function JV(u,h){if(Be=Ul,u=Qf(),Jf(u)){if("selectionStart"in u)var y={start:u.selectionStart,end:u.selectionEnd};else e:{y=(y=u.ownerDocument)&&y.defaultView||window;var N=y.getSelection&&y.getSelection();if(N&&N.rangeCount!==0){y=N.anchorNode;var A=N.anchorOffset,I=N.focusNode;N=N.focusOffset;try{y.nodeType,I.nodeType}catch{y=null;break e}var Y=0,ae=-1,de=-1,_e=0,Oe=0,Te=u,Ce=null;t:for(;;){for(var Fe;Te!==y||A!==0&&Te.nodeType!==3||(ae=Y+A),Te!==I||N!==0&&Te.nodeType!==3||(de=Y+N),Te.nodeType===3&&(Y+=Te.nodeValue.length),(Fe=Te.firstChild)!==null;)Ce=Te,Te=Fe;for(;;){if(Te===u)break t;if(Ce===y&&++_e===A&&(ae=Y),Ce===I&&++Oe===N&&(de=Y),(Fe=Te.nextSibling)!==null)break;Te=Ce,Ce=Te.parentNode}Te=Fe}y=ae===-1||de===-1?null:{start:ae,end:de}}else y=null}y=y||{start:0,end:0}}else y=null;for(rt={focusedElem:u,selectionRange:y},Ul=!1,Ue=h;Ue!==null;)if(h=Ue,u=h.child,(h.subtreeFlags&1028)!==0&&u!==null)u.return=h,Ue=u;else for(;Ue!==null;){h=Ue;try{var Ve=h.alternate;if((h.flags&1024)!==0)switch(h.tag){case 0:case 11:case 15:break;case 1:if(Ve!==null){var Ge=Ve.memoizedProps,$n=Ve.memoizedState,ge=h.stateNode,he=ge.getSnapshotBeforeUpdate(h.elementType===h.type?Ge:Ta(h.type,Ge),$n);ge.__reactInternalSnapshotBeforeUpdate=he}break;case 3:var ve=h.stateNode.containerInfo;ve.nodeType===1?ve.textContent="":ve.nodeType===9&&ve.documentElement&&ve.removeChild(ve.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(De){Rn(h,h.return,De)}if(u=h.sibling,u!==null){u.return=h.return,Ue=u;break}Ue=h.return}return Ve=gT,gT=!1,Ve}function gh(u,h,y){var N=h.updateQueue;if(N=N!==null?N.lastEffect:null,N!==null){var A=N=N.next;do{if((A.tag&u)===u){var I=A.destroy;A.destroy=void 0,I!==void 0&&L0(h,y,I)}A=A.next}while(A!==N)}}function Og(u,h){if(h=h.updateQueue,h=h!==null?h.lastEffect:null,h!==null){var y=h=h.next;do{if((y.tag&u)===u){var N=y.create;y.destroy=N()}y=y.next}while(y!==h)}}function $0(u){var h=u.ref;if(h!==null){var y=u.stateNode;switch(u.tag){case 5:u=y;break;default:u=y}typeof h=="function"?h(u):h.current=u}}function vT(u){var h=u.alternate;h!==null&&(u.alternate=null,vT(h)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(h=u.stateNode,h!==null&&(delete h[na],delete h[Ho],delete h[Vo],delete h[Jb],delete h[e0])),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}function yT(u){return u.tag===5||u.tag===3||u.tag===4}function xT(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||yT(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==18;){if(u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function B0(u,h,y){var N=u.tag;if(N===5||N===6)u=u.stateNode,h?y.nodeType===8?y.parentNode.insertBefore(u,h):y.insertBefore(u,h):(y.nodeType===8?(h=y.parentNode,h.insertBefore(u,y)):(h=y,h.appendChild(u)),y=y._reactRootContainer,y!=null||h.onclick!==null||(h.onclick=Ee));else if(N!==4&&(u=u.child,u!==null))for(B0(u,h,y),u=u.sibling;u!==null;)B0(u,h,y),u=u.sibling}function F0(u,h,y){var N=u.tag;if(N===5||N===6)u=u.stateNode,h?y.insertBefore(u,h):y.appendChild(u);else if(N!==4&&(u=u.child,u!==null))for(F0(u,h,y),u=u.sibling;u!==null;)F0(u,h,y),u=u.sibling}var Pr=null,Aa=!1;function Qo(u,h,y){for(y=y.child;y!==null;)bT(u,h,y),y=y.sibling}function bT(u,h,y){if(ji&&typeof ji.onCommitFiberUnmount=="function")try{ji.onCommitFiberUnmount(Ll,y)}catch{}switch(y.tag){case 5:Ur||qu(y,h);case 6:var N=Pr,A=Aa;Pr=null,Qo(u,h,y),Pr=N,Aa=A,Pr!==null&&(Aa?(u=Pr,y=y.stateNode,u.nodeType===8?u.parentNode.removeChild(y):u.removeChild(y)):Pr.removeChild(y.stateNode));break;case 18:Pr!==null&&(Aa?(u=Pr,y=y.stateNode,u.nodeType===8?sh(u.parentNode,y):u.nodeType===1&&sh(u,y),ki(u)):sh(Pr,y.stateNode));break;case 4:N=Pr,A=Aa,Pr=y.stateNode.containerInfo,Aa=!0,Qo(u,h,y),Pr=N,Aa=A;break;case 0:case 11:case 14:case 15:if(!Ur&&(N=y.updateQueue,N!==null&&(N=N.lastEffect,N!==null))){A=N=N.next;do{var I=A,Y=I.destroy;I=I.tag,Y!==void 0&&((I&2)!==0||(I&4)!==0)&&L0(y,h,Y),A=A.next}while(A!==N)}Qo(u,h,y);break;case 1:if(!Ur&&(qu(y,h),N=y.stateNode,typeof N.componentWillUnmount=="function"))try{N.props=y.memoizedProps,N.state=y.memoizedState,N.componentWillUnmount()}catch(ae){Rn(y,h,ae)}Qo(u,h,y);break;case 21:Qo(u,h,y);break;case 22:y.mode&1?(Ur=(N=Ur)||y.memoizedState!==null,Qo(u,h,y),Ur=N):Qo(u,h,y);break;default:Qo(u,h,y)}}function wT(u){var h=u.updateQueue;if(h!==null){u.updateQueue=null;var y=u.stateNode;y===null&&(y=u.stateNode=new QV),h.forEach(function(N){var A=l7.bind(null,u,N);y.has(N)||(y.add(N),N.then(A,A))})}}function Ra(u,h){var y=h.deletions;if(y!==null)for(var N=0;N<y.length;N++){var A=y[N];try{var I=u,Y=h,ae=Y;e:for(;ae!==null;){switch(ae.tag){case 5:Pr=ae.stateNode,Aa=!1;break e;case 3:Pr=ae.stateNode.containerInfo,Aa=!0;break e;case 4:Pr=ae.stateNode.containerInfo,Aa=!0;break e}ae=ae.return}if(Pr===null)throw Error(n(160));bT(I,Y,A),Pr=null,Aa=!1;var de=A.alternate;de!==null&&(de.return=null),A.return=null}catch(_e){Rn(A,h,_e)}}if(h.subtreeFlags&12854)for(h=h.child;h!==null;)_T(h,u),h=h.sibling}function _T(u,h){var y=u.alternate,N=u.flags;switch(u.tag){case 0:case 11:case 14:case 15:if(Ra(h,u),us(u),N&4){try{gh(3,u,u.return),Og(3,u)}catch(Ge){Rn(u,u.return,Ge)}try{gh(5,u,u.return)}catch(Ge){Rn(u,u.return,Ge)}}break;case 1:Ra(h,u),us(u),N&512&&y!==null&&qu(y,y.return);break;case 5:if(Ra(h,u),us(u),N&512&&y!==null&&qu(y,y.return),u.flags&32){var A=u.stateNode;try{Nr(A,"")}catch(Ge){Rn(u,u.return,Ge)}}if(N&4&&(A=u.stateNode,A!=null)){var I=u.memoizedProps,Y=y!==null?y.memoizedProps:I,ae=u.type,de=u.updateQueue;if(u.updateQueue=null,de!==null)try{ae==="input"&&I.type==="radio"&&I.name!=null&&Me(A,I),Si(ae,Y);var _e=Si(ae,I);for(Y=0;Y<de.length;Y+=2){var Oe=de[Y],Te=de[Y+1];Oe==="style"?Zr(A,Te):Oe==="dangerouslySetInnerHTML"?Yi(A,Te):Oe==="children"?Nr(A,Te):P(A,Oe,Te,_e)}switch(ae){case"input":tt(A,I);break;case"textarea":jr(A,I);break;case"select":var Ce=A._wrapperState.wasMultiple;A._wrapperState.wasMultiple=!!I.multiple;var Fe=I.value;Fe!=null?It(A,!!I.multiple,Fe,!1):Ce!==!!I.multiple&&(I.defaultValue!=null?It(A,!!I.multiple,I.defaultValue,!0):It(A,!!I.multiple,I.multiple?[]:"",!1))}A[Ho]=I}catch(Ge){Rn(u,u.return,Ge)}}break;case 6:if(Ra(h,u),us(u),N&4){if(u.stateNode===null)throw Error(n(162));A=u.stateNode,I=u.memoizedProps;try{A.nodeValue=I}catch(Ge){Rn(u,u.return,Ge)}}break;case 3:if(Ra(h,u),us(u),N&4&&y!==null&&y.memoizedState.isDehydrated)try{ki(h.containerInfo)}catch(Ge){Rn(u,u.return,Ge)}break;case 4:Ra(h,u),us(u);break;case 13:Ra(h,u),us(u),A=u.child,A.flags&8192&&(I=A.memoizedState!==null,A.stateNode.isHidden=I,!I||A.alternate!==null&&A.alternate.memoizedState!==null||(U0=Sn())),N&4&&wT(u);break;case 22:if(Oe=y!==null&&y.memoizedState!==null,u.mode&1?(Ur=(_e=Ur)||Oe,Ra(h,u),Ur=_e):Ra(h,u),us(u),N&8192){if(_e=u.memoizedState!==null,(u.stateNode.isHidden=_e)&&!Oe&&(u.mode&1)!==0)for(Ue=u,Oe=u.child;Oe!==null;){for(Te=Ue=Oe;Ue!==null;){switch(Ce=Ue,Fe=Ce.child,Ce.tag){case 0:case 11:case 14:case 15:gh(4,Ce,Ce.return);break;case 1:qu(Ce,Ce.return);var Ve=Ce.stateNode;if(typeof Ve.componentWillUnmount=="function"){N=Ce,y=Ce.return;try{h=N,Ve.props=h.memoizedProps,Ve.state=h.memoizedState,Ve.componentWillUnmount()}catch(Ge){Rn(N,y,Ge)}}break;case 5:qu(Ce,Ce.return);break;case 22:if(Ce.memoizedState!==null){NT(Te);continue}}Fe!==null?(Fe.return=Ce,Ue=Fe):NT(Te)}Oe=Oe.sibling}e:for(Oe=null,Te=u;;){if(Te.tag===5){if(Oe===null){Oe=Te;try{A=Te.stateNode,_e?(I=A.style,typeof I.setProperty=="function"?I.setProperty("display","none","important"):I.display="none"):(ae=Te.stateNode,de=Te.memoizedProps.style,Y=de!=null&&de.hasOwnProperty("display")?de.display:null,ae.style.display=Sa("display",Y))}catch(Ge){Rn(u,u.return,Ge)}}}else if(Te.tag===6){if(Oe===null)try{Te.stateNode.nodeValue=_e?"":Te.memoizedProps}catch(Ge){Rn(u,u.return,Ge)}}else if((Te.tag!==22&&Te.tag!==23||Te.memoizedState===null||Te===u)&&Te.child!==null){Te.child.return=Te,Te=Te.child;continue}if(Te===u)break e;for(;Te.sibling===null;){if(Te.return===null||Te.return===u)break e;Oe===Te&&(Oe=null),Te=Te.return}Oe===Te&&(Oe=null),Te.sibling.return=Te.return,Te=Te.sibling}}break;case 19:Ra(h,u),us(u),N&4&&wT(u);break;case 21:break;default:Ra(h,u),us(u)}}function us(u){var h=u.flags;if(h&2){try{e:{for(var y=u.return;y!==null;){if(yT(y)){var N=y;break e}y=y.return}throw Error(n(160))}switch(N.tag){case 5:var A=N.stateNode;N.flags&32&&(Nr(A,""),N.flags&=-33);var I=xT(u);F0(u,I,A);break;case 3:case 4:var Y=N.stateNode.containerInfo,ae=xT(u);B0(u,ae,Y);break;default:throw Error(n(161))}}catch(de){Rn(u,u.return,de)}u.flags&=-3}h&4096&&(u.flags&=-4097)}function e7(u,h,y){Ue=u,ST(u)}function ST(u,h,y){for(var N=(u.mode&1)!==0;Ue!==null;){var A=Ue,I=A.child;if(A.tag===22&&N){var Y=A.memoizedState!==null||Cg;if(!Y){var ae=A.alternate,de=ae!==null&&ae.memoizedState!==null||Ur;ae=Cg;var _e=Ur;if(Cg=Y,(Ur=de)&&!_e)for(Ue=A;Ue!==null;)Y=Ue,de=Y.child,Y.tag===22&&Y.memoizedState!==null?PT(A):de!==null?(de.return=Y,Ue=de):PT(A);for(;I!==null;)Ue=I,ST(I),I=I.sibling;Ue=A,Cg=ae,Ur=_e}jT(u)}else(A.subtreeFlags&8772)!==0&&I!==null?(I.return=A,Ue=I):jT(u)}}function jT(u){for(;Ue!==null;){var h=Ue;if((h.flags&8772)!==0){var y=h.alternate;try{if((h.flags&8772)!==0)switch(h.tag){case 0:case 11:case 15:Ur||Og(5,h);break;case 1:var N=h.stateNode;if(h.flags&4&&!Ur)if(y===null)N.componentDidMount();else{var A=h.elementType===h.type?y.memoizedProps:Ta(h.type,y.memoizedProps);N.componentDidUpdate(A,y.memoizedState,N.__reactInternalSnapshotBeforeUpdate)}var I=h.updateQueue;I!==null&&NO(h,I,N);break;case 3:var Y=h.updateQueue;if(Y!==null){if(y=null,h.child!==null)switch(h.child.tag){case 5:y=h.child.stateNode;break;case 1:y=h.child.stateNode}NO(h,Y,y)}break;case 5:var ae=h.stateNode;if(y===null&&h.flags&4){y=ae;var de=h.memoizedProps;switch(h.type){case"button":case"input":case"select":case"textarea":de.autoFocus&&y.focus();break;case"img":de.src&&(y.src=de.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(h.memoizedState===null){var _e=h.alternate;if(_e!==null){var Oe=_e.memoizedState;if(Oe!==null){var Te=Oe.dehydrated;Te!==null&&ki(Te)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Ur||h.flags&512&&$0(h)}catch(Ce){Rn(h,h.return,Ce)}}if(h===u){Ue=null;break}if(y=h.sibling,y!==null){y.return=h.return,Ue=y;break}Ue=h.return}}function NT(u){for(;Ue!==null;){var h=Ue;if(h===u){Ue=null;break}var y=h.sibling;if(y!==null){y.return=h.return,Ue=y;break}Ue=h.return}}function PT(u){for(;Ue!==null;){var h=Ue;try{switch(h.tag){case 0:case 11:case 15:var y=h.return;try{Og(4,h)}catch(de){Rn(h,y,de)}break;case 1:var N=h.stateNode;if(typeof N.componentDidMount=="function"){var A=h.return;try{N.componentDidMount()}catch(de){Rn(h,A,de)}}var I=h.return;try{$0(h)}catch(de){Rn(h,I,de)}break;case 5:var Y=h.return;try{$0(h)}catch(de){Rn(h,Y,de)}}}catch(de){Rn(h,h.return,de)}if(h===u){Ue=null;break}var ae=h.sibling;if(ae!==null){ae.return=h.return,Ue=ae;break}Ue=h.return}}var t7=Math.ceil,Tg=C.ReactCurrentDispatcher,z0=C.ReactCurrentOwner,oa=C.ReactCurrentBatchConfig,Bt=0,yr=null,Wn=null,kr=0,Mi=0,Uu=Ko(0),rr=0,vh=null,rc=0,Ag=0,q0=0,yh=null,mi=null,U0=0,Wu=1/0,Js=null,Rg=!1,W0=null,Jo=null,Mg=!1,el=null,Dg=0,xh=0,H0=null,Ig=-1,Lg=0;function ti(){return(Bt&6)!==0?Sn():Ig!==-1?Ig:Ig=Sn()}function tl(u){return(u.mode&1)===0?1:(Bt&2)!==0&&kr!==0?kr&-kr:$V.transition!==null?(Lg===0&&(Lg=Fm()),Lg):(u=$t,u!==0||(u=window.event,u=u===void 0?16:At(u.type)),u)}function Ma(u,h,y,N){if(50<xh)throw xh=0,H0=null,Error(n(185));Ni(u,y,N),((Bt&2)===0||u!==yr)&&(u===yr&&((Bt&2)===0&&(Ag|=y),rr===4&&nl(u,kr)),gi(u,N),y===1&&Bt===0&&(h.mode&1)===0&&(Wu=Sn()+500,dg&&Yo()))}function gi(u,h){var y=u.callbackNode;uu(u,h);var N=cn(u,u===yr?kr:0);if(N===0)y!==null&&Mf(y),u.callbackNode=null,u.callbackPriority=0;else if(h=N&-N,u.callbackPriority!==h){if(y!=null&&Mf(y),h===1)u.tag===0?LV(ET.bind(null,u)):hO(ET.bind(null,u)),Br(function(){(Bt&6)===0&&Yo()}),y=null;else{switch(Oo(N)){case 1:y=Df;break;case 4:y=Bm;break;case 16:y=lu;break;case 536870912:y=Po;break;default:y=lu}y=IT(y,kT.bind(null,u))}u.callbackPriority=h,u.callbackNode=y}}function kT(u,h){if(Ig=-1,Lg=0,(Bt&6)!==0)throw Error(n(327));var y=u.callbackNode;if(Hu()&&u.callbackNode!==y)return null;var N=cn(u,u===yr?kr:0);if(N===0)return null;if((N&30)!==0||(N&u.expiredLanes)!==0||h)h=$g(u,N);else{h=N;var A=Bt;Bt|=2;var I=OT();(yr!==u||kr!==h)&&(Js=null,Wu=Sn()+500,ac(u,h));do try{i7();break}catch(ae){CT(u,ae)}while(!0);c0(),Tg.current=I,Bt=A,Wn!==null?h=0:(yr=null,kr=0,h=rr)}if(h!==0){if(h===2&&(A=Lr(u),A!==0&&(N=A,h=V0(u,A))),h===1)throw y=vh,ac(u,0),nl(u,N),gi(u,Sn()),y;if(h===6)nl(u,N);else{if(A=u.current.alternate,(N&30)===0&&!n7(A)&&(h=$g(u,N),h===2&&(I=Lr(u),I!==0&&(N=I,h=V0(u,I))),h===1))throw y=vh,ac(u,0),nl(u,N),gi(u,Sn()),y;switch(u.finishedWork=A,u.finishedLanes=N,h){case 0:case 1:throw Error(n(345));case 2:sc(u,mi,Js);break;case 3:if(nl(u,N),(N&130023424)===N&&(h=U0+500-Sn(),10<h)){if(cn(u,0)!==0)break;if(A=u.suspendedLanes,(A&N)!==N){ti(),u.pingedLanes|=u.suspendedLanes&A;break}u.timeoutHandle=tr(sc.bind(null,u,mi,Js),h);break}sc(u,mi,Js);break;case 4:if(nl(u,N),(N&4194240)===N)break;for(h=u.eventTimes,A=-1;0<N;){var Y=31-wt(N);I=1<<Y,Y=h[Y],Y>A&&(A=Y),N&=~I}if(N=A,N=Sn()-N,N=(120>N?120:480>N?480:1080>N?1080:1920>N?1920:3e3>N?3e3:4320>N?4320:1960*t7(N/1960))-N,10<N){u.timeoutHandle=tr(sc.bind(null,u,mi,Js),N);break}sc(u,mi,Js);break;case 5:sc(u,mi,Js);break;default:throw Error(n(329))}}}return gi(u,Sn()),u.callbackNode===y?kT.bind(null,u):null}function V0(u,h){var y=yh;return u.current.memoizedState.isDehydrated&&(ac(u,h).flags|=256),u=$g(u,h),u!==2&&(h=mi,mi=y,h!==null&&K0(h)),u}function K0(u){mi===null?mi=u:mi.push.apply(mi,u)}function n7(u){for(var h=u;;){if(h.flags&16384){var y=h.updateQueue;if(y!==null&&(y=y.stores,y!==null))for(var N=0;N<y.length;N++){var A=y[N],I=A.getSnapshot;A=A.value;try{if(!Oi(I(),A))return!1}catch{return!1}}}if(y=h.child,h.subtreeFlags&16384&&y!==null)y.return=h,h=y;else{if(h===u)break;for(;h.sibling===null;){if(h.return===null||h.return===u)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function nl(u,h){for(h&=~q0,h&=~Ag,u.suspendedLanes|=h,u.pingedLanes&=~h,u=u.expirationTimes;0<h;){var y=31-wt(h),N=1<<y;u[y]=-1,h&=~N}}function ET(u){if((Bt&6)!==0)throw Error(n(327));Hu();var h=cn(u,0);if((h&1)===0)return gi(u,Sn()),null;var y=$g(u,h);if(u.tag!==0&&y===2){var N=Lr(u);N!==0&&(h=N,y=V0(u,N))}if(y===1)throw y=vh,ac(u,0),nl(u,h),gi(u,Sn()),y;if(y===6)throw Error(n(345));return u.finishedWork=u.current.alternate,u.finishedLanes=h,sc(u,mi,Js),gi(u,Sn()),null}function G0(u,h){var y=Bt;Bt|=1;try{return u(h)}finally{Bt=y,Bt===0&&(Wu=Sn()+500,dg&&Yo())}}function ic(u){el!==null&&el.tag===0&&(Bt&6)===0&&Hu();var h=Bt;Bt|=1;var y=oa.transition,N=$t;try{if(oa.transition=null,$t=1,u)return u()}finally{$t=N,oa.transition=y,Bt=h,(Bt&6)===0&&Yo()}}function Y0(){Mi=Uu.current,vn(Uu)}function ac(u,h){u.finishedWork=null,u.finishedLanes=0;var y=u.timeoutHandle;if(y!==-1&&(u.timeoutHandle=-1,Un(y)),Wn!==null)for(y=Wn.return;y!==null;){var N=y;switch(i0(N),N.tag){case 1:N=N.type.childContextTypes,N!=null&&cg();break;case 3:Fu(),vn(fi),vn(Fr),v0();break;case 5:m0(N);break;case 4:Fu();break;case 13:vn(Nn);break;case 19:vn(Nn);break;case 10:u0(N.type._context);break;case 22:case 23:Y0()}y=y.return}if(yr=u,Wn=u=rl(u.current,null),kr=Mi=h,rr=0,vh=null,q0=Ag=rc=0,mi=yh=null,ec!==null){for(h=0;h<ec.length;h++)if(y=ec[h],N=y.interleaved,N!==null){y.interleaved=null;var A=N.next,I=y.pending;if(I!==null){var Y=I.next;I.next=A,N.next=Y}y.pending=N}ec=null}return u}function CT(u,h){do{var y=Wn;try{if(c0(),wg.current=Ng,_g){for(var N=Pn.memoizedState;N!==null;){var A=N.queue;A!==null&&(A.pending=null),N=N.next}_g=!1}if(nc=0,vr=nr=Pn=null,dh=!1,fh=0,z0.current=null,y===null||y.return===null){rr=1,vh=h,Wn=null;break}e:{var I=u,Y=y.return,ae=y,de=h;if(h=kr,ae.flags|=32768,de!==null&&typeof de=="object"&&typeof de.then=="function"){var _e=de,Oe=ae,Te=Oe.tag;if((Oe.mode&1)===0&&(Te===0||Te===11||Te===15)){var Ce=Oe.alternate;Ce?(Oe.updateQueue=Ce.updateQueue,Oe.memoizedState=Ce.memoizedState,Oe.lanes=Ce.lanes):(Oe.updateQueue=null,Oe.memoizedState=null)}var Fe=eT(Y);if(Fe!==null){Fe.flags&=-257,tT(Fe,Y,ae,I,h),Fe.mode&1&&JO(I,_e,h),h=Fe,de=_e;var Ve=h.updateQueue;if(Ve===null){var Ge=new Set;Ge.add(de),h.updateQueue=Ge}else Ve.add(de);break e}else{if((h&1)===0){JO(I,_e,h),Z0();break e}de=Error(n(426))}}else if(bn&&ae.mode&1){var $n=eT(Y);if($n!==null){($n.flags&65536)===0&&($n.flags|=256),tT($n,Y,ae,I,h),o0(zu(de,ae));break e}}I=de=zu(de,ae),rr!==4&&(rr=2),yh===null?yh=[I]:yh.push(I),I=Y;do{switch(I.tag){case 3:I.flags|=65536,h&=-h,I.lanes|=h;var ge=XO(I,de,h);jO(I,ge);break e;case 1:ae=de;var he=I.type,ve=I.stateNode;if((I.flags&128)===0&&(typeof he.getDerivedStateFromError=="function"||ve!==null&&typeof ve.componentDidCatch=="function"&&(Jo===null||!Jo.has(ve)))){I.flags|=65536,h&=-h,I.lanes|=h;var De=QO(I,ae,h);jO(I,De);break e}}I=I.return}while(I!==null)}AT(y)}catch(Ze){h=Ze,Wn===y&&y!==null&&(Wn=y=y.return);continue}break}while(!0)}function OT(){var u=Tg.current;return Tg.current=Ng,u===null?Ng:u}function Z0(){(rr===0||rr===3||rr===2)&&(rr=4),yr===null||(rc&268435455)===0&&(Ag&268435455)===0||nl(yr,kr)}function $g(u,h){var y=Bt;Bt|=2;var N=OT();(yr!==u||kr!==h)&&(Js=null,ac(u,h));do try{r7();break}catch(A){CT(u,A)}while(!0);if(c0(),Bt=y,Tg.current=N,Wn!==null)throw Error(n(261));return yr=null,kr=0,rr}function r7(){for(;Wn!==null;)TT(Wn)}function i7(){for(;Wn!==null&&!Lb();)TT(Wn)}function TT(u){var h=DT(u.alternate,u,Mi);u.memoizedProps=u.pendingProps,h===null?AT(u):Wn=h,z0.current=null}function AT(u){var h=u;do{var y=h.alternate;if(u=h.return,(h.flags&32768)===0){if(y=ZV(y,h,Mi),y!==null){Wn=y;return}}else{if(y=XV(y,h),y!==null){y.flags&=32767,Wn=y;return}if(u!==null)u.flags|=32768,u.subtreeFlags=0,u.deletions=null;else{rr=6,Wn=null;return}}if(h=h.sibling,h!==null){Wn=h;return}Wn=h=u}while(h!==null);rr===0&&(rr=5)}function sc(u,h,y){var N=$t,A=oa.transition;try{oa.transition=null,$t=1,a7(u,h,y,N)}finally{oa.transition=A,$t=N}return null}function a7(u,h,y,N){do Hu();while(el!==null);if((Bt&6)!==0)throw Error(n(327));y=u.finishedWork;var A=u.finishedLanes;if(y===null)return null;if(u.finishedWork=null,u.finishedLanes=0,y===u.current)throw Error(n(177));u.callbackNode=null,u.callbackPriority=0;var I=y.lanes|y.childLanes;if(An(u,I),u===yr&&(Wn=yr=null,kr=0),(y.subtreeFlags&2064)===0&&(y.flags&2064)===0||Mg||(Mg=!0,IT(lu,function(){return Hu(),null})),I=(y.flags&15990)!==0,(y.subtreeFlags&15990)!==0||I){I=oa.transition,oa.transition=null;var Y=$t;$t=1;var ae=Bt;Bt|=4,z0.current=null,JV(u,y),_T(y,u),ea(rt),Ul=!!Be,rt=Be=null,u.current=y,e7(y),ou(),Bt=ae,$t=Y,oa.transition=I}else u.current=y;if(Mg&&(Mg=!1,el=u,Dg=A),I=u.pendingLanes,I===0&&(Jo=null),$l(y.stateNode),gi(u,Sn()),h!==null)for(N=u.onRecoverableError,y=0;y<h.length;y++)A=h[y],N(A.value,{componentStack:A.stack,digest:A.digest});if(Rg)throw Rg=!1,u=W0,W0=null,u;return(Dg&1)!==0&&u.tag!==0&&Hu(),I=u.pendingLanes,(I&1)!==0?u===H0?xh++:(xh=0,H0=u):xh=0,Yo(),null}function Hu(){if(el!==null){var u=Oo(Dg),h=oa.transition,y=$t;try{if(oa.transition=null,$t=16>u?16:u,el===null)var N=!1;else{if(u=el,el=null,Dg=0,(Bt&6)!==0)throw Error(n(331));var A=Bt;for(Bt|=4,Ue=u.current;Ue!==null;){var I=Ue,Y=I.child;if((Ue.flags&16)!==0){var ae=I.deletions;if(ae!==null){for(var de=0;de<ae.length;de++){var _e=ae[de];for(Ue=_e;Ue!==null;){var Oe=Ue;switch(Oe.tag){case 0:case 11:case 15:gh(8,Oe,I)}var Te=Oe.child;if(Te!==null)Te.return=Oe,Ue=Te;else for(;Ue!==null;){Oe=Ue;var Ce=Oe.sibling,Fe=Oe.return;if(vT(Oe),Oe===_e){Ue=null;break}if(Ce!==null){Ce.return=Fe,Ue=Ce;break}Ue=Fe}}}var Ve=I.alternate;if(Ve!==null){var Ge=Ve.child;if(Ge!==null){Ve.child=null;do{var $n=Ge.sibling;Ge.sibling=null,Ge=$n}while(Ge!==null)}}Ue=I}}if((I.subtreeFlags&2064)!==0&&Y!==null)Y.return=I,Ue=Y;else e:for(;Ue!==null;){if(I=Ue,(I.flags&2048)!==0)switch(I.tag){case 0:case 11:case 15:gh(9,I,I.return)}var ge=I.sibling;if(ge!==null){ge.return=I.return,Ue=ge;break e}Ue=I.return}}var he=u.current;for(Ue=he;Ue!==null;){Y=Ue;var ve=Y.child;if((Y.subtreeFlags&2064)!==0&&ve!==null)ve.return=Y,Ue=ve;else e:for(Y=he;Ue!==null;){if(ae=Ue,(ae.flags&2048)!==0)try{switch(ae.tag){case 0:case 11:case 15:Og(9,ae)}}catch(Ze){Rn(ae,ae.return,Ze)}if(ae===Y){Ue=null;break e}var De=ae.sibling;if(De!==null){De.return=ae.return,Ue=De;break e}Ue=ae.return}}if(Bt=A,Yo(),ji&&typeof ji.onPostCommitFiberRoot=="function")try{ji.onPostCommitFiberRoot(Ll,u)}catch{}N=!0}return N}finally{$t=y,oa.transition=h}}return!1}function RT(u,h,y){h=zu(y,h),h=XO(u,h,1),u=Xo(u,h,1),h=ti(),u!==null&&(Ni(u,1,h),gi(u,h))}function Rn(u,h,y){if(u.tag===3)RT(u,u,y);else for(;h!==null;){if(h.tag===3){RT(h,u,y);break}else if(h.tag===1){var N=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof N.componentDidCatch=="function"&&(Jo===null||!Jo.has(N))){u=zu(y,u),u=QO(h,u,1),h=Xo(h,u,1),u=ti(),h!==null&&(Ni(h,1,u),gi(h,u));break}}h=h.return}}function s7(u,h,y){var N=u.pingCache;N!==null&&N.delete(h),h=ti(),u.pingedLanes|=u.suspendedLanes&y,yr===u&&(kr&y)===y&&(rr===4||rr===3&&(kr&130023424)===kr&&500>Sn()-U0?ac(u,0):q0|=y),gi(u,h)}function MT(u,h){h===0&&((u.mode&1)===0?h=1:(h=Eo,Eo<<=1,(Eo&130023424)===0&&(Eo=4194304)));var y=ti();u=Zs(u,h),u!==null&&(Ni(u,h,y),gi(u,y))}function o7(u){var h=u.memoizedState,y=0;h!==null&&(y=h.retryLane),MT(u,y)}function l7(u,h){var y=0;switch(u.tag){case 13:var N=u.stateNode,A=u.memoizedState;A!==null&&(y=A.retryLane);break;case 19:N=u.stateNode;break;default:throw Error(n(314))}N!==null&&N.delete(h),MT(u,y)}var DT;DT=function(u,h,y){if(u!==null)if(u.memoizedProps!==h.pendingProps||fi.current)pi=!0;else{if((u.lanes&y)===0&&(h.flags&128)===0)return pi=!1,YV(u,h,y);pi=(u.flags&131072)!==0}else pi=!1,bn&&(h.flags&1048576)!==0&&pO(h,hg,h.index);switch(h.lanes=0,h.tag){case 2:var N=h.type;Eg(u,h),u=h.pendingProps;var A=Ru(h,Fr.current);Bu(h,y),A=b0(null,h,N,u,A,y);var I=w0();return h.flags|=1,typeof A=="object"&&A!==null&&typeof A.render=="function"&&A.$$typeof===void 0?(h.tag=1,h.memoizedState=null,h.updateQueue=null,hi(N)?(I=!0,ug(h)):I=!1,h.memoizedState=A.state!==null&&A.state!==void 0?A.state:null,h0(h),A.updater=Pg,h.stateNode=A,A._reactInternals=h,k0(h,N,u,y),h=T0(null,h,N,!0,I,y)):(h.tag=0,bn&&I&&r0(h),ei(null,h,A,y),h=h.child),h;case 16:N=h.elementType;e:{switch(Eg(u,h),u=h.pendingProps,A=N._init,N=A(N._payload),h.type=N,A=h.tag=u7(N),u=Ta(N,u),A){case 0:h=O0(null,h,N,u,y);break e;case 1:h=oT(null,h,N,u,y);break e;case 11:h=nT(null,h,N,u,y);break e;case 14:h=rT(null,h,N,Ta(N.type,u),y);break e}throw Error(n(306,N,""))}return h;case 0:return N=h.type,A=h.pendingProps,A=h.elementType===N?A:Ta(N,A),O0(u,h,N,A,y);case 1:return N=h.type,A=h.pendingProps,A=h.elementType===N?A:Ta(N,A),oT(u,h,N,A,y);case 3:e:{if(lT(h),u===null)throw Error(n(387));N=h.pendingProps,I=h.memoizedState,A=I.element,SO(u,h),xg(h,N,null,y);var Y=h.memoizedState;if(N=Y.element,I.isDehydrated)if(I={element:N,isDehydrated:!1,cache:Y.cache,pendingSuspenseBoundaries:Y.pendingSuspenseBoundaries,transitions:Y.transitions},h.updateQueue.baseState=I,h.memoizedState=I,h.flags&256){A=zu(Error(n(423)),h),h=cT(u,h,N,y,A);break e}else if(N!==A){A=zu(Error(n(424)),h),h=cT(u,h,N,y,A);break e}else for(Ri=os(h.stateNode.containerInfo.firstChild),Ai=h,bn=!0,Oa=null,y=wO(h,null,N,y),h.child=y;y;)y.flags=y.flags&-3|4096,y=y.sibling;else{if(Iu(),N===A){h=Qs(u,h,y);break e}ei(u,h,N,y)}h=h.child}return h;case 5:return PO(h),u===null&&s0(h),N=h.type,A=h.pendingProps,I=u!==null?u.memoizedProps:null,Y=A.children,Nt(N,A)?Y=null:I!==null&&Nt(N,I)&&(h.flags|=32),sT(u,h),ei(u,h,Y,y),h.child;case 6:return u===null&&s0(h),null;case 13:return uT(u,h,y);case 4:return p0(h,h.stateNode.containerInfo),N=h.pendingProps,u===null?h.child=Lu(h,null,N,y):ei(u,h,N,y),h.child;case 11:return N=h.type,A=h.pendingProps,A=h.elementType===N?A:Ta(N,A),nT(u,h,N,A,y);case 7:return ei(u,h,h.pendingProps,y),h.child;case 8:return ei(u,h,h.pendingProps.children,y),h.child;case 12:return ei(u,h,h.pendingProps.children,y),h.child;case 10:e:{if(N=h.type._context,A=h.pendingProps,I=h.memoizedProps,Y=A.value,un(gg,N._currentValue),N._currentValue=Y,I!==null)if(Oi(I.value,Y)){if(I.children===A.children&&!fi.current){h=Qs(u,h,y);break e}}else for(I=h.child,I!==null&&(I.return=h);I!==null;){var ae=I.dependencies;if(ae!==null){Y=I.child;for(var de=ae.firstContext;de!==null;){if(de.context===N){if(I.tag===1){de=Xs(-1,y&-y),de.tag=2;var _e=I.updateQueue;if(_e!==null){_e=_e.shared;var Oe=_e.pending;Oe===null?de.next=de:(de.next=Oe.next,Oe.next=de),_e.pending=de}}I.lanes|=y,de=I.alternate,de!==null&&(de.lanes|=y),d0(I.return,y,h),ae.lanes|=y;break}de=de.next}}else if(I.tag===10)Y=I.type===h.type?null:I.child;else if(I.tag===18){if(Y=I.return,Y===null)throw Error(n(341));Y.lanes|=y,ae=Y.alternate,ae!==null&&(ae.lanes|=y),d0(Y,y,h),Y=I.sibling}else Y=I.child;if(Y!==null)Y.return=I;else for(Y=I;Y!==null;){if(Y===h){Y=null;break}if(I=Y.sibling,I!==null){I.return=Y.return,Y=I;break}Y=Y.return}I=Y}ei(u,h,A.children,y),h=h.child}return h;case 9:return A=h.type,N=h.pendingProps.children,Bu(h,y),A=aa(A),N=N(A),h.flags|=1,ei(u,h,N,y),h.child;case 14:return N=h.type,A=Ta(N,h.pendingProps),A=Ta(N.type,A),rT(u,h,N,A,y);case 15:return iT(u,h,h.type,h.pendingProps,y);case 17:return N=h.type,A=h.pendingProps,A=h.elementType===N?A:Ta(N,A),Eg(u,h),h.tag=1,hi(N)?(u=!0,ug(h)):u=!1,Bu(h,y),YO(h,N,A),k0(h,N,A,y),T0(null,h,N,!0,u,y);case 19:return fT(u,h,y);case 22:return aT(u,h,y)}throw Error(n(156,h.tag))};function IT(u,h){return $m(u,h)}function c7(u,h,y,N){this.tag=u,this.key=y,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=N,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function la(u,h,y,N){return new c7(u,h,y,N)}function X0(u){return u=u.prototype,!(!u||!u.isReactComponent)}function u7(u){if(typeof u=="function")return X0(u)?1:0;if(u!=null){if(u=u.$$typeof,u===$)return 11;if(u===V)return 14}return 2}function rl(u,h){var y=u.alternate;return y===null?(y=la(u.tag,h,u.key,u.mode),y.elementType=u.elementType,y.type=u.type,y.stateNode=u.stateNode,y.alternate=u,u.alternate=y):(y.pendingProps=h,y.type=u.type,y.flags=0,y.subtreeFlags=0,y.deletions=null),y.flags=u.flags&14680064,y.childLanes=u.childLanes,y.lanes=u.lanes,y.child=u.child,y.memoizedProps=u.memoizedProps,y.memoizedState=u.memoizedState,y.updateQueue=u.updateQueue,h=u.dependencies,y.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},y.sibling=u.sibling,y.index=u.index,y.ref=u.ref,y}function Bg(u,h,y,N,A,I){var Y=2;if(N=u,typeof u=="function")X0(u)&&(Y=1);else if(typeof u=="string")Y=5;else e:switch(u){case M:return oc(y.children,A,I,h);case U:Y=8,A|=8;break;case F:return u=la(12,y,h,A|2),u.elementType=F,u.lanes=I,u;case G:return u=la(13,y,h,A),u.elementType=G,u.lanes=I,u;case W:return u=la(19,y,h,A),u.elementType=W,u.lanes=I,u;case q:return Fg(y,A,I,h);default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case H:Y=10;break e;case B:Y=9;break e;case $:Y=11;break e;case V:Y=14;break e;case K:Y=16,N=null;break e}throw Error(n(130,u==null?u:typeof u,""))}return h=la(Y,y,h,A),h.elementType=u,h.type=N,h.lanes=I,h}function oc(u,h,y,N){return u=la(7,u,N,h),u.lanes=y,u}function Fg(u,h,y,N){return u=la(22,u,N,h),u.elementType=q,u.lanes=y,u.stateNode={isHidden:!1},u}function Q0(u,h,y){return u=la(6,u,null,h),u.lanes=y,u}function J0(u,h,y){return h=la(4,u.children!==null?u.children:[],u.key,h),h.lanes=y,h.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},h}function d7(u,h,y,N,A){this.tag=h,this.containerInfo=u,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Co(0),this.expirationTimes=Co(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Co(0),this.identifierPrefix=N,this.onRecoverableError=A,this.mutableSourceEagerHydrationData=null}function ew(u,h,y,N,A,I,Y,ae,de){return u=new d7(u,h,y,ae,de),h===1?(h=1,I===!0&&(h|=8)):h=0,I=la(3,null,null,h),u.current=I,I.stateNode=u,I.memoizedState={element:N,isDehydrated:y,cache:null,transitions:null,pendingSuspenseBoundaries:null},h0(I),u}function f7(u,h,y){var N=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:R,key:N==null?null:""+N,children:u,containerInfo:h,implementation:y}}function LT(u){if(!u)return Go;u=u._reactInternals;e:{if(Ja(u)!==u||u.tag!==1)throw Error(n(170));var h=u;do{switch(h.tag){case 3:h=h.stateNode.context;break e;case 1:if(hi(h.type)){h=h.stateNode.__reactInternalMemoizedMergedChildContext;break e}}h=h.return}while(h!==null);throw Error(n(171))}if(u.tag===1){var y=u.type;if(hi(y))return dO(u,y,h)}return h}function $T(u,h,y,N,A,I,Y,ae,de){return u=ew(y,N,!0,u,A,I,Y,ae,de),u.context=LT(null),y=u.current,N=ti(),A=tl(y),I=Xs(N,A),I.callback=h??null,Xo(y,I,A),u.current.lanes=A,Ni(u,A,N),gi(u,N),u}function zg(u,h,y,N){var A=h.current,I=ti(),Y=tl(A);return y=LT(y),h.context===null?h.context=y:h.pendingContext=y,h=Xs(I,Y),h.payload={element:u},N=N===void 0?null:N,N!==null&&(h.callback=N),u=Xo(A,h,Y),u!==null&&(Ma(u,A,Y,I),yg(u,A,Y)),Y}function qg(u){if(u=u.current,!u.child)return null;switch(u.child.tag){case 5:return u.child.stateNode;default:return u.child.stateNode}}function BT(u,h){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var y=u.retryLane;u.retryLane=y!==0&&y<h?y:h}}function tw(u,h){BT(u,h),(u=u.alternate)&&BT(u,h)}function h7(){return null}var FT=typeof reportError=="function"?reportError:function(u){console.error(u)};function nw(u){this._internalRoot=u}Ug.prototype.render=nw.prototype.render=function(u){var h=this._internalRoot;if(h===null)throw Error(n(409));zg(u,h,null,null)},Ug.prototype.unmount=nw.prototype.unmount=function(){var u=this._internalRoot;if(u!==null){this._internalRoot=null;var h=u.containerInfo;ic(function(){zg(null,u,null,null)}),h[Vt]=null}};function Ug(u){this._internalRoot=u}Ug.prototype.unstable_scheduleHydration=function(u){if(u){var h=hu();u={blockedOn:null,target:u,priority:h};for(var y=0;y<er.length&&h!==0&&h<er[y].priority;y++);er.splice(y,0,u),y===0&&pu(u)}};function rw(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)}function Wg(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11&&(u.nodeType!==8||u.nodeValue!==" react-mount-point-unstable "))}function zT(){}function p7(u,h,y,N,A){if(A){if(typeof N=="function"){var I=N;N=function(){var _e=qg(Y);I.call(_e)}}var Y=$T(h,N,u,0,null,!1,!1,"",zT);return u._reactRootContainer=Y,u[Vt]=Y.current,Uo(u.nodeType===8?u.parentNode:u),ic(),Y}for(;A=u.lastChild;)u.removeChild(A);if(typeof N=="function"){var ae=N;N=function(){var _e=qg(de);ae.call(_e)}}var de=ew(u,0,!1,null,null,!1,!1,"",zT);return u._reactRootContainer=de,u[Vt]=de.current,Uo(u.nodeType===8?u.parentNode:u),ic(function(){zg(h,de,y,N)}),de}function Hg(u,h,y,N,A){var I=y._reactRootContainer;if(I){var Y=I;if(typeof A=="function"){var ae=A;A=function(){var de=qg(Y);ae.call(de)}}zg(h,Y,u,A)}else Y=p7(y,h,u,A,N);return qg(Y)}du=function(u){switch(u.tag){case 3:var h=u.stateNode;if(h.current.memoizedState.isDehydrated){var y=vt(h.pendingLanes);y!==0&&(Na(h,y|1),gi(h,Sn()),(Bt&6)===0&&(Wu=Sn()+500,Yo()))}break;case 13:ic(function(){var N=Zs(u,1);if(N!==null){var A=ti();Ma(N,u,1,A)}}),tw(u,1)}},Ds=function(u){if(u.tag===13){var h=Zs(u,134217728);if(h!==null){var y=ti();Ma(h,u,134217728,y)}tw(u,134217728)}},fu=function(u){if(u.tag===13){var h=tl(u),y=Zs(u,h);if(y!==null){var N=ti();Ma(y,u,h,N)}tw(u,h)}},hu=function(){return $t},Bl=function(u,h){var y=$t;try{return $t=u,h()}finally{$t=y}},Lt=function(u,h,y){switch(h){case"input":if(tt(u,y),h=y.name,y.type==="radio"&&h!=null){for(y=u;y.parentNode;)y=y.parentNode;for(y=y.querySelectorAll("input[name="+JSON.stringify(""+h)+'][type="radio"]'),h=0;h<y.length;h++){var N=y[h];if(N!==u&&N.form===u.form){var A=Tu(N);if(!A)throw Error(n(90));ue(N),tt(N,A)}}}break;case"textarea":jr(u,y);break;case"select":h=y.value,h!=null&&It(u,!!y.multiple,h,!1)}},bt=G0,Tt=ic;var m7={usingClientEntryPoint:!1,Events:[Hs,Vs,Tu,Tn,Ke,G0]},bh={findFiberByHostInstance:Ws,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},g7={bundleType:bh.bundleType,version:bh.version,rendererPackageName:bh.rendererPackageName,rendererConfig:bh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:C.ReactCurrentDispatcher,findHostInstanceByFiber:function(u){return u=Im(u),u===null?null:u.stateNode},findFiberByHostInstance:bh.findFiberByHostInstance||h7,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vg.isDisabled&&Vg.supportsFiber)try{Ll=Vg.inject(g7),ji=Vg}catch{}}return vi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=m7,vi.createPortal=function(u,h){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!rw(h))throw Error(n(200));return f7(u,h,null,y)},vi.createRoot=function(u,h){if(!rw(u))throw Error(n(299));var y=!1,N="",A=FT;return h!=null&&(h.unstable_strictMode===!0&&(y=!0),h.identifierPrefix!==void 0&&(N=h.identifierPrefix),h.onRecoverableError!==void 0&&(A=h.onRecoverableError)),h=ew(u,1,!1,null,null,y,!1,N,A),u[Vt]=h.current,Uo(u.nodeType===8?u.parentNode:u),new nw(h)},vi.findDOMNode=function(u){if(u==null)return null;if(u.nodeType===1)return u;var h=u._reactInternals;if(h===void 0)throw typeof u.render=="function"?Error(n(188)):(u=Object.keys(u).join(","),Error(n(268,u)));return u=Im(h),u=u===null?null:u.stateNode,u},vi.flushSync=function(u){return ic(u)},vi.hydrate=function(u,h,y){if(!Wg(h))throw Error(n(200));return Hg(null,u,h,!0,y)},vi.hydrateRoot=function(u,h,y){if(!rw(u))throw Error(n(405));var N=y!=null&&y.hydratedSources||null,A=!1,I="",Y=FT;if(y!=null&&(y.unstable_strictMode===!0&&(A=!0),y.identifierPrefix!==void 0&&(I=y.identifierPrefix),y.onRecoverableError!==void 0&&(Y=y.onRecoverableError)),h=$T(h,null,u,1,y??null,A,!1,I,Y),u[Vt]=h.current,Uo(u),N)for(u=0;u<N.length;u++)y=N[u],A=y._getVersion,A=A(y._source),h.mutableSourceEagerHydrationData==null?h.mutableSourceEagerHydrationData=[y,A]:h.mutableSourceEagerHydrationData.push(y,A);return new Ug(h)},vi.render=function(u,h,y){if(!Wg(h))throw Error(n(200));return Hg(null,u,h,!1,y)},vi.unmountComponentAtNode=function(u){if(!Wg(u))throw Error(n(40));return u._reactRootContainer?(ic(function(){Hg(null,null,u,!1,function(){u._reactRootContainer=null,u[Vt]=null})}),!0):!1},vi.unstable_batchedUpdates=G0,vi.unstable_renderSubtreeIntoContainer=function(u,h,y,N){if(!Wg(y))throw Error(n(200));if(u==null||u._reactInternals===void 0)throw Error(n(38));return Hg(u,h,y,!1,N)},vi.version="18.3.1-next-f1338f8080-20240426",vi}var YT;function EB(){if(YT)return sw.exports;YT=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),sw.exports=j7(),sw.exports}var ZT;function N7(){if(ZT)return Gg;ZT=1;var e=EB();return Gg.createRoot=e.createRoot,Gg.hydrateRoot=e.hydrateRoot,Gg}var P7=N7(),S=uf();const Z=Ft(S),Rk=kB({__proto__:null,default:Z},[S]),k7=1,E7=1e6;let cw=0;function C7(){return cw=(cw+1)%Number.MAX_SAFE_INTEGER,cw.toString()}const uw=new Map,XT=e=>{if(uw.has(e))return;const t=setTimeout(()=>{uw.delete(e),Vh({type:"REMOVE_TOAST",toastId:e})},E7);uw.set(e,t)},O7=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,k7)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?XT(n):e.toasts.forEach(r=>{XT(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},Rv=[];let Mv={toasts:[]};function Vh(e){Mv=O7(Mv,e),Rv.forEach(t=>{t(Mv)})}function T7({...e}){const t=C7(),n=i=>Vh({type:"UPDATE_TOAST",toast:{...i,id:t}}),r=()=>Vh({type:"DISMISS_TOAST",toastId:t});return Vh({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:i=>{i||r()}}}),{id:t,dismiss:r,update:n}}function jl(){const[e,t]=S.useState(Mv);return S.useEffect(()=>(Rv.push(t),()=>{const n=Rv.indexOf(t);n>-1&&Rv.splice(n,1)}),[e]),{...e,toast:T7,dismiss:n=>Vh({type:"DISMISS_TOAST",toastId:n})}}var Kc=EB();const CB=Ft(Kc);function Ae(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e?.(i),n===!1||!i.defaultPrevented)return t?.(i)}}function QT(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function ux(...e){return t=>{let n=!1;const r=e.map(i=>{const a=QT(i,t);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let i=0;i<r.length;i++){const a=r[i];typeof a=="function"?a():QT(e[i],null)}}}}function dt(...e){return S.useCallback(ux(...e),e)}function A7(e,t){const n=S.createContext(t),r=a=>{const{children:s,...l}=a,c=S.useMemo(()=>l,Object.values(l));return o.jsx(n.Provider,{value:c,children:s})};r.displayName=e+"Provider";function i(a){const s=S.useContext(n);if(s)return s;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[r,i]}function Ar(e,t=[]){let n=[];function r(a,s){const l=S.createContext(s),c=n.length;n=[...n,s];const f=m=>{const{scope:v,children:x,..._}=m,b=v?.[e]?.[c]||l,w=S.useMemo(()=>_,Object.values(_));return o.jsx(b.Provider,{value:w,children:x})};f.displayName=a+"Provider";function p(m,v){const x=v?.[e]?.[c]||l,_=S.useContext(x);if(_)return _;if(s!==void 0)return s;throw new Error(`\`${m}\` must be used within \`${a}\``)}return[f,p]}const i=()=>{const a=n.map(s=>S.createContext(s));return function(l){const c=l?.[e]||a;return S.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return i.scopeName=e,[r,R7(i,...t)]}function R7(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const s=r.reduce((l,{useScope:c,scopeName:f})=>{const m=c(a)[`__scope${f}`];return{...l,...m}},{});return S.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return n.scopeName=t.scopeName,n}function wl(e){const t=D7(e),n=S.forwardRef((r,i)=>{const{children:a,...s}=r,l=S.Children.toArray(a),c=l.find(L7);if(c){const f=c.props.children,p=l.map(m=>m===c?S.Children.count(f)>1?S.Children.only(null):S.isValidElement(f)?f.props.children:null:m);return o.jsx(t,{...s,ref:i,children:S.isValidElement(f)?S.cloneElement(f,void 0,p):null})}return o.jsx(t,{...s,ref:i,children:a})});return n.displayName=`${e}.Slot`,n}var M7=wl("Slot");function D7(e){const t=S.forwardRef((n,r)=>{const{children:i,...a}=n;if(S.isValidElement(i)){const s=B7(i),l=$7(a,i.props);return i.type!==S.Fragment&&(l.ref=r?ux(r,s):s),S.cloneElement(i,l)}return S.Children.count(i)>1?S.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var OB=Symbol("radix.slottable");function I7(e){const t=({children:n})=>o.jsx(o.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=OB,t}function L7(e){return S.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===OB}function $7(e,t){const n={...t};for(const r in t){const i=e[r],a=t[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...e,...n}}function B7(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function im(e){const t=e+"CollectionProvider",[n,r]=Ar(t),[i,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),s=b=>{const{scope:w,children:k}=b,E=Z.useRef(null),P=Z.useRef(new Map).current;return o.jsx(i,{scope:w,itemMap:P,collectionRef:E,children:k})};s.displayName=t;const l=e+"CollectionSlot",c=wl(l),f=Z.forwardRef((b,w)=>{const{scope:k,children:E}=b,P=a(l,k),C=dt(w,P.collectionRef);return o.jsx(c,{ref:C,children:E})});f.displayName=l;const p=e+"CollectionItemSlot",m="data-radix-collection-item",v=wl(p),x=Z.forwardRef((b,w)=>{const{scope:k,children:E,...P}=b,C=Z.useRef(null),O=dt(w,C),R=a(p,k);return Z.useEffect(()=>(R.itemMap.set(C,{ref:C,...P}),()=>void R.itemMap.delete(C))),o.jsx(v,{[m]:"",ref:O,children:E})});x.displayName=p;function _(b){const w=a(e+"CollectionConsumer",b);return Z.useCallback(()=>{const E=w.collectionRef.current;if(!E)return[];const P=Array.from(E.querySelectorAll(`[${m}]`));return Array.from(w.itemMap.values()).sort((R,M)=>P.indexOf(R.ref.current)-P.indexOf(M.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:s,Slot:f,ItemSlot:x},_,r]}var F7=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ze=F7.reduce((e,t)=>{const n=wl(`Primitive.${t}`),r=S.forwardRef((i,a)=>{const{asChild:s,...l}=i,c=s?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function Mk(e,t){e&&Kc.flushSync(()=>e.dispatchEvent(t))}function In(e){const t=S.useRef(e);return S.useEffect(()=>{t.current=e}),S.useMemo(()=>(...n)=>t.current?.(...n),[])}function z7(e,t=globalThis?.document){const n=In(e);S.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var q7="DismissableLayer",oN="dismissableLayer.update",U7="dismissableLayer.pointerDownOutside",W7="dismissableLayer.focusOutside",JT,TB=S.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Gc=S.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:s,onDismiss:l,...c}=e,f=S.useContext(TB),[p,m]=S.useState(null),v=p?.ownerDocument??globalThis?.document,[,x]=S.useState({}),_=dt(t,M=>m(M)),b=Array.from(f.layers),[w]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),k=b.indexOf(w),E=p?b.indexOf(p):-1,P=f.layersWithOutsidePointerEventsDisabled.size>0,C=E>=k,O=V7(M=>{const U=M.target,F=[...f.branches].some(H=>H.contains(U));!C||F||(i?.(M),s?.(M),M.defaultPrevented||l?.())},v),R=K7(M=>{const U=M.target;[...f.branches].some(H=>H.contains(U))||(a?.(M),s?.(M),M.defaultPrevented||l?.())},v);return z7(M=>{E===f.layers.size-1&&(r?.(M),!M.defaultPrevented&&l&&(M.preventDefault(),l()))},v),S.useEffect(()=>{if(p)return n&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(JT=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(p)),f.layers.add(p),eA(),()=>{n&&f.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=JT)}},[p,v,n,f]),S.useEffect(()=>()=>{p&&(f.layers.delete(p),f.layersWithOutsidePointerEventsDisabled.delete(p),eA())},[p,f]),S.useEffect(()=>{const M=()=>x({});return document.addEventListener(oN,M),()=>document.removeEventListener(oN,M)},[]),o.jsx(ze.div,{...c,ref:_,style:{pointerEvents:P?C?"auto":"none":void 0,...e.style},onFocusCapture:Ae(e.onFocusCapture,R.onFocusCapture),onBlurCapture:Ae(e.onBlurCapture,R.onBlurCapture),onPointerDownCapture:Ae(e.onPointerDownCapture,O.onPointerDownCapture)})});Gc.displayName=q7;var H7="DismissableLayerBranch",AB=S.forwardRef((e,t)=>{const n=S.useContext(TB),r=S.useRef(null),i=dt(t,r);return S.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),o.jsx(ze.div,{...e,ref:i})});AB.displayName=H7;function V7(e,t=globalThis?.document){const n=In(e),r=S.useRef(!1),i=S.useRef(()=>{});return S.useEffect(()=>{const a=l=>{if(l.target&&!r.current){let c=function(){RB(U7,n,f,{discrete:!0})};const f={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=c,t.addEventListener("click",i.current,{once:!0})):c()}else t.removeEventListener("click",i.current);r.current=!1},s=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(s),t.removeEventListener("pointerdown",a),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function K7(e,t=globalThis?.document){const n=In(e),r=S.useRef(!1);return S.useEffect(()=>{const i=a=>{a.target&&!r.current&&RB(W7,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function eA(){const e=new CustomEvent(oN);document.dispatchEvent(e)}function RB(e,t,n,{discrete:r}){const i=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?Mk(i,a):i.dispatchEvent(a)}var G7=Gc,Y7=AB,zn=globalThis?.document?S.useLayoutEffect:()=>{},Z7="Portal",df=S.forwardRef((e,t)=>{const{container:n,...r}=e,[i,a]=S.useState(!1);zn(()=>a(!0),[]);const s=n||i&&globalThis?.document?.body;return s?CB.createPortal(o.jsx(ze.div,{...r,ref:t}),s):null});df.displayName=Z7;function X7(e,t){return S.useReducer((n,r)=>t[n][r]??n,e)}var _r=e=>{const{present:t,children:n}=e,r=Q7(t),i=typeof n=="function"?n({present:r.isPresent}):S.Children.only(n),a=dt(r.ref,J7(i));return typeof n=="function"||r.isPresent?S.cloneElement(i,{ref:a}):null};_r.displayName="Presence";function Q7(e){const[t,n]=S.useState(),r=S.useRef(null),i=S.useRef(e),a=S.useRef("none"),s=e?"mounted":"unmounted",[l,c]=X7(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return S.useEffect(()=>{const f=Yg(r.current);a.current=l==="mounted"?f:"none"},[l]),zn(()=>{const f=r.current,p=i.current;if(p!==e){const v=a.current,x=Yg(f);e?c("MOUNT"):x==="none"||f?.display==="none"?c("UNMOUNT"):c(p&&v!==x?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,c]),zn(()=>{if(t){let f;const p=t.ownerDocument.defaultView??window,m=x=>{const b=Yg(r.current).includes(x.animationName);if(x.target===t&&b&&(c("ANIMATION_END"),!i.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",f=p.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},v=x=>{x.target===t&&(a.current=Yg(r.current))};return t.addEventListener("animationstart",v),t.addEventListener("animationcancel",m),t.addEventListener("animationend",m),()=>{p.clearTimeout(f),t.removeEventListener("animationstart",v),t.removeEventListener("animationcancel",m),t.removeEventListener("animationend",m)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:S.useCallback(f=>{r.current=f?getComputedStyle(f):null,n(f)},[])}}function Yg(e){return e?.animationName||"none"}function J7(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var e9=Rk[" useInsertionEffect ".trim().toString()]||zn;function Va({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[i,a,s]=t9({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:i;{const p=S.useRef(e!==void 0);S.useEffect(()=>{const m=p.current;m!==l&&console.warn(`${r} is changing from ${m?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=l},[l,r])}const f=S.useCallback(p=>{if(l){const m=n9(p)?p(e):p;m!==e&&s.current?.(m)}else a(p)},[l,e,a,s]);return[c,f]}function t9({defaultProp:e,onChange:t}){const[n,r]=S.useState(e),i=S.useRef(n),a=S.useRef(t);return e9(()=>{a.current=t},[t]),S.useEffect(()=>{i.current!==n&&(a.current?.(n),i.current=n)},[n,i]),[n,r,a]}function n9(e){return typeof e=="function"}var MB=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),r9="VisuallyHidden",dx=S.forwardRef((e,t)=>o.jsx(ze.span,{...e,ref:t,style:{...MB,...e.style}}));dx.displayName=r9;var i9=dx,Dk="ToastProvider",[Ik,a9,s9]=im("Toast"),[DB]=Ar("Toast",[s9]),[o9,fx]=DB(Dk),IB=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:a=50,children:s}=e,[l,c]=S.useState(null),[f,p]=S.useState(0),m=S.useRef(!1),v=S.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Dk}\`. Expected non-empty \`string\`.`),o.jsx(Ik.Provider,{scope:t,children:o.jsx(o9,{scope:t,label:n,duration:r,swipeDirection:i,swipeThreshold:a,toastCount:f,viewport:l,onViewportChange:c,onToastAdd:S.useCallback(()=>p(x=>x+1),[]),onToastRemove:S.useCallback(()=>p(x=>x-1),[]),isFocusedToastEscapeKeyDownRef:m,isClosePausedRef:v,children:s})})};IB.displayName=Dk;var LB="ToastViewport",l9=["F8"],lN="toast.viewportPause",cN="toast.viewportResume",$B=S.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=l9,label:i="Notifications ({hotkey})",...a}=e,s=fx(LB,n),l=a9(n),c=S.useRef(null),f=S.useRef(null),p=S.useRef(null),m=S.useRef(null),v=dt(t,m,s.onViewportChange),x=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),_=s.toastCount>0;S.useEffect(()=>{const w=k=>{r.length!==0&&r.every(P=>k[P]||k.code===P)&&m.current?.focus()};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[r]),S.useEffect(()=>{const w=c.current,k=m.current;if(_&&w&&k){const E=()=>{if(!s.isClosePausedRef.current){const R=new CustomEvent(lN);k.dispatchEvent(R),s.isClosePausedRef.current=!0}},P=()=>{if(s.isClosePausedRef.current){const R=new CustomEvent(cN);k.dispatchEvent(R),s.isClosePausedRef.current=!1}},C=R=>{!w.contains(R.relatedTarget)&&P()},O=()=>{w.contains(document.activeElement)||P()};return w.addEventListener("focusin",E),w.addEventListener("focusout",C),w.addEventListener("pointermove",E),w.addEventListener("pointerleave",O),window.addEventListener("blur",E),window.addEventListener("focus",P),()=>{w.removeEventListener("focusin",E),w.removeEventListener("focusout",C),w.removeEventListener("pointermove",E),w.removeEventListener("pointerleave",O),window.removeEventListener("blur",E),window.removeEventListener("focus",P)}}},[_,s.isClosePausedRef]);const b=S.useCallback(({tabbingDirection:w})=>{const E=l().map(P=>{const C=P.ref.current,O=[C,...w9(C)];return w==="forwards"?O:O.reverse()});return(w==="forwards"?E.reverse():E).flat()},[l]);return S.useEffect(()=>{const w=m.current;if(w){const k=E=>{const P=E.altKey||E.ctrlKey||E.metaKey;if(E.key==="Tab"&&!P){const O=document.activeElement,R=E.shiftKey;if(E.target===w&&R){f.current?.focus();return}const F=b({tabbingDirection:R?"backwards":"forwards"}),H=F.findIndex(B=>B===O);dw(F.slice(H+1))?E.preventDefault():R?f.current?.focus():p.current?.focus()}};return w.addEventListener("keydown",k),()=>w.removeEventListener("keydown",k)}},[l,b]),o.jsxs(Y7,{ref:c,role:"region","aria-label":i.replace("{hotkey}",x),tabIndex:-1,style:{pointerEvents:_?void 0:"none"},children:[_&&o.jsx(uN,{ref:f,onFocusFromOutsideViewport:()=>{const w=b({tabbingDirection:"forwards"});dw(w)}}),o.jsx(Ik.Slot,{scope:n,children:o.jsx(ze.ol,{tabIndex:-1,...a,ref:v})}),_&&o.jsx(uN,{ref:p,onFocusFromOutsideViewport:()=>{const w=b({tabbingDirection:"backwards"});dw(w)}})]})});$B.displayName=LB;var BB="ToastFocusProxy",uN=S.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=e,a=fx(BB,n);return o.jsx(dx,{"aria-hidden":!0,tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:s=>{const l=s.relatedTarget;!a.viewport?.contains(l)&&r()}})});uN.displayName=BB;var am="Toast",c9="toast.swipeStart",u9="toast.swipeMove",d9="toast.swipeCancel",f9="toast.swipeEnd",FB=S.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:a,...s}=e,[l,c]=Va({prop:r,defaultProp:i??!0,onChange:a,caller:am});return o.jsx(_r,{present:n||l,children:o.jsx(m9,{open:l,...s,ref:t,onClose:()=>c(!1),onPause:In(e.onPause),onResume:In(e.onResume),onSwipeStart:Ae(e.onSwipeStart,f=>{f.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ae(e.onSwipeMove,f=>{const{x:p,y:m}=f.detail.delta;f.currentTarget.setAttribute("data-swipe","move"),f.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${p}px`),f.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${m}px`)}),onSwipeCancel:Ae(e.onSwipeCancel,f=>{f.currentTarget.setAttribute("data-swipe","cancel"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),f.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),f.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ae(e.onSwipeEnd,f=>{const{x:p,y:m}=f.detail.delta;f.currentTarget.setAttribute("data-swipe","end"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),f.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${p}px`),f.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${m}px`),c(!1)})})})});FB.displayName=am;var[h9,p9]=DB(am,{onClose(){}}),m9=S.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:a,onClose:s,onEscapeKeyDown:l,onPause:c,onResume:f,onSwipeStart:p,onSwipeMove:m,onSwipeCancel:v,onSwipeEnd:x,..._}=e,b=fx(am,n),[w,k]=S.useState(null),E=dt(t,W=>k(W)),P=S.useRef(null),C=S.useRef(null),O=i||b.duration,R=S.useRef(0),M=S.useRef(O),U=S.useRef(0),{onToastAdd:F,onToastRemove:H}=b,B=In(()=>{w?.contains(document.activeElement)&&b.viewport?.focus(),s()}),$=S.useCallback(W=>{!W||W===1/0||(window.clearTimeout(U.current),R.current=new Date().getTime(),U.current=window.setTimeout(B,W))},[B]);S.useEffect(()=>{const W=b.viewport;if(W){const V=()=>{$(M.current),f?.()},K=()=>{const q=new Date().getTime()-R.current;M.current=M.current-q,window.clearTimeout(U.current),c?.()};return W.addEventListener(lN,K),W.addEventListener(cN,V),()=>{W.removeEventListener(lN,K),W.removeEventListener(cN,V)}}},[b.viewport,O,c,f,$]),S.useEffect(()=>{a&&!b.isClosePausedRef.current&&$(O)},[a,O,b.isClosePausedRef,$]),S.useEffect(()=>(F(),()=>H()),[F,H]);const G=S.useMemo(()=>w?KB(w):null,[w]);return b.viewport?o.jsxs(o.Fragment,{children:[G&&o.jsx(g9,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:G}),o.jsx(h9,{scope:n,onClose:B,children:Kc.createPortal(o.jsx(Ik.ItemSlot,{scope:n,children:o.jsx(G7,{asChild:!0,onEscapeKeyDown:Ae(l,()=>{b.isFocusedToastEscapeKeyDownRef.current||B(),b.isFocusedToastEscapeKeyDownRef.current=!1}),children:o.jsx(ze.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":b.swipeDirection,..._,ref:E,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Ae(e.onKeyDown,W=>{W.key==="Escape"&&(l?.(W.nativeEvent),W.nativeEvent.defaultPrevented||(b.isFocusedToastEscapeKeyDownRef.current=!0,B()))}),onPointerDown:Ae(e.onPointerDown,W=>{W.button===0&&(P.current={x:W.clientX,y:W.clientY})}),onPointerMove:Ae(e.onPointerMove,W=>{if(!P.current)return;const V=W.clientX-P.current.x,K=W.clientY-P.current.y,q=!!C.current,D=["left","right"].includes(b.swipeDirection),Q=["left","up"].includes(b.swipeDirection)?Math.min:Math.max,ne=D?Q(0,V):0,J=D?0:Q(0,K),ee=W.pointerType==="touch"?10:2,te={x:ne,y:J},re={originalEvent:W,delta:te};q?(C.current=te,Zg(u9,m,re,{discrete:!1})):tA(te,b.swipeDirection,ee)?(C.current=te,Zg(c9,p,re,{discrete:!1}),W.target.setPointerCapture(W.pointerId)):(Math.abs(V)>ee||Math.abs(K)>ee)&&(P.current=null)}),onPointerUp:Ae(e.onPointerUp,W=>{const V=C.current,K=W.target;if(K.hasPointerCapture(W.pointerId)&&K.releasePointerCapture(W.pointerId),C.current=null,P.current=null,V){const q=W.currentTarget,D={originalEvent:W,delta:V};tA(V,b.swipeDirection,b.swipeThreshold)?Zg(f9,x,D,{discrete:!0}):Zg(d9,v,D,{discrete:!0}),q.addEventListener("click",Q=>Q.preventDefault(),{once:!0})}})})})}),b.viewport)})]}):null}),g9=e=>{const{__scopeToast:t,children:n,...r}=e,i=fx(am,t),[a,s]=S.useState(!1),[l,c]=S.useState(!1);return x9(()=>s(!0)),S.useEffect(()=>{const f=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(f)},[]),l?null:o.jsx(df,{asChild:!0,children:o.jsx(dx,{...r,children:a&&o.jsxs(o.Fragment,{children:[i.label," ",n]})})})},v9="ToastTitle",zB=S.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return o.jsx(ze.div,{...r,ref:t})});zB.displayName=v9;var y9="ToastDescription",qB=S.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return o.jsx(ze.div,{...r,ref:t})});qB.displayName=y9;var UB="ToastAction",WB=S.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?o.jsx(VB,{altText:n,asChild:!0,children:o.jsx(Lk,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${UB}\`. Expected non-empty \`string\`.`),null)});WB.displayName=UB;var HB="ToastClose",Lk=S.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,i=p9(HB,n);return o.jsx(VB,{asChild:!0,children:o.jsx(ze.button,{type:"button",...r,ref:t,onClick:Ae(e.onClick,i.onClose)})})});Lk.displayName=HB;var VB=S.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...i}=e;return o.jsx(ze.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:t})});function KB(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),b9(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",a=r.dataset.radixToastAnnounceExclude==="";if(!i)if(a){const s=r.dataset.radixToastAnnounceAlt;s&&t.push(s)}else t.push(...KB(r))}}),t}function Zg(e,t,n,{discrete:r}){const i=n.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?Mk(i,a):i.dispatchEvent(a)}var tA=(e,t,n=0)=>{const r=Math.abs(e.x),i=Math.abs(e.y),a=r>i;return t==="left"||t==="right"?a&&r>n:!a&&i>n};function x9(e=()=>{}){const t=In(e);zn(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function b9(e){return e.nodeType===e.ELEMENT_NODE}function w9(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function dw(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var _9=IB,GB=$B,YB=FB,ZB=zB,XB=qB,QB=WB,JB=Lk;function e3(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=e3(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function St(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=e3(e))&&(r&&(r+=" "),r+=t);return r}const nA=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,rA=St,hx=(e,t)=>n=>{var r;if(t?.variants==null)return rA(e,n?.class,n?.className);const{variants:i,defaultVariants:a}=t,s=Object.keys(i).map(f=>{const p=n?.[f],m=a?.[f];if(p===null)return null;const v=nA(p)||nA(m);return i[f][v]}),l=n&&Object.entries(n).reduce((f,p)=>{let[m,v]=p;return v===void 0||(f[m]=v),f},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((f,p)=>{let{class:m,className:v,...x}=p;return Object.entries(x).every(_=>{let[b,w]=_;return Array.isArray(w)?w.includes({...a,...l}[b]):{...a,...l}[b]===w})?[...f,m,v]:f},[]);return rA(e,s,c,n?.class,n?.className)};const S9=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),t3=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();var j9={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const N9=S.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:s,...l},c)=>S.createElement("svg",{ref:c,...j9,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:t3("lucide",i),...l},[...s.map(([f,p])=>S.createElement(f,p)),...Array.isArray(a)?a:[a]]));const $e=(e,t)=>{const n=S.forwardRef(({className:r,...i},a)=>S.createElement(N9,{ref:a,iconNode:t,className:t3(`lucide-${S9(e)}`,r),...i}));return n.displayName=`${e}`,n};const ff=$e("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);const P9=$e("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);const n3=$e("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);const k9=$e("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);const E9=$e("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);const iA=$e("Cake",[["path",{d:"M20 21v-8a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v8",key:"1w3rig"}],["path",{d:"M4 16s.5-1 2-1 2.5 2 4 2 2.5-2 4-2 2.5 2 4 2 2-1 2-1",key:"n2jgmb"}],["path",{d:"M2 21h20",key:"1nyx9w"}],["path",{d:"M7 8v3",key:"1qtyvj"}],["path",{d:"M12 8v3",key:"hwp4zt"}],["path",{d:"M17 8v3",key:"1i6e5u"}],["path",{d:"M7 4h.01",key:"1bh4kh"}],["path",{d:"M12 4h.01",key:"1ujb9j"}],["path",{d:"M17 4h.01",key:"1upcoc"}]]);const C9=$e("CalendarOff",[["path",{d:"M4.2 4.2A2 2 0 0 0 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 1.82-1.18",key:"16swn3"}],["path",{d:"M21 15.5V6a2 2 0 0 0-2-2H9.5",key:"yhw86o"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M3 10h7",key:"1wap6i"}],["path",{d:"M21 10h-5.5",key:"quycpq"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);const wn=$e("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);const O9=$e("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);const px=$e("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);const ya=$e("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const r3=$e("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);const mo=$e("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);const Ka=$e("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const T9=$e("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);const A9=$e("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const R9=$e("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);const M9=$e("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);const ba=$e("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);const D9=$e("Coffee",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]]);const I9=$e("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);const Ed=$e("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);const L9=$e("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);const $9=$e("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);const i3=$e("Euro",[["path",{d:"M4 10h12",key:"1y6xl8"}],["path",{d:"M4 14h9",key:"1loblj"}],["path",{d:"M19 6a7.7 7.7 0 0 0-5.2-2A7.9 7.9 0 0 0 6 12c0 4.4 3.5 8 7.8 8 2 0 3.8-.8 5.2-2",key:"1j6lzo"}]]);const mx=$e("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);const gx=$e("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const B9=$e("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);const F9=$e("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);const z9=$e("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);const q9=$e("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);const a3=$e("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);const zv=$e("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);const U9=$e("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);const W9=$e("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);const H9=$e("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);const V9=$e("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);const bs=$e("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const Oc=$e("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);const wo=$e("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);const hf=$e("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);const gd=$e("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);const K9=$e("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);const ud=$e("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);const G9=$e("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);const Y9=$e("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);const aA=$e("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);const Z9=$e("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);const X9=$e("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);const Cd=$e("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);const Q9=$e("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);const vx=$e("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);const sA=$e("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);const Od=$e("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const ap=$e("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);const J9=$e("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);const oA=$e("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);const lA=$e("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);const Qt=$e("Scissors",[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]]);const $k=$e("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const eK=$e("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);const s3=$e("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const cA=$e("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);const Bk=$e("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);const o3=$e("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);const tK=$e("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);const dN=$e("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);const uA=$e("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);const dA=$e("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);const nK=$e("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);const uo=$e("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const l3=$e("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);const fA=$e("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const rK=$e("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);const Kr=$e("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);const sp=$e("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);const pf=$e("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Fk="-",iK=e=>{const t=sK(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:s=>{const l=s.split(Fk);return l[0]===""&&l.length!==1&&l.shift(),c3(l,t)||aK(s)},getConflictingClassGroupIds:(s,l)=>{const c=n[s]||[];return l&&r[s]?[...c,...r[s]]:c}}},c3=(e,t)=>{if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),i=r?c3(e.slice(1),r):void 0;if(i)return i;if(t.validators.length===0)return;const a=e.join(Fk);return t.validators.find(({validator:s})=>s(a))?.classGroupId},hA=/^\[(.+)\]$/,aK=e=>{if(hA.test(e)){const t=hA.exec(e)[1],n=t?.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},sK=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return lK(Object.entries(e.classGroups),n).forEach(([a,s])=>{fN(s,r,a,t)}),r},fN=(e,t,n,r)=>{e.forEach(i=>{if(typeof i=="string"){const a=i===""?t:pA(t,i);a.classGroupId=n;return}if(typeof i=="function"){if(oK(i)){fN(i(r),t,n,r);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([a,s])=>{fN(s,pA(t,a),n,r)})})},pA=(e,t)=>{let n=e;return t.split(Fk).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},oK=e=>e.isThemeGetter,lK=(e,t)=>t?e.map(([n,r])=>{const i=r.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([s,l])=>[t+s,l])):a);return[n,i]}):e,cK=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const i=(a,s)=>{n.set(a,s),t++,t>e&&(t=0,r=n,n=new Map)};return{get(a){let s=n.get(a);if(s!==void 0)return s;if((s=r.get(a))!==void 0)return i(a,s),s},set(a,s){n.has(a)?n.set(a,s):i(a,s)}}},u3="!",uK=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,i=t[0],a=t.length,s=l=>{const c=[];let f=0,p=0,m;for(let w=0;w<l.length;w++){let k=l[w];if(f===0){if(k===i&&(r||l.slice(w,w+a)===t)){c.push(l.slice(p,w)),p=w+a;continue}if(k==="/"){m=w;continue}}k==="["?f++:k==="]"&&f--}const v=c.length===0?l:l.substring(p),x=v.startsWith(u3),_=x?v.substring(1):v,b=m&&m>p?m-p:void 0;return{modifiers:c,hasImportantModifier:x,baseClassName:_,maybePostfixModifierPosition:b}};return n?l=>n({className:l,parseClassName:s}):s},dK=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},fK=e=>({cache:cK(e.cacheSize),parseClassName:uK(e),...iK(e)}),hK=/\s+/,pK=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=t,a=[],s=e.trim().split(hK);let l="";for(let c=s.length-1;c>=0;c-=1){const f=s[c],{modifiers:p,hasImportantModifier:m,baseClassName:v,maybePostfixModifierPosition:x}=n(f);let _=!!x,b=r(_?v.substring(0,x):v);if(!b){if(!_){l=f+(l.length>0?" "+l:l);continue}if(b=r(v),!b){l=f+(l.length>0?" "+l:l);continue}_=!1}const w=dK(p).join(":"),k=m?w+u3:w,E=k+b;if(a.includes(E))continue;a.push(E);const P=i(b,_);for(let C=0;C<P.length;++C){const O=P[C];a.push(k+O)}l=f+(l.length>0?" "+l:l)}return l};function mK(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=d3(t))&&(r&&(r+=" "),r+=n);return r}const d3=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=d3(e[r]))&&(n&&(n+=" "),n+=t);return n};function gK(e,...t){let n,r,i,a=s;function s(c){const f=t.reduce((p,m)=>m(p),e());return n=fK(f),r=n.cache.get,i=n.cache.set,a=l,l(c)}function l(c){const f=r(c);if(f)return f;const p=pK(c,n);return i(c,p),p}return function(){return a(mK.apply(null,arguments))}}const yn=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},f3=/^\[(?:([a-z-]+):)?(.+)\]$/i,vK=/^\d+\/\d+$/,yK=new Set(["px","full","screen"]),xK=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,bK=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,wK=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,_K=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,SK=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,eo=e=>vd(e)||yK.has(e)||vK.test(e),al=e=>mf(e,"length",TK),vd=e=>!!e&&!Number.isNaN(Number(e)),fw=e=>mf(e,"number",vd),_h=e=>!!e&&Number.isInteger(Number(e)),jK=e=>e.endsWith("%")&&vd(e.slice(0,-1)),kt=e=>f3.test(e),sl=e=>xK.test(e),NK=new Set(["length","size","percentage"]),PK=e=>mf(e,NK,h3),kK=e=>mf(e,"position",h3),EK=new Set(["image","url"]),CK=e=>mf(e,EK,RK),OK=e=>mf(e,"",AK),Sh=()=>!0,mf=(e,t,n)=>{const r=f3.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},TK=e=>bK.test(e)&&!wK.test(e),h3=()=>!1,AK=e=>_K.test(e),RK=e=>SK.test(e),MK=()=>{const e=yn("colors"),t=yn("spacing"),n=yn("blur"),r=yn("brightness"),i=yn("borderColor"),a=yn("borderRadius"),s=yn("borderSpacing"),l=yn("borderWidth"),c=yn("contrast"),f=yn("grayscale"),p=yn("hueRotate"),m=yn("invert"),v=yn("gap"),x=yn("gradientColorStops"),_=yn("gradientColorStopPositions"),b=yn("inset"),w=yn("margin"),k=yn("opacity"),E=yn("padding"),P=yn("saturate"),C=yn("scale"),O=yn("sepia"),R=yn("skew"),M=yn("space"),U=yn("translate"),F=()=>["auto","contain","none"],H=()=>["auto","hidden","clip","visible","scroll"],B=()=>["auto",kt,t],$=()=>[kt,t],G=()=>["",eo,al],W=()=>["auto",vd,kt],V=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],K=()=>["solid","dashed","dotted","double","none"],q=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],D=()=>["start","end","center","between","around","evenly","stretch"],Q=()=>["","0",kt],ne=()=>["auto","avoid","all","avoid-page","page","left","right","column"],J=()=>[vd,kt];return{cacheSize:500,separator:":",theme:{colors:[Sh],spacing:[eo,al],blur:["none","",sl,kt],brightness:J(),borderColor:[e],borderRadius:["none","","full",sl,kt],borderSpacing:$(),borderWidth:G(),contrast:J(),grayscale:Q(),hueRotate:J(),invert:Q(),gap:$(),gradientColorStops:[e],gradientColorStopPositions:[jK,al],inset:B(),margin:B(),opacity:J(),padding:$(),saturate:J(),scale:J(),sepia:Q(),skew:J(),space:$(),translate:$()},classGroups:{aspect:[{aspect:["auto","square","video",kt]}],container:["container"],columns:[{columns:[sl]}],"break-after":[{"break-after":ne()}],"break-before":[{"break-before":ne()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...V(),kt]}],overflow:[{overflow:H()}],"overflow-x":[{"overflow-x":H()}],"overflow-y":[{"overflow-y":H()}],overscroll:[{overscroll:F()}],"overscroll-x":[{"overscroll-x":F()}],"overscroll-y":[{"overscroll-y":F()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[b]}],"inset-x":[{"inset-x":[b]}],"inset-y":[{"inset-y":[b]}],start:[{start:[b]}],end:[{end:[b]}],top:[{top:[b]}],right:[{right:[b]}],bottom:[{bottom:[b]}],left:[{left:[b]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",_h,kt]}],basis:[{basis:B()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",kt]}],grow:[{grow:Q()}],shrink:[{shrink:Q()}],order:[{order:["first","last","none",_h,kt]}],"grid-cols":[{"grid-cols":[Sh]}],"col-start-end":[{col:["auto",{span:["full",_h,kt]},kt]}],"col-start":[{"col-start":W()}],"col-end":[{"col-end":W()}],"grid-rows":[{"grid-rows":[Sh]}],"row-start-end":[{row:["auto",{span:[_h,kt]},kt]}],"row-start":[{"row-start":W()}],"row-end":[{"row-end":W()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",kt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",kt]}],gap:[{gap:[v]}],"gap-x":[{"gap-x":[v]}],"gap-y":[{"gap-y":[v]}],"justify-content":[{justify:["normal",...D()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...D(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...D(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[E]}],px:[{px:[E]}],py:[{py:[E]}],ps:[{ps:[E]}],pe:[{pe:[E]}],pt:[{pt:[E]}],pr:[{pr:[E]}],pb:[{pb:[E]}],pl:[{pl:[E]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[M]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[M]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",kt,t]}],"min-w":[{"min-w":[kt,t,"min","max","fit"]}],"max-w":[{"max-w":[kt,t,"none","full","min","max","fit","prose",{screen:[sl]},sl]}],h:[{h:[kt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[kt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[kt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[kt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",sl,al]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",fw]}],"font-family":[{font:[Sh]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",kt]}],"line-clamp":[{"line-clamp":["none",vd,fw]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",eo,kt]}],"list-image":[{"list-image":["none",kt]}],"list-style-type":[{list:["none","disc","decimal",kt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[k]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[k]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...K(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",eo,al]}],"underline-offset":[{"underline-offset":["auto",eo,kt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:$()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",kt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",kt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[k]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...V(),kK]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",PK]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},CK]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[_]}],"gradient-via-pos":[{via:[_]}],"gradient-to-pos":[{to:[_]}],"gradient-from":[{from:[x]}],"gradient-via":[{via:[x]}],"gradient-to":[{to:[x]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[k]}],"border-style":[{border:[...K(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[k]}],"divide-style":[{divide:K()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...K()]}],"outline-offset":[{"outline-offset":[eo,kt]}],"outline-w":[{outline:[eo,al]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:G()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[k]}],"ring-offset-w":[{"ring-offset":[eo,al]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",sl,OK]}],"shadow-color":[{shadow:[Sh]}],opacity:[{opacity:[k]}],"mix-blend":[{"mix-blend":[...q(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":q()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",sl,kt]}],grayscale:[{grayscale:[f]}],"hue-rotate":[{"hue-rotate":[p]}],invert:[{invert:[m]}],saturate:[{saturate:[P]}],sepia:[{sepia:[O]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[f]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[p]}],"backdrop-invert":[{"backdrop-invert":[m]}],"backdrop-opacity":[{"backdrop-opacity":[k]}],"backdrop-saturate":[{"backdrop-saturate":[P]}],"backdrop-sepia":[{"backdrop-sepia":[O]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",kt]}],duration:[{duration:J()}],ease:[{ease:["linear","in","out","in-out",kt]}],delay:[{delay:J()}],animate:[{animate:["none","spin","ping","pulse","bounce",kt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[C]}],"scale-x":[{"scale-x":[C]}],"scale-y":[{"scale-y":[C]}],rotate:[{rotate:[_h,kt]}],"translate-x":[{"translate-x":[U]}],"translate-y":[{"translate-y":[U]}],"skew-x":[{"skew-x":[R]}],"skew-y":[{"skew-y":[R]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",kt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",kt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":$()}],"scroll-mx":[{"scroll-mx":$()}],"scroll-my":[{"scroll-my":$()}],"scroll-ms":[{"scroll-ms":$()}],"scroll-me":[{"scroll-me":$()}],"scroll-mt":[{"scroll-mt":$()}],"scroll-mr":[{"scroll-mr":$()}],"scroll-mb":[{"scroll-mb":$()}],"scroll-ml":[{"scroll-ml":$()}],"scroll-p":[{"scroll-p":$()}],"scroll-px":[{"scroll-px":$()}],"scroll-py":[{"scroll-py":$()}],"scroll-ps":[{"scroll-ps":$()}],"scroll-pe":[{"scroll-pe":$()}],"scroll-pt":[{"scroll-pt":$()}],"scroll-pr":[{"scroll-pr":$()}],"scroll-pb":[{"scroll-pb":$()}],"scroll-pl":[{"scroll-pl":$()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",kt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[eo,al,fw]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},DK=gK(MK);function qe(...e){return DK(St(e))}const IK=_9,p3=S.forwardRef(({className:e,...t},n)=>o.jsx(GB,{ref:n,className:qe("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));p3.displayName=GB.displayName;const LK=hx("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),m3=S.forwardRef(({className:e,variant:t,...n},r)=>o.jsx(YB,{ref:r,className:qe(LK({variant:t}),e),...n}));m3.displayName=YB.displayName;const $K=S.forwardRef(({className:e,...t},n)=>o.jsx(QB,{ref:n,className:qe("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t}));$K.displayName=QB.displayName;const g3=S.forwardRef(({className:e,...t},n)=>o.jsx(JB,{ref:n,className:qe("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:o.jsx(pf,{className:"h-4 w-4"})}));g3.displayName=JB.displayName;const v3=S.forwardRef(({className:e,...t},n)=>o.jsx(ZB,{ref:n,className:qe("text-sm font-semibold",e),...t}));v3.displayName=ZB.displayName;const y3=S.forwardRef(({className:e,...t},n)=>o.jsx(XB,{ref:n,className:qe("text-sm opacity-90",e),...t}));y3.displayName=XB.displayName;function BK(){const{toasts:e}=jl();return o.jsxs(IK,{children:[e.map(function({id:t,title:n,description:r,action:i,...a}){return o.jsxs(m3,{...a,children:[o.jsxs("div",{className:"grid gap-1",children:[n&&o.jsx(v3,{children:n}),r&&o.jsx(y3,{children:r})]}),i,o.jsx(g3,{})]},t)}),o.jsx(p3,{})]})}var mA=["light","dark"],FK="(prefers-color-scheme: dark)",zK=S.createContext(void 0),qK={setTheme:e=>{},themes:[]},UK=()=>{var e;return(e=S.useContext(zK))!=null?e:qK};S.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:i,defaultTheme:a,value:s,attrs:l,nonce:c})=>{let f=a==="system",p=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(_=>`'${_}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,m=i?mA.includes(a)&&a?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${a}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",v=(_,b=!1,w=!0)=>{let k=s?s[_]:_,E=b?_+"|| ''":`'${k}'`,P="";return i&&w&&!b&&mA.includes(_)&&(P+=`d.style.colorScheme = '${_}';`),n==="class"?b||k?P+=`c.add(${E})`:P+="null":k&&(P+=`d[s](n,${E})`),P},x=e?`!function(){${p}${v(e)}}()`:r?`!function(){try{${p}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${f})){var t='${FK}',m=window.matchMedia(t);if(m.media!==t||m.matches){${v("dark")}}else{${v("light")}}}else if(e){${s?`var x=${JSON.stringify(s)};`:""}${v(s?"x[e]":"e",!0)}}${f?"":"else{"+v(a,!1,!1)+"}"}${m}}catch(e){}}()`:`!function(){try{${p}var e=localStorage.getItem('${t}');if(e){${s?`var x=${JSON.stringify(s)};`:""}${v(s?"x[e]":"e",!0)}}else{${v(a,!1,!1)};}${m}}catch(t){}}();`;return S.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:x}})});var WK=e=>{switch(e){case"success":return KK;case"info":return YK;case"warning":return GK;case"error":return ZK;default:return null}},HK=Array(12).fill(0),VK=({visible:e,className:t})=>Z.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},Z.createElement("div",{className:"sonner-spinner"},HK.map((n,r)=>Z.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),KK=Z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Z.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),GK=Z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Z.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),YK=Z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Z.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),ZK=Z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Z.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),XK=Z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Z.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Z.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),QK=()=>{let[e,t]=Z.useState(document.hidden);return Z.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},hN=1,JK=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...r}=e,i=typeof e?.id=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:hN++,a=this.toasts.find(l=>l.id===i),s=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),a?this.toasts=this.toasts.map(l=>l.id===i?(this.publish({...l,...e,id:i,title:n}),{...l,...e,id:i,dismissible:s,title:n}):l):this.addToast({title:n,...r,dismissible:s,id:i}),i},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let r=e instanceof Promise?e:e(),i=n!==void 0,a,s=r.then(async c=>{if(a=["resolve",c],Z.isValidElement(c))i=!1,this.create({id:n,type:"default",message:c});else if(tG(c)&&!c.ok){i=!1;let f=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,p=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:n,type:"error",message:f,description:p})}else if(t.success!==void 0){i=!1;let f=typeof t.success=="function"?await t.success(c):t.success,p=typeof t.description=="function"?await t.description(c):t.description;this.create({id:n,type:"success",message:f,description:p})}}).catch(async c=>{if(a=["reject",c],t.error!==void 0){i=!1;let f=typeof t.error=="function"?await t.error(c):t.error,p=typeof t.description=="function"?await t.description(c):t.description;this.create({id:n,type:"error",message:f,description:p})}}).finally(()=>{var c;i&&(this.dismiss(n),n=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,f)=>s.then(()=>a[0]==="reject"?f(a[1]):c(a[1])).catch(f));return typeof n!="string"&&typeof n!="number"?{unwrap:l}:Object.assign(n,{unwrap:l})},this.custom=(e,t)=>{let n=t?.id||hN++;return this.create({jsx:e(n),id:n,...t}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},yi=new JK,eG=(e,t)=>{let n=t?.id||hN++;return yi.addToast({title:e,...t,id:n}),n},tG=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",nG=eG,rG=()=>yi.toasts,iG=()=>yi.getActiveToasts(),ut=Object.assign(nG,{success:yi.success,info:yi.info,warning:yi.warning,error:yi.error,custom:yi.custom,message:yi.message,promise:yi.promise,dismiss:yi.dismiss,loading:yi.loading},{getHistory:rG,getToasts:iG});function aG(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}aG(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Xg(e){return e.label!==void 0}var sG=3,oG="32px",lG="16px",gA=4e3,cG=356,uG=14,dG=20,fG=200;function Da(...e){return e.filter(Boolean).join(" ")}function hG(e){let[t,n]=e.split("-"),r=[];return t&&r.push(t),n&&r.push(n),r}var pG=e=>{var t,n,r,i,a,s,l,c,f,p,m;let{invert:v,toast:x,unstyled:_,interacting:b,setHeights:w,visibleToasts:k,heights:E,index:P,toasts:C,expanded:O,removeToast:R,defaultRichColors:M,closeButton:U,style:F,cancelButtonStyle:H,actionButtonStyle:B,className:$="",descriptionClassName:G="",duration:W,position:V,gap:K,loadingIcon:q,expandByDefault:D,classNames:Q,icons:ne,closeButtonAriaLabel:J="Close toast",pauseWhenPageIsHidden:ee}=e,[te,re]=Z.useState(null),[ie,se]=Z.useState(null),[oe,be]=Z.useState(!1),[fe,xe]=Z.useState(!1),[ce,ue]=Z.useState(!1),[je,Re]=Z.useState(!1),[Xe,Me]=Z.useState(!1),[tt,Wt]=Z.useState(0),[Ht,Mt]=Z.useState(0),It=Z.useRef(x.duration||W||gA),it=Z.useRef(null),Et=Z.useRef(null),jr=P===0,pe=P+1<=k,pt=x.type,sn=x.dismissible!==!1,_i=x.className||"",Yi=x.descriptionClassName||"",Nr=Z.useMemo(()=>E.findIndex(Ke=>Ke.toastId===x.id)||0,[E,x.id]),On=Z.useMemo(()=>{var Ke;return(Ke=x.closeButton)!=null?Ke:U},[x.closeButton,U]),As=Z.useMemo(()=>x.duration||W||gA,[x.duration,W]),Sa=Z.useRef(0),Zr=Z.useRef(0),Rs=Z.useRef(0),ci=Z.useRef(null),[Si,nt]=V.split("-"),Ot=Z.useMemo(()=>E.reduce((Ke,bt,Tt)=>Tt>=Nr?Ke:Ke+bt.height,0),[E,Nr]),Lt=QK(),Dt=x.invert||v,jt=pt==="loading";Zr.current=Z.useMemo(()=>Nr*K+Ot,[Nr,Ot]),Z.useEffect(()=>{It.current=As},[As]),Z.useEffect(()=>{be(!0)},[]),Z.useEffect(()=>{let Ke=Et.current;if(Ke){let bt=Ke.getBoundingClientRect().height;return Mt(bt),w(Tt=>[{toastId:x.id,height:bt,position:x.position},...Tt]),()=>w(Tt=>Tt.filter(ln=>ln.toastId!==x.id))}},[w,x.id]),Z.useLayoutEffect(()=>{if(!oe)return;let Ke=Et.current,bt=Ke.style.height;Ke.style.height="auto";let Tt=Ke.getBoundingClientRect().height;Ke.style.height=bt,Mt(Tt),w(ln=>ln.find(Yt=>Yt.toastId===x.id)?ln.map(Yt=>Yt.toastId===x.id?{...Yt,height:Tt}:Yt):[{toastId:x.id,height:Tt,position:x.position},...ln])},[oe,x.title,x.description,w,x.id]);let on=Z.useCallback(()=>{xe(!0),Wt(Zr.current),w(Ke=>Ke.filter(bt=>bt.toastId!==x.id)),setTimeout(()=>{R(x)},fG)},[x,R,w,Zr]);Z.useEffect(()=>{if(x.promise&&pt==="loading"||x.duration===1/0||x.type==="loading")return;let Ke;return O||b||ee&&Lt?(()=>{if(Rs.current<Sa.current){let bt=new Date().getTime()-Sa.current;It.current=It.current-bt}Rs.current=new Date().getTime()})():It.current!==1/0&&(Sa.current=new Date().getTime(),Ke=setTimeout(()=>{var bt;(bt=x.onAutoClose)==null||bt.call(x,x),on()},It.current)),()=>clearTimeout(Ke)},[O,b,x,pt,ee,Lt,on]),Z.useEffect(()=>{x.delete&&on()},[on,x.delete]);function Tn(){var Ke,bt,Tt;return ne!=null&&ne.loading?Z.createElement("div",{className:Da(Q?.loader,(Ke=x?.classNames)==null?void 0:Ke.loader,"sonner-loader"),"data-visible":pt==="loading"},ne.loading):q?Z.createElement("div",{className:Da(Q?.loader,(bt=x?.classNames)==null?void 0:bt.loader,"sonner-loader"),"data-visible":pt==="loading"},q):Z.createElement(VK,{className:Da(Q?.loader,(Tt=x?.classNames)==null?void 0:Tt.loader),visible:pt==="loading"})}return Z.createElement("li",{tabIndex:0,ref:Et,className:Da($,_i,Q?.toast,(t=x?.classNames)==null?void 0:t.toast,Q?.default,Q?.[pt],(n=x?.classNames)==null?void 0:n[pt]),"data-sonner-toast":"","data-rich-colors":(r=x.richColors)!=null?r:M,"data-styled":!(x.jsx||x.unstyled||_),"data-mounted":oe,"data-promise":!!x.promise,"data-swiped":Xe,"data-removed":fe,"data-visible":pe,"data-y-position":Si,"data-x-position":nt,"data-index":P,"data-front":jr,"data-swiping":ce,"data-dismissible":sn,"data-type":pt,"data-invert":Dt,"data-swipe-out":je,"data-swipe-direction":ie,"data-expanded":!!(O||D&&oe),style:{"--index":P,"--toasts-before":P,"--z-index":C.length-P,"--offset":`${fe?tt:Zr.current}px`,"--initial-height":D?"auto":`${Ht}px`,...F,...x.style},onDragEnd:()=>{ue(!1),re(null),ci.current=null},onPointerDown:Ke=>{jt||!sn||(it.current=new Date,Wt(Zr.current),Ke.target.setPointerCapture(Ke.pointerId),Ke.target.tagName!=="BUTTON"&&(ue(!0),ci.current={x:Ke.clientX,y:Ke.clientY}))},onPointerUp:()=>{var Ke,bt,Tt,ln;if(je||!sn)return;ci.current=null;let Yt=Number(((Ke=Et.current)==null?void 0:Ke.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Ln=Number(((bt=Et.current)==null?void 0:bt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Dr=new Date().getTime()-((Tt=it.current)==null?void 0:Tt.getTime()),Jn=te==="x"?Yt:Ln,Zi=Math.abs(Jn)/Dr;if(Math.abs(Jn)>=dG||Zi>.11){Wt(Zr.current),(ln=x.onDismiss)==null||ln.call(x,x),se(te==="x"?Yt>0?"right":"left":Ln>0?"down":"up"),on(),Re(!0),Me(!1);return}ue(!1),re(null)},onPointerMove:Ke=>{var bt,Tt,ln,Yt;if(!ci.current||!sn||((bt=window.getSelection())==null?void 0:bt.toString().length)>0)return;let Ln=Ke.clientY-ci.current.y,Dr=Ke.clientX-ci.current.x,Jn=(Tt=e.swipeDirections)!=null?Tt:hG(V);!te&&(Math.abs(Dr)>1||Math.abs(Ln)>1)&&re(Math.abs(Dr)>Math.abs(Ln)?"x":"y");let Zi={x:0,y:0};te==="y"?(Jn.includes("top")||Jn.includes("bottom"))&&(Jn.includes("top")&&Ln<0||Jn.includes("bottom")&&Ln>0)&&(Zi.y=Ln):te==="x"&&(Jn.includes("left")||Jn.includes("right"))&&(Jn.includes("left")&&Dr<0||Jn.includes("right")&&Dr>0)&&(Zi.x=Dr),(Math.abs(Zi.x)>0||Math.abs(Zi.y)>0)&&Me(!0),(ln=Et.current)==null||ln.style.setProperty("--swipe-amount-x",`${Zi.x}px`),(Yt=Et.current)==null||Yt.style.setProperty("--swipe-amount-y",`${Zi.y}px`)}},On&&!x.jsx?Z.createElement("button",{"aria-label":J,"data-disabled":jt,"data-close-button":!0,onClick:jt||!sn?()=>{}:()=>{var Ke;on(),(Ke=x.onDismiss)==null||Ke.call(x,x)},className:Da(Q?.closeButton,(i=x?.classNames)==null?void 0:i.closeButton)},(a=ne?.close)!=null?a:XK):null,x.jsx||S.isValidElement(x.title)?x.jsx?x.jsx:typeof x.title=="function"?x.title():x.title:Z.createElement(Z.Fragment,null,pt||x.icon||x.promise?Z.createElement("div",{"data-icon":"",className:Da(Q?.icon,(s=x?.classNames)==null?void 0:s.icon)},x.promise||x.type==="loading"&&!x.icon?x.icon||Tn():null,x.type!=="loading"?x.icon||ne?.[pt]||WK(pt):null):null,Z.createElement("div",{"data-content":"",className:Da(Q?.content,(l=x?.classNames)==null?void 0:l.content)},Z.createElement("div",{"data-title":"",className:Da(Q?.title,(c=x?.classNames)==null?void 0:c.title)},typeof x.title=="function"?x.title():x.title),x.description?Z.createElement("div",{"data-description":"",className:Da(G,Yi,Q?.description,(f=x?.classNames)==null?void 0:f.description)},typeof x.description=="function"?x.description():x.description):null),S.isValidElement(x.cancel)?x.cancel:x.cancel&&Xg(x.cancel)?Z.createElement("button",{"data-button":!0,"data-cancel":!0,style:x.cancelButtonStyle||H,onClick:Ke=>{var bt,Tt;Xg(x.cancel)&&sn&&((Tt=(bt=x.cancel).onClick)==null||Tt.call(bt,Ke),on())},className:Da(Q?.cancelButton,(p=x?.classNames)==null?void 0:p.cancelButton)},x.cancel.label):null,S.isValidElement(x.action)?x.action:x.action&&Xg(x.action)?Z.createElement("button",{"data-button":!0,"data-action":!0,style:x.actionButtonStyle||B,onClick:Ke=>{var bt,Tt;Xg(x.action)&&((Tt=(bt=x.action).onClick)==null||Tt.call(bt,Ke),!Ke.defaultPrevented&&on())},className:Da(Q?.actionButton,(m=x?.classNames)==null?void 0:m.actionButton)},x.action.label):null))};function vA(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function mG(e,t){let n={};return[e,t].forEach((r,i)=>{let a=i===1,s=a?"--mobile-offset":"--offset",l=a?lG:oG;function c(f){["top","right","bottom","left"].forEach(p=>{n[`${s}-${p}`]=typeof f=="number"?`${f}px`:f})}typeof r=="number"||typeof r=="string"?c(r):typeof r=="object"?["top","right","bottom","left"].forEach(f=>{r[f]===void 0?n[`${s}-${f}`]=l:n[`${s}-${f}`]=typeof r[f]=="number"?`${r[f]}px`:r[f]}):c(l)}),n}var gG=S.forwardRef(function(e,t){let{invert:n,position:r="bottom-right",hotkey:i=["altKey","KeyT"],expand:a,closeButton:s,className:l,offset:c,mobileOffset:f,theme:p="light",richColors:m,duration:v,style:x,visibleToasts:_=sG,toastOptions:b,dir:w=vA(),gap:k=uG,loadingIcon:E,icons:P,containerAriaLabel:C="Notifications",pauseWhenPageIsHidden:O}=e,[R,M]=Z.useState([]),U=Z.useMemo(()=>Array.from(new Set([r].concat(R.filter(ee=>ee.position).map(ee=>ee.position)))),[R,r]),[F,H]=Z.useState([]),[B,$]=Z.useState(!1),[G,W]=Z.useState(!1),[V,K]=Z.useState(p!=="system"?p:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),q=Z.useRef(null),D=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),Q=Z.useRef(null),ne=Z.useRef(!1),J=Z.useCallback(ee=>{M(te=>{var re;return(re=te.find(ie=>ie.id===ee.id))!=null&&re.delete||yi.dismiss(ee.id),te.filter(({id:ie})=>ie!==ee.id)})},[]);return Z.useEffect(()=>yi.subscribe(ee=>{if(ee.dismiss){M(te=>te.map(re=>re.id===ee.id?{...re,delete:!0}:re));return}setTimeout(()=>{CB.flushSync(()=>{M(te=>{let re=te.findIndex(ie=>ie.id===ee.id);return re!==-1?[...te.slice(0,re),{...te[re],...ee},...te.slice(re+1)]:[ee,...te]})})})}),[]),Z.useEffect(()=>{if(p!=="system"){K(p);return}if(p==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?K("dark"):K("light")),typeof window>"u")return;let ee=window.matchMedia("(prefers-color-scheme: dark)");try{ee.addEventListener("change",({matches:te})=>{K(te?"dark":"light")})}catch{ee.addListener(({matches:re})=>{try{K(re?"dark":"light")}catch(ie){console.error(ie)}})}},[p]),Z.useEffect(()=>{R.length<=1&&$(!1)},[R]),Z.useEffect(()=>{let ee=te=>{var re,ie;i.every(se=>te[se]||te.code===se)&&($(!0),(re=q.current)==null||re.focus()),te.code==="Escape"&&(document.activeElement===q.current||(ie=q.current)!=null&&ie.contains(document.activeElement))&&$(!1)};return document.addEventListener("keydown",ee),()=>document.removeEventListener("keydown",ee)},[i]),Z.useEffect(()=>{if(q.current)return()=>{Q.current&&(Q.current.focus({preventScroll:!0}),Q.current=null,ne.current=!1)}},[q.current]),Z.createElement("section",{ref:t,"aria-label":`${C} ${D}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},U.map((ee,te)=>{var re;let[ie,se]=ee.split("-");return R.length?Z.createElement("ol",{key:ee,dir:w==="auto"?vA():w,tabIndex:-1,ref:q,className:l,"data-sonner-toaster":!0,"data-theme":V,"data-y-position":ie,"data-lifted":B&&R.length>1&&!a,"data-x-position":se,style:{"--front-toast-height":`${((re=F[0])==null?void 0:re.height)||0}px`,"--width":`${cG}px`,"--gap":`${k}px`,...x,...mG(c,f)},onBlur:oe=>{ne.current&&!oe.currentTarget.contains(oe.relatedTarget)&&(ne.current=!1,Q.current&&(Q.current.focus({preventScroll:!0}),Q.current=null))},onFocus:oe=>{oe.target instanceof HTMLElement&&oe.target.dataset.dismissible==="false"||ne.current||(ne.current=!0,Q.current=oe.relatedTarget)},onMouseEnter:()=>$(!0),onMouseMove:()=>$(!0),onMouseLeave:()=>{G||$(!1)},onDragEnd:()=>$(!1),onPointerDown:oe=>{oe.target instanceof HTMLElement&&oe.target.dataset.dismissible==="false"||W(!0)},onPointerUp:()=>W(!1)},R.filter(oe=>!oe.position&&te===0||oe.position===ee).map((oe,be)=>{var fe,xe;return Z.createElement(pG,{key:oe.id,icons:P,index:be,toast:oe,defaultRichColors:m,duration:(fe=b?.duration)!=null?fe:v,className:b?.className,descriptionClassName:b?.descriptionClassName,invert:n,visibleToasts:_,closeButton:(xe=b?.closeButton)!=null?xe:s,interacting:G,position:ee,style:b?.style,unstyled:b?.unstyled,classNames:b?.classNames,cancelButtonStyle:b?.cancelButtonStyle,actionButtonStyle:b?.actionButtonStyle,removeToast:J,toasts:R.filter(ce=>ce.position==oe.position),heights:F.filter(ce=>ce.position==oe.position),setHeights:H,expandByDefault:a,gap:k,loadingIcon:E,expanded:B,pauseWhenPageIsHidden:O,swipeDirections:e.swipeDirections})})):null}))});const vG=({...e})=>{const{theme:t="system"}=UK();return o.jsx(gG,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var yG=Rk[" useId ".trim().toString()]||(()=>{}),xG=0;function Wa(e){const[t,n]=S.useState(yG());return zn(()=>{n(r=>r??String(xG++))},[e]),t?`radix-${t}`:""}const bG=["top","right","bottom","left"],_l=Math.min,Bi=Math.max,qv=Math.round,Qg=Math.floor,ws=e=>({x:e,y:e}),wG={left:"right",right:"left",bottom:"top",top:"bottom"},_G={start:"end",end:"start"};function pN(e,t,n){return Bi(e,_l(t,n))}function go(e,t){return typeof e=="function"?e(t):e}function vo(e){return e.split("-")[0]}function gf(e){return e.split("-")[1]}function zk(e){return e==="x"?"y":"x"}function qk(e){return e==="y"?"height":"width"}const SG=new Set(["top","bottom"]);function ps(e){return SG.has(vo(e))?"y":"x"}function Uk(e){return zk(ps(e))}function jG(e,t,n){n===void 0&&(n=!1);const r=gf(e),i=Uk(e),a=qk(i);let s=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(s=Uv(s)),[s,Uv(s)]}function NG(e){const t=Uv(e);return[mN(e),t,mN(t)]}function mN(e){return e.replace(/start|end/g,t=>_G[t])}const yA=["left","right"],xA=["right","left"],PG=["top","bottom"],kG=["bottom","top"];function EG(e,t,n){switch(e){case"top":case"bottom":return n?t?xA:yA:t?yA:xA;case"left":case"right":return t?PG:kG;default:return[]}}function CG(e,t,n,r){const i=gf(e);let a=EG(vo(e),n==="start",r);return i&&(a=a.map(s=>s+"-"+i),t&&(a=a.concat(a.map(mN)))),a}function Uv(e){return e.replace(/left|right|bottom|top/g,t=>wG[t])}function OG(e){return{top:0,right:0,bottom:0,left:0,...e}}function x3(e){return typeof e!="number"?OG(e):{top:e,right:e,bottom:e,left:e}}function Wv(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function bA(e,t,n){let{reference:r,floating:i}=e;const a=ps(t),s=Uk(t),l=qk(s),c=vo(t),f=a==="y",p=r.x+r.width/2-i.width/2,m=r.y+r.height/2-i.height/2,v=r[l]/2-i[l]/2;let x;switch(c){case"top":x={x:p,y:r.y-i.height};break;case"bottom":x={x:p,y:r.y+r.height};break;case"right":x={x:r.x+r.width,y:m};break;case"left":x={x:r.x-i.width,y:m};break;default:x={x:r.x,y:r.y}}switch(gf(t)){case"start":x[s]-=v*(n&&f?-1:1);break;case"end":x[s]+=v*(n&&f?-1:1);break}return x}const TG=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:s}=n,l=a.filter(Boolean),c=await(s.isRTL==null?void 0:s.isRTL(t));let f=await s.getElementRects({reference:e,floating:t,strategy:i}),{x:p,y:m}=bA(f,r,c),v=r,x={},_=0;for(let b=0;b<l.length;b++){const{name:w,fn:k}=l[b],{x:E,y:P,data:C,reset:O}=await k({x:p,y:m,initialPlacement:r,placement:v,strategy:i,middlewareData:x,rects:f,platform:s,elements:{reference:e,floating:t}});p=E??p,m=P??m,x={...x,[w]:{...x[w],...C}},O&&_<=50&&(_++,typeof O=="object"&&(O.placement&&(v=O.placement),O.rects&&(f=O.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:i}):O.rects),{x:p,y:m}=bA(f,v,c)),b=-1)}return{x:p,y:m,placement:v,strategy:i,middlewareData:x}};async function op(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:a,rects:s,elements:l,strategy:c}=e,{boundary:f="clippingAncestors",rootBoundary:p="viewport",elementContext:m="floating",altBoundary:v=!1,padding:x=0}=go(t,e),_=x3(x),w=l[v?m==="floating"?"reference":"floating":m],k=Wv(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(w)))==null||n?w:w.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:f,rootBoundary:p,strategy:c})),E=m==="floating"?{x:r,y:i,width:s.floating.width,height:s.floating.height}:s.reference,P=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),C=await(a.isElement==null?void 0:a.isElement(P))?await(a.getScale==null?void 0:a.getScale(P))||{x:1,y:1}:{x:1,y:1},O=Wv(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:E,offsetParent:P,strategy:c}):E);return{top:(k.top-O.top+_.top)/C.y,bottom:(O.bottom-k.bottom+_.bottom)/C.y,left:(k.left-O.left+_.left)/C.x,right:(O.right-k.right+_.right)/C.x}}const AG=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:a,platform:s,elements:l,middlewareData:c}=t,{element:f,padding:p=0}=go(e,t)||{};if(f==null)return{};const m=x3(p),v={x:n,y:r},x=Uk(i),_=qk(x),b=await s.getDimensions(f),w=x==="y",k=w?"top":"left",E=w?"bottom":"right",P=w?"clientHeight":"clientWidth",C=a.reference[_]+a.reference[x]-v[x]-a.floating[_],O=v[x]-a.reference[x],R=await(s.getOffsetParent==null?void 0:s.getOffsetParent(f));let M=R?R[P]:0;(!M||!await(s.isElement==null?void 0:s.isElement(R)))&&(M=l.floating[P]||a.floating[_]);const U=C/2-O/2,F=M/2-b[_]/2-1,H=_l(m[k],F),B=_l(m[E],F),$=H,G=M-b[_]-B,W=M/2-b[_]/2+U,V=pN($,W,G),K=!c.arrow&&gf(i)!=null&&W!==V&&a.reference[_]/2-(W<$?H:B)-b[_]/2<0,q=K?W<$?W-$:W-G:0;return{[x]:v[x]+q,data:{[x]:V,centerOffset:W-V-q,...K&&{alignmentOffset:q}},reset:K}}}),RG=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:a,rects:s,initialPlacement:l,platform:c,elements:f}=t,{mainAxis:p=!0,crossAxis:m=!0,fallbackPlacements:v,fallbackStrategy:x="bestFit",fallbackAxisSideDirection:_="none",flipAlignment:b=!0,...w}=go(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const k=vo(i),E=ps(l),P=vo(l)===l,C=await(c.isRTL==null?void 0:c.isRTL(f.floating)),O=v||(P||!b?[Uv(l)]:NG(l)),R=_!=="none";!v&&R&&O.push(...CG(l,b,_,C));const M=[l,...O],U=await op(t,w),F=[];let H=((r=a.flip)==null?void 0:r.overflows)||[];if(p&&F.push(U[k]),m){const W=jG(i,s,C);F.push(U[W[0]],U[W[1]])}if(H=[...H,{placement:i,overflows:F}],!F.every(W=>W<=0)){var B,$;const W=(((B=a.flip)==null?void 0:B.index)||0)+1,V=M[W];if(V&&(!(m==="alignment"?E!==ps(V):!1)||H.every(D=>D.overflows[0]>0&&ps(D.placement)===E)))return{data:{index:W,overflows:H},reset:{placement:V}};let K=($=H.filter(q=>q.overflows[0]<=0).sort((q,D)=>q.overflows[1]-D.overflows[1])[0])==null?void 0:$.placement;if(!K)switch(x){case"bestFit":{var G;const q=(G=H.filter(D=>{if(R){const Q=ps(D.placement);return Q===E||Q==="y"}return!0}).map(D=>[D.placement,D.overflows.filter(Q=>Q>0).reduce((Q,ne)=>Q+ne,0)]).sort((D,Q)=>D[1]-Q[1])[0])==null?void 0:G[0];q&&(K=q);break}case"initialPlacement":K=l;break}if(i!==K)return{reset:{placement:K}}}return{}}}};function wA(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function _A(e){return bG.some(t=>e[t]>=0)}const MG=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...i}=go(e,t);switch(r){case"referenceHidden":{const a=await op(t,{...i,elementContext:"reference"}),s=wA(a,n.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:_A(s)}}}case"escaped":{const a=await op(t,{...i,altBoundary:!0}),s=wA(a,n.floating);return{data:{escapedOffsets:s,escaped:_A(s)}}}default:return{}}}}},b3=new Set(["left","top"]);async function DG(e,t){const{placement:n,platform:r,elements:i}=e,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),s=vo(n),l=gf(n),c=ps(n)==="y",f=b3.has(s)?-1:1,p=a&&c?-1:1,m=go(t,e);let{mainAxis:v,crossAxis:x,alignmentAxis:_}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return l&&typeof _=="number"&&(x=l==="end"?_*-1:_),c?{x:x*p,y:v*f}:{x:v*f,y:x*p}}const IG=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:a,placement:s,middlewareData:l}=t,c=await DG(t,e);return s===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:a+c.y,data:{...c,placement:s}}}}},LG=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:a=!0,crossAxis:s=!1,limiter:l={fn:w=>{let{x:k,y:E}=w;return{x:k,y:E}}},...c}=go(e,t),f={x:n,y:r},p=await op(t,c),m=ps(vo(i)),v=zk(m);let x=f[v],_=f[m];if(a){const w=v==="y"?"top":"left",k=v==="y"?"bottom":"right",E=x+p[w],P=x-p[k];x=pN(E,x,P)}if(s){const w=m==="y"?"top":"left",k=m==="y"?"bottom":"right",E=_+p[w],P=_-p[k];_=pN(E,_,P)}const b=l.fn({...t,[v]:x,[m]:_});return{...b,data:{x:b.x-n,y:b.y-r,enabled:{[v]:a,[m]:s}}}}}},$G=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:a,middlewareData:s}=t,{offset:l=0,mainAxis:c=!0,crossAxis:f=!0}=go(e,t),p={x:n,y:r},m=ps(i),v=zk(m);let x=p[v],_=p[m];const b=go(l,t),w=typeof b=="number"?{mainAxis:b,crossAxis:0}:{mainAxis:0,crossAxis:0,...b};if(c){const P=v==="y"?"height":"width",C=a.reference[v]-a.floating[P]+w.mainAxis,O=a.reference[v]+a.reference[P]-w.mainAxis;x<C?x=C:x>O&&(x=O)}if(f){var k,E;const P=v==="y"?"width":"height",C=b3.has(vo(i)),O=a.reference[m]-a.floating[P]+(C&&((k=s.offset)==null?void 0:k[m])||0)+(C?0:w.crossAxis),R=a.reference[m]+a.reference[P]+(C?0:((E=s.offset)==null?void 0:E[m])||0)-(C?w.crossAxis:0);_<O?_=O:_>R&&(_=R)}return{[v]:x,[m]:_}}}},BG=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:a,platform:s,elements:l}=t,{apply:c=()=>{},...f}=go(e,t),p=await op(t,f),m=vo(i),v=gf(i),x=ps(i)==="y",{width:_,height:b}=a.floating;let w,k;m==="top"||m==="bottom"?(w=m,k=v===(await(s.isRTL==null?void 0:s.isRTL(l.floating))?"start":"end")?"left":"right"):(k=m,w=v==="end"?"top":"bottom");const E=b-p.top-p.bottom,P=_-p.left-p.right,C=_l(b-p[w],E),O=_l(_-p[k],P),R=!t.middlewareData.shift;let M=C,U=O;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(U=P),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(M=E),R&&!v){const H=Bi(p.left,0),B=Bi(p.right,0),$=Bi(p.top,0),G=Bi(p.bottom,0);x?U=_-2*(H!==0||B!==0?H+B:Bi(p.left,p.right)):M=b-2*($!==0||G!==0?$+G:Bi(p.top,p.bottom))}await c({...t,availableWidth:U,availableHeight:M});const F=await s.getDimensions(l.floating);return _!==F.width||b!==F.height?{reset:{rects:!0}}:{}}}};function yx(){return typeof window<"u"}function vf(e){return w3(e)?(e.nodeName||"").toLowerCase():"#document"}function Hi(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ks(e){var t;return(t=(w3(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function w3(e){return yx()?e instanceof Node||e instanceof Hi(e).Node:!1}function Ga(e){return yx()?e instanceof Element||e instanceof Hi(e).Element:!1}function js(e){return yx()?e instanceof HTMLElement||e instanceof Hi(e).HTMLElement:!1}function SA(e){return!yx()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Hi(e).ShadowRoot}const FG=new Set(["inline","contents"]);function sm(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=Ya(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!FG.has(i)}const zG=new Set(["table","td","th"]);function qG(e){return zG.has(vf(e))}const UG=[":popover-open",":modal"];function xx(e){return UG.some(t=>{try{return e.matches(t)}catch{return!1}})}const WG=["transform","translate","scale","rotate","perspective"],HG=["transform","translate","scale","rotate","perspective","filter"],VG=["paint","layout","strict","content"];function Wk(e){const t=Hk(),n=Ga(e)?Ya(e):e;return WG.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||HG.some(r=>(n.willChange||"").includes(r))||VG.some(r=>(n.contain||"").includes(r))}function KG(e){let t=Sl(e);for(;js(t)&&!Td(t);){if(Wk(t))return t;if(xx(t))return null;t=Sl(t)}return null}function Hk(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const GG=new Set(["html","body","#document"]);function Td(e){return GG.has(vf(e))}function Ya(e){return Hi(e).getComputedStyle(e)}function bx(e){return Ga(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Sl(e){if(vf(e)==="html")return e;const t=e.assignedSlot||e.parentNode||SA(e)&&e.host||ks(e);return SA(t)?t.host:t}function _3(e){const t=Sl(e);return Td(t)?e.ownerDocument?e.ownerDocument.body:e.body:js(t)&&sm(t)?t:_3(t)}function lp(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=_3(e),a=i===((r=e.ownerDocument)==null?void 0:r.body),s=Hi(i);if(a){const l=gN(s);return t.concat(s,s.visualViewport||[],sm(i)?i:[],l&&n?lp(l):[])}return t.concat(i,lp(i,[],n))}function gN(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function S3(e){const t=Ya(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=js(e),a=i?e.offsetWidth:n,s=i?e.offsetHeight:r,l=qv(n)!==a||qv(r)!==s;return l&&(n=a,r=s),{width:n,height:r,$:l}}function Vk(e){return Ga(e)?e:e.contextElement}function yd(e){const t=Vk(e);if(!js(t))return ws(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:a}=S3(t);let s=(a?qv(n.width):n.width)/r,l=(a?qv(n.height):n.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!l||!Number.isFinite(l))&&(l=1),{x:s,y:l}}const YG=ws(0);function j3(e){const t=Hi(e);return!Hk()||!t.visualViewport?YG:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function ZG(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Hi(e)?!1:t}function Tc(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),a=Vk(e);let s=ws(1);t&&(r?Ga(r)&&(s=yd(r)):s=yd(e));const l=ZG(a,n,r)?j3(a):ws(0);let c=(i.left+l.x)/s.x,f=(i.top+l.y)/s.y,p=i.width/s.x,m=i.height/s.y;if(a){const v=Hi(a),x=r&&Ga(r)?Hi(r):r;let _=v,b=gN(_);for(;b&&r&&x!==_;){const w=yd(b),k=b.getBoundingClientRect(),E=Ya(b),P=k.left+(b.clientLeft+parseFloat(E.paddingLeft))*w.x,C=k.top+(b.clientTop+parseFloat(E.paddingTop))*w.y;c*=w.x,f*=w.y,p*=w.x,m*=w.y,c+=P,f+=C,_=Hi(b),b=gN(_)}}return Wv({width:p,height:m,x:c,y:f})}function Kk(e,t){const n=bx(e).scrollLeft;return t?t.left+n:Tc(ks(e)).left+n}function N3(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),i=r.left+t.scrollLeft-(n?0:Kk(e,r)),a=r.top+t.scrollTop;return{x:i,y:a}}function XG(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const a=i==="fixed",s=ks(r),l=t?xx(t.floating):!1;if(r===s||l&&a)return n;let c={scrollLeft:0,scrollTop:0},f=ws(1);const p=ws(0),m=js(r);if((m||!m&&!a)&&((vf(r)!=="body"||sm(s))&&(c=bx(r)),js(r))){const x=Tc(r);f=yd(r),p.x=x.x+r.clientLeft,p.y=x.y+r.clientTop}const v=s&&!m&&!a?N3(s,c,!0):ws(0);return{width:n.width*f.x,height:n.height*f.y,x:n.x*f.x-c.scrollLeft*f.x+p.x+v.x,y:n.y*f.y-c.scrollTop*f.y+p.y+v.y}}function QG(e){return Array.from(e.getClientRects())}function JG(e){const t=ks(e),n=bx(e),r=e.ownerDocument.body,i=Bi(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=Bi(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+Kk(e);const l=-n.scrollTop;return Ya(r).direction==="rtl"&&(s+=Bi(t.clientWidth,r.clientWidth)-i),{width:i,height:a,x:s,y:l}}function eY(e,t){const n=Hi(e),r=ks(e),i=n.visualViewport;let a=r.clientWidth,s=r.clientHeight,l=0,c=0;if(i){a=i.width,s=i.height;const f=Hk();(!f||f&&t==="fixed")&&(l=i.offsetLeft,c=i.offsetTop)}return{width:a,height:s,x:l,y:c}}const tY=new Set(["absolute","fixed"]);function nY(e,t){const n=Tc(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,a=js(e)?yd(e):ws(1),s=e.clientWidth*a.x,l=e.clientHeight*a.y,c=i*a.x,f=r*a.y;return{width:s,height:l,x:c,y:f}}function jA(e,t,n){let r;if(t==="viewport")r=eY(e,n);else if(t==="document")r=JG(ks(e));else if(Ga(t))r=nY(t,n);else{const i=j3(e);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return Wv(r)}function P3(e,t){const n=Sl(e);return n===t||!Ga(n)||Td(n)?!1:Ya(n).position==="fixed"||P3(n,t)}function rY(e,t){const n=t.get(e);if(n)return n;let r=lp(e,[],!1).filter(l=>Ga(l)&&vf(l)!=="body"),i=null;const a=Ya(e).position==="fixed";let s=a?Sl(e):e;for(;Ga(s)&&!Td(s);){const l=Ya(s),c=Wk(s);!c&&l.position==="fixed"&&(i=null),(a?!c&&!i:!c&&l.position==="static"&&!!i&&tY.has(i.position)||sm(s)&&!c&&P3(e,s))?r=r.filter(p=>p!==s):i=l,s=Sl(s)}return t.set(e,r),r}function iY(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const s=[...n==="clippingAncestors"?xx(t)?[]:rY(t,this._c):[].concat(n),r],l=s[0],c=s.reduce((f,p)=>{const m=jA(t,p,i);return f.top=Bi(m.top,f.top),f.right=_l(m.right,f.right),f.bottom=_l(m.bottom,f.bottom),f.left=Bi(m.left,f.left),f},jA(t,l,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function aY(e){const{width:t,height:n}=S3(e);return{width:t,height:n}}function sY(e,t,n){const r=js(t),i=ks(t),a=n==="fixed",s=Tc(e,!0,a,t);let l={scrollLeft:0,scrollTop:0};const c=ws(0);function f(){c.x=Kk(i)}if(r||!r&&!a)if((vf(t)!=="body"||sm(i))&&(l=bx(t)),r){const x=Tc(t,!0,a,t);c.x=x.x+t.clientLeft,c.y=x.y+t.clientTop}else i&&f();a&&!r&&i&&f();const p=i&&!r&&!a?N3(i,l):ws(0),m=s.left+l.scrollLeft-c.x-p.x,v=s.top+l.scrollTop-c.y-p.y;return{x:m,y:v,width:s.width,height:s.height}}function hw(e){return Ya(e).position==="static"}function NA(e,t){if(!js(e)||Ya(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return ks(e)===n&&(n=n.ownerDocument.body),n}function k3(e,t){const n=Hi(e);if(xx(e))return n;if(!js(e)){let i=Sl(e);for(;i&&!Td(i);){if(Ga(i)&&!hw(i))return i;i=Sl(i)}return n}let r=NA(e,t);for(;r&&qG(r)&&hw(r);)r=NA(r,t);return r&&Td(r)&&hw(r)&&!Wk(r)?n:r||KG(e)||n}const oY=async function(e){const t=this.getOffsetParent||k3,n=this.getDimensions,r=await n(e.floating);return{reference:sY(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function lY(e){return Ya(e).direction==="rtl"}const cY={convertOffsetParentRelativeRectToViewportRelativeRect:XG,getDocumentElement:ks,getClippingRect:iY,getOffsetParent:k3,getElementRects:oY,getClientRects:QG,getDimensions:aY,getScale:yd,isElement:Ga,isRTL:lY};function E3(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function uY(e,t){let n=null,r;const i=ks(e);function a(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function s(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const f=e.getBoundingClientRect(),{left:p,top:m,width:v,height:x}=f;if(l||t(),!v||!x)return;const _=Qg(m),b=Qg(i.clientWidth-(p+v)),w=Qg(i.clientHeight-(m+x)),k=Qg(p),P={rootMargin:-_+"px "+-b+"px "+-w+"px "+-k+"px",threshold:Bi(0,_l(1,c))||1};let C=!0;function O(R){const M=R[0].intersectionRatio;if(M!==c){if(!C)return s();M?s(!1,M):r=setTimeout(()=>{s(!1,1e-7)},1e3)}M===1&&!E3(f,e.getBoundingClientRect())&&s(),C=!1}try{n=new IntersectionObserver(O,{...P,root:i.ownerDocument})}catch{n=new IntersectionObserver(O,P)}n.observe(e)}return s(!0),a}function dY(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,f=Vk(e),p=i||a?[...f?lp(f):[],...lp(t)]:[];p.forEach(k=>{i&&k.addEventListener("scroll",n,{passive:!0}),a&&k.addEventListener("resize",n)});const m=f&&l?uY(f,n):null;let v=-1,x=null;s&&(x=new ResizeObserver(k=>{let[E]=k;E&&E.target===f&&x&&(x.unobserve(t),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var P;(P=x)==null||P.observe(t)})),n()}),f&&!c&&x.observe(f),x.observe(t));let _,b=c?Tc(e):null;c&&w();function w(){const k=Tc(e);b&&!E3(b,k)&&n(),b=k,_=requestAnimationFrame(w)}return n(),()=>{var k;p.forEach(E=>{i&&E.removeEventListener("scroll",n),a&&E.removeEventListener("resize",n)}),m?.(),(k=x)==null||k.disconnect(),x=null,c&&cancelAnimationFrame(_)}}const fY=IG,hY=LG,pY=RG,mY=BG,gY=MG,PA=AG,vY=$G,yY=(e,t,n)=>{const r=new Map,i={platform:cY,...n},a={...i.platform,_c:r};return TG(e,t,{...i,platform:a})};var xY=typeof document<"u",bY=function(){},Dv=xY?S.useLayoutEffect:bY;function Hv(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Hv(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const a=i[r];if(!(a==="_owner"&&e.$$typeof)&&!Hv(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function C3(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function kA(e,t){const n=C3(e);return Math.round(t*n)/n}function pw(e){const t=S.useRef(e);return Dv(()=>{t.current=e}),t}function wY(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:a,floating:s}={},transform:l=!0,whileElementsMounted:c,open:f}=e,[p,m]=S.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[v,x]=S.useState(r);Hv(v,r)||x(r);const[_,b]=S.useState(null),[w,k]=S.useState(null),E=S.useCallback(D=>{D!==R.current&&(R.current=D,b(D))},[]),P=S.useCallback(D=>{D!==M.current&&(M.current=D,k(D))},[]),C=a||_,O=s||w,R=S.useRef(null),M=S.useRef(null),U=S.useRef(p),F=c!=null,H=pw(c),B=pw(i),$=pw(f),G=S.useCallback(()=>{if(!R.current||!M.current)return;const D={placement:t,strategy:n,middleware:v};B.current&&(D.platform=B.current),yY(R.current,M.current,D).then(Q=>{const ne={...Q,isPositioned:$.current!==!1};W.current&&!Hv(U.current,ne)&&(U.current=ne,Kc.flushSync(()=>{m(ne)}))})},[v,t,n,B,$]);Dv(()=>{f===!1&&U.current.isPositioned&&(U.current.isPositioned=!1,m(D=>({...D,isPositioned:!1})))},[f]);const W=S.useRef(!1);Dv(()=>(W.current=!0,()=>{W.current=!1}),[]),Dv(()=>{if(C&&(R.current=C),O&&(M.current=O),C&&O){if(H.current)return H.current(C,O,G);G()}},[C,O,G,H,F]);const V=S.useMemo(()=>({reference:R,floating:M,setReference:E,setFloating:P}),[E,P]),K=S.useMemo(()=>({reference:C,floating:O}),[C,O]),q=S.useMemo(()=>{const D={position:n,left:0,top:0};if(!K.floating)return D;const Q=kA(K.floating,p.x),ne=kA(K.floating,p.y);return l?{...D,transform:"translate("+Q+"px, "+ne+"px)",...C3(K.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:Q,top:ne}},[n,l,K.floating,p.x,p.y]);return S.useMemo(()=>({...p,update:G,refs:V,elements:K,floatingStyles:q}),[p,G,V,K,q])}const _Y=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?PA({element:r.current,padding:i}).fn(n):{}:r?PA({element:r,padding:i}).fn(n):{}}}},SY=(e,t)=>({...fY(e),options:[e,t]}),jY=(e,t)=>({...hY(e),options:[e,t]}),NY=(e,t)=>({...vY(e),options:[e,t]}),PY=(e,t)=>({...pY(e),options:[e,t]}),kY=(e,t)=>({...mY(e),options:[e,t]}),EY=(e,t)=>({...gY(e),options:[e,t]}),CY=(e,t)=>({..._Y(e),options:[e,t]});var OY="Arrow",O3=S.forwardRef((e,t)=>{const{children:n,width:r=10,height:i=5,...a}=e;return o.jsx(ze.svg,{...a,ref:t,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});O3.displayName=OY;var TY=O3;function wx(e){const[t,n]=S.useState(void 0);return zn(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let s,l;if("borderBoxSize"in a){const c=a.borderBoxSize,f=Array.isArray(c)?c[0]:c;s=f.inlineSize,l=f.blockSize}else s=e.offsetWidth,l=e.offsetHeight;n({width:s,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var Gk="Popper",[T3,Nl]=Ar(Gk),[AY,A3]=T3(Gk),R3=e=>{const{__scopePopper:t,children:n}=e,[r,i]=S.useState(null);return o.jsx(AY,{scope:t,anchor:r,onAnchorChange:i,children:n})};R3.displayName=Gk;var M3="PopperAnchor",D3=S.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...i}=e,a=A3(M3,n),s=S.useRef(null),l=dt(t,s);return S.useEffect(()=>{a.onAnchorChange(r?.current||s.current)}),r?null:o.jsx(ze.div,{...i,ref:l})});D3.displayName=M3;var Yk="PopperContent",[RY,MY]=T3(Yk),I3=S.forwardRef((e,t)=>{const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:a="center",alignOffset:s=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:f=[],collisionPadding:p=0,sticky:m="partial",hideWhenDetached:v=!1,updatePositionStrategy:x="optimized",onPlaced:_,...b}=e,w=A3(Yk,n),[k,E]=S.useState(null),P=dt(t,oe=>E(oe)),[C,O]=S.useState(null),R=wx(C),M=R?.width??0,U=R?.height??0,F=r+(a!=="center"?"-"+a:""),H=typeof p=="number"?p:{top:0,right:0,bottom:0,left:0,...p},B=Array.isArray(f)?f:[f],$=B.length>0,G={padding:H,boundary:B.filter(IY),altBoundary:$},{refs:W,floatingStyles:V,placement:K,isPositioned:q,middlewareData:D}=wY({strategy:"fixed",placement:F,whileElementsMounted:(...oe)=>dY(...oe,{animationFrame:x==="always"}),elements:{reference:w.anchor},middleware:[SY({mainAxis:i+U,alignmentAxis:s}),c&&jY({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?NY():void 0,...G}),c&&PY({...G}),kY({...G,apply:({elements:oe,rects:be,availableWidth:fe,availableHeight:xe})=>{const{width:ce,height:ue}=be.reference,je=oe.floating.style;je.setProperty("--radix-popper-available-width",`${fe}px`),je.setProperty("--radix-popper-available-height",`${xe}px`),je.setProperty("--radix-popper-anchor-width",`${ce}px`),je.setProperty("--radix-popper-anchor-height",`${ue}px`)}}),C&&CY({element:C,padding:l}),LY({arrowWidth:M,arrowHeight:U}),v&&EY({strategy:"referenceHidden",...G})]}),[Q,ne]=B3(K),J=In(_);zn(()=>{q&&J?.()},[q,J]);const ee=D.arrow?.x,te=D.arrow?.y,re=D.arrow?.centerOffset!==0,[ie,se]=S.useState();return zn(()=>{k&&se(window.getComputedStyle(k).zIndex)},[k]),o.jsx("div",{ref:W.setFloating,"data-radix-popper-content-wrapper":"",style:{...V,transform:q?V.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ie,"--radix-popper-transform-origin":[D.transformOrigin?.x,D.transformOrigin?.y].join(" "),...D.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:o.jsx(RY,{scope:n,placedSide:Q,onArrowChange:O,arrowX:ee,arrowY:te,shouldHideArrow:re,children:o.jsx(ze.div,{"data-side":Q,"data-align":ne,...b,ref:P,style:{...b.style,animation:q?void 0:"none"}})})})});I3.displayName=Yk;var L3="PopperArrow",DY={top:"bottom",right:"left",bottom:"top",left:"right"},$3=S.forwardRef(function(t,n){const{__scopePopper:r,...i}=t,a=MY(L3,r),s=DY[a.placedSide];return o.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:o.jsx(TY,{...i,ref:n,style:{...i.style,display:"block"}})})});$3.displayName=L3;function IY(e){return e!==null}var LY=e=>({name:"transformOrigin",options:e,fn(t){const{placement:n,rects:r,middlewareData:i}=t,s=i.arrow?.centerOffset!==0,l=s?0:e.arrowWidth,c=s?0:e.arrowHeight,[f,p]=B3(n),m={start:"0%",center:"50%",end:"100%"}[p],v=(i.arrow?.x??0)+l/2,x=(i.arrow?.y??0)+c/2;let _="",b="";return f==="bottom"?(_=s?m:`${v}px`,b=`${-c}px`):f==="top"?(_=s?m:`${v}px`,b=`${r.floating.height+c}px`):f==="right"?(_=`${-c}px`,b=s?m:`${x}px`):f==="left"&&(_=`${r.floating.width+c}px`,b=s?m:`${x}px`),{data:{x:_,y:b}}}});function B3(e){const[t,n="center"]=e.split("-");return[t,n]}var Zk=R3,om=D3,_x=I3,Sx=$3,[jx]=Ar("Tooltip",[Nl]),Xk=Nl(),F3="TooltipProvider",$Y=700,EA="tooltip.open",[BY,z3]=jx(F3),q3=e=>{const{__scopeTooltip:t,delayDuration:n=$Y,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:a}=e,s=S.useRef(!0),l=S.useRef(!1),c=S.useRef(0);return S.useEffect(()=>{const f=c.current;return()=>window.clearTimeout(f)},[]),o.jsx(BY,{scope:t,isOpenDelayedRef:s,delayDuration:n,onOpen:S.useCallback(()=>{window.clearTimeout(c.current),s.current=!1},[]),onClose:S.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>s.current=!0,r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:S.useCallback(f=>{l.current=f},[]),disableHoverableContent:i,children:a})};q3.displayName=F3;var U3="Tooltip",[qke,Nx]=jx(U3),vN="TooltipTrigger",FY=S.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=Nx(vN,n),a=z3(vN,n),s=Xk(n),l=S.useRef(null),c=dt(t,l,i.onTriggerChange),f=S.useRef(!1),p=S.useRef(!1),m=S.useCallback(()=>f.current=!1,[]);return S.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),o.jsx(om,{asChild:!0,...s,children:o.jsx(ze.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:c,onPointerMove:Ae(e.onPointerMove,v=>{v.pointerType!=="touch"&&!p.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),p.current=!0)}),onPointerLeave:Ae(e.onPointerLeave,()=>{i.onTriggerLeave(),p.current=!1}),onPointerDown:Ae(e.onPointerDown,()=>{i.open&&i.onClose(),f.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:Ae(e.onFocus,()=>{f.current||i.onOpen()}),onBlur:Ae(e.onBlur,i.onClose),onClick:Ae(e.onClick,i.onClose)})})});FY.displayName=vN;var zY="TooltipPortal",[Uke,qY]=jx(zY,{forceMount:void 0}),Ad="TooltipContent",W3=S.forwardRef((e,t)=>{const n=qY(Ad,e.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...a}=e,s=Nx(Ad,e.__scopeTooltip);return o.jsx(_r,{present:r||s.open,children:s.disableHoverableContent?o.jsx(H3,{side:i,...a,ref:t}):o.jsx(UY,{side:i,...a,ref:t})})}),UY=S.forwardRef((e,t)=>{const n=Nx(Ad,e.__scopeTooltip),r=z3(Ad,e.__scopeTooltip),i=S.useRef(null),a=dt(t,i),[s,l]=S.useState(null),{trigger:c,onClose:f}=n,p=i.current,{onPointerInTransitChange:m}=r,v=S.useCallback(()=>{l(null),m(!1)},[m]),x=S.useCallback((_,b)=>{const w=_.currentTarget,k={x:_.clientX,y:_.clientY},E=GY(k,w.getBoundingClientRect()),P=YY(k,E),C=ZY(b.getBoundingClientRect()),O=QY([...P,...C]);l(O),m(!0)},[m]);return S.useEffect(()=>()=>v(),[v]),S.useEffect(()=>{if(c&&p){const _=w=>x(w,p),b=w=>x(w,c);return c.addEventListener("pointerleave",_),p.addEventListener("pointerleave",b),()=>{c.removeEventListener("pointerleave",_),p.removeEventListener("pointerleave",b)}}},[c,p,x,v]),S.useEffect(()=>{if(s){const _=b=>{const w=b.target,k={x:b.clientX,y:b.clientY},E=c?.contains(w)||p?.contains(w),P=!XY(k,s);E?v():P&&(v(),f())};return document.addEventListener("pointermove",_),()=>document.removeEventListener("pointermove",_)}},[c,p,s,f,v]),o.jsx(H3,{...e,ref:a})}),[WY,HY]=jx(U3,{isInside:!1}),VY=I7("TooltipContent"),H3=S.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:s,...l}=e,c=Nx(Ad,n),f=Xk(n),{onClose:p}=c;return S.useEffect(()=>(document.addEventListener(EA,p),()=>document.removeEventListener(EA,p)),[p]),S.useEffect(()=>{if(c.trigger){const m=v=>{v.target?.contains(c.trigger)&&p()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[c.trigger,p]),o.jsx(Gc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:s,onFocusOutside:m=>m.preventDefault(),onDismiss:p,children:o.jsxs(_x,{"data-state":c.stateAttribute,...f,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[o.jsx(VY,{children:r}),o.jsx(WY,{scope:n,isInside:!0,children:o.jsx(i9,{id:c.contentId,role:"tooltip",children:i||r})})]})})});W3.displayName=Ad;var V3="TooltipArrow",KY=S.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=Xk(n);return HY(V3,n).isInside?null:o.jsx(Sx,{...i,...r,ref:t})});KY.displayName=V3;function GY(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(n,r,i,a)){case a:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function YY(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function ZY(e){const{top:t,right:n,bottom:r,left:i}=e;return[{x:i,y:t},{x:n,y:t},{x:n,y:r},{x:i,y:r}]}function XY(e,t){const{x:n,y:r}=e;let i=!1;for(let a=0,s=t.length-1;a<t.length;s=a++){const l=t[a],c=t[s],f=l.x,p=l.y,m=c.x,v=c.y;p>r!=v>r&&n<(m-f)*(r-p)/(v-p)+f&&(i=!i)}return i}function QY(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),JY(t)}function JY(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const i=e[r];for(;t.length>=2;){const a=t[t.length-1],s=t[t.length-2];if((a.x-s.x)*(i.y-s.y)>=(a.y-s.y)*(i.x-s.x))t.pop();else break}t.push(i)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const i=e[r];for(;n.length>=2;){const a=n[n.length-1],s=n[n.length-2];if((a.x-s.x)*(i.y-s.y)>=(a.y-s.y)*(i.x-s.x))n.pop();else break}n.push(i)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var eZ=q3,K3=W3;const tZ=eZ,nZ=S.forwardRef(({className:e,sideOffset:t=4,...n},r)=>o.jsx(K3,{ref:r,sideOffset:t,className:qe("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));nZ.displayName=K3.displayName;var yf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Ac=typeof window>"u"||"Deno"in globalThis;function ni(){}function rZ(e,t){return typeof e=="function"?e(t):e}function yN(e){return typeof e=="number"&&e>=0&&e!==1/0}function G3(e,t){return Math.max(e+(t||0)-Date.now(),0)}function gl(e,t){return typeof e=="function"?e(t):e}function fa(e,t){return typeof e=="function"?e(t):e}function CA(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:a,queryKey:s,stale:l}=e;if(s){if(r){if(t.queryHash!==Qk(s,t.options))return!1}else if(!cp(t.queryKey,s))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||i&&i!==t.state.fetchStatus||a&&!a(t))}function OA(e,t){const{exact:n,status:r,predicate:i,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(n){if(Rc(t.options.mutationKey)!==Rc(a))return!1}else if(!cp(t.options.mutationKey,a))return!1}return!(r&&t.state.status!==r||i&&!i(t))}function Qk(e,t){return(t?.queryKeyHashFn||Rc)(e)}function Rc(e){return JSON.stringify(e,(t,n)=>xN(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function cp(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>cp(e[n],t[n])):!1}function Y3(e,t){if(e===t)return e;const n=TA(e)&&TA(t);if(n||xN(e)&&xN(t)){const r=n?e:Object.keys(e),i=r.length,a=n?t:Object.keys(t),s=a.length,l=n?[]:{},c=new Set(r);let f=0;for(let p=0;p<s;p++){const m=n?p:a[p];(!n&&c.has(m)||n)&&e[m]===void 0&&t[m]===void 0?(l[m]=void 0,f++):(l[m]=Y3(e[m],t[m]),l[m]===e[m]&&e[m]!==void 0&&f++)}return i===s&&f===i?e:l}return t}function Vv(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function TA(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function xN(e){if(!AA(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!AA(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function AA(e){return Object.prototype.toString.call(e)==="[object Object]"}function iZ(e){return new Promise(t=>{setTimeout(t,e)})}function bN(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?Y3(e,t):t}function aZ(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function sZ(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var Jk=Symbol();function Z3(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===Jk?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function X3(e,t){return typeof e=="function"?e(...t):!!e}var oZ=class extends yf{#t;#e;#n;constructor(){super(),this.#n=e=>{if(!Ac&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#e||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(e){this.#n=e,this.#e?.(),this.#e=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#t!==e&&(this.#t=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#t=="boolean"?this.#t:globalThis.document?.visibilityState!=="hidden"}},eE=new oZ,lZ=class extends yf{#t=!0;#e;#n;constructor(){super(),this.#n=e=>{if(!Ac&&window.addEventListener){const t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#e||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(e){this.#n=e,this.#e?.(),this.#e=e(this.setOnline.bind(this))}setOnline(e){this.#t!==e&&(this.#t=e,this.listeners.forEach(n=>{n(e)}))}isOnline(){return this.#t}},Kv=new lZ;function wN(){let e,t;const n=new Promise((i,a)=>{e=i,t=a});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),e(i)},n.reject=i=>{r({status:"rejected",reason:i}),t(i)},n}function cZ(e){return Math.min(1e3*2**e,3e4)}function Q3(e){return(e??"online")==="online"?Kv.isOnline():!0}var J3=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function mw(e){return e instanceof J3}function e5(e){let t=!1,n=0,r=!1,i;const a=wN(),s=b=>{r||(v(new J3(b)),e.abort?.())},l=()=>{t=!0},c=()=>{t=!1},f=()=>eE.isFocused()&&(e.networkMode==="always"||Kv.isOnline())&&e.canRun(),p=()=>Q3(e.networkMode)&&e.canRun(),m=b=>{r||(r=!0,e.onSuccess?.(b),i?.(),a.resolve(b))},v=b=>{r||(r=!0,e.onError?.(b),i?.(),a.reject(b))},x=()=>new Promise(b=>{i=w=>{(r||f())&&b(w)},e.onPause?.()}).then(()=>{i=void 0,r||e.onContinue?.()}),_=()=>{if(r)return;let b;const w=n===0?e.initialPromise:void 0;try{b=w??e.fn()}catch(k){b=Promise.reject(k)}Promise.resolve(b).then(m).catch(k=>{if(r)return;const E=e.retry??(Ac?0:3),P=e.retryDelay??cZ,C=typeof P=="function"?P(n,k):P,O=E===!0||typeof E=="number"&&n<E||typeof E=="function"&&E(n,k);if(t||!O){v(k);return}n++,e.onFail?.(n,k),iZ(C).then(()=>f()?void 0:x()).then(()=>{t?v(k):_()})})};return{promise:a,cancel:s,continue:()=>(i?.(),a),cancelRetry:l,continueRetry:c,canStart:p,start:()=>(p()?_():x().then(_),a)}}var uZ=e=>setTimeout(e,0);function dZ(){let e=[],t=0,n=l=>{l()},r=l=>{l()},i=uZ;const a=l=>{t?e.push(l):i(()=>{n(l)})},s=()=>{const l=e;e=[],l.length&&i(()=>{r(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||s()}return c},batchCalls:l=>(...c)=>{a(()=>{l(...c)})},schedule:a,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{i=l}}}var ur=dZ(),t5=class{#t;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),yN(this.gcTime)&&(this.#t=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Ac?1/0:300*1e3))}clearGcTimeout(){this.#t&&(clearTimeout(this.#t),this.#t=void 0)}},fZ=class extends t5{#t;#e;#n;#r;#i;#s;#o;constructor(e){super(),this.#o=!1,this.#s=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#r=e.client,this.#n=this.#r.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#t=hZ(this.options),this.state=e.state??this.#t,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#i?.promise}setOptions(e){this.options={...this.#s,...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,t){const n=bN(this.state.data,e,this.options);return this.#a({data:n,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),n}setState(e,t){this.#a({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#i?.promise;return this.#i?.cancel(e),t?t.then(ni).catch(ni):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#t)}isActive(){return this.observers.some(e=>fa(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Jk||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>gl(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!G3(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#i?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#i?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#i&&(this.#o?this.#i.cancel({revert:!0}):this.#i.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#a({type:"invalidate"})}fetch(e,t){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#i)return this.#i.continueRetry(),this.#i.promise}if(e&&this.setOptions(e),!this.options.queryFn){const c=this.observers.find(f=>f.options.queryFn);c&&this.setOptions(c.options)}const n=new AbortController,r=c=>{Object.defineProperty(c,"signal",{enumerable:!0,get:()=>(this.#o=!0,n.signal)})},i=()=>{const c=Z3(this.options,t),p=(()=>{const m={client:this.#r,queryKey:this.queryKey,meta:this.meta};return r(m),m})();return this.#o=!1,this.options.persister?this.options.persister(c,p,this):c(p)},s=(()=>{const c={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#r,state:this.state,fetchFn:i};return r(c),c})();this.options.behavior?.onFetch(s,this),this.#e=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==s.fetchOptions?.meta)&&this.#a({type:"fetch",meta:s.fetchOptions?.meta});const l=c=>{mw(c)&&c.silent||this.#a({type:"error",error:c}),mw(c)||(this.#n.config.onError?.(c,this),this.#n.config.onSettled?.(this.state.data,c,this)),this.scheduleGc()};return this.#i=e5({initialPromise:t?.initialPromise,fn:s.fetchFn,abort:n.abort.bind(n),onSuccess:c=>{if(c===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(c)}catch(f){l(f);return}this.#n.config.onSuccess?.(c,this),this.#n.config.onSettled?.(c,this.state.error,this),this.scheduleGc()},onError:l,onFail:(c,f)=>{this.#a({type:"failed",failureCount:c,error:f})},onPause:()=>{this.#a({type:"pause"})},onContinue:()=>{this.#a({type:"continue"})},retry:s.options.retry,retryDelay:s.options.retryDelay,networkMode:s.options.networkMode,canRun:()=>!0}),this.#i.start()}#a(e){const t=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...n5(n.data,this.options),fetchMeta:e.meta??null};case"success":return this.#e=void 0,{...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const r=e.error;return mw(r)&&r.revert&&this.#e?{...this.#e,fetchStatus:"idle"}:{...n,error:r,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=t(this.state),ur.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function n5(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Q3(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function hZ(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var pZ=class extends yf{constructor(e={}){super(),this.config=e,this.#t=new Map}#t;build(e,t,n){const r=t.queryKey,i=t.queryHash??Qk(r,t);let a=this.get(i);return a||(a=new fZ({client:e,queryKey:r,queryHash:i,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(r)}),this.add(a)),a}add(e){this.#t.has(e.queryHash)||(this.#t.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#t.get(e.queryHash);t&&(e.destroy(),t===e&&this.#t.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){ur.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#t.get(e)}getAll(){return[...this.#t.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(n=>CA(t,n))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(n=>CA(e,n)):t}notify(e){ur.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){ur.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){ur.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},mZ=class extends t5{#t;#e;#n;constructor(e){super(),this.mutationId=e.mutationId,this.#e=e.mutationCache,this.#t=[],this.state=e.state||r5(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#e.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#e.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#e.remove(this))}continue(){return this.#n?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#r({type:"continue"})};this.#n=e5({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(i,a)=>{this.#r({type:"failed",failureCount:i,error:a})},onPause:()=>{this.#r({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#e.canRun(this)});const n=this.state.status==="pending",r=!this.#n.canStart();try{if(n)t();else{this.#r({type:"pending",variables:e,isPaused:r}),await this.#e.config.onMutate?.(e,this);const a=await this.options.onMutate?.(e);a!==this.state.context&&this.#r({type:"pending",context:a,variables:e,isPaused:r})}const i=await this.#n.start();return await this.#e.config.onSuccess?.(i,e,this.state.context,this),await this.options.onSuccess?.(i,e,this.state.context),await this.#e.config.onSettled?.(i,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(i,null,e,this.state.context),this.#r({type:"success",data:i}),i}catch(i){try{throw await this.#e.config.onError?.(i,e,this.state.context,this),await this.options.onError?.(i,e,this.state.context),await this.#e.config.onSettled?.(void 0,i,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,i,e,this.state.context),i}finally{this.#r({type:"error",error:i})}}finally{this.#e.runNext(this)}}#r(e){const t=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),ur.batch(()=>{this.#t.forEach(n=>{n.onMutationUpdate(e)}),this.#e.notify({mutation:this,type:"updated",action:e})})}};function r5(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var gZ=class extends yf{constructor(e={}){super(),this.config=e,this.#t=new Set,this.#e=new Map,this.#n=0}#t;#e;#n;build(e,t,n){const r=new mZ({mutationCache:this,mutationId:++this.#n,options:e.defaultMutationOptions(t),state:n});return this.add(r),r}add(e){this.#t.add(e);const t=Jg(e);if(typeof t=="string"){const n=this.#e.get(t);n?n.push(e):this.#e.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#t.delete(e)){const t=Jg(e);if(typeof t=="string"){const n=this.#e.get(t);if(n)if(n.length>1){const r=n.indexOf(e);r!==-1&&n.splice(r,1)}else n[0]===e&&this.#e.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=Jg(e);if(typeof t=="string"){const r=this.#e.get(t)?.find(i=>i.state.status==="pending");return!r||r===e}else return!0}runNext(e){const t=Jg(e);return typeof t=="string"?this.#e.get(t)?.find(r=>r!==e&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){ur.batch(()=>{this.#t.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#t.clear(),this.#e.clear()})}getAll(){return Array.from(this.#t)}find(e){const t={exact:!0,...e};return this.getAll().find(n=>OA(t,n))}findAll(e={}){return this.getAll().filter(t=>OA(e,t))}notify(e){ur.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return ur.batch(()=>Promise.all(e.map(t=>t.continue().catch(ni))))}};function Jg(e){return e.options.scope?.id}function RA(e){return{onFetch:(t,n)=>{const r=t.options,i=t.fetchOptions?.meta?.fetchMore?.direction,a=t.state.data?.pages||[],s=t.state.data?.pageParams||[];let l={pages:[],pageParams:[]},c=0;const f=async()=>{let p=!1;const m=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(t.signal.aborted?p=!0:t.signal.addEventListener("abort",()=>{p=!0}),t.signal)})},v=Z3(t.options,t.fetchOptions),x=async(_,b,w)=>{if(p)return Promise.reject();if(b==null&&_.pages.length)return Promise.resolve(_);const E=(()=>{const R={client:t.client,queryKey:t.queryKey,pageParam:b,direction:w?"backward":"forward",meta:t.options.meta};return m(R),R})(),P=await v(E),{maxPages:C}=t.options,O=w?sZ:aZ;return{pages:O(_.pages,P,C),pageParams:O(_.pageParams,b,C)}};if(i&&a.length){const _=i==="backward",b=_?vZ:MA,w={pages:a,pageParams:s},k=b(r,w);l=await x(w,k,_)}else{const _=e??a.length;do{const b=c===0?s[0]??r.initialPageParam:MA(r,l);if(c>0&&b==null)break;l=await x(l,b),c++}while(c<_)}return l};t.options.persister?t.fetchFn=()=>t.options.persister?.(f,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n):t.fetchFn=f}}}function MA(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function vZ(e,{pages:t,pageParams:n}){return t.length>0?e.getPreviousPageParam?.(t[0],t,n[0],n):void 0}var yZ=class{#t;#e;#n;#r;#i;#s;#o;#a;constructor(e={}){this.#t=e.queryCache||new pZ,this.#e=e.mutationCache||new gZ,this.#n=e.defaultOptions||{},this.#r=new Map,this.#i=new Map,this.#s=0}mount(){this.#s++,this.#s===1&&(this.#o=eE.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#t.onFocus())}),this.#a=Kv.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#t.onOnline())}))}unmount(){this.#s--,this.#s===0&&(this.#o?.(),this.#o=void 0,this.#a?.(),this.#a=void 0)}isFetching(e){return this.#t.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#e.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#t.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=this.#t.build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(gl(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return this.#t.findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),a=this.#t.get(r.queryHash)?.state.data,s=rZ(t,a);if(s!==void 0)return this.#t.build(this,r).setData(s,{...n,manual:!0})}setQueriesData(e,t,n){return ur.batch(()=>this.#t.findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#t.get(t.queryHash)?.state}removeQueries(e){const t=this.#t;ur.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=this.#t;return ur.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=ur.batch(()=>this.#t.findAll(e).map(i=>i.cancel(n)));return Promise.all(r).then(ni).catch(ni)}invalidateQueries(e,t={}){return ur.batch(()=>(this.#t.findAll(e).forEach(n=>{n.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=ur.batch(()=>this.#t.findAll(e).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let a=i.fetch(void 0,n);return n.throwOnError||(a=a.catch(ni)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(ni)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=this.#t.build(this,t);return n.isStaleByTime(gl(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(ni).catch(ni)}fetchInfiniteQuery(e){return e.behavior=RA(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(ni).catch(ni)}ensureInfiniteQueryData(e){return e.behavior=RA(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Kv.isOnline()?this.#e.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#t}getMutationCache(){return this.#e}getDefaultOptions(){return this.#n}setDefaultOptions(e){this.#n=e}setQueryDefaults(e,t){this.#r.set(Rc(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#r.values()],n={};return t.forEach(r=>{cp(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){this.#i.set(Rc(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#i.values()],n={};return t.forEach(r=>{cp(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#n.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Qk(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Jk&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#n.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#t.clear(),this.#e.clear()}},xZ=class extends yf{constructor(e,t){super(),this.options=t,this.#t=e,this.#a=null,this.#o=wN(),this.options.experimental_prefetchInRender||this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}#t;#e=void 0;#n=void 0;#r=void 0;#i;#s;#o;#a;#m;#f;#h;#c;#u;#l;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#e.addObserver(this),DA(this.#e,this.options)?this.#d():this.updateResult(),this.#x())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return _N(this.#e,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return _N(this.#e,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#w(),this.#e.removeObserver(this)}setOptions(e){const t=this.options,n=this.#e;if(this.options=this.#t.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof fa(this.options.enabled,this.#e)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#_(),this.#e.setOptions(this.options),t._defaulted&&!Vv(this.options,t)&&this.#t.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#e,observer:this});const r=this.hasListeners();r&&IA(this.#e,n,this.options,t)&&this.#d(),this.updateResult(),r&&(this.#e!==n||fa(this.options.enabled,this.#e)!==fa(t.enabled,this.#e)||gl(this.options.staleTime,this.#e)!==gl(t.staleTime,this.#e))&&this.#g();const i=this.#v();r&&(this.#e!==n||fa(this.options.enabled,this.#e)!==fa(t.enabled,this.#e)||i!==this.#l)&&this.#y(i)}getOptimisticResult(e){const t=this.#t.getQueryCache().build(this.#t,e),n=this.createResult(t,e);return wZ(this,n)&&(this.#r=n,this.#s=this.options,this.#i=this.#e.state),n}getCurrentResult(){return this.#r}trackResult(e,t){return new Proxy(e,{get:(n,r)=>(this.trackProp(r),t?.(r),Reflect.get(n,r))})}trackProp(e){this.#p.add(e)}getCurrentQuery(){return this.#e}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#t.defaultQueryOptions(e),n=this.#t.getQueryCache().build(this.#t,t);return n.fetch().then(()=>this.createResult(n,t))}fetch(e){return this.#d({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#r))}#d(e){this.#_();let t=this.#e.fetch(this.options,e);return e?.throwOnError||(t=t.catch(ni)),t}#g(){this.#b();const e=gl(this.options.staleTime,this.#e);if(Ac||this.#r.isStale||!yN(e))return;const n=G3(this.#r.dataUpdatedAt,e)+1;this.#c=setTimeout(()=>{this.#r.isStale||this.updateResult()},n)}#v(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#e):this.options.refetchInterval)??!1}#y(e){this.#w(),this.#l=e,!(Ac||fa(this.options.enabled,this.#e)===!1||!yN(this.#l)||this.#l===0)&&(this.#u=setInterval(()=>{(this.options.refetchIntervalInBackground||eE.isFocused())&&this.#d()},this.#l))}#x(){this.#g(),this.#y(this.#v())}#b(){this.#c&&(clearTimeout(this.#c),this.#c=void 0)}#w(){this.#u&&(clearInterval(this.#u),this.#u=void 0)}createResult(e,t){const n=this.#e,r=this.options,i=this.#r,a=this.#i,s=this.#s,c=e!==n?e.state:this.#n,{state:f}=e;let p={...f},m=!1,v;if(t._optimisticResults){const U=this.hasListeners(),F=!U&&DA(e,t),H=U&&IA(e,n,t,r);(F||H)&&(p={...p,...n5(f.data,e.options)}),t._optimisticResults==="isRestoring"&&(p.fetchStatus="idle")}let{error:x,errorUpdatedAt:_,status:b}=p;v=p.data;let w=!1;if(t.placeholderData!==void 0&&v===void 0&&b==="pending"){let U;i?.isPlaceholderData&&t.placeholderData===s?.placeholderData?(U=i.data,w=!0):U=typeof t.placeholderData=="function"?t.placeholderData(this.#h?.state.data,this.#h):t.placeholderData,U!==void 0&&(b="success",v=bN(i?.data,U,t),m=!0)}if(t.select&&v!==void 0&&!w)if(i&&v===a?.data&&t.select===this.#m)v=this.#f;else try{this.#m=t.select,v=t.select(v),v=bN(i?.data,v,t),this.#f=v,this.#a=null}catch(U){this.#a=U}this.#a&&(x=this.#a,v=this.#f,_=Date.now(),b="error");const k=p.fetchStatus==="fetching",E=b==="pending",P=b==="error",C=E&&k,O=v!==void 0,M={status:b,fetchStatus:p.fetchStatus,isPending:E,isSuccess:b==="success",isError:P,isInitialLoading:C,isLoading:C,data:v,dataUpdatedAt:p.dataUpdatedAt,error:x,errorUpdatedAt:_,failureCount:p.fetchFailureCount,failureReason:p.fetchFailureReason,errorUpdateCount:p.errorUpdateCount,isFetched:p.dataUpdateCount>0||p.errorUpdateCount>0,isFetchedAfterMount:p.dataUpdateCount>c.dataUpdateCount||p.errorUpdateCount>c.errorUpdateCount,isFetching:k,isRefetching:k&&!E,isLoadingError:P&&!O,isPaused:p.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:P&&O,isStale:tE(e,t),refetch:this.refetch,promise:this.#o,isEnabled:fa(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const U=B=>{M.status==="error"?B.reject(M.error):M.data!==void 0&&B.resolve(M.data)},F=()=>{const B=this.#o=M.promise=wN();U(B)},H=this.#o;switch(H.status){case"pending":e.queryHash===n.queryHash&&U(H);break;case"fulfilled":(M.status==="error"||M.data!==H.value)&&F();break;case"rejected":(M.status!=="error"||M.error!==H.reason)&&F();break}}return M}updateResult(){const e=this.#r,t=this.createResult(this.#e,this.options);if(this.#i=this.#e.state,this.#s=this.options,this.#i.data!==void 0&&(this.#h=this.#e),Vv(t,e))return;this.#r=t;const n=()=>{if(!e)return!0;const{notifyOnChangeProps:r}=this.options,i=typeof r=="function"?r():r;if(i==="all"||!i&&!this.#p.size)return!0;const a=new Set(i??this.#p);return this.options.throwOnError&&a.add("error"),Object.keys(this.#r).some(s=>{const l=s;return this.#r[l]!==e[l]&&a.has(l)})};this.#S({listeners:n()})}#_(){const e=this.#t.getQueryCache().build(this.#t,this.options);if(e===this.#e)return;const t=this.#e;this.#e=e,this.#n=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#x()}#S(e){ur.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#r)}),this.#t.getQueryCache().notify({query:this.#e,type:"observerResultsUpdated"})})}};function bZ(e,t){return fa(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function DA(e,t){return bZ(e,t)||e.state.data!==void 0&&_N(e,t,t.refetchOnMount)}function _N(e,t,n){if(fa(t.enabled,e)!==!1&&gl(t.staleTime,e)!=="static"){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&tE(e,t)}return!1}function IA(e,t,n,r){return(e!==t||fa(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&tE(e,n)}function tE(e,t){return fa(t.enabled,e)!==!1&&e.isStaleByTime(gl(t.staleTime,e))}function wZ(e,t){return!Vv(e.getCurrentResult(),t)}var _Z=class extends yf{#t;#e=void 0;#n;#r;constructor(t,n){super(),this.#t=t,this.setOptions(n),this.bindMethods(),this.#i()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){const n=this.options;this.options=this.#t.defaultMutationOptions(t),Vv(this.options,n)||this.#t.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),n?.mutationKey&&this.options.mutationKey&&Rc(n.mutationKey)!==Rc(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(t){this.#i(),this.#s(t)}getCurrentResult(){return this.#e}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#i(),this.#s()}mutate(t,n){return this.#r=n,this.#n?.removeObserver(this),this.#n=this.#t.getMutationCache().build(this.#t,this.options),this.#n.addObserver(this),this.#n.execute(t)}#i(){const t=this.#n?.state??r5();this.#e={...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset}}#s(t){ur.batch(()=>{if(this.#r&&this.hasListeners()){const n=this.#e.variables,r=this.#e.context;t?.type==="success"?(this.#r.onSuccess?.(t.data,n,r),this.#r.onSettled?.(t.data,null,n,r)):t?.type==="error"&&(this.#r.onError?.(t.error,n,r),this.#r.onSettled?.(void 0,t.error,n,r))}this.listeners.forEach(n=>{n(this.#e)})})}},i5=S.createContext(void 0),nE=e=>{const t=S.useContext(i5);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},SZ=({client:e,children:t})=>(S.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),o.jsx(i5.Provider,{value:e,children:t})),a5=S.createContext(!1),jZ=()=>S.useContext(a5);a5.Provider;function NZ(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var PZ=S.createContext(NZ()),kZ=()=>S.useContext(PZ),EZ=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},CZ=e=>{S.useEffect(()=>{e.clearReset()},[e])},OZ=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:i})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(i&&e.data===void 0||X3(n,[e.error,r])),TZ=e=>{if(e.suspense){const t=r=>r==="static"?r:Math.max(r??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...r)=>t(n(...r)):t(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},AZ=(e,t)=>e.isLoading&&e.isFetching&&!t,RZ=(e,t)=>e?.suspense&&t.isPending,LA=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function MZ(e,t,n){const r=jZ(),i=kZ(),a=nE(),s=a.defaultQueryOptions(e);a.getDefaultOptions().queries?._experimental_beforeQuery?.(s),s._optimisticResults=r?"isRestoring":"optimistic",TZ(s),EZ(s,i),CZ(i);const l=!a.getQueryCache().get(s.queryHash),[c]=S.useState(()=>new t(a,s)),f=c.getOptimisticResult(s),p=!r&&e.subscribed!==!1;if(S.useSyncExternalStore(S.useCallback(m=>{const v=p?c.subscribe(ur.batchCalls(m)):ni;return c.updateResult(),v},[c,p]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),S.useEffect(()=>{c.setOptions(s)},[s,c]),RZ(s,f))throw LA(s,c,i);if(OZ({result:f,errorResetBoundary:i,throwOnError:s.throwOnError,query:a.getQueryCache().get(s.queryHash),suspense:s.suspense}))throw f.error;return a.getDefaultOptions().queries?._experimental_afterQuery?.(s,f),s.experimental_prefetchInRender&&!Ac&&AZ(f,r)&&(l?LA(s,c,i):a.getQueryCache().get(s.queryHash)?.promise)?.catch(ni).finally(()=>{c.updateResult()}),s.notifyOnChangeProps?f:c.trackResult(f)}function Tr(e,t){return MZ(e,xZ)}function DZ(e,t){const n=nE(),[r]=S.useState(()=>new _Z(n,e));S.useEffect(()=>{r.setOptions(e)},[r,e]);const i=S.useSyncExternalStore(S.useCallback(s=>r.subscribe(ur.batchCalls(s)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),a=S.useCallback((s,l)=>{r.mutate(s,l).catch(ni)},[r]);if(i.error&&X3(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:a,mutateAsync:i.mutate}}const s5=new yZ;function up(){return up=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},up.apply(this,arguments)}var pl;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(pl||(pl={}));const $A="popstate";function IZ(e){e===void 0&&(e={});function t(i,a){let{pathname:s="/",search:l="",hash:c=""}=Yc(i.location.hash.substr(1));return!s.startsWith("/")&&!s.startsWith(".")&&(s="/"+s),SN("",{pathname:s,search:l,hash:c},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){let s=i.document.querySelector("base"),l="";if(s&&s.getAttribute("href")){let c=i.location.href,f=c.indexOf("#");l=f===-1?c:c.slice(0,f)}return l+"#"+(typeof a=="string"?a:Gv(a))}function r(i,a){rE(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(a)+")")}return $Z(t,n,r,e)}function Xn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function rE(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function LZ(){return Math.random().toString(36).substr(2,8)}function BA(e,t){return{usr:e.state,key:e.key,idx:t}}function SN(e,t,n,r){return n===void 0&&(n=null),up({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Yc(t):t,{state:n,key:t&&t.key||r||LZ()})}function Gv(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Yc(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function $Z(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,s=i.history,l=pl.Pop,c=null,f=p();f==null&&(f=0,s.replaceState(up({},s.state,{idx:f}),""));function p(){return(s.state||{idx:null}).idx}function m(){l=pl.Pop;let w=p(),k=w==null?null:w-f;f=w,c&&c({action:l,location:b.location,delta:k})}function v(w,k){l=pl.Push;let E=SN(b.location,w,k);n&&n(E,w),f=p()+1;let P=BA(E,f),C=b.createHref(E);try{s.pushState(P,"",C)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;i.location.assign(C)}a&&c&&c({action:l,location:b.location,delta:1})}function x(w,k){l=pl.Replace;let E=SN(b.location,w,k);n&&n(E,w),f=p();let P=BA(E,f),C=b.createHref(E);s.replaceState(P,"",C),a&&c&&c({action:l,location:b.location,delta:0})}function _(w){let k=i.location.origin!=="null"?i.location.origin:i.location.href,E=typeof w=="string"?w:Gv(w);return E=E.replace(/ $/,"%20"),Xn(k,"No window.location.(origin|href) available to create URL for href: "+E),new URL(E,k)}let b={get action(){return l},get location(){return e(i,s)},listen(w){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener($A,m),c=w,()=>{i.removeEventListener($A,m),c=null}},createHref(w){return t(i,w)},createURL:_,encodeLocation(w){let k=_(w);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:v,replace:x,go(w){return s.go(w)}};return b}var FA;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(FA||(FA={}));function BZ(e,t,n){return n===void 0&&(n="/"),FZ(e,t,n)}function FZ(e,t,n,r){let i=typeof t=="string"?Yc(t):t,a=iE(i.pathname||"/",n);if(a==null)return null;let s=o5(e);zZ(s);let l=null;for(let c=0;l==null&&c<s.length;++c){let f=JZ(a);l=ZZ(s[c],f)}return l}function o5(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(a,s,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};c.relativePath.startsWith("/")&&(Xn(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let f=vl([r,c.relativePath]),p=n.concat(c);a.children&&a.children.length>0&&(Xn(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),o5(a.children,t,p,f)),!(a.path==null&&!a.index)&&t.push({path:f,score:GZ(f,a.index),routesMeta:p})};return e.forEach((a,s)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))i(a,s);else for(let c of l5(a.path))i(a,s,c)}),t}function l5(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let s=l5(r.join("/")),l=[];return l.push(...s.map(c=>c===""?a:[a,c].join("/"))),i&&l.push(...s),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function zZ(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:YZ(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const qZ=/^:[\w-]+$/,UZ=3,WZ=2,HZ=1,VZ=10,KZ=-2,zA=e=>e==="*";function GZ(e,t){let n=e.split("/"),r=n.length;return n.some(zA)&&(r+=KZ),t&&(r+=WZ),n.filter(i=>!zA(i)).reduce((i,a)=>i+(qZ.test(a)?UZ:a===""?HZ:VZ),r)}function YZ(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function ZZ(e,t,n){let{routesMeta:r}=e,i={},a="/",s=[];for(let l=0;l<r.length;++l){let c=r[l],f=l===r.length-1,p=a==="/"?t:t.slice(a.length)||"/",m=XZ({path:c.relativePath,caseSensitive:c.caseSensitive,end:f},p),v=c.route;if(!m)return null;Object.assign(i,m.params),s.push({params:i,pathname:vl([a,m.pathname]),pathnameBase:rX(vl([a,m.pathnameBase])),route:v}),m.pathnameBase!=="/"&&(a=vl([a,m.pathnameBase]))}return s}function XZ(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=QZ(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((f,p,m)=>{let{paramName:v,isOptional:x}=p;if(v==="*"){let b=l[m]||"";s=a.slice(0,a.length-b.length).replace(/(.)\/+$/,"$1")}const _=l[m];return x&&!_?f[v]=void 0:f[v]=(_||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:s,pattern:e}}function QZ(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),rE(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function JZ(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return rE(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function iE(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function eX(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Yc(e):e;return{pathname:n?n.startsWith("/")?n:tX(n,t):t,search:iX(r),hash:aX(i)}}function tX(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function gw(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function nX(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function c5(e,t){let n=nX(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function u5(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=Yc(e):(i=up({},e),Xn(!i.pathname||!i.pathname.includes("?"),gw("?","pathname","search",i)),Xn(!i.pathname||!i.pathname.includes("#"),gw("#","pathname","hash",i)),Xn(!i.search||!i.search.includes("#"),gw("#","search","hash",i)));let a=e===""||i.pathname==="",s=a?"/":i.pathname,l;if(s==null)l=n;else{let m=t.length-1;if(!r&&s.startsWith("..")){let v=s.split("/");for(;v[0]==="..";)v.shift(),m-=1;i.pathname=v.join("/")}l=m>=0?t[m]:"/"}let c=eX(i,l),f=s&&s!=="/"&&s.endsWith("/"),p=(a||s===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(f||p)&&(c.pathname+="/"),c}const vl=e=>e.join("/").replace(/\/\/+/g,"/"),rX=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),iX=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,aX=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function sX(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const d5=["post","put","patch","delete"];new Set(d5);const oX=["get",...d5];new Set(oX);function dp(){return dp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dp.apply(this,arguments)}const aE=S.createContext(null),lX=S.createContext(null),Zc=S.createContext(null),Px=S.createContext(null),Pl=S.createContext({outlet:null,matches:[],isDataRoute:!1}),f5=S.createContext(null);function cX(e,t){let{relative:n}=t===void 0?{}:t;lm()||Xn(!1);let{basename:r,navigator:i}=S.useContext(Zc),{hash:a,pathname:s,search:l}=m5(e,{relative:n}),c=s;return r!=="/"&&(c=s==="/"?r:vl([r,s])),i.createHref({pathname:c,search:l,hash:a})}function lm(){return S.useContext(Px)!=null}function Xc(){return lm()||Xn(!1),S.useContext(Px).location}function h5(e){S.useContext(Zc).static||S.useLayoutEffect(e)}function pr(){let{isDataRoute:e}=S.useContext(Pl);return e?_X():uX()}function uX(){lm()||Xn(!1);let e=S.useContext(aE),{basename:t,future:n,navigator:r}=S.useContext(Zc),{matches:i}=S.useContext(Pl),{pathname:a}=Xc(),s=JSON.stringify(c5(i,n.v7_relativeSplatPath)),l=S.useRef(!1);return h5(()=>{l.current=!0}),S.useCallback(function(f,p){if(p===void 0&&(p={}),!l.current)return;if(typeof f=="number"){r.go(f);return}let m=u5(f,JSON.parse(s),a,p.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:vl([t,m.pathname])),(p.replace?r.replace:r.push)(m,p.state,p)},[t,r,s,a,e])}function p5(){let{matches:e}=S.useContext(Pl),t=e[e.length-1];return t?t.params:{}}function m5(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=S.useContext(Zc),{matches:i}=S.useContext(Pl),{pathname:a}=Xc(),s=JSON.stringify(c5(i,r.v7_relativeSplatPath));return S.useMemo(()=>u5(e,JSON.parse(s),a,n==="path"),[e,s,a,n])}function dX(e,t){return fX(e,t)}function fX(e,t,n,r){lm()||Xn(!1);let{navigator:i}=S.useContext(Zc),{matches:a}=S.useContext(Pl),s=a[a.length-1],l=s?s.params:{};s&&s.pathname;let c=s?s.pathnameBase:"/";s&&s.route;let f=Xc(),p;if(t){var m;let w=typeof t=="string"?Yc(t):t;c==="/"||(m=w.pathname)!=null&&m.startsWith(c)||Xn(!1),p=w}else p=f;let v=p.pathname||"/",x=v;if(c!=="/"){let w=c.replace(/^\//,"").split("/");x="/"+v.replace(/^\//,"").split("/").slice(w.length).join("/")}let _=BZ(e,{pathname:x}),b=vX(_&&_.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:vl([c,i.encodeLocation?i.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?c:vl([c,i.encodeLocation?i.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),a,n,r);return t&&b?S.createElement(Px.Provider,{value:{location:dp({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:pl.Pop}},b):b}function hX(){let e=wX(),t=sX(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},t),n?S.createElement("pre",{style:i},n):null,null)}const pX=S.createElement(hX,null);class mX extends S.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?S.createElement(Pl.Provider,{value:this.props.routeContext},S.createElement(f5.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function gX(e){let{routeContext:t,match:n,children:r}=e,i=S.useContext(aE);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),S.createElement(Pl.Provider,{value:t},r)}function vX(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var a;if(!n)return null;if(n.errors)e=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let s=e,l=(i=n)==null?void 0:i.errors;if(l!=null){let p=s.findIndex(m=>m.route.id&&l?.[m.route.id]!==void 0);p>=0||Xn(!1),s=s.slice(0,Math.min(s.length,p+1))}let c=!1,f=-1;if(n&&r&&r.v7_partialHydration)for(let p=0;p<s.length;p++){let m=s[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(f=p),m.route.id){let{loaderData:v,errors:x}=n,_=m.route.loader&&v[m.route.id]===void 0&&(!x||x[m.route.id]===void 0);if(m.route.lazy||_){c=!0,f>=0?s=s.slice(0,f+1):s=[s[0]];break}}}return s.reduceRight((p,m,v)=>{let x,_=!1,b=null,w=null;n&&(x=l&&m.route.id?l[m.route.id]:void 0,b=m.route.errorElement||pX,c&&(f<0&&v===0?(SX("route-fallback"),_=!0,w=null):f===v&&(_=!0,w=m.route.hydrateFallbackElement||null)));let k=t.concat(s.slice(0,v+1)),E=()=>{let P;return x?P=b:_?P=w:m.route.Component?P=S.createElement(m.route.Component,null):m.route.element?P=m.route.element:P=p,S.createElement(gX,{match:m,routeContext:{outlet:p,matches:k,isDataRoute:n!=null},children:P})};return n&&(m.route.ErrorBoundary||m.route.errorElement||v===0)?S.createElement(mX,{location:n.location,revalidation:n.revalidation,component:b,error:x,children:E(),routeContext:{outlet:null,matches:k,isDataRoute:!0}}):E()},null)}var g5=(function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e})(g5||{}),v5=(function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e})(v5||{});function yX(e){let t=S.useContext(aE);return t||Xn(!1),t}function xX(e){let t=S.useContext(lX);return t||Xn(!1),t}function bX(e){let t=S.useContext(Pl);return t||Xn(!1),t}function y5(e){let t=bX(),n=t.matches[t.matches.length-1];return n.route.id||Xn(!1),n.route.id}function wX(){var e;let t=S.useContext(f5),n=xX(),r=y5();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function _X(){let{router:e}=yX(g5.UseNavigateStable),t=y5(v5.UseNavigateStable),n=S.useRef(!1);return h5(()=>{n.current=!0}),S.useCallback(function(i,a){a===void 0&&(a={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,dp({fromRouteId:t},a)))},[e,t])}const qA={};function SX(e,t,n){qA[e]||(qA[e]=!0)}function jX(e,t){e?.v7_startTransition,e?.v7_relativeSplatPath}function Mn(e){Xn(!1)}function NX(e){let{basename:t="/",children:n=null,location:r,navigationType:i=pl.Pop,navigator:a,static:s=!1,future:l}=e;lm()&&Xn(!1);let c=t.replace(/^\/*/,"/"),f=S.useMemo(()=>({basename:c,navigator:a,static:s,future:dp({v7_relativeSplatPath:!1},l)}),[c,l,a,s]);typeof r=="string"&&(r=Yc(r));let{pathname:p="/",search:m="",hash:v="",state:x=null,key:_="default"}=r,b=S.useMemo(()=>{let w=iE(p,c);return w==null?null:{location:{pathname:w,search:m,hash:v,state:x,key:_},navigationType:i}},[c,p,m,v,x,_,i]);return b==null?null:S.createElement(Zc.Provider,{value:f},S.createElement(Px.Provider,{children:n,value:b}))}function PX(e){let{children:t,location:n}=e;return dX(jN(t),n)}new Promise(()=>{});function jN(e,t){t===void 0&&(t=[]);let n=[];return S.Children.forEach(e,(r,i)=>{if(!S.isValidElement(r))return;let a=[...t,i];if(r.type===S.Fragment){n.push.apply(n,jN(r.props.children,a));return}r.type!==Mn&&Xn(!1),!r.props.index||!r.props.children||Xn(!1);let s={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=jN(r.props.children,a)),n.push(s)}),n}function NN(){return NN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},NN.apply(this,arguments)}function kX(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function EX(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function CX(e,t){return e.button===0&&(!t||t==="_self")&&!EX(e)}function PN(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function OX(e,t){let n=PN(e);return t&&t.forEach((r,i)=>{n.has(i)||t.getAll(i).forEach(a=>{n.append(i,a)})}),n}const TX=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],AX="6";try{window.__reactRouterVersion=AX}catch{}const RX="startTransition",UA=Rk[RX];function MX(e){let{basename:t,children:n,future:r,window:i}=e,a=S.useRef();a.current==null&&(a.current=IZ({window:i,v5Compat:!0}));let s=a.current,[l,c]=S.useState({action:s.action,location:s.location}),{v7_startTransition:f}=r||{},p=S.useCallback(m=>{f&&UA?UA(()=>c(m)):c(m)},[c,f]);return S.useLayoutEffect(()=>s.listen(p),[s,p]),S.useEffect(()=>jX(r),[r]),S.createElement(NX,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:s,future:r})}const DX=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",IX=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Rt=S.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:a,replace:s,state:l,target:c,to:f,preventScrollReset:p,viewTransition:m}=t,v=kX(t,TX),{basename:x}=S.useContext(Zc),_,b=!1;if(typeof f=="string"&&IX.test(f)&&(_=f,DX))try{let P=new URL(window.location.href),C=f.startsWith("//")?new URL(P.protocol+f):new URL(f),O=iE(C.pathname,x);C.origin===P.origin&&O!=null?f=O+C.search+C.hash:b=!0}catch{}let w=cX(f,{relative:i}),k=LX(f,{replace:s,state:l,target:c,preventScrollReset:p,relative:i,viewTransition:m});function E(P){r&&r(P),P.defaultPrevented||k(P)}return S.createElement("a",NN({},v,{href:_||w,onClick:b||a?r:E,ref:n,target:c}))});var WA;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(WA||(WA={}));var HA;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(HA||(HA={}));function LX(e,t){let{target:n,replace:r,state:i,preventScrollReset:a,relative:s,viewTransition:l}=t===void 0?{}:t,c=pr(),f=Xc(),p=m5(e,{relative:s});return S.useCallback(m=>{if(CX(m,n)){m.preventDefault();let v=r!==void 0?r:Gv(f)===Gv(p);c(e,{replace:v,state:i,preventScrollReset:a,relative:s,viewTransition:l})}},[f,c,p,r,i,n,e,a,s,l])}function $X(e){let t=S.useRef(PN(e)),n=S.useRef(!1),r=Xc(),i=S.useMemo(()=>OX(r.search,n.current?null:t.current),[r.search]),a=pr(),s=S.useCallback((l,c)=>{const f=PN(typeof l=="function"?l(i):l);n.current=!0,a("?"+f,c)},[a,i]);return[i,s]}const x5=S.createContext(void 0);function BX({children:e}){const[t,n]=S.useState(()=>localStorage.getItem("theme")||"system"),[r,i]=S.useState("light");return S.useEffect(()=>{const a=window.document.documentElement,s=()=>window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",l=p=>{const m=p==="system"?s():p;i(m),a.classList.remove("light","dark"),a.classList.add(m),localStorage.setItem("theme",p)};l(t);const c=window.matchMedia("(prefers-color-scheme: dark)"),f=()=>{t==="system"&&l("system")};return c.addEventListener("change",f),()=>c.removeEventListener("change",f)},[t]),o.jsx(x5.Provider,{value:{theme:t,setTheme:n,resolvedTheme:r},children:e})}function FX(){const e=S.useContext(x5);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e}var kN=function(e,t){return kN=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},kN(e,t)};function b5(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");kN(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var pa=function(){return pa=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},pa.apply(this,arguments)};function kl(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function w5(e,t,n,r){var i=arguments.length,a=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(s=e[l])&&(a=(i<3?s(a):i>3?s(t,n,a):s(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function _5(e,t){return function(n,r){t(n,r,e)}}function S5(e,t,n,r,i,a){function s(k){if(k!==void 0&&typeof k!="function")throw new TypeError("Function expected");return k}for(var l=r.kind,c=l==="getter"?"get":l==="setter"?"set":"value",f=!t&&e?r.static?e:e.prototype:null,p=t||(f?Object.getOwnPropertyDescriptor(f,r.name):{}),m,v=!1,x=n.length-1;x>=0;x--){var _={};for(var b in r)_[b]=b==="access"?{}:r[b];for(var b in r.access)_.access[b]=r.access[b];_.addInitializer=function(k){if(v)throw new TypeError("Cannot add initializers after decoration has completed");a.push(s(k||null))};var w=(0,n[x])(l==="accessor"?{get:p.get,set:p.set}:p[c],_);if(l==="accessor"){if(w===void 0)continue;if(w===null||typeof w!="object")throw new TypeError("Object expected");(m=s(w.get))&&(p.get=m),(m=s(w.set))&&(p.set=m),(m=s(w.init))&&i.unshift(m)}else(m=s(w))&&(l==="field"?i.unshift(m):p[c]=m)}f&&Object.defineProperty(f,r.name,p),v=!0}function j5(e,t,n){for(var r=arguments.length>2,i=0;i<t.length;i++)n=r?t[i].call(e,n):t[i].call(e);return r?n:void 0}function N5(e){return typeof e=="symbol"?e:"".concat(e)}function P5(e,t,n){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function k5(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function He(e,t,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function l(p){try{f(r.next(p))}catch(m){s(m)}}function c(p){try{f(r.throw(p))}catch(m){s(m)}}function f(p){p.done?a(p.value):i(p.value).then(l,c)}f((r=r.apply(e,t||[])).next())})}function E5(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=l(0),s.throw=l(1),s.return=l(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function l(f){return function(p){return c([f,p])}}function c(f){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,f[0]&&(n=0)),n;)try{if(r=1,i&&(a=f[0]&2?i.return:f[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,f[1])).done)return a;switch(i=0,a&&(f=[f[0]&2,a.value]),f[0]){case 0:case 1:a=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,i=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!a||f[1]>a[0]&&f[1]<a[3])){n.label=f[1];break}if(f[0]===6&&n.label<a[1]){n.label=a[1],a=f;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(f);break}a[2]&&n.ops.pop(),n.trys.pop();continue}f=t.call(e,n)}catch(p){f=[6,p],i=0}finally{r=a=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}var kx=Object.create?(function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}):(function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]});function C5(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&kx(t,e,n)}function Yv(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function sE(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,a=[],s;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(l){s={error:l}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return a}function O5(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(sE(arguments[t]));return e}function T5(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var a=arguments[t],s=0,l=a.length;s<l;s++,i++)r[i]=a[s];return r}function oE(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}function Rd(e){return this instanceof Rd?(this.v=e,this):new Rd(e)}function A5(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(x){return function(_){return Promise.resolve(_).then(x,m)}}function l(x,_){r[x]&&(i[x]=function(b){return new Promise(function(w,k){a.push([x,b,w,k])>1||c(x,b)})},_&&(i[x]=_(i[x])))}function c(x,_){try{f(r[x](_))}catch(b){v(a[0][3],b)}}function f(x){x.value instanceof Rd?Promise.resolve(x.value.v).then(p,m):v(a[0][2],x)}function p(x){c("next",x)}function m(x){c("throw",x)}function v(x,_){x(_),a.shift(),a.length&&c(a[0][0],a[0][1])}}function R5(e){var t,n;return t={},r("next"),r("throw",function(i){throw i}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(i,a){t[i]=e[i]?function(s){return(n=!n)?{value:Rd(e[i](s)),done:!1}:a?a(s):s}:a}}function M5(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof Yv=="function"?Yv(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=e[a]&&function(s){return new Promise(function(l,c){s=e[a](s),i(l,c,s.done,s.value)})}}function i(a,s,l,c){Promise.resolve(c).then(function(f){a({value:f,done:l})},s)}}function D5(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var zX=Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t},EN=function(e){return EN=Object.getOwnPropertyNames||function(t){var n=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[n.length]=r);return n},EN(e)};function I5(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=EN(e),r=0;r<n.length;r++)n[r]!=="default"&&kx(t,e,n[r]);return zX(t,e),t}function L5(e){return e&&e.__esModule?e:{default:e}}function $5(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)}function B5(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n}function F5(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function z5(e,t,n){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var r,i;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=t[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=t[Symbol.dispose],n&&(i=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");i&&(r=function(){try{i.call(this)}catch(a){return Promise.reject(a)}}),e.stack.push({value:t,dispose:r,async:n})}else n&&e.stack.push({async:!0});return t}var qX=typeof SuppressedError=="function"?SuppressedError:function(e,t,n){var r=new Error(n);return r.name="SuppressedError",r.error=e,r.suppressed=t,r};function q5(e){function t(a){e.error=e.hasError?new qX(a,e.error,"An error was suppressed during disposal."):a,e.hasError=!0}var n,r=0;function i(){for(;n=e.stack.pop();)try{if(!n.async&&r===1)return r=0,e.stack.push(n),Promise.resolve().then(i);if(n.dispose){var a=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(a).then(i,function(s){return t(s),i()})}else r|=1}catch(s){t(s)}if(r===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return i()}function U5(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,r,i,a,s){return r?t?".jsx":".js":i&&(!a||!s)?n:i+a+"."+s.toLowerCase()+"js"}):e}const UX={__extends:b5,__assign:pa,__rest:kl,__decorate:w5,__param:_5,__esDecorate:S5,__runInitializers:j5,__propKey:N5,__setFunctionName:P5,__metadata:k5,__awaiter:He,__generator:E5,__createBinding:kx,__exportStar:C5,__values:Yv,__read:sE,__spread:O5,__spreadArrays:T5,__spreadArray:oE,__await:Rd,__asyncGenerator:A5,__asyncDelegator:R5,__asyncValues:M5,__makeTemplateObject:D5,__importStar:I5,__importDefault:L5,__classPrivateFieldGet:$5,__classPrivateFieldSet:B5,__classPrivateFieldIn:F5,__addDisposableResource:z5,__disposeResources:q5,__rewriteRelativeImportExtension:U5},WX=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:z5,get __assign(){return pa},__asyncDelegator:R5,__asyncGenerator:A5,__asyncValues:M5,__await:Rd,__awaiter:He,__classPrivateFieldGet:$5,__classPrivateFieldIn:F5,__classPrivateFieldSet:B5,__createBinding:kx,__decorate:w5,__disposeResources:q5,__esDecorate:S5,__exportStar:C5,__extends:b5,__generator:E5,__importDefault:L5,__importStar:I5,__makeTemplateObject:D5,__metadata:k5,__param:_5,__propKey:N5,__read:sE,__rest:kl,__rewriteRelativeImportExtension:U5,__runInitializers:j5,__setFunctionName:P5,__spread:O5,__spreadArray:oE,__spreadArrays:T5,__values:Yv,default:UX},Symbol.toStringTag,{value:"Module"})),HX=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class lE extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class VX extends lE{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class VA extends lE{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class KA extends lE{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var CN;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(CN||(CN={}));class KX{constructor(t,{headers:n={},customFetch:r,region:i=CN.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=HX(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return He(this,arguments,void 0,function*(n,r={}){var i;let a,s;try{const{headers:l,method:c,body:f,signal:p,timeout:m}=r;let v={},{region:x}=r;x||(x=this.region);const _=new URL(`${this.url}/${n}`);x&&x!=="any"&&(v["x-region"]=x,_.searchParams.set("forceFunctionRegion",x));let b;f&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(v["Content-Type"]="application/octet-stream",b=f):typeof f=="string"?(v["Content-Type"]="text/plain",b=f):typeof FormData<"u"&&f instanceof FormData?b=f:(v["Content-Type"]="application/json",b=JSON.stringify(f)):b=f;let w=p;m&&(s=new AbortController,a=setTimeout(()=>s.abort(),m),p?(w=s.signal,p.addEventListener("abort",()=>s.abort())):w=s.signal);const k=yield this.fetch(_.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},v),this.headers),l),body:b,signal:w}).catch(O=>{throw new VX(O)}),E=k.headers.get("x-relay-error");if(E&&E==="true")throw new VA(k);if(!k.ok)throw new KA(k);let P=((i=k.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),C;return P==="application/json"?C=yield k.json():P==="application/octet-stream"||P==="application/pdf"?C=yield k.blob():P==="text/event-stream"?C=k:P==="multipart/form-data"?C=yield k.formData():C=yield k.text(),{data:C,error:null,response:k}}catch(l){return{data:null,error:l,response:l instanceof KA||l instanceof VA?l.context:void 0}}finally{a&&clearTimeout(a)}})}}var Wr={};const xf=y7(WX);var ev={},tv={},nv={},rv={},iv={},av={},GA;function W5(){if(GA)return av;GA=1,Object.defineProperty(av,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return av.default=e,av}var YA;function H5(){if(YA)return iv;YA=1,Object.defineProperty(iv,"__esModule",{value:!0});const t=xf.__importDefault(W5());class n{constructor(i){var a,s;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(a=i.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=i.signal,this.isMaybeSingle=(s=i.isMaybeSingle)!==null&&s!==void 0?s:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,a){return this.headers=new Headers(this.headers),this.headers.set(i,a),this}then(i,a){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const s=this.fetch;let l=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var f,p,m,v;let x=null,_=null,b=null,w=c.status,k=c.statusText;if(c.ok){if(this.method!=="HEAD"){const O=await c.text();O===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((f=this.headers.get("Accept"))===null||f===void 0)&&f.includes("application/vnd.pgrst.plan+text"))?_=O:_=JSON.parse(O))}const P=(p=this.headers.get("Prefer"))===null||p===void 0?void 0:p.match(/count=(exact|planned|estimated)/),C=(m=c.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");P&&C&&C.length>1&&(b=parseInt(C[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(_)&&(_.length>1?(x={code:"PGRST116",details:`Results contain ${_.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},_=null,b=null,w=406,k="Not Acceptable"):_.length===1?_=_[0]:_=null)}else{const P=await c.text();try{x=JSON.parse(P),Array.isArray(x)&&c.status===404&&(_=[],x=null,w=200,k="OK")}catch{c.status===404&&P===""?(w=204,k="No Content"):x={message:P}}if(x&&this.isMaybeSingle&&(!((v=x?.details)===null||v===void 0)&&v.includes("0 rows"))&&(x=null,w=200,k="OK"),x&&this.shouldThrowOnError)throw new t.default(x)}return{error:x,data:_,count:b,status:w,statusText:k}});return this.shouldThrowOnError||(l=l.catch(c=>{var f,p,m,v,x,_;let b="";const w=c?.cause;if(w){const k=(f=w?.message)!==null&&f!==void 0?f:"",E=(p=w?.code)!==null&&p!==void 0?p:"";b=`${(m=c?.name)!==null&&m!==void 0?m:"FetchError"}: ${c?.message}`,b+=`

Caused by: ${(v=w?.name)!==null&&v!==void 0?v:"Error"}: ${k}`,E&&(b+=` (${E})`),w?.stack&&(b+=`
${w.stack}`)}else b=(x=c?.stack)!==null&&x!==void 0?x:"";return{error:{message:`${(_=c?.name)!==null&&_!==void 0?_:"FetchError"}: ${c?.message}`,details:b,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),l.then(i,a)}returns(){return this}overrideTypes(){return this}}return iv.default=n,iv}var ZA;function V5(){if(ZA)return rv;ZA=1,Object.defineProperty(rv,"__esModule",{value:!0});const t=xf.__importDefault(H5());class n extends t.default{select(i){let a=!1;const s=(i??"*").split("").map(l=>/\s/.test(l)&&!a?"":(l==='"'&&(a=!a),l)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:a=!0,nullsFirst:s,foreignTable:l,referencedTable:c=l}={}){const f=c?`${c}.order`:"order",p=this.url.searchParams.get(f);return this.url.searchParams.set(f,`${p?`${p},`:""}${i}.${a?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:a,referencedTable:s=a}={}){const l=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(l,`${i}`),this}range(i,a,{foreignTable:s,referencedTable:l=s}={}){const c=typeof l>"u"?"offset":`${l}.offset`,f=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${i}`),this.url.searchParams.set(f,`${a-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:a=!1,settings:s=!1,buffers:l=!1,wal:c=!1,format:f="text"}={}){var p;const m=[i?"analyze":null,a?"verbose":null,s?"settings":null,l?"buffers":null,c?"wal":null].filter(Boolean).join("|"),v=(p=this.headers.get("Accept"))!==null&&p!==void 0?p:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${f}; for="${v}"; options=${m};`),f==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return rv.default=n,rv}var XA;function cE(){if(XA)return nv;XA=1,Object.defineProperty(nv,"__esModule",{value:!0});const t=xf.__importDefault(V5()),n=new RegExp("[,()]");class r extends t.default{eq(a,s){return this.url.searchParams.append(a,`eq.${s}`),this}neq(a,s){return this.url.searchParams.append(a,`neq.${s}`),this}gt(a,s){return this.url.searchParams.append(a,`gt.${s}`),this}gte(a,s){return this.url.searchParams.append(a,`gte.${s}`),this}lt(a,s){return this.url.searchParams.append(a,`lt.${s}`),this}lte(a,s){return this.url.searchParams.append(a,`lte.${s}`),this}like(a,s){return this.url.searchParams.append(a,`like.${s}`),this}likeAllOf(a,s){return this.url.searchParams.append(a,`like(all).{${s.join(",")}}`),this}likeAnyOf(a,s){return this.url.searchParams.append(a,`like(any).{${s.join(",")}}`),this}ilike(a,s){return this.url.searchParams.append(a,`ilike.${s}`),this}ilikeAllOf(a,s){return this.url.searchParams.append(a,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(a,s){return this.url.searchParams.append(a,`ilike(any).{${s.join(",")}}`),this}regexMatch(a,s){return this.url.searchParams.append(a,`match.${s}`),this}regexIMatch(a,s){return this.url.searchParams.append(a,`imatch.${s}`),this}is(a,s){return this.url.searchParams.append(a,`is.${s}`),this}isDistinct(a,s){return this.url.searchParams.append(a,`isdistinct.${s}`),this}in(a,s){const l=Array.from(new Set(s)).map(c=>typeof c=="string"&&n.test(c)?`"${c}"`:`${c}`).join(",");return this.url.searchParams.append(a,`in.(${l})`),this}contains(a,s){return typeof s=="string"?this.url.searchParams.append(a,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(a,`cs.{${s.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(s)}`),this}containedBy(a,s){return typeof s=="string"?this.url.searchParams.append(a,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(a,`cd.{${s.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(s)}`),this}rangeGt(a,s){return this.url.searchParams.append(a,`sr.${s}`),this}rangeGte(a,s){return this.url.searchParams.append(a,`nxl.${s}`),this}rangeLt(a,s){return this.url.searchParams.append(a,`sl.${s}`),this}rangeLte(a,s){return this.url.searchParams.append(a,`nxr.${s}`),this}rangeAdjacent(a,s){return this.url.searchParams.append(a,`adj.${s}`),this}overlaps(a,s){return typeof s=="string"?this.url.searchParams.append(a,`ov.${s}`):this.url.searchParams.append(a,`ov.{${s.join(",")}}`),this}textSearch(a,s,{config:l,type:c}={}){let f="";c==="plain"?f="pl":c==="phrase"?f="ph":c==="websearch"&&(f="w");const p=l===void 0?"":`(${l})`;return this.url.searchParams.append(a,`${f}fts${p}.${s}`),this}match(a){return Object.entries(a).forEach(([s,l])=>{this.url.searchParams.append(s,`eq.${l}`)}),this}not(a,s,l){return this.url.searchParams.append(a,`not.${s}.${l}`),this}or(a,{foreignTable:s,referencedTable:l=s}={}){const c=l?`${l}.or`:"or";return this.url.searchParams.append(c,`(${a})`),this}filter(a,s,l){return this.url.searchParams.append(a,`${s}.${l}`),this}}return nv.default=r,nv}var QA;function K5(){if(QA)return tv;QA=1,Object.defineProperty(tv,"__esModule",{value:!0});const t=xf.__importDefault(cE());class n{constructor(i,{headers:a={},schema:s,fetch:l}){this.url=i,this.headers=new Headers(a),this.schema=s,this.fetch=l}select(i,a){const{head:s=!1,count:l}=a??{},c=s?"HEAD":"GET";let f=!1;const p=(i??"*").split("").map(m=>/\s/.test(m)&&!f?"":(m==='"'&&(f=!f),m)).join("");return this.url.searchParams.set("select",p),l&&this.headers.append("Prefer",`count=${l}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:a,defaultToNull:s=!0}={}){var l;const c="POST";if(a&&this.headers.append("Prefer",`count=${a}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const f=i.reduce((p,m)=>p.concat(Object.keys(m)),[]);if(f.length>0){const p=[...new Set(f)].map(m=>`"${m}"`);this.url.searchParams.set("columns",p.join(","))}}return new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(i,{onConflict:a,ignoreDuplicates:s=!1,count:l,defaultToNull:c=!0}={}){var f;const p="POST";if(this.headers.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),l&&this.headers.append("Prefer",`count=${l}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const m=i.reduce((v,x)=>v.concat(Object.keys(x)),[]);if(m.length>0){const v=[...new Set(m)].map(x=>`"${x}"`);this.url.searchParams.set("columns",v.join(","))}}return new t.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}update(i,{count:a}={}){var s;const l="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}delete({count:i}={}){var a;const s="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}}return tv.default=n,tv}var JA;function GX(){if(JA)return ev;JA=1,Object.defineProperty(ev,"__esModule",{value:!0});const e=xf,t=e.__importDefault(K5()),n=e.__importDefault(cE());class r{constructor(a,{headers:s={},schema:l,fetch:c}={}){this.url=a,this.headers=new Headers(s),this.schemaName=l,this.fetch=c}from(a){if(!a||typeof a!="string"||a.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const s=new URL(`${this.url}/${a}`);return new t.default(s,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new r(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,s={},{head:l=!1,get:c=!1,count:f}={}){var p;let m;const v=new URL(`${this.url}/rpc/${a}`);let x;l||c?(m=l?"HEAD":"GET",Object.entries(s).filter(([b,w])=>w!==void 0).map(([b,w])=>[b,Array.isArray(w)?`{${w.join(",")}}`:`${w}`]).forEach(([b,w])=>{v.searchParams.append(b,w)})):(m="POST",x=s);const _=new Headers(this.headers);return f&&_.set("Prefer",`count=${f}`),new n.default({method:m,url:v,headers:_,schema:this.schemaName,body:x,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}}return ev.default=r,ev}var e2;function YX(){if(e2)return Wr;e2=1,Object.defineProperty(Wr,"__esModule",{value:!0}),Wr.PostgrestError=Wr.PostgrestBuilder=Wr.PostgrestTransformBuilder=Wr.PostgrestFilterBuilder=Wr.PostgrestQueryBuilder=Wr.PostgrestClient=void 0;const e=xf,t=e.__importDefault(GX());Wr.PostgrestClient=t.default;const n=e.__importDefault(K5());Wr.PostgrestQueryBuilder=n.default;const r=e.__importDefault(cE());Wr.PostgrestFilterBuilder=r.default;const i=e.__importDefault(V5());Wr.PostgrestTransformBuilder=i.default;const a=e.__importDefault(H5());Wr.PostgrestBuilder=a.default;const s=e.__importDefault(W5());return Wr.PostgrestError=s.default,Wr.default={PostgrestClient:t.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:a.default,PostgrestError:s.default},Wr}var G5=YX();const Y5=Ft(G5),ZX=kB({__proto__:null,default:Y5},[G5]),{PostgrestClient:XX,PostgrestQueryBuilder:Hke,PostgrestFilterBuilder:Vke,PostgrestTransformBuilder:Kke,PostgrestBuilder:Gke,PostgrestError:Yke}=Y5||ZX;class QX{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const JX="2.86.0",eQ=`realtime-js/${JX}`,Z5="1.0.0",tQ="2.0.0",t2=Z5,ON=1e4,nQ=1e3,rQ=100;var xc;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(xc||(xc={}));var sr;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(sr||(sr={}));var Fa;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Fa||(Fa={}));var TN;(function(e){e.websocket="websocket"})(TN||(TN={}));var bc;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(bc||(bc={}));class iQ{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,r;const i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(t){var n,r;const i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},s=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,s)}_encodeUserBroadcastPush(t,n,r){var i,a;const s=t.topic,l=(i=t.ref)!==null&&i!==void 0?i:"",c=(a=t.join_ref)!==null&&a!==void 0?a:"",f=t.payload.event,p=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},m=Object.keys(p).length===0?"":JSON.stringify(p);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`topic length ${s.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`userEvent length ${f.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`metadata length ${m.length} exceeds maximum of 255`);const v=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+s.length+f.length+m.length,x=new ArrayBuffer(this.HEADER_LENGTH+v);let _=new DataView(x),b=0;_.setUint8(b++,this.KINDS.userBroadcastPush),_.setUint8(b++,c.length),_.setUint8(b++,l.length),_.setUint8(b++,s.length),_.setUint8(b++,f.length),_.setUint8(b++,m.length),_.setUint8(b++,n),Array.from(c,k=>_.setUint8(b++,k.charCodeAt(0))),Array.from(l,k=>_.setUint8(b++,k.charCodeAt(0))),Array.from(s,k=>_.setUint8(b++,k.charCodeAt(0))),Array.from(f,k=>_.setUint8(b++,k.charCodeAt(0))),Array.from(m,k=>_.setUint8(b++,k.charCodeAt(0)));var w=new Uint8Array(x.byteLength+r.byteLength);return w.set(new Uint8Array(x),0),w.set(new Uint8Array(r),x.byteLength),w.buffer}decode(t,n){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return n(r)}if(typeof t=="string"){const r=JSON.parse(t),[i,a,s,l,c]=r;return n({join_ref:i,ref:a,topic:s,event:l,payload:c})}return n({})}_binaryDecode(t){const n=new DataView(t),r=n.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,i)}}_decodeUserBroadcast(t,n,r){const i=n.getUint8(1),a=n.getUint8(2),s=n.getUint8(3),l=n.getUint8(4);let c=this.HEADER_LENGTH+4;const f=r.decode(t.slice(c,c+i));c=c+i;const p=r.decode(t.slice(c,c+a));c=c+a;const m=r.decode(t.slice(c,c+s));c=c+s;const v=t.slice(c,t.byteLength),x=l===this.JSON_ENCODING?JSON.parse(r.decode(v)):v,_={type:this.BROADCAST_EVENT,event:p,payload:x};return s>0&&(_.meta=JSON.parse(m)),{join_ref:null,ref:null,topic:f,event:this.BROADCAST_EVENT,payload:_}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>n.includes(r)))}}class X5{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var dn;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(dn||(dn={}));const n2=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((a,s)=>(a[s]=aQ(s,e,t,i),a),{}):{}},aQ=(e,t,n,r)=>{const i=t.find(l=>l.name===e),a=i?.type,s=n[e];return a&&!r.includes(a)?Q5(a,s):AN(s)},Q5=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return cQ(t,n)}switch(e){case dn.bool:return sQ(t);case dn.float4:case dn.float8:case dn.int2:case dn.int4:case dn.int8:case dn.numeric:case dn.oid:return oQ(t);case dn.json:case dn.jsonb:return lQ(t);case dn.timestamp:return uQ(t);case dn.abstime:case dn.date:case dn.daterange:case dn.int4range:case dn.int8range:case dn.money:case dn.reltime:case dn.text:case dn.time:case dn.timestamptz:case dn.timetz:case dn.tsrange:case dn.tstzrange:return AN(t);default:return AN(t)}},AN=e=>e,sQ=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},oQ=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},lQ=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},cQ=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let a;const s=e.slice(1,n);try{a=JSON.parse("["+s+"]")}catch{a=s?s.split(","):[]}return a.map(l=>Q5(t,l))}return e},uQ=e=>typeof e=="string"?e.replace(" ","T"):e,J5=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class vw{constructor(t,n,r={},i=ON){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var r2;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(r2||(r2={}));class Kh{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:a,onLeave:s,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Kh.syncState(this.state,i,a,s),this.pendingDiffs.forEach(c=>{this.state=Kh.syncDiff(this.state,c,a,s)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},i=>{const{onJoin:a,onLeave:s,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Kh.syncDiff(this.state,i,a,s),l())}),this.onJoin((i,a,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:s})}),this.onLeave((i,a,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const a=this.cloneDeep(t),s=this.transformState(n),l={},c={};return this.map(a,(f,p)=>{s[f]||(c[f]=p)}),this.map(s,(f,p)=>{const m=a[f];if(m){const v=p.map(w=>w.presence_ref),x=m.map(w=>w.presence_ref),_=p.filter(w=>x.indexOf(w.presence_ref)<0),b=m.filter(w=>v.indexOf(w.presence_ref)<0);_.length>0&&(l[f]=_),b.length>0&&(c[f]=b)}else l[f]=p}),this.syncDiff(a,{joins:l,leaves:c},r,i)}static syncDiff(t,n,r,i){const{joins:a,leaves:s}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(a,(l,c)=>{var f;const p=(f=t[l])!==null&&f!==void 0?f:[];if(t[l]=this.cloneDeep(c),p.length>0){const m=t[l].map(x=>x.presence_ref),v=p.filter(x=>m.indexOf(x.presence_ref)<0);t[l].unshift(...v)}r(l,p,c)}),this.map(s,(l,c)=>{let f=t[l];if(!f)return;const p=c.map(m=>m.presence_ref);f=f.filter(m=>p.indexOf(m.presence_ref)<0),t[l]=f,i(l,f,c),f.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var i2;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(i2||(i2={}));var Gh;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Gh||(Gh={}));var ro;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ro||(ro={}));class uE{constructor(t,n={config:{}},r){var i,a;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=sr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new vw(this,Fa.join,this.params,this.timeout),this.rejoinTimer=new X5(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=sr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=sr.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=sr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=sr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=sr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Fa.reply,{},(s,l)=>{this._trigger(this._replyEventName(l),s)}),this.presence=new Kh(this),this.broadcastEndpointURL=J5(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==sr.closed){const{config:{broadcast:s,presence:l,private:c}}=this.params,f=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(x=>x.filter))!==null&&i!==void 0?i:[],p=!!this.bindings[Gh.PRESENCE]&&this.bindings[Gh.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,m={},v={broadcast:s,presence:Object.assign(Object.assign({},l),{enabled:p}),postgres_changes:f,private:c};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this._onError(x=>t?.(ro.CHANNEL_ERROR,x)),this._onClose(()=>t?.(ro.CLOSED)),this.updateJoinPayload(Object.assign({config:v},m)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:x})=>{var _;if(this.socket.setAuth(),x===void 0){t?.(ro.SUBSCRIBED);return}else{const b=this.bindings.postgres_changes,w=(_=b?.length)!==null&&_!==void 0?_:0,k=[];for(let E=0;E<w;E++){const P=b[E],{filter:{event:C,schema:O,table:R,filter:M}}=P,U=x&&x[E];if(U&&U.event===C&&U.schema===O&&U.table===R&&U.filter===M)k.push(Object.assign(Object.assign({},P),{id:U.id}));else{this.unsubscribe(),this.state=sr.errored,t?.(ro.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=k,t&&t(ro.SUBSCRIBED);return}}).receive("error",x=>{this.state=sr.errored,t?.(ro.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(x).join(", ")||"error")))}).receive("timeout",()=>{t?.(ro.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===sr.joined&&t===Gh.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,r)}async httpSend(t,n,r={}){var i;const a=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const s={method:"POST",headers:{Authorization:a,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,s,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const f=await l.json();c=f.error||f.message||c}catch{}return Promise.reject(new Error(c))}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:s}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:s,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=f.body)===null||i===void 0?void 0:i.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var s,l,c;const f=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(s=this.params)===null||s===void 0?void 0:s.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),f.receive("ok",()=>a("ok")),f.receive("error",()=>a("error")),f.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=sr.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Fa.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new vw(this,Fa.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=sr.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const i=new AbortController,a=setTimeout(()=>i.abort(),r),s=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(a),s}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new vw(this,t,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>rQ){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,a;const s=t.toLocaleLowerCase(),{close:l,error:c,leave:f,join:p}=Fa;if(r&&[l,c,f,p].indexOf(s)>=0&&r!==this._joinRef())return;let v=this._onMessage(s,n,r);if(n&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(x=>{var _,b,w;return((_=x.filter)===null||_===void 0?void 0:_.event)==="*"||((w=(b=x.filter)===null||b===void 0?void 0:b.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===s}).map(x=>x.callback(v,r)):(a=this.bindings[s])===null||a===void 0||a.filter(x=>{var _,b,w,k,E,P;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in x){const C=x.id,O=(_=x.filter)===null||_===void 0?void 0:_.event;return C&&((b=n.ids)===null||b===void 0?void 0:b.includes(C))&&(O==="*"||O?.toLocaleLowerCase()===((w=n.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const C=(E=(k=x?.filter)===null||k===void 0?void 0:k.event)===null||E===void 0?void 0:E.toLocaleLowerCase();return C==="*"||C===((P=n?.event)===null||P===void 0?void 0:P.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===s}).map(x=>{if(typeof v=="object"&&"ids"in v){const _=v.data,{schema:b,table:w,commit_timestamp:k,type:E,errors:P}=_;v=Object.assign(Object.assign({},{schema:b,table:w,commit_timestamp:k,eventType:E,new:{},old:{},errors:P}),this._getPayloadRecords(_))}x.callback(v,r)})}_isClosed(){return this.state===sr.closed}_isJoined(){return this.state===sr.joined}_isJoining(){return this.state===sr.joining}_isLeaving(){return this.state===sr.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),a={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&uE.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Fa.close,{},t)}_onError(t){this._on(Fa.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=sr.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=n2(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=n2(t.columns,t.old_record)),n}}const yw=()=>{},sv={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},dQ=[1e3,2e3,5e3,1e4],fQ=1e4,hQ=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class pQ{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ON,this.transport=null,this.heartbeatIntervalMs=sv.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=yw,this.ref=0,this.reconnectTimer=null,this.vsn=t2,this.logger=yw,this.conn=null,this.sendBuffer=[],this.serializer=new iQ,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),!(!((r=n?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${TN.websocket}`,this.httpEndpoint=J5(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=QX.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case xc.connecting:return bc.Connecting;case xc.open:return bc.Open;case xc.closing:return bc.Closing;default:return bc.Closed}}isConnected(){return this.connectionState()===bc.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===r);if(i)return i;{const a=new uE(`realtime:${t}`,n,this);return this.channels.push(a),a}}push(t){const{topic:n,event:r,payload:i,ref:a}=t,s=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${n} ${r} (${a})`,i),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(nQ,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},sv.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(f){this.log("error","error in heartbeat callback",f)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:a,ref:s}=n,l=s?`(${s})`:"",c=a.status||"";this.log("receive",`${c} ${r} ${i} ${l}`.trim(),a),this.channels.filter(f=>f._isMember(r)).forEach(f=>f._trigger(i,a,s)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===xc.open||this.conn.readyState===xc.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Fa.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([hQ],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:eQ};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(Fa.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new X5(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},sv.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,i,a,s,l,c,f,p,m,v,x;switch(this.transport=(n=t?.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t?.timeout)!==null&&r!==void 0?r:ON,this.heartbeatIntervalMs=(i=t?.heartbeatIntervalMs)!==null&&i!==void 0?i:sv.HEARTBEAT_INTERVAL,this.worker=(a=t?.worker)!==null&&a!==void 0?a:!1,this.accessToken=(s=t?.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(l=t?.heartbeatCallback)!==null&&l!==void 0?l:yw,this.vsn=(c=t?.vsn)!==null&&c!==void 0?c:t2,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=t?.reconnectAfterMs)!==null&&f!==void 0?f:(_=>dQ[_-1]||fQ),this.vsn){case Z5:this.encode=(p=t?.encode)!==null&&p!==void 0?p:((_,b)=>b(JSON.stringify(_))),this.decode=(m=t?.decode)!==null&&m!==void 0?m:((_,b)=>b(JSON.parse(_)));break;case tQ:this.encode=(v=t?.encode)!==null&&v!==void 0?v:this.serializer.encode.bind(this.serializer),this.decode=(x=t?.decode)!==null&&x!==void 0?x:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}class Ex extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function kn(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class mQ extends Ex{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class RN extends Ex{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}const dE=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),gQ=()=>Response,MN=e=>{if(Array.isArray(e))return e.map(n=>MN(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=MN(r)}),t},vQ=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},yQ=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e),xw=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},xQ=(e,t,n)=>He(void 0,void 0,void 0,function*(){const r=yield gQ();e instanceof r&&!n?.noResolveJson?e.json().then(i=>{const a=e.status||500,s=i?.statusCode||a+"";t(new mQ(xw(i),a,s))}).catch(i=>{t(new RN(xw(i),i))}):t(new RN(xw(e),e))}),bQ=(e,t,n,r)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"||!r?i:(vQ(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(r)):i.body=r,t?.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),n))};function cm(e,t,n,r,i,a){return He(this,void 0,void 0,function*(){return new Promise((s,l)=>{e(n,bQ(t,r,i,a)).then(c=>{if(!c.ok)throw c;return r?.noResolveJson?c:c.json()}).then(c=>s(c)).catch(c=>xQ(c,l,r))})})}function fp(e,t,n,r){return He(this,void 0,void 0,function*(){return cm(e,"GET",t,n,r)})}function Ba(e,t,n,r,i){return He(this,void 0,void 0,function*(){return cm(e,"POST",t,r,i,n)})}function DN(e,t,n,r,i){return He(this,void 0,void 0,function*(){return cm(e,"PUT",t,r,i,n)})}function wQ(e,t,n,r){return He(this,void 0,void 0,function*(){return cm(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function fE(e,t,n,r,i){return He(this,void 0,void 0,function*(){return cm(e,"DELETE",t,r,i,n)})}class _Q{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}then(t,n){return this.execute().then(t,n)}execute(){return He(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(kn(t))return{data:null,error:t};throw t}})}}var eF;class SQ{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n,this[eF]="BlobDownloadBuilder",this.promise=null}asStream(){return new _Q(this.downloadFn,this.shouldThrowOnError)}then(t,n){return this.getPromise().then(t,n)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return He(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(kn(t))return{data:null,error:t};throw t}})}}eF=Symbol.toStringTag;const jQ={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},a2={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class NQ{constructor(t,n={},r,i){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=r,this.fetch=dE(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,r,i){return He(this,void 0,void 0,function*(){try{let a;const s=Object.assign(Object.assign({},a2),i);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(s.upsert)});const c=s.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",s.cacheControl),c&&a.append("metadata",this.encodeMetadata(c)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.has("cacheControl")||a.append("cacheControl",s.cacheControl),c&&!a.has("metadata")&&a.append("metadata",this.encodeMetadata(c))):(a=r,l["cache-control"]=`max-age=${s.cacheControl}`,l["content-type"]=s.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!s.duplex&&(s.duplex="half")),i?.headers&&(l=Object.assign(Object.assign({},l),i.headers));const f=this._removeEmptyFolders(n),p=this._getFinalPath(f),m=yield(t=="PUT"?DN:Ba)(this.fetch,`${this.url}/object/${p}`,a,Object.assign({headers:l},s?.duplex?{duplex:s.duplex}:{}));return{data:{path:f,id:m.Id,fullPath:m.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(kn(a))return{data:null,error:a};throw a}})}upload(t,n,r){return He(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,i){return He(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),s=this._getFinalPath(a),l=new URL(this.url+`/object/upload/sign/${s}`);l.searchParams.set("token",n);try{let c;const f=Object.assign({upsert:a2.upsert},i),p=Object.assign(Object.assign({},this.headers),{"x-upsert":String(f.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",f.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",f.cacheControl)):(c=r,p["cache-control"]=`max-age=${f.cacheControl}`,p["content-type"]=f.contentType);const m=yield DN(this.fetch,l.toString(),c,{headers:p});return{data:{path:a,fullPath:m.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(kn(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,n){return He(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const i=Object.assign({},this.headers);n?.upsert&&(i["x-upsert"]="true");const a=yield Ba(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),s=new URL(this.url+a.url),l=s.searchParams.get("token");if(!l)throw new Ex("No token returned by API");return{data:{signedUrl:s.toString(),path:t,token:l},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kn(r))return{data:null,error:r};throw r}})}update(t,n,r){return He(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return He(this,void 0,void 0,function*(){try{return{data:yield Ba(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(kn(i))return{data:null,error:i};throw i}})}copy(t,n,r){return He(this,void 0,void 0,function*(){try{return{data:{path:(yield Ba(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(kn(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,r){return He(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),a=yield Ba(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r?.transform?{transform:r.transform}:{}),{headers:this.headers});const s=r?.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${s}`)},{data:a,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(kn(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,r){return He(this,void 0,void 0,function*(){try{const i=yield Ba(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),a=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${a}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(kn(i))return{data:null,error:i};throw i}})}download(t,n){const i=typeof n?.transform<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString(n?.transform||{}),s=a?`?${a}`:"",l=this._getFinalPath(t),c=()=>fp(this.fetch,`${this.url}/${i}/${l}${s}`,{headers:this.headers,noResolveJson:!0});return new SQ(c,this.shouldThrowOnError)}info(t){return He(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield fp(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:MN(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kn(r))return{data:null,error:r};throw r}})}exists(t){return He(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield wQ(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kn(r)&&r instanceof RN){const i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),i=[],a=n?.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&i.push(a);const l=typeof n?.transform<"u"?"render/image":"object",c=this.transformOptsToQueryString(n?.transform||{});c!==""&&i.push(c);let f=i.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${f}`)}}}remove(t){return He(this,void 0,void 0,function*(){try{return{data:yield fE(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(kn(n))return{data:null,error:n};throw n}})}list(t,n,r){return He(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},jQ),n),{prefix:t||""});return{data:yield Ba(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(kn(i))return{data:null,error:i};throw i}})}listV2(t,n){return He(this,void 0,void 0,function*(){try{const r=Object.assign({},t);return{data:yield Ba(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kn(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const tF="2.86.0",nF={"X-Client-Info":`storage-js/${tF}`};class PQ{constructor(t,n={},r,i){this.shouldThrowOnError=!1;const a=new URL(t);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},nF),n),this.fetch=dE(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return He(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(t);return{data:yield fp(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(kn(n))return{data:null,error:n};throw n}})}getBucket(t){return He(this,void 0,void 0,function*(){try{return{data:yield fp(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(kn(n))return{data:null,error:n};throw n}})}createBucket(t){return He(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield Ba(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(kn(i))return{data:null,error:i};throw i}})}updateBucket(t,n){return He(this,void 0,void 0,function*(){try{return{data:yield DN(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kn(r))return{data:null,error:r};throw r}})}emptyBucket(t){return He(this,void 0,void 0,function*(){try{return{data:yield Ba(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(kn(n))return{data:null,error:n};throw n}})}deleteBucket(t){return He(this,void 0,void 0,function*(){try{return{data:yield fE(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(kn(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(t){const n={};return t&&("limit"in t&&(n.limit=String(t.limit)),"offset"in t&&(n.offset=String(t.offset)),t.search&&(n.search=t.search),t.sortColumn&&(n.sortColumn=t.sortColumn),t.sortOrder&&(n.sortOrder=t.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}var hp=class extends Error{constructor(e,t){super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function kQ(e,t,n){const r=new URL(t,e);if(n)for(const[i,a]of Object.entries(n))a!==void 0&&r.searchParams.set(i,a);return r.toString()}async function EQ(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function CQ(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:i,body:a,headers:s}){const l=kQ(e.baseUrl,r,i),c=await EQ(e.auth),f=await t(l,{method:n,headers:{...a?{"Content-Type":"application/json"}:{},...c,...s},body:a?JSON.stringify(a):void 0}),p=await f.text(),m=(f.headers.get("content-type")||"").includes("application/json"),v=m&&p?JSON.parse(p):p;if(!f.ok){const x=m?v:void 0,_=x?.error;throw new hp(_?.message??`Request failed with status ${f.status}`,{status:f.status,icebergType:_?.type,icebergCode:_?.code,details:x})}return{status:f.status,headers:f.headers,data:v}}}}function ov(e){return e.join("")}var OQ=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:ov(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:t?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ov(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ov(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ov(e.namespace)}`}),!0}catch(t){if(t instanceof hp&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof hp&&n.status===409)return;throw n}}};function Vu(e){return e.join("")}var TQ=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Vu(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Vu(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Vu(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Vu(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String(t?.purge??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Vu(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Vu(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof hp&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof hp&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},AQ=class{constructor(e){let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=CQ({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=e.accessDelegation?.join(","),this.namespaceOps=new OQ(this.client,t),this.tableOps=new TQ(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}};class RQ{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},nF),n),this.fetch=dE(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return He(this,void 0,void 0,function*(){try{return{data:yield Ba(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(kn(n))return{data:null,error:n};throw n}})}listBuckets(t){return He(this,void 0,void 0,function*(){try{const n=new URLSearchParams;t?.limit!==void 0&&n.set("limit",t.limit.toString()),t?.offset!==void 0&&n.set("offset",t.offset.toString()),t?.sortColumn&&n.set("sortColumn",t.sortColumn),t?.sortOrder&&n.set("sortOrder",t.sortOrder),t?.search&&n.set("search",t.search);const r=n.toString(),i=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield fp(this.fetch,i,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(kn(n))return{data:null,error:n};throw n}})}deleteBucket(t){return He(this,void 0,void 0,function*(){try{return{data:yield fE(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(kn(n))return{data:null,error:n};throw n}})}from(t){if(!yQ(t))throw new Ex("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");return new AQ({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:()=>He(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch})}}const hE={"X-Client-Info":`storage-js/${tF}`,"Content-Type":"application/json"};class rF extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function zi(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class bw extends rF{constructor(t,n,r){super(t),this.name="StorageVectorsApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class MQ extends rF{constructor(t,n){super(t),this.name="StorageVectorsUnknownError",this.originalError=n}}var s2;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(s2||(s2={}));const pE=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),DQ=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},o2=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),IQ=(e,t,n)=>He(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!n?.noResolveJson){const i=e.status||500,a=e;if(typeof a.json=="function")a.json().then(s=>{const l=s?.statusCode||s?.code||i+"";t(new bw(o2(s),i,l))}).catch(()=>{const s=i+"",l=a.statusText||`HTTP ${i} error`;t(new bw(l,i,s))});else{const s=i+"",l=a.statusText||`HTTP ${i} error`;t(new bw(l,i,s))}}else t(new MQ(o2(e),e))}),LQ=(e,t,n,r)=>{const i={method:e,headers:t?.headers||{}};return r?(DQ(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(r)):i.body=r,Object.assign(Object.assign({},i),n)):i};function $Q(e,t,n,r,i,a){return He(this,void 0,void 0,function*(){return new Promise((s,l)=>{e(n,LQ(t,r,i,a)).then(c=>{if(!c.ok)throw c;if(r?.noResolveJson)return c;const f=c.headers.get("content-type");return!f||!f.includes("application/json")?{}:c.json()}).then(c=>s(c)).catch(c=>IQ(c,l,r))})})}function qi(e,t,n,r,i){return He(this,void 0,void 0,function*(){return $Q(e,"POST",t,r,i,n)})}class BQ{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},hE),n),this.fetch=pE(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return He(this,void 0,void 0,function*(){try{return{data:(yield qi(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(zi(n))return{data:null,error:n};throw n}})}getIndex(t,n){return He(this,void 0,void 0,function*(){try{return{data:yield qi(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(zi(r))return{data:null,error:r};throw r}})}listIndexes(t){return He(this,void 0,void 0,function*(){try{return{data:yield qi(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(zi(n))return{data:null,error:n};throw n}})}deleteIndex(t,n){return He(this,void 0,void 0,function*(){try{return{data:(yield qi(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(zi(r))return{data:null,error:r};throw r}})}}class FQ{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},hE),n),this.fetch=pE(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return He(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield qi(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(zi(n))return{data:null,error:n};throw n}})}getVectors(t){return He(this,void 0,void 0,function*(){try{return{data:yield qi(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(zi(n))return{data:null,error:n};throw n}})}listVectors(t){return He(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield qi(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(zi(n))return{data:null,error:n};throw n}})}queryVectors(t){return He(this,void 0,void 0,function*(){try{return{data:yield qi(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(zi(n))return{data:null,error:n};throw n}})}deleteVectors(t){return He(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield qi(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(zi(n))return{data:null,error:n};throw n}})}}class zQ{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},hE),n),this.fetch=pE(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return He(this,void 0,void 0,function*(){try{return{data:(yield qi(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(zi(n))return{data:null,error:n};throw n}})}getBucket(t){return He(this,void 0,void 0,function*(){try{return{data:yield qi(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(zi(n))return{data:null,error:n};throw n}})}listBuckets(){return He(this,arguments,void 0,function*(t={}){try{return{data:yield qi(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(zi(n))return{data:null,error:n};throw n}})}deleteBucket(t){return He(this,void 0,void 0,function*(){try{return{data:(yield qi(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(zi(n))return{data:null,error:n};throw n}})}}class qQ extends zQ{constructor(t,n={}){super(t,n.headers||{},n.fetch)}from(t){return new UQ(this.url,this.headers,t,this.fetch)}createBucket(t){const n=Object.create(null,{createBucket:{get:()=>super.createBucket}});return He(this,void 0,void 0,function*(){return n.createBucket.call(this,t)})}getBucket(t){const n=Object.create(null,{getBucket:{get:()=>super.getBucket}});return He(this,void 0,void 0,function*(){return n.getBucket.call(this,t)})}listBuckets(){const t=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return He(this,arguments,void 0,function*(n={}){return t.listBuckets.call(this,n)})}deleteBucket(t){const n=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return He(this,void 0,void 0,function*(){return n.deleteBucket.call(this,t)})}}class UQ extends BQ{constructor(t,n,r,i){super(t,n,i),this.vectorBucketName=r}createIndex(t){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return He(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return He(this,arguments,void 0,function*(n={}){return t.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return He(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return He(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new WQ(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class WQ extends FQ{constructor(t,n,r,i,a){super(t,n,a),this.vectorBucketName=r,this.indexName=i}putVectors(t){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return He(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return He(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return He(this,arguments,void 0,function*(n={}){return t.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return He(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return He(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class HQ extends PQ{constructor(t,n={},r,i){super(t,n,r,i)}from(t){return new NQ(this.url,this.headers,t,this.fetch)}get vectors(){return new qQ(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new RQ(this.url+"/iceberg",this.headers,this.fetch)}}const VQ="2.86.0";let $h="";typeof Deno<"u"?$h="deno":typeof document<"u"?$h="web":typeof navigator<"u"&&navigator.product==="ReactNative"?$h="react-native":$h="node";const KQ={"X-Client-Info":`supabase-js-${$h}/${VQ}`},GQ={headers:KQ},YQ={schema:"public"},ZQ={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},XQ={},QQ=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),JQ=()=>Headers,eJ=(e,t,n)=>{const r=QQ(n),i=JQ();return async(a,s)=>{var l;const c=(l=await t())!==null&&l!==void 0?l:e;let f=new i(s?.headers);return f.has("apikey")||f.set("apikey",e),f.has("Authorization")||f.set("Authorization",`Bearer ${c}`),r(a,Object.assign(Object.assign({},s),{headers:f}))}};function tJ(e){return e.endsWith("/")?e:e+"/"}function nJ(e,t){var n,r;const{db:i,auth:a,realtime:s,global:l}=e,{db:c,auth:f,realtime:p,global:m}=t,v={db:Object.assign(Object.assign({},c),i),auth:Object.assign(Object.assign({},f),a),realtime:Object.assign(Object.assign({},p),s),storage:{},global:Object.assign(Object.assign(Object.assign({},m),l),{headers:Object.assign(Object.assign({},(n=m?.headers)!==null&&n!==void 0?n:{}),(r=l?.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return e.accessToken?v.accessToken=e.accessToken:delete v.accessToken,v}function rJ(e){const t=e?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(tJ(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const iF="2.86.0",ld=30*1e3,IN=3,ww=IN*ld,iJ="http://localhost:9999",aJ="supabase.auth.token",sJ={"X-Client-Info":`gotrue-js/${iF}`},LN="X-Supabase-Api-Version",aF={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},oJ=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,lJ=600*1e3;class pp extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Qe(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class cJ extends pp{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function uJ(e){return Qe(e)&&e.name==="AuthApiError"}class wc extends pp{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class El extends pp{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}}class Di extends El{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function dJ(e){return Qe(e)&&e.name==="AuthSessionMissingError"}class Ku extends El{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class lv extends El{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class cv extends El{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function fJ(e){return Qe(e)&&e.name==="AuthImplicitGrantRedirectError"}class l2 extends El{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class $N extends El{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function _w(e){return Qe(e)&&e.name==="AuthRetryableFetchError"}class c2 extends El{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class BN extends El{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Zv="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),u2=` 	
\r=`.split(""),hJ=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<u2.length;t+=1)e[u2[t].charCodeAt(0)]=-2;for(let t=0;t<Zv.length;t+=1)e[Zv[t].charCodeAt(0)]=t;return e})();function d2(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Zv[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Zv[r]),t.queuedBits-=6}}function sF(e,t,n){const r=hJ[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function f2(e){const t=[],n=s=>{t.push(String.fromCodePoint(s))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=s=>{gJ(s,r,n)};for(let s=0;s<e.length;s+=1)sF(e.charCodeAt(s),i,a);return t.join("")}function pJ(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function mJ(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}pJ(r,t)}}function gJ(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function xd(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)sF(e.charCodeAt(i),n,r);return new Uint8Array(t)}function vJ(e){const t=[];return mJ(e,n=>t.push(n)),new Uint8Array(t)}function Sc(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>d2(i,n,r)),d2(null,n,r),t.join("")}function yJ(e){return Math.round(Date.now()/1e3)+e}function xJ(){return Symbol("auth-callback")}const Er=()=>typeof window<"u"&&typeof document<"u",lc={tested:!1,writable:!1},oF=()=>{if(!Er())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(lc.tested)return lc.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),lc.tested=!0,lc.writable=!0}catch{lc.tested=!0,lc.writable=!1}return lc.writable};function bJ(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const lF=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),wJ=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",cd=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},cc=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},ol=async(e,t)=>{await e.removeItem(t)};class Cx{constructor(){this.promise=new Cx.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Cx.promiseConstructor=Promise;function Sw(e){const t=e.split(".");if(t.length!==3)throw new BN("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!oJ.test(t[r]))throw new BN("JWT not in base64url format");return{header:JSON.parse(f2(t[0])),payload:JSON.parse(f2(t[1])),signature:xd(t[2]),raw:{header:t[0],payload:t[1]}}}async function _J(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function SJ(e,t){return new Promise((r,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const s=await e(a);if(!t(a,null,s)){r(s);return}}catch(s){if(!t(a,s)){i(s);return}}})()})}function jJ(e){return("0"+e.toString(16)).substr(-2)}function NJ(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let a=0;a<56;a++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,jJ).join("")}async function PJ(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function kJ(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await PJ(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Gu(e,t,n=!1){const r=NJ();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await cd(e,`${t}-code-verifier`,i);const a=await kJ(r);return[a,r===a?"plain":"s256"]}const EJ=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function CJ(e){const t=e.headers.get(LN);if(!t||!t.match(EJ))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function OJ(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function TJ(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const AJ=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Yu(e){if(!AJ.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function jw(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function RJ(e,t){return new Proxy(e,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const a=r.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,i)}})}function h2(e){return JSON.parse(JSON.stringify(e))}const mc=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),MJ=[502,503,504];async function p2(e){var t;if(!wJ(e))throw new $N(mc(e),0);if(MJ.includes(e.status))throw new $N(mc(e),e.status);let n;try{n=await e.json()}catch(a){throw new wc(mc(a),a)}let r;const i=CJ(e);if(i&&i.getTime()>=aF["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new c2(mc(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Di}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,s)=>a&&typeof s=="string",!0))throw new c2(mc(n),e.status,n.weak_password.reasons);throw new cJ(mc(n),e.status||500,r)}const DJ=(e,t,n,r)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function ct(e,t,n,r){var i;const a=Object.assign({},r?.headers);a[LN]||(a[LN]=aF["2024-01-01"].name),r?.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const s=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(s.redirect_to=r.redirectTo);const l=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",c=await IJ(e,t,n+l,{headers:a,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(c):{data:Object.assign({},c),error:null}}async function IJ(e,t,n,r,i,a){const s=DJ(t,r,i,a);let l;try{l=await e(n,Object.assign({},s))}catch(c){throw console.error(c),new $N(mc(c),0)}if(l.ok||await p2(l),r?.noResolveJson)return l;try{return await l.json()}catch(c){await p2(c)}}function La(e){var t;let n=null;BJ(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=yJ(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function m2(e){const t=La(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function fl(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function LJ(e){return{data:e,error:null}}function $J(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a}=e,s=kl(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a},c=Object.assign({},s);return{data:{properties:l,user:c},error:null}}function g2(e){return e}function BJ(e){return e.access_token&&e.refresh_token&&e.expires_in}const Nw=["global","local","others"];class FJ{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=lF(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=Nw[0]){if(Nw.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Nw.join(", ")}`);try{return await ct(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Qe(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await ct(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:fl})}catch(r){if(Qe(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=kl(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),await ct(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:$J,redirectTo:n?.redirectTo})}catch(n){if(Qe(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await ct(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:fl})}catch(n){if(Qe(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,a,s,l,c;try{const f={nextPage:null,lastPage:0,total:0},p=await ct(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:g2});if(p.error)throw p.error;const m=await p.json(),v=(s=p.headers.get("x-total-count"))!==null&&s!==void 0?s:0,x=(c=(l=p.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return x.length>0&&(x.forEach(_=>{const b=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(_.split(";")[1].split("=")[1]);f[`${w}Page`]=b}),f.total=parseInt(v)),{data:Object.assign(Object.assign({},m),f),error:null}}catch(f){if(Qe(f))return{data:{users:[]},error:f};throw f}}async getUserById(t){Yu(t);try{return await ct(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:fl})}catch(n){if(Qe(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Yu(t);try{return await ct(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:fl})}catch(r){if(Qe(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){Yu(t);try{return await ct(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:fl})}catch(r){if(Qe(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Yu(t.userId);try{const{data:n,error:r}=await ct(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(Qe(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Yu(t.userId),Yu(t.id);try{return{data:await ct(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Qe(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,i,a,s,l,c;try{const f={nextPage:null,lastPage:0,total:0},p=await ct(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:g2});if(p.error)throw p.error;const m=await p.json(),v=(s=p.headers.get("x-total-count"))!==null&&s!==void 0?s:0,x=(c=(l=p.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return x.length>0&&(x.forEach(_=>{const b=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(_.split(";")[1].split("=")[1]);f[`${w}Page`]=b}),f.total=parseInt(v)),{data:Object.assign(Object.assign({},m),f),error:null}}catch(f){if(Qe(f))return{data:{clients:[]},error:f};throw f}}async _createOAuthClient(t){try{return await ct(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Qe(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await ct(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Qe(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await ct(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Qe(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await ct(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Qe(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await ct(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Qe(n))return{data:null,error:n};throw n}}}function v2(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const Zu={debug:!!(globalThis&&oF()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class cF extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class zJ extends cF{}async function qJ(e,t,n){Zu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Zu.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Zu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{Zu.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Zu.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new zJ(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Zu.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function UJ(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function uF(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function WJ(e){return parseInt(e,16)}function HJ(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function VJ(e){var t;const{chainId:n,domain:r,expirationTime:i,issuedAt:a=new Date,nonce:s,notBefore:l,requestId:c,resources:f,scheme:p,uri:m,version:v}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!m)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(v!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${v}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const x=uF(e.address),_=p?`${p}://${r}`:r,b=e.statement?`${e.statement}
`:"",w=`${_} wants you to sign in with your Ethereum account:
${x}

${b}`;let k=`URI: ${m}
Version: ${v}
Chain ID: ${n}${s?`
Nonce: ${s}`:""}
Issued At: ${a.toISOString()}`;if(i&&(k+=`
Expiration Time: ${i.toISOString()}`),l&&(k+=`
Not Before: ${l.toISOString()}`),c&&(k+=`
Request ID: ${c}`),f){let E=`
Resources:`;for(const P of f){if(!P||typeof P!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${P}`);E+=`
- ${P}`}k+=E}return`${w}
${k}`}class Vn extends Error{constructor({message:t,code:n,cause:r,name:i}){var a;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(a=i??(r instanceof Error?r.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=n}}class Xv extends Vn{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function KJ({error:e,options:t}){var n,r,i;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Vn({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=a.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Vn({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=a.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Vn({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Vn({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Vn({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Vn({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return a.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new Vn({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Vn({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const s=window.location.hostname;if(dF(s)){if(a.rp.id!==s)return new Vn({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Vn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new Vn({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Vn({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Vn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function GJ({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Vn({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Vn({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(dF(r)){if(n.rpId!==r)return new Vn({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Vn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Vn({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Vn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class YJ{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const ZJ=new YJ;function XJ(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,i=kl(e,["challenge","user","excludeCredentials"]),a=xd(t).buffer,s=Object.assign(Object.assign({},n),{id:xd(n.id).buffer}),l=Object.assign(Object.assign({},i),{challenge:a,user:s});if(r&&r.length>0){l.excludeCredentials=new Array(r.length);for(let c=0;c<r.length;c++){const f=r[c];l.excludeCredentials[c]=Object.assign(Object.assign({},f),{id:xd(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return l}function QJ(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=kl(e,["challenge","allowCredentials"]),i=xd(t).buffer,a=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){a.allowCredentials=new Array(n.length);for(let s=0;s<n.length;s++){const l=n[s];a.allowCredentials[s]=Object.assign(Object.assign({},l),{id:xd(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return a}function JJ(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:Sc(new Uint8Array(e.response.attestationObject)),clientDataJSON:Sc(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function eee(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Sc(new Uint8Array(i.authenticatorData)),clientDataJSON:Sc(new Uint8Array(i.clientDataJSON)),signature:Sc(new Uint8Array(i.signature)),userHandle:i.userHandle?Sc(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function dF(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function y2(){var e,t;return!!(Er()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function tee(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Xv("Browser returned unexpected credential type",t)}:{data:null,error:new Xv("Empty credential response",t)}}catch(t){return{data:null,error:KJ({error:t,options:e})}}}async function nee(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Xv("Browser returned unexpected credential type",t)}:{data:null,error:new Xv("Empty credential response",t)}}catch(t){return{data:null,error:GJ({error:t,options:e})}}}const ree={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},iee={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Qv(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of e)if(i)for(const a in i){const s=i[a];if(s!==void 0)if(Array.isArray(s))r[a]=s;else if(n(s))r[a]=s;else if(t(s)){const l=r[a];t(l)?r[a]=Qv(l,s):r[a]=Qv(s)}else r[a]=s}return r}function aee(e,t){return Qv(ree,e,t||{})}function see(e,t){return Qv(iee,e,t||{})}class oee{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:i},a){try{const{data:s,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!s)return{data:null,error:l};const c=i??ZJ.createNewAbortSignal();if(s.webauthn.type==="create"){const{user:f}=s.webauthn.credential_options.publicKey;f.name||(f.name=`${f.id}:${r}`),f.displayName||(f.displayName=f.name)}switch(s.webauthn.type){case"create":{const f=aee(s.webauthn.credential_options.publicKey,a?.create),{data:p,error:m}=await tee({publicKey:f,signal:c});return p?{data:{factorId:t,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:p}},error:null}:{data:null,error:m}}case"request":{const f=see(s.webauthn.credential_options.publicKey,a?.request),{data:p,error:m}=await nee(Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:f,signal:c}));return p?{data:{factorId:t,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:p}},error:null}:{data:null,error:m}}}}catch(s){return Qe(s)?{data:null,error:s}:{data:null,error:new wc("Unexpected error in challenge",s)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!n)return{data:null,error:new pp("rpId is required for WebAuthn authentication")};try{if(!y2())return{data:null,error:new wc("Browser does not support WebAuthn",null)};const{data:s,error:l}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:a});if(!s)return{data:null,error:l};const{webauthn:c}=s;return this._verify({factorId:t,challengeId:s.challengeId,webauthn:{type:c.type,rpId:n,rpOrigins:r,credential_response:c.credential_response}})}catch(s){return Qe(s)?{data:null,error:s}:{data:null,error:new wc("Unexpected error in authenticate",s)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!n)return{data:null,error:new pp("rpId is required for WebAuthn registration")};try{if(!y2())return{data:null,error:new wc("Browser does not support WebAuthn",null)};const{data:s,error:l}=await this._enroll({friendlyName:t});if(!s)return await this.client.mfa.listFactors().then(p=>{var m;return(m=p.data)===null||m===void 0?void 0:m.all.find(v=>v.factor_type==="webauthn"&&v.friendly_name===t&&v.status!=="unverified")}).then(p=>p?this.client.mfa.unenroll({factorId:p?.id}):void 0),{data:null,error:l};const{data:c,error:f}=await this._challenge({factorId:s.id,friendlyName:s.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:a});return c?this._verify({factorId:s.id,challengeId:c.challengeId,webauthn:{rpId:n,rpOrigins:r,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:f}}catch(s){return Qe(s)?{data:null,error:s}:{data:null,error:new wc("Unexpected error in register",s)}}}}UJ();const lee={url:iJ,storageKey:aJ,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:sJ,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function x2(e,t,n){return await n()}const Xu={};class mp{get jwks(){var t,n;return(n=(t=Xu[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Xu[this.storageKey]=Object.assign(Object.assign({},Xu[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Xu[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Xu[this.storageKey]=Object.assign(Object.assign({},Xu[this.storageKey]),{cachedAt:t})}constructor(t){var n,r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},lee),t);if(this.storageKey=a.storageKey,this.instanceID=(n=mp.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,mp.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&Er()){const s=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(s),this.logDebugMessages&&console.trace(s)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new FJ({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=lF(a.fetch),this.lock=a.lock||x2,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,a.lock?this.lock=a.lock:Er()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=qJ:this.lock=x2,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new oee(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:oF()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=v2(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=v2(this.memoryStorage)),Er()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${iF}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},r="none";if(Er()&&(n=bJ(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),Er()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:a}=await this._getSessionFromURL(n,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),fJ(a)){const c=(t=a.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:s,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",s,"redirect type",l),await this._saveSession(s),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Qe(n)?this._returnResult({error:n}):this._returnResult({error:new wc("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const a=await ct(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t?.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t?.options)===null||i===void 0?void 0:i.captchaToken}},xform:La}),{data:s,error:l}=a;if(l||!s)return this._returnResult({data:{user:null,session:null},error:l});const c=s.session,f=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:f,session:c},error:null})}catch(a){if(Qe(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(t){var n,r,i;try{let a;if("email"in t){const{email:p,password:m,options:v}=t;let x=null,_=null;this.flowType==="pkce"&&([x,_]=await Gu(this.storage,this.storageKey)),a=await ct(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v?.emailRedirectTo,body:{email:p,password:m,data:(n=v?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:v?.captchaToken},code_challenge:x,code_challenge_method:_},xform:La})}else if("phone"in t){const{phone:p,password:m,options:v}=t;a=await ct(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:m,data:(r=v?.data)!==null&&r!==void 0?r:{},channel:(i=v?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:v?.captchaToken}},xform:La})}else throw new lv("You must provide either an email or phone number and a password");const{data:s,error:l}=a;if(l||!s)return this._returnResult({data:{user:null,session:null},error:l});const c=s.session,f=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:f,session:c},error:null})}catch(a){if(Qe(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(t){try{let n;if("email"in t){const{email:a,password:s,options:l}=t;n=await ct(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:s,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:m2})}else if("phone"in t){const{phone:a,password:s,options:l}=t;n=await ct(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:s,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:m2})}else throw new lv("You must provide either an email or phone number and a password");const{data:r,error:i}=n;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!r||!r.session||!r.user){const a=new Ku;return this._returnResult({data:{user:null,session:null},error:a})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(Qe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,r,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,i,a,s,l,c,f,p,m,v;let x,_;if("message"in t)x=t.message,_=t.signature;else{const{chain:b,wallet:w,statement:k,options:E}=t;let P;if(Er())if(typeof w=="object")P=w;else{const F=window;if("ethereum"in F&&typeof F.ethereum=="object"&&"request"in F.ethereum&&typeof F.ethereum.request=="function")P=F.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!E?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");P=w}const C=new URL((n=E?.url)!==null&&n!==void 0?n:window.location.href),O=await P.request({method:"eth_requestAccounts"}).then(F=>F).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!O||O.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const R=uF(O[0]);let M=(r=E?.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!M){const F=await P.request({method:"eth_chainId"});M=WJ(F)}const U={domain:C.host,address:R,statement:k,uri:C.href,version:"1",chainId:M,nonce:(i=E?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(s=(a=E?.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&s!==void 0?s:new Date,expirationTime:(l=E?.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=E?.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(f=E?.signInWithEthereum)===null||f===void 0?void 0:f.requestId,resources:(p=E?.signInWithEthereum)===null||p===void 0?void 0:p.resources};x=VJ(U),_=await P.request({method:"personal_sign",params:[HJ(x),R]})}try{const{data:b,error:w}=await ct(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:x,signature:_},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(v=t.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:La});if(w)throw w;if(!b||!b.session||!b.user){const k=new Ku;return this._returnResult({data:{user:null,session:null},error:k})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:w})}catch(b){if(Qe(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async signInWithSolana(t){var n,r,i,a,s,l,c,f,p,m,v,x;let _,b;if("message"in t)_=t.message,b=t.signature;else{const{chain:w,wallet:k,statement:E,options:P}=t;let C;if(Er())if(typeof k=="object")C=k;else{const R=window;if("solana"in R&&typeof R.solana=="object"&&("signIn"in R.solana&&typeof R.solana.signIn=="function"||"signMessage"in R.solana&&typeof R.solana.signMessage=="function"))C=R.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!P?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");C=k}const O=new URL((n=P?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in C&&C.signIn){const R=await C.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},P?.signInWithSolana),{version:"1",domain:O.host,uri:O.href}),E?{statement:E}:null));let M;if(Array.isArray(R)&&R[0]&&typeof R[0]=="object")M=R[0];else if(R&&typeof R=="object"&&"signedMessage"in R&&"signature"in R)M=R;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in M&&"signature"in M&&(typeof M.signedMessage=="string"||M.signedMessage instanceof Uint8Array)&&M.signature instanceof Uint8Array)_=typeof M.signedMessage=="string"?M.signedMessage:new TextDecoder().decode(M.signedMessage),b=M.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in C)||typeof C.signMessage!="function"||!("publicKey"in C)||typeof C!="object"||!C.publicKey||!("toBase58"in C.publicKey)||typeof C.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");_=[`${O.host} wants you to sign in with your Solana account:`,C.publicKey.toBase58(),...E?["",E,""]:[""],"Version: 1",`URI: ${O.href}`,`Issued At: ${(i=(r=P?.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=P?.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${P.signInWithSolana.notBefore}`]:[],...!((s=P?.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${P.signInWithSolana.expirationTime}`]:[],...!((l=P?.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${P.signInWithSolana.chainId}`]:[],...!((c=P?.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${P.signInWithSolana.nonce}`]:[],...!((f=P?.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${P.signInWithSolana.requestId}`]:[],...!((m=(p=P?.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||m===void 0)&&m.length?["Resources",...P.signInWithSolana.resources.map(M=>`- ${M}`)]:[]].join(`
`);const R=await C.signMessage(new TextEncoder().encode(_),"utf8");if(!R||!(R instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");b=R}}try{const{data:w,error:k}=await ct(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:_,signature:Sc(b)},!((v=t.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(x=t.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:La});if(k)throw k;if(!w||!w.session||!w.user){const E=new Ku;return this._returnResult({data:{user:null,session:null},error:E})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:k})}catch(w){if(Qe(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async _exchangeCodeForSession(t){const n=await cc(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:a,error:s}=await ct(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:La});if(await ol(this.storage,`${this.storageKey}-code-verifier`),s)throw s;if(!a||!a.session||!a.user){const l=new Ku;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:s})}catch(a){if(Qe(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:a,nonce:s}=t,l=await ct(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:a,nonce:s,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:La}),{data:c,error:f}=l;if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!c||!c.session||!c.user){const p=new Ku;return this._returnResult({data:{user:null,session:null},error:p})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:f})}catch(n){if(Qe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,r,i,a,s;try{if("email"in t){const{email:l,options:c}=t;let f=null,p=null;this.flowType==="pkce"&&([f,p]=await Gu(this.storage,this.storageKey));const{error:m}=await ct(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=c?.data)!==null&&n!==void 0?n:{},create_user:(r=c?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},code_challenge:f,code_challenge_method:p},redirectTo:c?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:m})}if("phone"in t){const{phone:l,options:c}=t,{data:f,error:p}=await ct(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=c?.data)!==null&&i!==void 0?i:{},create_user:(a=c?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},channel:(s=c?.channel)!==null&&s!==void 0?s:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:f?.message_id},error:p})}throw new lv("You must provide either an email or phone number.")}catch(l){if(Qe(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var n,r;try{let i,a;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,a=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:s,error:l}=await ct(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:La});if(l)throw l;if(!s)throw new Error("An error occurred on token verification.");const c=s.session,f=s.user;return c?.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:f,session:c},error:null})}catch(i){if(Qe(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(t){var n,r,i,a,s;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=await Gu(this.storage,this.storageKey));const f=await ct(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:LJ});return!((a=f.data)===null||a===void 0)&&a.url&&Er()&&!(!((s=t.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(f.data.url),this._returnResult(f)}catch(l){if(Qe(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Di;const{error:i}=await ct(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(t){if(Qe(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:a}=t,{error:s}=await ct(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}},redirectTo:a?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:s})}else if("phone"in t){const{phone:r,type:i,options:a}=t,{data:s,error:l}=await ct(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:s?.message_id},error:l})}throw new lv("You must provide either an email or phone number and a type")}catch(n){if(Qe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await cc(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<ww:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const s=await cc(this.userStorage,this.storageKey+"-user");s?.user?t.user=s.user:t.user=jw()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const s={value:this.suppressGetSessionWarning};t.user=RJ(t.user,s),s.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await ct(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:fl}):await this._useSession(async n=>{var r,i,a;const{data:s,error:l}=n;if(l)throw l;return!(!((r=s.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Di}:await ct(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:fl})})}catch(n){if(Qe(n))return dJ(n)&&(await this._removeSession(),await ol(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:a}=r;if(a)throw a;if(!i.session)throw new Di;const s=i.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Gu(this.storage,this.storageKey));const{data:f,error:p}=await ct(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:s.access_token,xform:fl});if(p)throw p;return s.user=f.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),this._returnResult({data:{user:s.user},error:null})})}catch(r){if(Qe(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Di;const n=Date.now()/1e3;let r=n,i=!0,a=null;const{payload:s}=Sw(t.access_token);if(s.exp&&(r=s.exp,i=r<=n),i){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;a={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(n){if(Qe(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:s,error:l}=n;if(l)throw l;t=(r=s.session)!==null&&r!==void 0?r:void 0}if(!t?.refresh_token)throw new Di;const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(Qe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!Er())throw new cv("No browser detected.");if(t.error||t.error_description||t.error_code)throw new cv(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new l2("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new cv("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new l2("No code detected.");const{data:E,error:P}=await this._exchangeCodeForSession(t.code);if(P)throw P;const C=new URL(window.location.href);return C.searchParams.delete("code"),window.history.replaceState(window.history.state,"",C.toString()),{data:{session:E.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:a,refresh_token:s,expires_in:l,expires_at:c,token_type:f}=t;if(!a||!l||!s||!f)throw new cv("No session defined in URL");const p=Math.round(Date.now()/1e3),m=parseInt(l);let v=p+m;c&&(v=parseInt(c));const x=v-p;x*1e3<=ld&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${m}s`);const _=v-m;p-_>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",_,v,p):p-_<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",_,v,p);const{data:b,error:w}=await this._getUser(a);if(w)throw w;const k={provider_token:r,provider_refresh_token:i,access_token:a,expires_in:m,expires_at:v,refresh_token:s,token_type:f,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:k,redirectType:t.type},error:null})}catch(r){if(Qe(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await cc(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({error:a});const s=(r=i.session)===null||r===void 0?void 0:r.access_token;if(s){const{error:l}=await this.admin.signOut(s,t);if(l&&!(uJ(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await ol(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=xJ(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:a},error:s}=n;if(s)throw s;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await Gu(this.storage,this.storageKey,!0));try{return await ct(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(Qe(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(Qe(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:i}=await this._useSession(async a=>{var s,l,c,f,p;const{data:m,error:v}=a;if(v)throw v;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await ct(this.fetch,"GET",x,{headers:this.headers,jwt:(p=(f=m.session)===null||f===void 0?void 0:f.access_token)!==null&&p!==void 0?p:void 0})});if(i)throw i;return Er()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r?.url),this._returnResult({data:{provider:t.provider,url:r?.url},error:null})}catch(r){if(Qe(r))return this._returnResult({data:{provider:t.provider,url:null},error:r});throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:a}}=n;if(i)throw i;const{options:s,provider:l,token:c,access_token:f,nonce:p}=t,m=await ct(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=a?.access_token)!==null&&r!==void 0?r:void 0,body:{provider:l,id_token:c,access_token:f,nonce:p,link_identity:!0,gotrue_meta_security:{captcha_token:s?.captchaToken}},xform:La}),{data:v,error:x}=m;return x?this._returnResult({data:{user:null,session:null},error:x}):!v||!v.session||!v.user?this._returnResult({data:{user:null,session:null},error:new Ku}):(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("USER_UPDATED",v.session)),this._returnResult({data:v,error:x}))}catch(i){if(Qe(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:a,error:s}=n;if(s)throw s;return await ct(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(Qe(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await SJ(async i=>(i>0&&await _J(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await ct(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:La})),(i,a)=>{const s=200*Math.pow(2,i);return a&&_w(a)&&Date.now()+s-r<ld})}catch(r){if(this._debug(n,"error",r),Qe(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Er()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await cc(this.storage,this.storageKey);if(i&&this.userStorage){let s=await cc(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!s&&(s={user:i.user},await cd(this.userStorage,this.storageKey+"-user",s)),i.user=(t=s?.user)!==null&&t!==void 0?t:jw()}else if(i&&!i.user&&!i.user){const s=await cc(this.storage,this.storageKey+"-user");s&&s?.user?(i.user=s.user,await ol(this.storage,this.storageKey+"-user"),await cd(this.storage,this.storageKey,i)):i.user=jw()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const a=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<ww;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${ww}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:s}=await this._callRefreshToken(i.refresh_token);s&&(console.error(s),_w(s)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:s,error:l}=await this._getUser(i.access_token);!l&&s?.user?(i.user=s.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(s){console.error("Error getting user data:",s),this._debug(r,"error getting user data, skipping SIGNED_IN notification",s)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Di;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Cx;const{data:a,error:s}=await this._refreshAccessToken(t);if(s)throw s;if(!a.session)throw new Di;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={data:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(i,"error",a),Qe(a)){const s={data:null,error:a};return _w(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(s),s}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const a=[],s=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(c){a.push(c)}});if(await Promise.all(s),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await cd(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const a=h2(i);await cd(this.storage,this.storageKey,a)}else{const i=h2(n);await cd(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await ol(this.storage,this.storageKey),await ol(this.storage,this.storageKey+"-code-verifier"),await ol(this.storage,this.storageKey+"-user"),this.userStorage&&await ol(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Er()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ld);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/ld);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${ld}ms, refresh threshold is ${IN} ticks`),i<=IN&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof cF)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Er()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,s]=await Gu(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(s)}`});i.push(l.toString())}if(r?.queryParams){const a=new URLSearchParams(r.queryParams);i.push(a.toString())}return r?.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;return a?this._returnResult({data:null,error:a}):await ct(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Qe(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:a,error:s}=n;if(s)return this._returnResult({data:null,error:s});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:f}=await ct(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=a?.session)===null||r===void 0?void 0:r.access_token});return f?this._returnResult({data:null,error:f}):(t.factorType==="totp"&&c.type==="totp"&&(!((i=c?.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(n){if(Qe(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({data:null,error:a});const s=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?JJ(t.webauthn.credential_response):eee(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await ct(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:s,headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(n){if(Qe(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({data:null,error:a});const s=await ct(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});if(s.error)return s;const{data:l}=s;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:XJ(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:QJ(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Qe(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(t=n?.factors)!==null&&t!==void 0?t:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var t,n;const{data:{session:r},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Sw(r.access_token);let s=null;a.aal&&(s=a.aal);let l=s;((n=(t=r.user.factors)===null||t===void 0?void 0:t.filter(p=>p.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const f=a.amr||[];return{data:{currentLevel:s,nextLevel:l,currentAuthenticationMethods:f},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await ct(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Di})})}catch(n){if(Qe(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:i},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new Di});const s=await ct(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return s.data&&s.data.redirect_url&&Er()&&!n?.skipBrowserRedirect&&window.location.assign(s.data.redirect_url),s})}catch(r){if(Qe(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:i},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new Di});const s=await ct(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return s.data&&s.data.redirect_url&&Er()&&!n?.skipBrowserRedirect&&window.location.assign(s.data.redirect_url),s})}catch(r){if(Qe(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?await ct(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Di})})}catch(t){if(Qe(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?(await ct(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Di})})}catch(n){if(Qe(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(l=>l.kid===t);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(l=>l.kid===t),r&&this.jwks_cached_at+lJ>i)return r;const{data:a,error:s}=await ct(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,r=a.keys.find(l=>l.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:x,error:_}=await this.getSession();if(_||!x.session)return this._returnResult({data:null,error:_});r=x.session.access_token}const{header:i,payload:a,signature:s,raw:{header:l,payload:c}}=Sw(r);n?.allowExpired||OJ(a.exp);const f=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!f){const{error:x}=await this.getUser(r);if(x)throw x;return{data:{claims:a,header:i,signature:s},error:null}}const p=TJ(i.alg),m=await crypto.subtle.importKey("jwk",f,p,!0,["verify"]);if(!await crypto.subtle.verify(p,m,s,vJ(`${l}.${c}`)))throw new BN("Invalid JWT signature");return{data:{claims:a,header:i,signature:s},error:null}}catch(r){if(Qe(r))return this._returnResult({data:null,error:r});throw r}}}mp.nextInstanceID={};const cee=mp;class uee extends cee{constructor(t){super(t)}}class dee{constructor(t,n,r){var i,a,s;this.supabaseUrl=t,this.supabaseKey=n;const l=rJ(t);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,f={db:YQ,realtime:XQ,auth:Object.assign(Object.assign({},ZQ),{storageKey:c}),global:GQ},p=nJ(r??{},f);this.storageKey=(i=p.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=p.global.headers)!==null&&a!==void 0?a:{},p.accessToken?(this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(m,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=p.auth)!==null&&s!==void 0?s:{},this.headers,p.global.fetch),this.fetch=eJ(n,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.accessToken&&this.accessToken().then(m=>this.realtime.setAuth(m)).catch(m=>console.warn("Failed to set initial Realtime auth token:",m)),this.rest=new XX(new URL("rest/v1",l).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),this.storage=new HQ(this.storageUrl.href,this.headers,this.fetch,r?.storage),p.accessToken||this._listenForAuthEvents()}get functions(){return new KX(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,n;if(this.accessToken)return await this.accessToken();const{data:r}=await this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:a,storageKey:s,flowType:l,lock:c,debug:f,throwOnError:p},m,v){const x={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new uee({url:this.authUrl.href,headers:Object.assign(Object.assign({},x),m),storageKey:s,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:a,flowType:l,lock:c,debug:f,throwOnError:p,fetch:v,hasCustomAuthorizationHeader:Object.keys(this.headers).some(_=>_.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new pQ(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r?.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const fee=(e,t,n)=>new dee(e,t,n);function hee(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}hee()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const pee="https://tshbudjnxgufagnvgqtl.supabase.co",mee="sb_publishable_VUZ7L1Q1UMNZ10oUQHhDag_t7ltCFif",ye=fee(pee,mee,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),fF=S.createContext(void 0);function gee({children:e}){const[t,n]=S.useState(null),[r,i]=S.useState(null),[a,s]=S.useState(!0);S.useEffect(()=>{const{data:{subscription:p}}=ye.auth.onAuthStateChange((m,v)=>{i(v),n(v?.user??null),s(!1)});return ye.auth.getSession().then(({data:{session:m}})=>{i(m),n(m?.user??null),s(!1)}),()=>p.unsubscribe()},[]);const l=async(p,m,v)=>{const x=`${window.location.origin}/`,{error:_}=await ye.auth.signUp({email:p,password:m,options:{emailRedirectTo:x,data:v}});return{error:_}},c=async(p,m)=>{const{error:v}=await ye.auth.signInWithPassword({email:p,password:m});return{error:v}},f=async()=>{await ye.auth.signOut(),s5.clear()};return o.jsx(fF.Provider,{value:{user:t,session:r,loading:a,signUp:l,signIn:c,signOut:f},children:e})}function mr(){const e=S.useContext(fF);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}const FN=hx("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-lg text-sm font-medium ring-offset-background transition-all duration-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 shadow-sm hover:shadow-md",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90 shadow-sm",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",hero:"gradient-primary text-primary-foreground shadow-lg hover:shadow-xl hover:scale-[1.02] active:scale-[0.98]",glass:"glass text-foreground hover:bg-card/90 shadow-sm hover:shadow-md",gold:"bg-gold text-primary-foreground hover:bg-gold/90 shadow-sm hover:shadow-md"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-12 rounded-lg px-8 text-base",xl:"h-14 rounded-xl px-10 text-lg",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Se=S.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...i},a)=>{const s=r?M7:"button";return o.jsx(s,{className:qe(FN({variant:t,size:n,className:e})),ref:a,...i})});Se.displayName="Button";var vee=S.createContext(void 0);function bf(e){const t=S.useContext(vee);return e||t||"ltr"}var Pw=0;function Ox(){S.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??b2()),document.body.insertAdjacentElement("beforeend",e[1]??b2()),Pw++,()=>{Pw===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Pw--}},[])}function b2(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var kw="focusScope.autoFocusOnMount",Ew="focusScope.autoFocusOnUnmount",w2={bubbles:!1,cancelable:!0},yee="FocusScope",um=S.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...s}=e,[l,c]=S.useState(null),f=In(i),p=In(a),m=S.useRef(null),v=dt(t,b=>c(b)),x=S.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;S.useEffect(()=>{if(r){let b=function(P){if(x.paused||!l)return;const C=P.target;l.contains(C)?m.current=C:cl(m.current,{select:!0})},w=function(P){if(x.paused||!l)return;const C=P.relatedTarget;C!==null&&(l.contains(C)||cl(m.current,{select:!0}))},k=function(P){if(document.activeElement===document.body)for(const O of P)O.removedNodes.length>0&&cl(l)};document.addEventListener("focusin",b),document.addEventListener("focusout",w);const E=new MutationObserver(k);return l&&E.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",w),E.disconnect()}}},[r,l,x.paused]),S.useEffect(()=>{if(l){S2.add(x);const b=document.activeElement;if(!l.contains(b)){const k=new CustomEvent(kw,w2);l.addEventListener(kw,f),l.dispatchEvent(k),k.defaultPrevented||(xee(jee(hF(l)),{select:!0}),document.activeElement===b&&cl(l))}return()=>{l.removeEventListener(kw,f),setTimeout(()=>{const k=new CustomEvent(Ew,w2);l.addEventListener(Ew,p),l.dispatchEvent(k),k.defaultPrevented||cl(b??document.body,{select:!0}),l.removeEventListener(Ew,p),S2.remove(x)},0)}}},[l,f,p,x]);const _=S.useCallback(b=>{if(!n&&!r||x.paused)return;const w=b.key==="Tab"&&!b.altKey&&!b.ctrlKey&&!b.metaKey,k=document.activeElement;if(w&&k){const E=b.currentTarget,[P,C]=bee(E);P&&C?!b.shiftKey&&k===C?(b.preventDefault(),n&&cl(P,{select:!0})):b.shiftKey&&k===P&&(b.preventDefault(),n&&cl(C,{select:!0})):k===E&&b.preventDefault()}},[n,r,x.paused]);return o.jsx(ze.div,{tabIndex:-1,...s,ref:v,onKeyDown:_})});um.displayName=yee;function xee(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(cl(r,{select:t}),document.activeElement!==n)return}function bee(e){const t=hF(e),n=_2(t,e),r=_2(t.reverse(),e);return[n,r]}function hF(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function _2(e,t){for(const n of e)if(!wee(n,{upTo:t}))return n}function wee(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function _ee(e){return e instanceof HTMLInputElement&&"select"in e}function cl(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&_ee(e)&&t&&e.select()}}var S2=See();function See(){let e=[];return{add(t){const n=e[0];t!==n&&n?.pause(),e=j2(e,t),e.unshift(t)},remove(t){e=j2(e,t),e[0]?.resume()}}}function j2(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function jee(e){return e.filter(t=>t.tagName!=="A")}var Cw="rovingFocusGroup.onEntryFocus",Nee={bubbles:!1,cancelable:!0},dm="RovingFocusGroup",[zN,pF,Pee]=im(dm),[kee,Tx]=Ar(dm,[Pee]),[Eee,Cee]=kee(dm),mF=S.forwardRef((e,t)=>o.jsx(zN.Provider,{scope:e.__scopeRovingFocusGroup,children:o.jsx(zN.Slot,{scope:e.__scopeRovingFocusGroup,children:o.jsx(Oee,{...e,ref:t})})}));mF.displayName=dm;var Oee=S.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:a,currentTabStopId:s,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:f,preventScrollOnEntryFocus:p=!1,...m}=e,v=S.useRef(null),x=dt(t,v),_=bf(a),[b,w]=Va({prop:s,defaultProp:l??null,onChange:c,caller:dm}),[k,E]=S.useState(!1),P=In(f),C=pF(n),O=S.useRef(!1),[R,M]=S.useState(0);return S.useEffect(()=>{const U=v.current;if(U)return U.addEventListener(Cw,P),()=>U.removeEventListener(Cw,P)},[P]),o.jsx(Eee,{scope:n,orientation:r,dir:_,loop:i,currentTabStopId:b,onItemFocus:S.useCallback(U=>w(U),[w]),onItemShiftTab:S.useCallback(()=>E(!0),[]),onFocusableItemAdd:S.useCallback(()=>M(U=>U+1),[]),onFocusableItemRemove:S.useCallback(()=>M(U=>U-1),[]),children:o.jsx(ze.div,{tabIndex:k||R===0?-1:0,"data-orientation":r,...m,ref:x,style:{outline:"none",...e.style},onMouseDown:Ae(e.onMouseDown,()=>{O.current=!0}),onFocus:Ae(e.onFocus,U=>{const F=!O.current;if(U.target===U.currentTarget&&F&&!k){const H=new CustomEvent(Cw,Nee);if(U.currentTarget.dispatchEvent(H),!H.defaultPrevented){const B=C().filter(K=>K.focusable),$=B.find(K=>K.active),G=B.find(K=>K.id===b),V=[$,G,...B].filter(Boolean).map(K=>K.ref.current);yF(V,p)}}O.current=!1}),onBlur:Ae(e.onBlur,()=>E(!1))})})}),gF="RovingFocusGroupItem",vF=S.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:a,children:s,...l}=e,c=Wa(),f=a||c,p=Cee(gF,n),m=p.currentTabStopId===f,v=pF(n),{onFocusableItemAdd:x,onFocusableItemRemove:_,currentTabStopId:b}=p;return S.useEffect(()=>{if(r)return x(),()=>_()},[r,x,_]),o.jsx(zN.ItemSlot,{scope:n,id:f,focusable:r,active:i,children:o.jsx(ze.span,{tabIndex:m?0:-1,"data-orientation":p.orientation,...l,ref:t,onMouseDown:Ae(e.onMouseDown,w=>{r?p.onItemFocus(f):w.preventDefault()}),onFocus:Ae(e.onFocus,()=>p.onItemFocus(f)),onKeyDown:Ae(e.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){p.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const k=Ree(w,p.orientation,p.dir);if(k!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let P=v().filter(C=>C.focusable).map(C=>C.ref.current);if(k==="last")P.reverse();else if(k==="prev"||k==="next"){k==="prev"&&P.reverse();const C=P.indexOf(w.currentTarget);P=p.loop?Mee(P,C+1):P.slice(C+1)}setTimeout(()=>yF(P))}}),children:typeof s=="function"?s({isCurrentTabStop:m,hasTabStop:b!=null}):s})})});vF.displayName=gF;var Tee={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Aee(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Ree(e,t,n){const r=Aee(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Tee[r]}function yF(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function Mee(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var xF=mF,bF=vF,Dee=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Qu=new WeakMap,uv=new WeakMap,dv={},Ow=0,wF=function(e){return e&&(e.host||wF(e.parentNode))},Iee=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=wF(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},Lee=function(e,t,n,r){var i=Iee(t,Array.isArray(e)?e:[e]);dv[n]||(dv[n]=new WeakMap);var a=dv[n],s=[],l=new Set,c=new Set(i),f=function(m){!m||l.has(m)||(l.add(m),f(m.parentNode))};i.forEach(f);var p=function(m){!m||c.has(m)||Array.prototype.forEach.call(m.children,function(v){if(l.has(v))p(v);else try{var x=v.getAttribute(r),_=x!==null&&x!=="false",b=(Qu.get(v)||0)+1,w=(a.get(v)||0)+1;Qu.set(v,b),a.set(v,w),s.push(v),b===1&&_&&uv.set(v,!0),w===1&&v.setAttribute(n,"true"),_||v.setAttribute(r,"true")}catch(k){console.error("aria-hidden: cannot operate on ",v,k)}})};return p(t),l.clear(),Ow++,function(){s.forEach(function(m){var v=Qu.get(m)-1,x=a.get(m)-1;Qu.set(m,v),a.set(m,x),v||(uv.has(m)||m.removeAttribute(r),uv.delete(m)),x||m.removeAttribute(n)}),Ow--,Ow||(Qu=new WeakMap,Qu=new WeakMap,uv=new WeakMap,dv={})}},Ax=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=Dee(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),Lee(r,i,n,"aria-hidden")):function(){return null}},Iv="right-scroll-bar-position",Lv="width-before-scroll-bar",$ee="with-scroll-bars-hidden",Bee="--removed-body-scroll-bar-size";function Tw(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Fee(e,t){var n=S.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=t,n.facade}var zee=typeof window<"u"?S.useLayoutEffect:S.useEffect,N2=new WeakMap;function qee(e,t){var n=Fee(null,function(r){return e.forEach(function(i){return Tw(i,r)})});return zee(function(){var r=N2.get(n);if(r){var i=new Set(r),a=new Set(e),s=n.current;i.forEach(function(l){a.has(l)||Tw(l,null)}),a.forEach(function(l){i.has(l)||Tw(l,s)})}N2.set(n,e)},[e]),n}function Uee(e){return e}function Wee(e,t){t===void 0&&(t=Uee);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(a){var s=t(a,r);return n.push(s),function(){n=n.filter(function(l){return l!==s})}},assignSyncMedium:function(a){for(r=!0;n.length;){var s=n;n=[],s.forEach(a)}n={push:function(l){return a(l)},filter:function(){return n}}},assignMedium:function(a){r=!0;var s=[];if(n.length){var l=n;n=[],l.forEach(a),s=n}var c=function(){var p=s;s=[],p.forEach(a)},f=function(){return Promise.resolve().then(c)};f(),n={push:function(p){s.push(p),f()},filter:function(p){return s=s.filter(p),n}}}};return i}function Hee(e){e===void 0&&(e={});var t=Wee(null);return t.options=pa({async:!0,ssr:!1},e),t}var _F=function(e){var t=e.sideCar,n=kl(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return S.createElement(r,pa({},n))};_F.isSideCarExport=!0;function Vee(e,t){return e.useMedium(t),_F}var SF=Hee(),Aw=function(){},Rx=S.forwardRef(function(e,t){var n=S.useRef(null),r=S.useState({onScrollCapture:Aw,onWheelCapture:Aw,onTouchMoveCapture:Aw}),i=r[0],a=r[1],s=e.forwardProps,l=e.children,c=e.className,f=e.removeScrollBar,p=e.enabled,m=e.shards,v=e.sideCar,x=e.noRelative,_=e.noIsolation,b=e.inert,w=e.allowPinchZoom,k=e.as,E=k===void 0?"div":k,P=e.gapMode,C=kl(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),O=v,R=qee([n,t]),M=pa(pa({},C),i);return S.createElement(S.Fragment,null,p&&S.createElement(O,{sideCar:SF,removeScrollBar:f,shards:m,noRelative:x,noIsolation:_,inert:b,setCallbacks:a,allowPinchZoom:!!w,lockRef:n,gapMode:P}),s?S.cloneElement(S.Children.only(l),pa(pa({},M),{ref:R})):S.createElement(E,pa({},M,{className:c,ref:R}),l))});Rx.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Rx.classNames={fullWidth:Lv,zeroRight:Iv};var Kee=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Gee(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Kee();return t&&e.setAttribute("nonce",t),e}function Yee(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Zee(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Xee=function(){var e=0,t=null;return{add:function(n){e==0&&(t=Gee())&&(Yee(t,n),Zee(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Qee=function(){var e=Xee();return function(t,n){S.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},jF=function(){var e=Qee(),t=function(n){var r=n.styles,i=n.dynamic;return e(r,i),null};return t},Jee={left:0,top:0,right:0,gap:0},Rw=function(e){return parseInt(e||"",10)||0},ete=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[Rw(n),Rw(r),Rw(i)]},tte=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Jee;var t=ete(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},nte=jF(),bd="data-scroll-locked",rte=function(e,t,n,r){var i=e.left,a=e.top,s=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat($ee,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(bd,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Iv,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Lv,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Iv," .").concat(Iv,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Lv," .").concat(Lv,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(bd,`] {
    `).concat(Bee,": ").concat(l,`px;
  }
`)},P2=function(){var e=parseInt(document.body.getAttribute(bd)||"0",10);return isFinite(e)?e:0},ite=function(){S.useEffect(function(){return document.body.setAttribute(bd,(P2()+1).toString()),function(){var e=P2()-1;e<=0?document.body.removeAttribute(bd):document.body.setAttribute(bd,e.toString())}},[])},ate=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=r===void 0?"margin":r;ite();var a=S.useMemo(function(){return tte(i)},[i]);return S.createElement(nte,{styles:rte(a,!t,i,n?"":"!important")})},qN=!1;if(typeof window<"u")try{var fv=Object.defineProperty({},"passive",{get:function(){return qN=!0,!0}});window.addEventListener("test",fv,fv),window.removeEventListener("test",fv,fv)}catch{qN=!1}var Ju=qN?{passive:!1}:!1,ste=function(e){return e.tagName==="TEXTAREA"},NF=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!ste(e)&&n[t]==="visible")},ote=function(e){return NF(e,"overflowY")},lte=function(e){return NF(e,"overflowX")},k2=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=PF(e,r);if(i){var a=kF(e,r),s=a[1],l=a[2];if(s>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},cte=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},ute=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},PF=function(e,t){return e==="v"?ote(t):lte(t)},kF=function(e,t){return e==="v"?cte(t):ute(t)},dte=function(e,t){return e==="h"&&t==="rtl"?-1:1},fte=function(e,t,n,r,i){var a=dte(e,window.getComputedStyle(t).direction),s=a*r,l=n.target,c=t.contains(l),f=!1,p=s>0,m=0,v=0;do{if(!l)break;var x=kF(e,l),_=x[0],b=x[1],w=x[2],k=b-w-a*_;(_||k)&&PF(e,l)&&(m+=k,v+=_);var E=l.parentNode;l=E&&E.nodeType===Node.DOCUMENT_FRAGMENT_NODE?E.host:E}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(p&&Math.abs(m)<1||!p&&Math.abs(v)<1)&&(f=!0),f},hv=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},E2=function(e){return[e.deltaX,e.deltaY]},C2=function(e){return e&&"current"in e?e.current:e},hte=function(e,t){return e[0]===t[0]&&e[1]===t[1]},pte=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},mte=0,ed=[];function gte(e){var t=S.useRef([]),n=S.useRef([0,0]),r=S.useRef(),i=S.useState(mte++)[0],a=S.useState(jF)[0],s=S.useRef(e);S.useEffect(function(){s.current=e},[e]),S.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var b=oE([e.lockRef.current],(e.shards||[]).map(C2),!0).filter(Boolean);return b.forEach(function(w){return w.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),b.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var l=S.useCallback(function(b,w){if("touches"in b&&b.touches.length===2||b.type==="wheel"&&b.ctrlKey)return!s.current.allowPinchZoom;var k=hv(b),E=n.current,P="deltaX"in b?b.deltaX:E[0]-k[0],C="deltaY"in b?b.deltaY:E[1]-k[1],O,R=b.target,M=Math.abs(P)>Math.abs(C)?"h":"v";if("touches"in b&&M==="h"&&R.type==="range")return!1;var U=k2(M,R);if(!U)return!0;if(U?O=M:(O=M==="v"?"h":"v",U=k2(M,R)),!U)return!1;if(!r.current&&"changedTouches"in b&&(P||C)&&(r.current=O),!O)return!0;var F=r.current||O;return fte(F,w,b,F==="h"?P:C)},[]),c=S.useCallback(function(b){var w=b;if(!(!ed.length||ed[ed.length-1]!==a)){var k="deltaY"in w?E2(w):hv(w),E=t.current.filter(function(O){return O.name===w.type&&(O.target===w.target||w.target===O.shadowParent)&&hte(O.delta,k)})[0];if(E&&E.should){w.cancelable&&w.preventDefault();return}if(!E){var P=(s.current.shards||[]).map(C2).filter(Boolean).filter(function(O){return O.contains(w.target)}),C=P.length>0?l(w,P[0]):!s.current.noIsolation;C&&w.cancelable&&w.preventDefault()}}},[]),f=S.useCallback(function(b,w,k,E){var P={name:b,delta:w,target:k,should:E,shadowParent:vte(k)};t.current.push(P),setTimeout(function(){t.current=t.current.filter(function(C){return C!==P})},1)},[]),p=S.useCallback(function(b){n.current=hv(b),r.current=void 0},[]),m=S.useCallback(function(b){f(b.type,E2(b),b.target,l(b,e.lockRef.current))},[]),v=S.useCallback(function(b){f(b.type,hv(b),b.target,l(b,e.lockRef.current))},[]);S.useEffect(function(){return ed.push(a),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:v}),document.addEventListener("wheel",c,Ju),document.addEventListener("touchmove",c,Ju),document.addEventListener("touchstart",p,Ju),function(){ed=ed.filter(function(b){return b!==a}),document.removeEventListener("wheel",c,Ju),document.removeEventListener("touchmove",c,Ju),document.removeEventListener("touchstart",p,Ju)}},[]);var x=e.removeScrollBar,_=e.inert;return S.createElement(S.Fragment,null,_?S.createElement(a,{styles:pte(i)}):null,x?S.createElement(ate,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function vte(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const yte=Vee(SF,gte);var fm=S.forwardRef(function(e,t){return S.createElement(Rx,pa({},e,{ref:t,sideCar:yte}))});fm.classNames=Rx.classNames;var UN=["Enter"," "],xte=["ArrowDown","PageUp","Home"],EF=["ArrowUp","PageDown","End"],bte=[...xte,...EF],wte={ltr:[...UN,"ArrowRight"],rtl:[...UN,"ArrowLeft"]},_te={ltr:["ArrowLeft"],rtl:["ArrowRight"]},hm="Menu",[gp,Ste,jte]=im(hm),[Qc,CF]=Ar(hm,[jte,Nl,Tx]),Mx=Nl(),OF=Tx(),[Nte,Jc]=Qc(hm),[Pte,pm]=Qc(hm),TF=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:i,onOpenChange:a,modal:s=!0}=e,l=Mx(t),[c,f]=S.useState(null),p=S.useRef(!1),m=In(a),v=bf(i);return S.useEffect(()=>{const x=()=>{p.current=!0,document.addEventListener("pointerdown",_,{capture:!0,once:!0}),document.addEventListener("pointermove",_,{capture:!0,once:!0})},_=()=>p.current=!1;return document.addEventListener("keydown",x,{capture:!0}),()=>{document.removeEventListener("keydown",x,{capture:!0}),document.removeEventListener("pointerdown",_,{capture:!0}),document.removeEventListener("pointermove",_,{capture:!0})}},[]),o.jsx(Zk,{...l,children:o.jsx(Nte,{scope:t,open:n,onOpenChange:m,content:c,onContentChange:f,children:o.jsx(Pte,{scope:t,onClose:S.useCallback(()=>m(!1),[m]),isUsingKeyboardRef:p,dir:v,modal:s,children:r})})})};TF.displayName=hm;var kte="MenuAnchor",mE=S.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,i=Mx(n);return o.jsx(om,{...i,...r,ref:t})});mE.displayName=kte;var gE="MenuPortal",[Ete,AF]=Qc(gE,{forceMount:void 0}),RF=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:i}=e,a=Jc(gE,t);return o.jsx(Ete,{scope:t,forceMount:n,children:o.jsx(_r,{present:n||a.open,children:o.jsx(df,{asChild:!0,container:i,children:r})})})};RF.displayName=gE;var va="MenuContent",[Cte,vE]=Qc(va),MF=S.forwardRef((e,t)=>{const n=AF(va,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,a=Jc(va,e.__scopeMenu),s=pm(va,e.__scopeMenu);return o.jsx(gp.Provider,{scope:e.__scopeMenu,children:o.jsx(_r,{present:r||a.open,children:o.jsx(gp.Slot,{scope:e.__scopeMenu,children:s.modal?o.jsx(Ote,{...i,ref:t}):o.jsx(Tte,{...i,ref:t})})})})}),Ote=S.forwardRef((e,t)=>{const n=Jc(va,e.__scopeMenu),r=S.useRef(null),i=dt(t,r);return S.useEffect(()=>{const a=r.current;if(a)return Ax(a)},[]),o.jsx(yE,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Ae(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),Tte=S.forwardRef((e,t)=>{const n=Jc(va,e.__scopeMenu);return o.jsx(yE,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),Ate=wl("MenuContent.ScrollLock"),yE=S.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:a,onCloseAutoFocus:s,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:f,onPointerDownOutside:p,onFocusOutside:m,onInteractOutside:v,onDismiss:x,disableOutsideScroll:_,...b}=e,w=Jc(va,n),k=pm(va,n),E=Mx(n),P=OF(n),C=Ste(n),[O,R]=S.useState(null),M=S.useRef(null),U=dt(t,M,w.onContentChange),F=S.useRef(0),H=S.useRef(""),B=S.useRef(0),$=S.useRef(null),G=S.useRef("right"),W=S.useRef(0),V=_?fm:S.Fragment,K=_?{as:Ate,allowPinchZoom:!0}:void 0,q=Q=>{const ne=H.current+Q,J=C().filter(oe=>!oe.disabled),ee=document.activeElement,te=J.find(oe=>oe.ref.current===ee)?.textValue,re=J.map(oe=>oe.textValue),ie=Wte(re,ne,te),se=J.find(oe=>oe.textValue===ie)?.ref.current;(function oe(be){H.current=be,window.clearTimeout(F.current),be!==""&&(F.current=window.setTimeout(()=>oe(""),1e3))})(ne),se&&setTimeout(()=>se.focus())};S.useEffect(()=>()=>window.clearTimeout(F.current),[]),Ox();const D=S.useCallback(Q=>G.current===$.current?.side&&Vte(Q,$.current?.area),[]);return o.jsx(Cte,{scope:n,searchRef:H,onItemEnter:S.useCallback(Q=>{D(Q)&&Q.preventDefault()},[D]),onItemLeave:S.useCallback(Q=>{D(Q)||(M.current?.focus(),R(null))},[D]),onTriggerLeave:S.useCallback(Q=>{D(Q)&&Q.preventDefault()},[D]),pointerGraceTimerRef:B,onPointerGraceIntentChange:S.useCallback(Q=>{$.current=Q},[]),children:o.jsx(V,{...K,children:o.jsx(um,{asChild:!0,trapped:i,onMountAutoFocus:Ae(a,Q=>{Q.preventDefault(),M.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:s,children:o.jsx(Gc,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:f,onPointerDownOutside:p,onFocusOutside:m,onInteractOutside:v,onDismiss:x,children:o.jsx(xF,{asChild:!0,...P,dir:k.dir,orientation:"vertical",loop:r,currentTabStopId:O,onCurrentTabStopIdChange:R,onEntryFocus:Ae(c,Q=>{k.isUsingKeyboardRef.current||Q.preventDefault()}),preventScrollOnEntryFocus:!0,children:o.jsx(_x,{role:"menu","aria-orientation":"vertical","data-state":ZF(w.open),"data-radix-menu-content":"",dir:k.dir,...E,...b,ref:U,style:{outline:"none",...b.style},onKeyDown:Ae(b.onKeyDown,Q=>{const J=Q.target.closest("[data-radix-menu-content]")===Q.currentTarget,ee=Q.ctrlKey||Q.altKey||Q.metaKey,te=Q.key.length===1;J&&(Q.key==="Tab"&&Q.preventDefault(),!ee&&te&&q(Q.key));const re=M.current;if(Q.target!==re||!bte.includes(Q.key))return;Q.preventDefault();const se=C().filter(oe=>!oe.disabled).map(oe=>oe.ref.current);EF.includes(Q.key)&&se.reverse(),qte(se)}),onBlur:Ae(e.onBlur,Q=>{Q.currentTarget.contains(Q.target)||(window.clearTimeout(F.current),H.current="")}),onPointerMove:Ae(e.onPointerMove,vp(Q=>{const ne=Q.target,J=W.current!==Q.clientX;if(Q.currentTarget.contains(ne)&&J){const ee=Q.clientX>W.current?"right":"left";G.current=ee,W.current=Q.clientX}}))})})})})})})});MF.displayName=va;var Rte="MenuGroup",xE=S.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return o.jsx(ze.div,{role:"group",...r,ref:t})});xE.displayName=Rte;var Mte="MenuLabel",DF=S.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return o.jsx(ze.div,{...r,ref:t})});DF.displayName=Mte;var Jv="MenuItem",O2="menu.itemSelect",Dx=S.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...i}=e,a=S.useRef(null),s=pm(Jv,e.__scopeMenu),l=vE(Jv,e.__scopeMenu),c=dt(t,a),f=S.useRef(!1),p=()=>{const m=a.current;if(!n&&m){const v=new CustomEvent(O2,{bubbles:!0,cancelable:!0});m.addEventListener(O2,x=>r?.(x),{once:!0}),Mk(m,v),v.defaultPrevented?f.current=!1:s.onClose()}};return o.jsx(IF,{...i,ref:c,disabled:n,onClick:Ae(e.onClick,p),onPointerDown:m=>{e.onPointerDown?.(m),f.current=!0},onPointerUp:Ae(e.onPointerUp,m=>{f.current||m.currentTarget?.click()}),onKeyDown:Ae(e.onKeyDown,m=>{const v=l.searchRef.current!=="";n||v&&m.key===" "||UN.includes(m.key)&&(m.currentTarget.click(),m.preventDefault())})})});Dx.displayName=Jv;var IF=S.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...a}=e,s=vE(Jv,n),l=OF(n),c=S.useRef(null),f=dt(t,c),[p,m]=S.useState(!1),[v,x]=S.useState("");return S.useEffect(()=>{const _=c.current;_&&x((_.textContent??"").trim())},[a.children]),o.jsx(gp.ItemSlot,{scope:n,disabled:r,textValue:i??v,children:o.jsx(bF,{asChild:!0,...l,focusable:!r,children:o.jsx(ze.div,{role:"menuitem","data-highlighted":p?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...a,ref:f,onPointerMove:Ae(e.onPointerMove,vp(_=>{r?s.onItemLeave(_):(s.onItemEnter(_),_.defaultPrevented||_.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ae(e.onPointerLeave,vp(_=>s.onItemLeave(_))),onFocus:Ae(e.onFocus,()=>m(!0)),onBlur:Ae(e.onBlur,()=>m(!1))})})})}),Dte="MenuCheckboxItem",LF=S.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...i}=e;return o.jsx(qF,{scope:e.__scopeMenu,checked:n,children:o.jsx(Dx,{role:"menuitemcheckbox","aria-checked":ey(n)?"mixed":n,...i,ref:t,"data-state":wE(n),onSelect:Ae(i.onSelect,()=>r?.(ey(n)?!0:!n),{checkForDefaultPrevented:!1})})})});LF.displayName=Dte;var $F="MenuRadioGroup",[Ite,Lte]=Qc($F,{value:void 0,onValueChange:()=>{}}),BF=S.forwardRef((e,t)=>{const{value:n,onValueChange:r,...i}=e,a=In(r);return o.jsx(Ite,{scope:e.__scopeMenu,value:n,onValueChange:a,children:o.jsx(xE,{...i,ref:t})})});BF.displayName=$F;var FF="MenuRadioItem",zF=S.forwardRef((e,t)=>{const{value:n,...r}=e,i=Lte(FF,e.__scopeMenu),a=n===i.value;return o.jsx(qF,{scope:e.__scopeMenu,checked:a,children:o.jsx(Dx,{role:"menuitemradio","aria-checked":a,...r,ref:t,"data-state":wE(a),onSelect:Ae(r.onSelect,()=>i.onValueChange?.(n),{checkForDefaultPrevented:!1})})})});zF.displayName=FF;var bE="MenuItemIndicator",[qF,$te]=Qc(bE,{checked:!1}),UF=S.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...i}=e,a=$te(bE,n);return o.jsx(_r,{present:r||ey(a.checked)||a.checked===!0,children:o.jsx(ze.span,{...i,ref:t,"data-state":wE(a.checked)})})});UF.displayName=bE;var Bte="MenuSeparator",WF=S.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return o.jsx(ze.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});WF.displayName=Bte;var Fte="MenuArrow",HF=S.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,i=Mx(n);return o.jsx(Sx,{...i,...r,ref:t})});HF.displayName=Fte;var zte="MenuSub",[Zke,VF]=Qc(zte),Bh="MenuSubTrigger",KF=S.forwardRef((e,t)=>{const n=Jc(Bh,e.__scopeMenu),r=pm(Bh,e.__scopeMenu),i=VF(Bh,e.__scopeMenu),a=vE(Bh,e.__scopeMenu),s=S.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=a,f={__scopeMenu:e.__scopeMenu},p=S.useCallback(()=>{s.current&&window.clearTimeout(s.current),s.current=null},[]);return S.useEffect(()=>p,[p]),S.useEffect(()=>{const m=l.current;return()=>{window.clearTimeout(m),c(null)}},[l,c]),o.jsx(mE,{asChild:!0,...f,children:o.jsx(IF,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":ZF(n.open),...e,ref:ux(t,i.onTriggerChange),onClick:m=>{e.onClick?.(m),!(e.disabled||m.defaultPrevented)&&(m.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Ae(e.onPointerMove,vp(m=>{a.onItemEnter(m),!m.defaultPrevented&&!e.disabled&&!n.open&&!s.current&&(a.onPointerGraceIntentChange(null),s.current=window.setTimeout(()=>{n.onOpenChange(!0),p()},100))})),onPointerLeave:Ae(e.onPointerLeave,vp(m=>{p();const v=n.content?.getBoundingClientRect();if(v){const x=n.content?.dataset.side,_=x==="right",b=_?-5:5,w=v[_?"left":"right"],k=v[_?"right":"left"];a.onPointerGraceIntentChange({area:[{x:m.clientX+b,y:m.clientY},{x:w,y:v.top},{x:k,y:v.top},{x:k,y:v.bottom},{x:w,y:v.bottom}],side:x}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(m),m.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:Ae(e.onKeyDown,m=>{const v=a.searchRef.current!=="";e.disabled||v&&m.key===" "||wte[r.dir].includes(m.key)&&(n.onOpenChange(!0),n.content?.focus(),m.preventDefault())})})})});KF.displayName=Bh;var GF="MenuSubContent",YF=S.forwardRef((e,t)=>{const n=AF(va,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,a=Jc(va,e.__scopeMenu),s=pm(va,e.__scopeMenu),l=VF(GF,e.__scopeMenu),c=S.useRef(null),f=dt(t,c);return o.jsx(gp.Provider,{scope:e.__scopeMenu,children:o.jsx(_r,{present:r||a.open,children:o.jsx(gp.Slot,{scope:e.__scopeMenu,children:o.jsx(yE,{id:l.contentId,"aria-labelledby":l.triggerId,...i,ref:f,align:"start",side:s.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:p=>{s.isUsingKeyboardRef.current&&c.current?.focus(),p.preventDefault()},onCloseAutoFocus:p=>p.preventDefault(),onFocusOutside:Ae(e.onFocusOutside,p=>{p.target!==l.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:Ae(e.onEscapeKeyDown,p=>{s.onClose(),p.preventDefault()}),onKeyDown:Ae(e.onKeyDown,p=>{const m=p.currentTarget.contains(p.target),v=_te[s.dir].includes(p.key);m&&v&&(a.onOpenChange(!1),l.trigger?.focus(),p.preventDefault())})})})})})});YF.displayName=GF;function ZF(e){return e?"open":"closed"}function ey(e){return e==="indeterminate"}function wE(e){return ey(e)?"indeterminate":e?"checked":"unchecked"}function qte(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function Ute(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function Wte(e,t,n){const i=t.length>1&&Array.from(t).every(f=>f===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let s=Ute(e,Math.max(a,0));i.length===1&&(s=s.filter(f=>f!==n));const c=s.find(f=>f.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function Hte(e,t){const{x:n,y:r}=e;let i=!1;for(let a=0,s=t.length-1;a<t.length;s=a++){const l=t[a],c=t[s],f=l.x,p=l.y,m=c.x,v=c.y;p>r!=v>r&&n<(m-f)*(r-p)/(v-p)+f&&(i=!i)}return i}function Vte(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return Hte(n,t)}function vp(e){return t=>t.pointerType==="mouse"?e(t):void 0}var Kte=TF,Gte=mE,Yte=RF,Zte=MF,Xte=xE,Qte=DF,Jte=Dx,ene=LF,tne=BF,nne=zF,rne=UF,ine=WF,ane=HF,sne=KF,one=YF,Ix="DropdownMenu",[lne]=Ar(Ix,[CF]),oi=CF(),[cne,XF]=lne(Ix),QF=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:i,defaultOpen:a,onOpenChange:s,modal:l=!0}=e,c=oi(t),f=S.useRef(null),[p,m]=Va({prop:i,defaultProp:a??!1,onChange:s,caller:Ix});return o.jsx(cne,{scope:t,triggerId:Wa(),triggerRef:f,contentId:Wa(),open:p,onOpenChange:m,onOpenToggle:S.useCallback(()=>m(v=>!v),[m]),modal:l,children:o.jsx(Kte,{...c,open:p,onOpenChange:m,dir:r,modal:l,children:n})})};QF.displayName=Ix;var JF="DropdownMenuTrigger",ez=S.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=e,a=XF(JF,n),s=oi(n);return o.jsx(Gte,{asChild:!0,...s,children:o.jsx(ze.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:ux(t,a.triggerRef),onPointerDown:Ae(e.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(a.onOpenToggle(),a.open||l.preventDefault())}),onKeyDown:Ae(e.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&a.onOpenToggle(),l.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});ez.displayName=JF;var une="DropdownMenuPortal",tz=e=>{const{__scopeDropdownMenu:t,...n}=e,r=oi(t);return o.jsx(Yte,{...r,...n})};tz.displayName=une;var nz="DropdownMenuContent",rz=S.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=XF(nz,n),a=oi(n),s=S.useRef(!1);return o.jsx(Zte,{id:i.contentId,"aria-labelledby":i.triggerId,...a,...r,ref:t,onCloseAutoFocus:Ae(e.onCloseAutoFocus,l=>{s.current||i.triggerRef.current?.focus(),s.current=!1,l.preventDefault()}),onInteractOutside:Ae(e.onInteractOutside,l=>{const c=l.detail.originalEvent,f=c.button===0&&c.ctrlKey===!0,p=c.button===2||f;(!i.modal||p)&&(s.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});rz.displayName=nz;var dne="DropdownMenuGroup",fne=S.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=oi(n);return o.jsx(Xte,{...i,...r,ref:t})});fne.displayName=dne;var hne="DropdownMenuLabel",iz=S.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=oi(n);return o.jsx(Qte,{...i,...r,ref:t})});iz.displayName=hne;var pne="DropdownMenuItem",az=S.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=oi(n);return o.jsx(Jte,{...i,...r,ref:t})});az.displayName=pne;var mne="DropdownMenuCheckboxItem",sz=S.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=oi(n);return o.jsx(ene,{...i,...r,ref:t})});sz.displayName=mne;var gne="DropdownMenuRadioGroup",vne=S.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=oi(n);return o.jsx(tne,{...i,...r,ref:t})});vne.displayName=gne;var yne="DropdownMenuRadioItem",oz=S.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=oi(n);return o.jsx(nne,{...i,...r,ref:t})});oz.displayName=yne;var xne="DropdownMenuItemIndicator",lz=S.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=oi(n);return o.jsx(rne,{...i,...r,ref:t})});lz.displayName=xne;var bne="DropdownMenuSeparator",cz=S.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=oi(n);return o.jsx(ine,{...i,...r,ref:t})});cz.displayName=bne;var wne="DropdownMenuArrow",_ne=S.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=oi(n);return o.jsx(ane,{...i,...r,ref:t})});_ne.displayName=wne;var Sne="DropdownMenuSubTrigger",uz=S.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=oi(n);return o.jsx(sne,{...i,...r,ref:t})});uz.displayName=Sne;var jne="DropdownMenuSubContent",dz=S.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=oi(n);return o.jsx(one,{...i,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});dz.displayName=jne;var Nne=QF,Pne=ez,kne=tz,fz=rz,hz=iz,pz=az,mz=sz,gz=oz,vz=lz,yz=cz,xz=uz,bz=dz;const wz=Nne,_z=Pne,Ene=S.forwardRef(({className:e,inset:t,children:n,...r},i)=>o.jsxs(xz,{ref:i,className:qe("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",t&&"pl-8",e),...r,children:[n,o.jsx(Ka,{className:"ml-auto h-4 w-4"})]}));Ene.displayName=xz.displayName;const Cne=S.forwardRef(({className:e,...t},n)=>o.jsx(bz,{ref:n,className:qe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));Cne.displayName=bz.displayName;const _E=S.forwardRef(({className:e,sideOffset:t=4,...n},r)=>o.jsx(kne,{children:o.jsx(fz,{ref:r,sideOffset:t,className:qe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));_E.displayName=fz.displayName;const wd=S.forwardRef(({className:e,inset:t,...n},r)=>o.jsx(pz,{ref:r,className:qe("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t&&"pl-8",e),...n}));wd.displayName=pz.displayName;const One=S.forwardRef(({className:e,children:t,checked:n,...r},i)=>o.jsxs(mz,{ref:i,className:qe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),checked:n,...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(vz,{children:o.jsx(ya,{className:"h-4 w-4"})})}),t]}));One.displayName=mz.displayName;const Tne=S.forwardRef(({className:e,children:t,...n},r)=>o.jsxs(gz,{ref:r,className:qe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...n,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(vz,{children:o.jsx(M9,{className:"h-2 w-2 fill-current"})})}),t]}));Tne.displayName=gz.displayName;const Ane=S.forwardRef(({className:e,inset:t,...n},r)=>o.jsx(hz,{ref:r,className:qe("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));Ane.displayName=hz.displayName;const Rne=S.forwardRef(({className:e,...t},n)=>o.jsx(yz,{ref:n,className:qe("-mx-1 my-1 h-px bg-muted",e),...t}));Rne.displayName=yz.displayName;const yt=e=>typeof e=="string",jh=()=>{let e,t;const n=new Promise((r,i)=>{e=r,t=i});return n.resolve=e,n.reject=t,n},T2=e=>e==null?"":""+e,Mne=(e,t,n)=>{e.forEach(r=>{t[r]&&(n[r]=t[r])})},Dne=/###/g,A2=e=>e&&e.indexOf("###")>-1?e.replace(Dne,"."):e,R2=e=>!e||yt(e),Yh=(e,t,n)=>{const r=yt(t)?t.split("."):t;let i=0;for(;i<r.length-1;){if(R2(e))return{};const a=A2(r[i]);!e[a]&&n&&(e[a]=new n),Object.prototype.hasOwnProperty.call(e,a)?e=e[a]:e={},++i}return R2(e)?{}:{obj:e,k:A2(r[i])}},M2=(e,t,n)=>{const{obj:r,k:i}=Yh(e,t,Object);if(r!==void 0||t.length===1){r[i]=n;return}let a=t[t.length-1],s=t.slice(0,t.length-1),l=Yh(e,s,Object);for(;l.obj===void 0&&s.length;)a=`${s[s.length-1]}.${a}`,s=s.slice(0,s.length-1),l=Yh(e,s,Object),l?.obj&&typeof l.obj[`${l.k}.${a}`]<"u"&&(l.obj=void 0);l.obj[`${l.k}.${a}`]=n},Ine=(e,t,n,r)=>{const{obj:i,k:a}=Yh(e,t,Object);i[a]=i[a]||[],i[a].push(n)},ty=(e,t)=>{const{obj:n,k:r}=Yh(e,t);if(n&&Object.prototype.hasOwnProperty.call(n,r))return n[r]},Lne=(e,t,n)=>{const r=ty(e,n);return r!==void 0?r:ty(t,n)},Sz=(e,t,n)=>{for(const r in t)r!=="__proto__"&&r!=="constructor"&&(r in e?yt(e[r])||e[r]instanceof String||yt(t[r])||t[r]instanceof String?n&&(e[r]=t[r]):Sz(e[r],t[r],n):e[r]=t[r]);return e},td=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var $ne={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const Bne=e=>yt(e)?e.replace(/[&<>"'\/]/g,t=>$ne[t]):e;class Fne{constructor(t){this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(t){const n=this.regExpMap.get(t);if(n!==void 0)return n;const r=new RegExp(t);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(t,r),this.regExpQueue.push(t),r}}const zne=[" ",",","?","!",";"],qne=new Fne(20),Une=(e,t,n)=>{t=t||"",n=n||"";const r=zne.filter(s=>t.indexOf(s)<0&&n.indexOf(s)<0);if(r.length===0)return!0;const i=qne.getRegExp(`(${r.map(s=>s==="?"?"\\?":s).join("|")})`);let a=!i.test(e);if(!a){const s=e.indexOf(n);s>0&&!i.test(e.substring(0,s))&&(a=!0)}return a},WN=(e,t,n=".")=>{if(!e)return;if(e[t])return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0;const r=t.split(n);let i=e;for(let a=0;a<r.length;){if(!i||typeof i!="object")return;let s,l="";for(let c=a;c<r.length;++c)if(c!==a&&(l+=n),l+=r[c],s=i[l],s!==void 0){if(["string","number","boolean"].indexOf(typeof s)>-1&&c<r.length-1)continue;a+=c-a+1;break}i=s}return i},yp=e=>e?.replace("_","-"),Wne={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){console?.[e]?.apply?.(console,t)}};class ny{constructor(t,n={}){this.init(t,n)}init(t,n={}){this.prefix=n.prefix||"i18next:",this.logger=t||Wne,this.options=n,this.debug=n.debug}log(...t){return this.forward(t,"log","",!0)}warn(...t){return this.forward(t,"warn","",!0)}error(...t){return this.forward(t,"error","")}deprecate(...t){return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(t,n,r,i){return i&&!this.debug?null:(yt(t[0])&&(t[0]=`${r}${this.prefix} ${t[0]}`),this.logger[n](t))}create(t){return new ny(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}clone(t){return t=t||this.options,t.prefix=t.prefix||this.prefix,new ny(this.logger,t)}}var ms=new ny;let Lx=class{constructor(){this.observers={}}on(t,n){return t.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const i=this.observers[r].get(n)||0;this.observers[r].set(n,i+1)}),this}off(t,n){if(this.observers[t]){if(!n){delete this.observers[t];return}this.observers[t].delete(n)}}emit(t,...n){this.observers[t]&&Array.from(this.observers[t].entries()).forEach(([i,a])=>{for(let s=0;s<a;s++)i(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([i,a])=>{for(let s=0;s<a;s++)i.apply(i,[t,...n])})}};class D2 extends Lx{constructor(t,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=t||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const n=this.options.ns.indexOf(t);n>-1&&this.options.ns.splice(n,1)}getResource(t,n,r,i={}){const a=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,s=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let l;t.indexOf(".")>-1?l=t.split("."):(l=[t,n],r&&(Array.isArray(r)?l.push(...r):yt(r)&&a?l.push(...r.split(a)):l.push(r)));const c=ty(this.data,l);return!c&&!n&&!r&&t.indexOf(".")>-1&&(t=l[0],n=l[1],r=l.slice(2).join(".")),c||!s||!yt(r)?c:WN(this.data?.[t]?.[n],r,a)}addResource(t,n,r,i,a={silent:!1}){const s=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator;let l=[t,n];r&&(l=l.concat(s?r.split(s):r)),t.indexOf(".")>-1&&(l=t.split("."),i=n,n=l[1]),this.addNamespaces(n),M2(this.data,l,i),a.silent||this.emit("added",t,n,r,i)}addResources(t,n,r,i={silent:!1}){for(const a in r)(yt(r[a])||Array.isArray(r[a]))&&this.addResource(t,n,a,r[a],{silent:!0});i.silent||this.emit("added",t,n,r)}addResourceBundle(t,n,r,i,a,s={silent:!1,skipCopy:!1}){let l=[t,n];t.indexOf(".")>-1&&(l=t.split("."),i=r,r=n,n=l[1]),this.addNamespaces(n);let c=ty(this.data,l)||{};s.skipCopy||(r=JSON.parse(JSON.stringify(r))),i?Sz(c,r,a):c={...c,...r},M2(this.data,l,c),s.silent||this.emit("added",t,n,r)}removeResourceBundle(t,n){this.hasResourceBundle(t,n)&&delete this.data[t][n],this.removeNamespaces(n),this.emit("removed",t,n)}hasResourceBundle(t,n){return this.getResource(t,n)!==void 0}getResourceBundle(t,n){return n||(n=this.options.defaultNS),this.getResource(t,n)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const n=this.getDataByLanguage(t);return!!(n&&Object.keys(n)||[]).find(i=>n[i]&&Object.keys(n[i]).length>0)}toJSON(){return this.data}}var jz={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,n,r,i){return e.forEach(a=>{t=this.processors[a]?.process(t,n,r,i)??t}),t}};const Nz=Symbol("i18next/PATH_KEY");function Hne(){const e=[],t=Object.create(null);let n;return t.get=(r,i)=>(n?.revoke?.(),i===Nz?e:(e.push(i),n=Proxy.revocable(r,t),n.proxy)),Proxy.revocable(Object.create(null),t).proxy}function HN(e,t){const{[Nz]:n}=e(Hne());return n.join(t?.keySeparator??".")}const I2={},Mw=e=>!yt(e)&&typeof e!="boolean"&&typeof e!="number";class ry extends Lx{constructor(t,n={}){super(),Mne(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=ms.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t,n={interpolation:{}}){const r={...n};if(t==null)return!1;const i=this.resolve(t,r);if(i?.res===void 0)return!1;const a=Mw(i.res);return!(r.returnObjects===!1&&a)}extractFromKey(t,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let a=n.ns||this.options.defaultNS||[];const s=r&&t.indexOf(r)>-1,l=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!Une(t,r,i);if(s&&!l){const c=t.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:t,namespaces:yt(a)?[a]:a};const f=t.split(r);(r!==i||r===i&&this.options.ns.indexOf(f[0])>-1)&&(a=f.shift()),t=f.join(i)}return{key:t,namespaces:yt(a)?[a]:a}}translate(t,n,r){let i=typeof n=="object"?{...n}:n;if(typeof i!="object"&&this.options.overloadTranslationOptionHandler&&(i=this.options.overloadTranslationOptionHandler(arguments)),typeof i=="object"&&(i={...i}),i||(i={}),t==null)return"";typeof t=="function"&&(t=HN(t,{...this.options,...i})),Array.isArray(t)||(t=[String(t)]);const a=i.returnDetails!==void 0?i.returnDetails:this.options.returnDetails,s=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,{key:l,namespaces:c}=this.extractFromKey(t[t.length-1],i),f=c[c.length-1];let p=i.nsSeparator!==void 0?i.nsSeparator:this.options.nsSeparator;p===void 0&&(p=":");const m=i.lng||this.language,v=i.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(m?.toLowerCase()==="cimode")return v?a?{res:`${f}${p}${l}`,usedKey:l,exactUsedKey:l,usedLng:m,usedNS:f,usedParams:this.getUsedParamsDetails(i)}:`${f}${p}${l}`:a?{res:l,usedKey:l,exactUsedKey:l,usedLng:m,usedNS:f,usedParams:this.getUsedParamsDetails(i)}:l;const x=this.resolve(t,i);let _=x?.res;const b=x?.usedKey||l,w=x?.exactUsedKey||l,k=["[object Number]","[object Function]","[object RegExp]"],E=i.joinArrays!==void 0?i.joinArrays:this.options.joinArrays,P=!this.i18nFormat||this.i18nFormat.handleAsObject,C=i.count!==void 0&&!yt(i.count),O=ry.hasDefaultValue(i),R=C?this.pluralResolver.getSuffix(m,i.count,i):"",M=i.ordinal&&C?this.pluralResolver.getSuffix(m,i.count,{ordinal:!1}):"",U=C&&!i.ordinal&&i.count===0,F=U&&i[`defaultValue${this.options.pluralSeparator}zero`]||i[`defaultValue${R}`]||i[`defaultValue${M}`]||i.defaultValue;let H=_;P&&!_&&O&&(H=F);const B=Mw(H),$=Object.prototype.toString.apply(H);if(P&&H&&B&&k.indexOf($)<0&&!(yt(E)&&Array.isArray(H))){if(!i.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const G=this.options.returnedObjectHandler?this.options.returnedObjectHandler(b,H,{...i,ns:c}):`key '${l} (${this.language})' returned an object instead of string.`;return a?(x.res=G,x.usedParams=this.getUsedParamsDetails(i),x):G}if(s){const G=Array.isArray(H),W=G?[]:{},V=G?w:b;for(const K in H)if(Object.prototype.hasOwnProperty.call(H,K)){const q=`${V}${s}${K}`;O&&!_?W[K]=this.translate(q,{...i,defaultValue:Mw(F)?F[K]:void 0,joinArrays:!1,ns:c}):W[K]=this.translate(q,{...i,joinArrays:!1,ns:c}),W[K]===q&&(W[K]=H[K])}_=W}}else if(P&&yt(E)&&Array.isArray(_))_=_.join(E),_&&(_=this.extendTranslation(_,t,i,r));else{let G=!1,W=!1;!this.isValidLookup(_)&&O&&(G=!0,_=F),this.isValidLookup(_)||(W=!0,_=l);const K=(i.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&W?void 0:_,q=O&&F!==_&&this.options.updateMissing;if(W||G||q){if(this.logger.log(q?"updateKey":"missingKey",m,f,l,q?F:_),s){const J=this.resolve(l,{...i,keySeparator:!1});J&&J.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let D=[];const Q=this.languageUtils.getFallbackCodes(this.options.fallbackLng,i.lng||this.language);if(this.options.saveMissingTo==="fallback"&&Q&&Q[0])for(let J=0;J<Q.length;J++)D.push(Q[J]);else this.options.saveMissingTo==="all"?D=this.languageUtils.toResolveHierarchy(i.lng||this.language):D.push(i.lng||this.language);const ne=(J,ee,te)=>{const re=O&&te!==_?te:K;this.options.missingKeyHandler?this.options.missingKeyHandler(J,f,ee,re,q,i):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(J,f,ee,re,q,i),this.emit("missingKey",J,f,ee,_)};this.options.saveMissing&&(this.options.saveMissingPlurals&&C?D.forEach(J=>{const ee=this.pluralResolver.getSuffixes(J,i);U&&i[`defaultValue${this.options.pluralSeparator}zero`]&&ee.indexOf(`${this.options.pluralSeparator}zero`)<0&&ee.push(`${this.options.pluralSeparator}zero`),ee.forEach(te=>{ne([J],l+te,i[`defaultValue${te}`]||F)})}):ne(D,l,F))}_=this.extendTranslation(_,t,i,x,r),W&&_===l&&this.options.appendNamespaceToMissingKey&&(_=`${f}${p}${l}`),(W||G)&&this.options.parseMissingKeyHandler&&(_=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${f}${p}${l}`:l,G?_:void 0,i))}return a?(x.res=_,x.usedParams=this.getUsedParamsDetails(i),x):_}extendTranslation(t,n,r,i,a){if(this.i18nFormat?.parse)t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const c=yt(t)&&(r?.interpolation?.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let f;if(c){const m=t.match(this.interpolator.nestingRegexp);f=m&&m.length}let p=r.replace&&!yt(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(p={...this.options.interpolation.defaultVariables,...p}),t=this.interpolator.interpolate(t,p,r.lng||this.language||i.usedLng,r),c){const m=t.match(this.interpolator.nestingRegexp),v=m&&m.length;f<v&&(r.nest=!1)}!r.lng&&i&&i.res&&(r.lng=this.language||i.usedLng),r.nest!==!1&&(t=this.interpolator.nest(t,(...m)=>a?.[0]===m[0]&&!r.context?(this.logger.warn(`It seems you are nesting recursively key: ${m[0]} in key: ${n[0]}`),null):this.translate(...m,n),r)),r.interpolation&&this.interpolator.reset()}const s=r.postProcess||this.options.postProcess,l=yt(s)?[s]:s;return t!=null&&l?.length&&r.applyPostProcessor!==!1&&(t=jz.handle(l,t,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),t}resolve(t,n={}){let r,i,a,s,l;return yt(t)&&(t=[t]),t.forEach(c=>{if(this.isValidLookup(r))return;const f=this.extractFromKey(c,n),p=f.key;i=p;let m=f.namespaces;this.options.fallbackNS&&(m=m.concat(this.options.fallbackNS));const v=n.count!==void 0&&!yt(n.count),x=v&&!n.ordinal&&n.count===0,_=n.context!==void 0&&(yt(n.context)||typeof n.context=="number")&&n.context!=="",b=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);m.forEach(w=>{this.isValidLookup(r)||(l=w,!I2[`${b[0]}-${w}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(l)&&(I2[`${b[0]}-${w}`]=!0,this.logger.warn(`key "${i}" for languages "${b.join(", ")}" won't get resolved as namespace "${l}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),b.forEach(k=>{if(this.isValidLookup(r))return;s=k;const E=[p];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(E,p,k,w,n);else{let C;v&&(C=this.pluralResolver.getSuffix(k,n.count,n));const O=`${this.options.pluralSeparator}zero`,R=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(v&&(n.ordinal&&C.indexOf(R)===0&&E.push(p+C.replace(R,this.options.pluralSeparator)),E.push(p+C),x&&E.push(p+O)),_){const M=`${p}${this.options.contextSeparator||"_"}${n.context}`;E.push(M),v&&(n.ordinal&&C.indexOf(R)===0&&E.push(M+C.replace(R,this.options.pluralSeparator)),E.push(M+C),x&&E.push(M+O))}}let P;for(;P=E.pop();)this.isValidLookup(r)||(a=P,r=this.getResource(k,w,P,n))}))})}),{res:r,usedKey:i,exactUsedKey:a,usedLng:s,usedNS:l}}isValidLookup(t){return t!==void 0&&!(!this.options.returnNull&&t===null)&&!(!this.options.returnEmptyString&&t==="")}getResource(t,n,r,i={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(t,n,r,i):this.resourceStore.getResource(t,n,r,i)}getUsedParamsDetails(t={}){const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=t.replace&&!yt(t.replace);let i=r?t.replace:t;if(r&&typeof t.count<"u"&&(i.count=t.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!r){i={...i};for(const a of n)delete i[a]}return i}static hasDefaultValue(t){const n="defaultValue";for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&n===r.substring(0,n.length)&&t[r]!==void 0)return!0;return!1}}class L2{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=ms.create("languageUtils")}getScriptPartFromCode(t){if(t=yp(t),!t||t.indexOf("-")<0)return null;const n=t.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(t){if(t=yp(t),!t||t.indexOf("-")<0)return t;const n=t.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(t){if(yt(t)&&t.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(t)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?t.toLowerCase():t)}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let n;return t.forEach(r=>{if(n)return;const i=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(i))&&(n=i)}),!n&&this.options.supportedLngs&&t.forEach(r=>{if(n)return;const i=this.getScriptPartFromCode(r);if(this.isSupportedCode(i))return n=i;const a=this.getLanguagePartFromCode(r);if(this.isSupportedCode(a))return n=a;n=this.options.supportedLngs.find(s=>{if(s===a)return s;if(!(s.indexOf("-")<0&&a.indexOf("-")<0)&&(s.indexOf("-")>0&&a.indexOf("-")<0&&s.substring(0,s.indexOf("-"))===a||s.indexOf(a)===0&&a.length>1))return s})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(t,n){if(!t)return[];if(typeof t=="function"&&(t=t(n)),yt(t)&&(t=[t]),Array.isArray(t))return t;if(!n)return t.default||[];let r=t[n];return r||(r=t[this.getScriptPartFromCode(n)]),r||(r=t[this.formatLanguageCode(n)]),r||(r=t[this.getLanguagePartFromCode(n)]),r||(r=t.default),r||[]}toResolveHierarchy(t,n){const r=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],t),i=[],a=s=>{s&&(this.isSupportedCode(s)?i.push(s):this.logger.warn(`rejecting language code not found in supportedLngs: ${s}`))};return yt(t)&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&a(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&a(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&a(this.getLanguagePartFromCode(t))):yt(t)&&a(this.formatLanguageCode(t)),r.forEach(s=>{i.indexOf(s)<0&&a(this.formatLanguageCode(s))}),i}}const $2={zero:0,one:1,two:2,few:3,many:4,other:5},B2={select:e=>e===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class Vne{constructor(t,n={}){this.languageUtils=t,this.options=n,this.logger=ms.create("pluralResolver"),this.pluralRulesCache={}}addRule(t,n){this.rules[t]=n}clearCache(){this.pluralRulesCache={}}getRule(t,n={}){const r=yp(t==="dev"?"en":t),i=n.ordinal?"ordinal":"cardinal",a=JSON.stringify({cleanedCode:r,type:i});if(a in this.pluralRulesCache)return this.pluralRulesCache[a];let s;try{s=new Intl.PluralRules(r,{type:i})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),B2;if(!t.match(/-|_/))return B2;const c=this.languageUtils.getLanguagePartFromCode(t);s=this.getRule(c,n)}return this.pluralRulesCache[a]=s,s}needsPlural(t,n={}){let r=this.getRule(t,n);return r||(r=this.getRule("dev",n)),r?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(t,n,r={}){return this.getSuffixes(t,r).map(i=>`${n}${i}`)}getSuffixes(t,n={}){let r=this.getRule(t,n);return r||(r=this.getRule("dev",n)),r?r.resolvedOptions().pluralCategories.sort((i,a)=>$2[i]-$2[a]).map(i=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i}`):[]}getSuffix(t,n,r={}){const i=this.getRule(t,r);return i?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i.select(n)}`:(this.logger.warn(`no plural rule found for: ${t}`),this.getSuffix("dev",n,r))}}const F2=(e,t,n,r=".",i=!0)=>{let a=Lne(e,t,n);return!a&&i&&yt(n)&&(a=WN(e,n,r),a===void 0&&(a=WN(t,n,r))),a},Dw=e=>e.replace(/\$/g,"$$$$");class z2{constructor(t={}){this.logger=ms.create("interpolator"),this.options=t,this.format=t?.interpolation?.format||(n=>n),this.init(t)}init(t={}){t.interpolation||(t.interpolation={escapeValue:!0});const{escape:n,escapeValue:r,useRawValueToEscape:i,prefix:a,prefixEscaped:s,suffix:l,suffixEscaped:c,formatSeparator:f,unescapeSuffix:p,unescapePrefix:m,nestingPrefix:v,nestingPrefixEscaped:x,nestingSuffix:_,nestingSuffixEscaped:b,nestingOptionsSeparator:w,maxReplaces:k,alwaysFormat:E}=t.interpolation;this.escape=n!==void 0?n:Bne,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=a?td(a):s||"{{",this.suffix=l?td(l):c||"}}",this.formatSeparator=f||",",this.unescapePrefix=p?"":m||"-",this.unescapeSuffix=this.unescapePrefix?"":p||"",this.nestingPrefix=v?td(v):x||td("$t("),this.nestingSuffix=_?td(_):b||td(")"),this.nestingOptionsSeparator=w||",",this.maxReplaces=k||1e3,this.alwaysFormat=E!==void 0?E:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=(n,r)=>n?.source===r?(n.lastIndex=0,n):new RegExp(r,"g");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(t,n,r,i){let a,s,l;const c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},f=x=>{if(x.indexOf(this.formatSeparator)<0){const k=F2(n,c,x,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(k,void 0,r,{...i,...n,interpolationkey:x}):k}const _=x.split(this.formatSeparator),b=_.shift().trim(),w=_.join(this.formatSeparator).trim();return this.format(F2(n,c,b,this.options.keySeparator,this.options.ignoreJSONStructure),w,r,{...i,...n,interpolationkey:b})};this.resetRegExp();const p=i?.missingInterpolationHandler||this.options.missingInterpolationHandler,m=i?.interpolation?.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:x=>Dw(x)},{regex:this.regexp,safeValue:x=>this.escapeValue?Dw(this.escape(x)):Dw(x)}].forEach(x=>{for(l=0;a=x.regex.exec(t);){const _=a[1].trim();if(s=f(_),s===void 0)if(typeof p=="function"){const w=p(t,a,i);s=yt(w)?w:""}else if(i&&Object.prototype.hasOwnProperty.call(i,_))s="";else if(m){s=a[0];continue}else this.logger.warn(`missed to pass in variable ${_} for interpolating ${t}`),s="";else!yt(s)&&!this.useRawValueToEscape&&(s=T2(s));const b=x.safeValue(s);if(t=t.replace(a[0],b),m?(x.regex.lastIndex+=s.length,x.regex.lastIndex-=a[0].length):x.regex.lastIndex=0,l++,l>=this.maxReplaces)break}}),t}nest(t,n,r={}){let i,a,s;const l=(c,f)=>{const p=this.nestingOptionsSeparator;if(c.indexOf(p)<0)return c;const m=c.split(new RegExp(`${p}[ ]*{`));let v=`{${m[1]}`;c=m[0],v=this.interpolate(v,s);const x=v.match(/'/g),_=v.match(/"/g);((x?.length??0)%2===0&&!_||_.length%2!==0)&&(v=v.replace(/'/g,'"'));try{s=JSON.parse(v),f&&(s={...f,...s})}catch(b){return this.logger.warn(`failed parsing options string in nesting for key ${c}`,b),`${c}${p}${v}`}return s.defaultValue&&s.defaultValue.indexOf(this.prefix)>-1&&delete s.defaultValue,c};for(;i=this.nestingRegexp.exec(t);){let c=[];s={...r},s=s.replace&&!yt(s.replace)?s.replace:s,s.applyPostProcessor=!1,delete s.defaultValue;const f=/{.*}/.test(i[1])?i[1].lastIndexOf("}")+1:i[1].indexOf(this.formatSeparator);if(f!==-1&&(c=i[1].slice(f).split(this.formatSeparator).map(p=>p.trim()).filter(Boolean),i[1]=i[1].slice(0,f)),a=n(l.call(this,i[1].trim(),s),s),a&&i[0]===t&&!yt(a))return a;yt(a)||(a=T2(a)),a||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${t}`),a=""),c.length&&(a=c.reduce((p,m)=>this.format(p,m,r.lng,{...r,interpolationkey:i[1].trim()}),a.trim())),t=t.replace(i[0],a),this.regexp.lastIndex=0}return t}}const Kne=e=>{let t=e.toLowerCase().trim();const n={};if(e.indexOf("(")>-1){const r=e.split("(");t=r[0].toLowerCase().trim();const i=r[1].substring(0,r[1].length-1);t==="currency"&&i.indexOf(":")<0?n.currency||(n.currency=i.trim()):t==="relativetime"&&i.indexOf(":")<0?n.range||(n.range=i.trim()):i.split(";").forEach(s=>{if(s){const[l,...c]=s.split(":"),f=c.join(":").trim().replace(/^'+|'+$/g,""),p=l.trim();n[p]||(n[p]=f),f==="false"&&(n[p]=!1),f==="true"&&(n[p]=!0),isNaN(f)||(n[p]=parseInt(f,10))}})}return{formatName:t,formatOptions:n}},q2=e=>{const t={};return(n,r,i)=>{let a=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(a={...a,[i.interpolationkey]:void 0});const s=r+JSON.stringify(a);let l=t[s];return l||(l=e(yp(r),i),t[s]=l),l(n)}},Gne=e=>(t,n,r)=>e(yp(n),r)(t);class Yne{constructor(t={}){this.logger=ms.create("formatter"),this.options=t,this.init(t)}init(t,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";const r=n.cacheInBuiltFormats?q2:Gne;this.formats={number:r((i,a)=>{const s=new Intl.NumberFormat(i,{...a});return l=>s.format(l)}),currency:r((i,a)=>{const s=new Intl.NumberFormat(i,{...a,style:"currency"});return l=>s.format(l)}),datetime:r((i,a)=>{const s=new Intl.DateTimeFormat(i,{...a});return l=>s.format(l)}),relativetime:r((i,a)=>{const s=new Intl.RelativeTimeFormat(i,{...a});return l=>s.format(l,a.range||"day")}),list:r((i,a)=>{const s=new Intl.ListFormat(i,{...a});return l=>s.format(l)})}}add(t,n){this.formats[t.toLowerCase().trim()]=n}addCached(t,n){this.formats[t.toLowerCase().trim()]=q2(n)}format(t,n,r,i={}){const a=n.split(this.formatSeparator);if(a.length>1&&a[0].indexOf("(")>1&&a[0].indexOf(")")<0&&a.find(l=>l.indexOf(")")>-1)){const l=a.findIndex(c=>c.indexOf(")")>-1);a[0]=[a[0],...a.splice(1,l)].join(this.formatSeparator)}return a.reduce((l,c)=>{const{formatName:f,formatOptions:p}=Kne(c);if(this.formats[f]){let m=l;try{const v=i?.formatParams?.[i.interpolationkey]||{},x=v.locale||v.lng||i.locale||i.lng||r;m=this.formats[f](l,x,{...p,...i,...v})}catch(v){this.logger.warn(v)}return m}else this.logger.warn(`there was no format function for ${f}`);return l},t)}}const Zne=(e,t)=>{e.pending[t]!==void 0&&(delete e.pending[t],e.pendingCount--)};class Xne extends Lx{constructor(t,n,r,i={}){super(),this.backend=t,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=i,this.logger=ms.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(r,i.backend,i)}queueLoad(t,n,r,i){const a={},s={},l={},c={};return t.forEach(f=>{let p=!0;n.forEach(m=>{const v=`${f}|${m}`;!r.reload&&this.store.hasResourceBundle(f,m)?this.state[v]=2:this.state[v]<0||(this.state[v]===1?s[v]===void 0&&(s[v]=!0):(this.state[v]=1,p=!1,s[v]===void 0&&(s[v]=!0),a[v]===void 0&&(a[v]=!0),c[m]===void 0&&(c[m]=!0)))}),p||(l[f]=!0)}),(Object.keys(a).length||Object.keys(s).length)&&this.queue.push({pending:s,pendingCount:Object.keys(s).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(a),pending:Object.keys(s),toLoadLanguages:Object.keys(l),toLoadNamespaces:Object.keys(c)}}loaded(t,n,r){const i=t.split("|"),a=i[0],s=i[1];n&&this.emit("failedLoading",a,s,n),!n&&r&&this.store.addResourceBundle(a,s,r,void 0,void 0,{skipCopy:!0}),this.state[t]=n?-1:2,n&&r&&(this.state[t]=0);const l={};this.queue.forEach(c=>{Ine(c.loaded,[a],s),Zne(c,t),n&&c.errors.push(n),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(f=>{l[f]||(l[f]={});const p=c.loaded[f];p.length&&p.forEach(m=>{l[f][m]===void 0&&(l[f][m]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",l),this.queue=this.queue.filter(c=>!c.done)}read(t,n,r,i=0,a=this.retryTimeout,s){if(!t.length)return s(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:t,ns:n,fcName:r,tried:i,wait:a,callback:s});return}this.readingCalls++;const l=(f,p)=>{if(this.readingCalls--,this.waitingReads.length>0){const m=this.waitingReads.shift();this.read(m.lng,m.ns,m.fcName,m.tried,m.wait,m.callback)}if(f&&p&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,t,n,r,i+1,a*2,s)},a);return}s(f,p)},c=this.backend[r].bind(this.backend);if(c.length===2){try{const f=c(t,n);f&&typeof f.then=="function"?f.then(p=>l(null,p)).catch(l):l(null,f)}catch(f){l(f)}return}return c(t,n,l)}prepareLoading(t,n,r={},i){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();yt(t)&&(t=this.languageUtils.toResolveHierarchy(t)),yt(n)&&(n=[n]);const a=this.queueLoad(t,n,r,i);if(!a.toLoad.length)return a.pending.length||i(),null;a.toLoad.forEach(s=>{this.loadOne(s)})}load(t,n,r){this.prepareLoading(t,n,{},r)}reload(t,n,r){this.prepareLoading(t,n,{reload:!0},r)}loadOne(t,n=""){const r=t.split("|"),i=r[0],a=r[1];this.read(i,a,"read",void 0,void 0,(s,l)=>{s&&this.logger.warn(`${n}loading namespace ${a} for language ${i} failed`,s),!s&&l&&this.logger.log(`${n}loaded namespace ${a} for language ${i}`,l),this.loaded(t,s,l)})}saveMissing(t,n,r,i,a,s={},l=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if(this.backend?.create){const c={...s,isUpdate:a},f=this.backend.create.bind(this.backend);if(f.length<6)try{let p;f.length===5?p=f(t,n,r,i,c):p=f(t,n,r,i),p&&typeof p.then=="function"?p.then(m=>l(null,m)).catch(l):l(null,p)}catch(p){l(p)}else f(t,n,r,i,l,c)}!t||!t[0]||this.store.addResource(t[0],n,r,i)}}}const U2=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if(typeof e[1]=="object"&&(t=e[1]),yt(e[1])&&(t.defaultValue=e[1]),yt(e[2])&&(t.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const n=e[3]||e[2];Object.keys(n).forEach(r=>{t[r]=n[r]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),W2=e=>(yt(e.ns)&&(e.ns=[e.ns]),yt(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),yt(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs?.indexOf?.("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),typeof e.initImmediate=="boolean"&&(e.initAsync=e.initImmediate),e),pv=()=>{},Qne=e=>{Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(n=>{typeof e[n]=="function"&&(e[n]=e[n].bind(e))})};class Zh extends Lx{constructor(t={},n){if(super(),this.options=W2(t),this.services={},this.logger=ms,this.modules={external:[]},Qne(this),n&&!this.isInitialized&&!t.isClone){if(!this.options.initAsync)return this.init(t,n),this;setTimeout(()=>{this.init(t,n)},0)}}init(t={},n){this.isInitializing=!0,typeof t=="function"&&(n=t,t={}),t.defaultNS==null&&t.ns&&(yt(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const r=U2();this.options={...r,...this.options,...W2(t)},this.options.interpolation={...r.interpolation,...this.options.interpolation},t.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=t.keySeparator),t.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=t.nsSeparator);const i=f=>f?typeof f=="function"?new f:f:null;if(!this.options.isClone){this.modules.logger?ms.init(i(this.modules.logger),this.options):ms.init(null,this.options);let f;this.modules.formatter?f=this.modules.formatter:f=Yne;const p=new L2(this.options);this.store=new D2(this.options.resources,this.options);const m=this.services;m.logger=ms,m.resourceStore=this.store,m.languageUtils=p,m.pluralResolver=new Vne(p,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),f&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(m.formatter=i(f),m.formatter.init&&m.formatter.init(m,this.options),this.options.interpolation.format=m.formatter.format.bind(m.formatter)),m.interpolator=new z2(this.options),m.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},m.backendConnector=new Xne(i(this.modules.backend),m.resourceStore,m,this.options),m.backendConnector.on("*",(x,..._)=>{this.emit(x,..._)}),this.modules.languageDetector&&(m.languageDetector=i(this.modules.languageDetector),m.languageDetector.init&&m.languageDetector.init(m,this.options.detection,this.options)),this.modules.i18nFormat&&(m.i18nFormat=i(this.modules.i18nFormat),m.i18nFormat.init&&m.i18nFormat.init(this)),this.translator=new ry(this.services,this.options),this.translator.on("*",(x,..._)=>{this.emit(x,..._)}),this.modules.external.forEach(x=>{x.init&&x.init(this)})}if(this.format=this.options.interpolation.format,n||(n=pv),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const f=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);f.length>0&&f[0]!=="dev"&&(this.options.lng=f[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(f=>{this[f]=(...p)=>this.store[f](...p)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(f=>{this[f]=(...p)=>(this.store[f](...p),this)});const l=jh(),c=()=>{const f=(p,m)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(m),n(p,m)};if(this.languages&&!this.isInitialized)return f(null,this.t.bind(this));this.changeLanguage(this.options.lng,f)};return this.options.resources||!this.options.initAsync?c():setTimeout(c,0),l}loadResources(t,n=pv){let r=n;const i=yt(t)?t:this.language;if(typeof t=="function"&&(r=t),!this.options.resources||this.options.partialBundledLanguages){if(i?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const a=[],s=l=>{if(!l||l==="cimode")return;this.services.languageUtils.toResolveHierarchy(l).forEach(f=>{f!=="cimode"&&a.indexOf(f)<0&&a.push(f)})};i?s(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(c=>s(c)),this.options.preload?.forEach?.(l=>s(l)),this.services.backendConnector.load(a,this.options.ns,l=>{!l&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(l)})}else r(null)}reloadResources(t,n,r){const i=jh();return typeof t=="function"&&(r=t,t=void 0),typeof n=="function"&&(r=n,n=void 0),t||(t=this.languages),n||(n=this.options.ns),r||(r=pv),this.services.backendConnector.reload(t,n,a=>{i.resolve(),r(a)}),i}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return t.type==="backend"&&(this.modules.backend=t),(t.type==="logger"||t.log&&t.warn&&t.error)&&(this.modules.logger=t),t.type==="languageDetector"&&(this.modules.languageDetector=t),t.type==="i18nFormat"&&(this.modules.i18nFormat=t),t.type==="postProcessor"&&jz.addPostProcessor(t),t.type==="formatter"&&(this.modules.formatter=t),t.type==="3rdParty"&&this.modules.external.push(t),this}setResolvedLanguage(t){if(!(!t||!this.languages)&&!(["cimode","dev"].indexOf(t)>-1)){for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(t)<0&&this.store.hasLanguageSomeTranslations(t)&&(this.resolvedLanguage=t,this.languages.unshift(t))}}changeLanguage(t,n){this.isLanguageChangingTo=t;const r=jh();this.emit("languageChanging",t);const i=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},a=(l,c)=>{c?this.isLanguageChangingTo===t&&(i(c),this.translator.changeLanguage(c),this.isLanguageChangingTo=void 0,this.emit("languageChanged",c),this.logger.log("languageChanged",c)):this.isLanguageChangingTo=void 0,r.resolve((...f)=>this.t(...f)),n&&n(l,(...f)=>this.t(...f))},s=l=>{!t&&!l&&this.services.languageDetector&&(l=[]);const c=yt(l)?l:l&&l[0],f=this.store.hasLanguageSomeTranslations(c)?c:this.services.languageUtils.getBestMatchFromCodes(yt(l)?[l]:l);f&&(this.language||i(f),this.translator.language||this.translator.changeLanguage(f),this.services.languageDetector?.cacheUserLanguage?.(f)),this.loadResources(f,p=>{a(p,f)})};return!t&&this.services.languageDetector&&!this.services.languageDetector.async?s(this.services.languageDetector.detect()):!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(s):this.services.languageDetector.detect(s):s(t),r}getFixedT(t,n,r){const i=(a,s,...l)=>{let c;typeof s!="object"?c=this.options.overloadTranslationOptionHandler([a,s].concat(l)):c={...s},c.lng=c.lng||i.lng,c.lngs=c.lngs||i.lngs,c.ns=c.ns||i.ns,c.keyPrefix!==""&&(c.keyPrefix=c.keyPrefix||r||i.keyPrefix);const f=this.options.keySeparator||".";let p;return c.keyPrefix&&Array.isArray(a)?p=a.map(m=>(typeof m=="function"&&(m=HN(m,{...this.options,...s})),`${c.keyPrefix}${f}${m}`)):(typeof a=="function"&&(a=HN(a,{...this.options,...s})),p=c.keyPrefix?`${c.keyPrefix}${f}${a}`:a),this.t(p,c)};return yt(t)?i.lng=t:i.lngs=t,i.ns=n,i.keyPrefix=r,i}t(...t){return this.translator?.translate(...t)}exists(...t){return this.translator?.exists(...t)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,a=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const s=(l,c)=>{const f=this.services.backendConnector.state[`${l}|${c}`];return f===-1||f===0||f===2};if(n.precheck){const l=n.precheck(this,s);if(l!==void 0)return l}return!!(this.hasResourceBundle(r,t)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||s(r,t)&&(!i||s(a,t)))}loadNamespaces(t,n){const r=jh();return this.options.ns?(yt(t)&&(t=[t]),t.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{r.resolve(),n&&n(i)}),r):(n&&n(),Promise.resolve())}loadLanguages(t,n){const r=jh();yt(t)&&(t=[t]);const i=this.options.preload||[],a=t.filter(s=>i.indexOf(s)<0&&this.services.languageUtils.isSupportedCode(s));return a.length?(this.options.preload=i.concat(a),this.loadResources(s=>{r.resolve(),n&&n(s)}),r):(n&&n(),Promise.resolve())}dir(t){if(t||(t=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!t)return"rtl";try{const i=new Intl.Locale(t);if(i&&i.getTextInfo){const a=i.getTextInfo();if(a&&a.direction)return a.direction}}catch{}const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=this.services?.languageUtils||new L2(U2());return t.toLowerCase().indexOf("-latn")>1?"ltr":n.indexOf(r.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(t={},n){const r=new Zh(t,n);return r.createInstance=Zh.createInstance,r}cloneInstance(t={},n=pv){const r=t.forkResourceStore;r&&delete t.forkResourceStore;const i={...this.options,...t,isClone:!0},a=new Zh(i);if((t.debug!==void 0||t.prefix!==void 0)&&(a.logger=a.logger.clone(t)),["store","services","language"].forEach(l=>{a[l]=this[l]}),a.services={...this.services},a.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},r){const l=Object.keys(this.store.data).reduce((c,f)=>(c[f]={...this.store.data[f]},c[f]=Object.keys(c[f]).reduce((p,m)=>(p[m]={...c[f][m]},p),c[f]),c),{});a.store=new D2(l,i),a.services.resourceStore=a.store}return t.interpolation&&(a.services.interpolator=new z2(i)),a.translator=new ry(a.services,i),a.translator.on("*",(l,...c)=>{a.emit(l,...c)}),a.init(i,n),a.translator.options=i,a.translator.backendConnector.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const li=Zh.createInstance();li.createInstance;li.dir;li.init;li.loadResources;li.reloadResources;li.use;li.changeLanguage;li.getFixedT;li.t;li.exists;li.setDefaultNamespace;li.hasLoadedNamespace;li.loadNamespaces;li.loadLanguages;const Jne=(e,t,n,r)=>{const i=[n,{code:t,...r||{}}];if(e?.services?.logger?.forward)return e.services.logger.forward(i,"warn","react-i18next::",!0);Mc(i[0])&&(i[0]=`react-i18next:: ${i[0]}`),e?.services?.logger?.warn?e.services.logger.warn(...i):console?.warn&&console.warn(...i)},H2={},Pz=(e,t,n,r)=>{Mc(n)&&H2[n]||(Mc(n)&&(H2[n]=new Date),Jne(e,t,n,r))},kz=(e,t)=>()=>{if(e.isInitialized)t();else{const n=()=>{setTimeout(()=>{e.off("initialized",n)},0),t()};e.on("initialized",n)}},VN=(e,t,n)=>{e.loadNamespaces(t,kz(e,n))},V2=(e,t,n,r)=>{if(Mc(n)&&(n=[n]),e.options.preload&&e.options.preload.indexOf(t)>-1)return VN(e,n,r);n.forEach(i=>{e.options.ns.indexOf(i)<0&&e.options.ns.push(i)}),e.loadLanguages(t,kz(e,r))},ere=(e,t,n={})=>!t.languages||!t.languages.length?(Pz(t,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:t.languages}),!0):t.hasLoadedNamespace(e,{lng:n.lng,precheck:(r,i)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!i(r.isLanguageChangingTo,e))return!1}}),Mc=e=>typeof e=="string",tre=e=>typeof e=="object"&&e!==null,nre=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,rre={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},ire=e=>rre[e],are=e=>e.replace(nre,ire);let KN={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:are};const sre=(e={})=>{KN={...KN,...e}},ore=()=>KN;let Ez;const lre=e=>{Ez=e},cre=()=>Ez,ure={type:"3rdParty",init(e){sre(e.options.react),lre(e)}},dre=S.createContext();class fre{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}var Iw={exports:{}},Lw={};var K2;function hre(){if(K2)return Lw;K2=1;var e=uf();function t(m,v){return m===v&&(m!==0||1/m===1/v)||m!==m&&v!==v}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,a=e.useLayoutEffect,s=e.useDebugValue;function l(m,v){var x=v(),_=r({inst:{value:x,getSnapshot:v}}),b=_[0].inst,w=_[1];return a(function(){b.value=x,b.getSnapshot=v,c(b)&&w({inst:b})},[m,x,v]),i(function(){return c(b)&&w({inst:b}),m(function(){c(b)&&w({inst:b})})},[m]),s(x),x}function c(m){var v=m.getSnapshot;m=m.value;try{var x=v();return!n(m,x)}catch{return!0}}function f(m,v){return v()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:l;return Lw.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:p,Lw}var G2;function pre(){return G2||(G2=1,Iw.exports=hre()),Iw.exports}var Cz=pre();const mre=(e,t)=>Mc(t)?t:tre(t)&&Mc(t.defaultValue)?t.defaultValue:Array.isArray(e)?e[e.length-1]:e,gre={t:mre,ready:!1},vre=()=>()=>{},Pt=(e,t={})=>{const{i18n:n}=t,{i18n:r,defaultNS:i}=S.useContext(dre)||{},a=n||r||cre();a&&!a.reportNamespaces&&(a.reportNamespaces=new fre),a||Pz(a,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const s=S.useMemo(()=>({...ore(),...a?.options?.react,...t}),[a,t]),{useSuspense:l,keyPrefix:c}=s,f=i||a?.options?.defaultNS,p=Mc(f)?[f]:f||["translation"],m=S.useMemo(()=>p,p);a?.reportNamespaces?.addUsedNamespaces?.(m);const v=S.useRef(0),x=S.useCallback(F=>{if(!a)return vre;const{bindI18n:H,bindI18nStore:B}=s,$=()=>{v.current+=1,F()};return H&&a.on(H,$),B&&a.store.on(B,$),()=>{H&&H.split(" ").forEach(G=>a.off(G,$)),B&&B.split(" ").forEach(G=>a.store.off(G,$))}},[a,s]),_=S.useRef(),b=S.useCallback(()=>{if(!a)return gre;const F=!!(a.isInitialized||a.initializedStoreOnce)&&m.every(V=>ere(V,a,s)),H=t.lng||a.language,B=v.current,$=_.current;if($&&$.ready===F&&$.lng===H&&$.keyPrefix===c&&$.revision===B)return $;const W={t:a.getFixedT(H,s.nsMode==="fallback"?m:m[0],c),ready:F,lng:H,keyPrefix:c,revision:B};return _.current=W,W},[a,m,c,s,t.lng]),[w,k]=S.useState(0),{t:E,ready:P}=Cz.useSyncExternalStore(x,b,b);S.useEffect(()=>{if(a&&!P&&!l){const F=()=>k(H=>H+1);t.lng?V2(a,t.lng,m,F):VN(a,m,F)}},[a,t.lng,m,P,l,w]);const C=a||{},O=S.useRef(null),R=S.useRef(),M=F=>{const H=Object.getOwnPropertyDescriptors(F);H.__original&&delete H.__original;const B=Object.create(Object.getPrototypeOf(F),H);if(!Object.prototype.hasOwnProperty.call(B,"__original"))try{Object.defineProperty(B,"__original",{value:F,writable:!1,enumerable:!1,configurable:!1})}catch{}return B},U=S.useMemo(()=>{const F=C,H=F?.language;let B=F;F&&(O.current&&O.current.__original===F?R.current!==H?(B=M(F),O.current=B,R.current=H):B=O.current:(B=M(F),O.current=B,R.current=H));const $=[E,B,P];return $.t=E,$.i18n=B,$.ready=P,$},[E,C,P,C.resolvedLanguage,C.language,C.languages]);if(a&&l&&!P)throw new Promise(F=>{const H=()=>F();t.lng?V2(a,t.lng,m,H):VN(a,m,H)});return U};function Rr(){const{theme:e,setTheme:t,resolvedTheme:n}=FX(),{t:r}=Pt();return o.jsxs(wz,{children:[o.jsx(_z,{asChild:!0,children:o.jsxs(Se,{variant:"ghost",size:"icon",className:"relative",children:[o.jsx(dA,{className:"h-5 w-5 rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),o.jsx(aA,{className:"absolute h-5 w-5 rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),o.jsx("span",{className:"sr-only",children:r("settings.theme")})]})}),o.jsxs(_E,{align:"end",children:[o.jsxs(wd,{onClick:()=>t("light"),children:[o.jsx(dA,{className:"mr-2 h-4 w-4"}),r("settings.lightMode")]}),o.jsxs(wd,{onClick:()=>t("dark"),children:[o.jsx(aA,{className:"mr-2 h-4 w-4"}),r("settings.darkMode")]}),o.jsxs(wd,{onClick:()=>t("system"),children:[o.jsx(Y9,{className:"mr-2 h-4 w-4"}),r("settings.systemMode")]})]})]})}function Mr(){const{i18n:e,t}=Pt(),n=r=>{e.changeLanguage(r),localStorage.setItem("language",r)};return o.jsxs(wz,{children:[o.jsx(_z,{asChild:!0,children:o.jsxs(Se,{variant:"ghost",size:"icon",children:[o.jsx(z9,{className:"h-5 w-5"}),o.jsx("span",{className:"sr-only",children:t("settings.language")})]})}),o.jsxs(_E,{align:"end",children:[o.jsxs(wd,{onClick:()=>n("de"),children:[o.jsx("span",{className:"mr-2",children:""}),t("settings.german")]}),o.jsxs(wd,{onClick:()=>n("en"),children:[o.jsx("span",{className:"mr-2",children:""}),t("settings.english")]})]})]})}const yre=()=>{const[e,t]=S.useState(!1),n=[{name:"Funktionen",href:"#features"},{name:"Preise",href:"#pricing"},{name:"ber uns",href:"#about"},{name:"Kontakt",href:"#contact"}];return o.jsxs("nav",{className:"fixed top-0 left-0 right-0 z-50 glass",children:[o.jsx("div",{className:"container px-4",children:o.jsxs("div",{className:"flex items-center justify-between h-16",children:[o.jsxs(Rt,{to:"/",className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-10 h-10 gradient-primary rounded-xl flex items-center justify-center",children:o.jsx(Qt,{className:"w-5 h-5 text-primary-foreground"})}),o.jsxs("span",{className:"text-xl font-display font-bold text-foreground",children:["Salon",o.jsx("span",{className:"text-primary",children:"Manager"})]})]}),o.jsx("div",{className:"hidden md:flex items-center gap-8",children:n.map(r=>o.jsx("a",{href:r.href,className:"text-sm font-medium text-muted-foreground hover:text-foreground transition-colors",children:r.name},r.name))}),o.jsxs("div",{className:"hidden md:flex items-center gap-3",children:[o.jsx(Mr,{}),o.jsx(Rr,{}),o.jsx(Se,{variant:"ghost",asChild:!0,children:o.jsx(Rt,{to:"/login",children:"Anmelden"})}),o.jsx(Se,{variant:"default",asChild:!0,children:o.jsx(Rt,{to:"/register",children:"Kostenlos starten"})})]}),o.jsx("button",{className:"md:hidden p-2 text-foreground",onClick:()=>t(!e),children:e?o.jsx(pf,{className:"w-6 h-6"}):o.jsx(K9,{className:"w-6 h-6"})})]})}),e&&o.jsx("div",{className:"md:hidden bg-card border-t border-border animate-fade-in",children:o.jsxs("div",{className:"container px-4 py-4 space-y-4",children:[n.map(r=>o.jsx("a",{href:r.href,className:"block text-sm font-medium text-muted-foreground hover:text-foreground transition-colors py-2",onClick:()=>t(!1),children:r.name},r.name)),o.jsxs("div",{className:"pt-4 border-t border-border space-y-2",children:[o.jsx(Se,{variant:"outline",className:"w-full",asChild:!0,children:o.jsx(Rt,{to:"/login",children:"Anmelden"})}),o.jsx(Se,{className:"w-full",asChild:!0,children:o.jsx(Rt,{to:"/register",children:"Kostenlos starten"})})]})]})})]})},xre=()=>o.jsxs("section",{className:"relative min-h-screen flex items-center justify-center overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 gradient-warm"}),o.jsx("div",{className:"absolute top-20 right-20 w-72 h-72 bg-rose-light rounded-full blur-3xl opacity-60 animate-float"}),o.jsx("div",{className:"absolute bottom-20 left-20 w-96 h-96 bg-gold-light rounded-full blur-3xl opacity-40 animate-float",style:{animationDelay:"1s"}}),o.jsx("div",{className:"container relative z-10 px-4 py-20",children:o.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[o.jsxs("div",{className:"space-y-8 animate-fade-in-up",children:[o.jsxs("div",{className:"inline-flex items-center gap-2 bg-card/80 backdrop-blur-sm px-4 py-2 rounded-full shadow-sm border border-border",children:[o.jsx(dN,{className:"w-4 h-4 text-gold"}),o.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Die All-in-One Salon-Lsung"})]}),o.jsxs("h1",{className:"text-5xl md:text-6xl lg:text-7xl font-display font-bold leading-tight",children:["Salon",o.jsx("span",{className:"text-gradient",children:"Manager"})]}),o.jsx("p",{className:"text-lg md:text-xl text-muted-foreground max-w-xl leading-relaxed",children:"Verwalten Sie Termine, Mitarbeiter und Kunden in einer eleganten Plattform. Entwickelt fr moderne Friseursalons."}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[o.jsx(Se,{variant:"hero",size:"xl",asChild:!0,children:o.jsx(Rt,{to:"/booking",children:"Termin buchen"})}),o.jsx(Se,{variant:"glass",size:"xl",asChild:!0,children:o.jsx(Rt,{to:"/register",children:"Salon registrieren"})})]}),o.jsxs("div",{className:"flex flex-wrap gap-8 pt-8 border-t border-border",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("p",{className:"text-3xl font-display font-bold text-foreground",children:"500+"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Aktive Salons"})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("p",{className:"text-3xl font-display font-bold text-foreground",children:"50k+"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Termine/Monat"})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("p",{className:"text-3xl font-display font-bold text-foreground",children:"98%"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Zufriedenheit"})]})]})]}),o.jsxs("div",{className:"relative animate-fade-in",style:{animationDelay:"0.3s"},children:[o.jsxs("div",{className:"relative bg-card rounded-2xl shadow-lg border border-border p-6 transform rotate-1 hover:rotate-0 transition-transform duration-500",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 gradient-primary rounded-xl flex items-center justify-center",children:o.jsx(wn,{className:"w-5 h-5 text-primary-foreground"})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold text-foreground",children:"Heute"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"12 Termine"})]})]}),o.jsxs("div",{className:"flex gap-1",children:[o.jsx("div",{className:"w-3 h-3 rounded-full bg-sage"}),o.jsx("div",{className:"w-3 h-3 rounded-full bg-gold"}),o.jsx("div",{className:"w-3 h-3 rounded-full bg-rose"})]})]}),o.jsxs("div",{className:"grid grid-cols-7 gap-2 mb-6",children:[["Mo","Di","Mi","Do","Fr","Sa","So"].map(e=>o.jsx("div",{className:"text-center text-xs font-medium text-muted-foreground py-2",children:e},e)),Array.from({length:7}).map((e,t)=>o.jsx("div",{className:`aspect-square rounded-lg flex items-center justify-center text-sm font-medium transition-colors ${t===3?"gradient-primary text-primary-foreground":"bg-muted hover:bg-accent text-foreground"}`,children:t+1},t))]}),o.jsx("div",{className:"space-y-3",children:[{time:"09:00",name:"Maria S.",service:"Haarschnitt",color:"bg-rose"},{time:"10:30",name:"Lisa M.",service:"Frbung",color:"bg-gold"},{time:"13:00",name:"Anna K.",service:"Styling",color:"bg-sage"}].map((e,t)=>o.jsxs("div",{className:"flex items-center gap-3 p-3 bg-muted/50 rounded-xl hover:bg-muted transition-colors",children:[o.jsx("div",{className:`w-1 h-10 rounded-full ${e.color}`}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ba,{className:"w-3 h-3 text-muted-foreground"}),o.jsx("span",{className:"text-sm font-medium text-foreground",children:e.time})]}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[e.name,"  ",e.service]})]}),o.jsx("div",{className:"w-8 h-8 rounded-full bg-secondary flex items-center justify-center",children:o.jsx(sp,{className:"w-4 h-4 text-secondary-foreground"})})]},t))})]}),o.jsx("div",{className:"absolute -top-4 -left-4 bg-card p-4 rounded-xl shadow-lg border border-border animate-float",style:{animationDelay:"0.5s"},children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-8 h-8 bg-sage-light rounded-full flex items-center justify-center",children:o.jsx(sp,{className:"w-4 h-4 text-sage"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-semibold text-foreground",children:"8 Mitarbeiter"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Online"})]})]})}),o.jsx("div",{className:"absolute -bottom-4 -right-4 bg-card p-4 rounded-xl shadow-lg border border-border animate-float",style:{animationDelay:"1.5s"},children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-8 h-8 bg-gold-light rounded-full flex items-center justify-center",children:o.jsx(dN,{className:"w-4 h-4 text-gold"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-semibold text-foreground",children:"+24%"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Buchungen"})]})]})})]})]})})]}),bre=[{icon:wn,title:"Intelligente Terminplanung",description:"Kunden buchen online, Stylisten besttigen. Automatische Pufferzeiten und Konflikterkennung.",color:"bg-rose-light text-rose"},{icon:sp,title:"Mitarbeiterverwaltung",description:"Dienstplne, Urlaub, Krankmeldungen und Zeiterfassung per NFC/QR-Code an einem Ort.",color:"bg-gold-light text-gold"},{icon:ba,title:"Zeiterfassung",description:"Check-in/Check-out mit NFC oder QR. Automatische Pausenerkennung und Stundenkonten.",color:"bg-sage-light text-sage"},{icon:px,title:"Berichte & Analysen",description:"Auslastung, Umsatz pro Dienstleistung und Mitarbeiterperformance auf einen Blick.",color:"bg-rose-light text-rose"},{icon:k9,title:"Benachrichtigungen",description:"Automatische Terminerinnerungen per E-Mail und Push. Keine vergessenen Termine mehr.",color:"bg-gold-light text-gold"},{icon:Bk,title:"Datenschutz",description:"DSGVO-konform. Sichere Speicherung aller Kunden- und Mitarbeiterdaten.",color:"bg-sage-light text-sage"},{icon:tK,title:"Multi-Plattform",description:"Web-App fr Admin, mobile Apps fr Stylisten und Kunden. berall verfgbar.",color:"bg-rose-light text-rose"},{icon:X9,title:"Multi-Salon Support",description:"Verwalten Sie mehrere Standorte zentral. Individuelle Einstellungen pro Salon.",color:"bg-gold-light text-gold"}],wre=()=>o.jsx("section",{className:"py-24 bg-card",children:o.jsxs("div",{className:"container px-4",children:[o.jsxs("div",{className:"text-center max-w-3xl mx-auto mb-16",children:[o.jsx("span",{className:"inline-block text-sm font-medium text-primary mb-4",children:"Funktionen"}),o.jsx("h2",{className:"text-4xl md:text-5xl font-display font-bold mb-6",children:"Alles was Ihr Salon braucht"}),o.jsx("p",{className:"text-lg text-muted-foreground",children:"Von der Terminbuchung bis zur Lagerverwaltung  SalonManager vereint alle wichtigen Funktionen in einer eleganten Lsung."})]}),o.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:bre.map((e,t)=>{const n=e.icon;return o.jsxs("div",{className:"group p-6 bg-background rounded-2xl border border-border hover:border-primary/20 hover:shadow-lg transition-all duration-300 animate-fade-in-up",style:{animationDelay:`${t*.1}s`},children:[o.jsx("div",{className:`w-12 h-12 rounded-xl ${e.color} flex items-center justify-center mb-4 group-hover:scale-110 transition-transform duration-300`,children:o.jsx(n,{className:"w-6 h-6"})}),o.jsx("h3",{className:"text-lg font-semibold mb-2 text-foreground",children:e.title}),o.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:e.description})]},t)})})]})}),_re=[{icon:L9,title:"Saloninhaber",subtitle:"Volle Kontrolle",description:"Verwalten Sie alle Aspekte Ihres Salons von einem Dashboard aus.",features:["Mitarbeiter & Dienstplne verwalten","ffnungszeiten & Feiertage festlegen","Berichte & Umsatzanalysen","Lagerverwaltung & Bestellungen","Kundendaten & Historie"],gradient:"from-rose to-primary",bgLight:"bg-rose-light"},{icon:Qt,title:"Stylisten",subtitle:"Effizient arbeiten",description:"Alle wichtigen Informationen auf einen Blick fr den perfekten Arbeitstag.",features:["Persnlicher Terminkalender","Kundendetails & Notizen","Zeiterfassung per NFC/QR","Urlaub & Abwesenheiten beantragen","Push-Benachrichtigungen"],gradient:"from-gold to-primary",bgLight:"bg-gold-light"},{icon:Kr,title:"Kunden",subtitle:"Einfach buchen",description:"Termine buchen war noch nie so einfach und komfortabel.",features:["Online Terminbuchung 24/7","Stylisten & Service auswhlen","Bilder & Wnsche teilen","Terminerinnerungen erhalten","Buchungshistorie einsehen"],gradient:"from-sage to-primary",bgLight:"bg-sage-light"}],Sre=()=>o.jsx("section",{className:"py-24 bg-background",children:o.jsxs("div",{className:"container px-4",children:[o.jsxs("div",{className:"text-center max-w-3xl mx-auto mb-16",children:[o.jsx("span",{className:"inline-block text-sm font-medium text-primary mb-4",children:"Fr jeden Nutzer"}),o.jsx("h2",{className:"text-4xl md:text-5xl font-display font-bold mb-6",children:"Mageschneiderte Erfahrung"}),o.jsx("p",{className:"text-lg text-muted-foreground",children:"Jede Rolle hat ihre eigene, optimierte Oberflche  perfekt abgestimmt auf die jeweiligen Bedrfnisse."})]}),o.jsx("div",{className:"grid lg:grid-cols-3 gap-8",children:_re.map((e,t)=>{const n=e.icon;return o.jsxs("div",{className:"group relative bg-card rounded-3xl border border-border overflow-hidden hover:shadow-xl transition-all duration-500 animate-fade-in-up",style:{animationDelay:`${t*.15}s`},children:[o.jsxs("div",{className:`bg-gradient-to-r ${e.gradient} p-8 text-primary-foreground`,children:[o.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[o.jsx("div",{className:"w-14 h-14 bg-primary-foreground/20 rounded-2xl flex items-center justify-center backdrop-blur-sm",children:o.jsx(n,{className:"w-7 h-7"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-2xl font-display font-bold",children:e.title}),o.jsx("p",{className:"text-primary-foreground/80 text-sm",children:e.subtitle})]})]}),o.jsx("p",{className:"text-primary-foreground/90",children:e.description})]}),o.jsxs("div",{className:"p-8",children:[o.jsx("ul",{className:"space-y-4",children:e.features.map((r,i)=>o.jsxs("li",{className:"flex items-start gap-3",children:[o.jsx("div",{className:`w-5 h-5 rounded-full ${e.bgLight} flex items-center justify-center flex-shrink-0 mt-0.5`,children:o.jsx(ya,{className:"w-3 h-3 text-foreground"})}),o.jsx("span",{className:"text-sm text-muted-foreground",children:r})]},i))}),o.jsxs(Se,{variant:"ghost",className:"w-full mt-6 group-hover:bg-secondary transition-colors",children:["Mehr erfahren",o.jsx(Ka,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]})]})]},t)})})]})}),jre=()=>o.jsxs("section",{className:"py-24 relative overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 gradient-primary opacity-95"}),o.jsx("div",{className:"absolute top-0 left-1/4 w-96 h-96 bg-primary-foreground/10 rounded-full blur-3xl"}),o.jsx("div",{className:"absolute bottom-0 right-1/4 w-96 h-96 bg-primary-foreground/10 rounded-full blur-3xl"}),o.jsx("div",{className:"container relative z-10 px-4",children:o.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[o.jsxs("div",{className:"inline-flex items-center gap-2 bg-primary-foreground/10 backdrop-blur-sm px-4 py-2 rounded-full mb-8",children:[o.jsx(dN,{className:"w-4 h-4 text-primary-foreground"}),o.jsx("span",{className:"text-sm font-medium text-primary-foreground",children:"14 Tage kostenlos testen"})]}),o.jsx("h2",{className:"text-4xl md:text-5xl lg:text-6xl font-display font-bold text-primary-foreground mb-6",children:"Bereit, Ihren Salon zu transformieren?"}),o.jsx("p",{className:"text-xl text-primary-foreground/80 mb-10 max-w-2xl mx-auto",children:"Starten Sie noch heute und erleben Sie, wie einfach Salonmanagement sein kann. Keine Kreditkarte erforderlich."}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[o.jsxs(Se,{size:"xl",className:"bg-primary-foreground text-primary hover:bg-primary-foreground/90 shadow-lg",children:["Kostenlos starten",o.jsx(P9,{className:"w-5 h-5"})]}),o.jsx(Se,{variant:"outline",size:"xl",className:"border-primary-foreground/30 text-primary-foreground hover:bg-primary-foreground/10",children:"Demo anfragen"})]}),o.jsx("p",{className:"text-sm text-primary-foreground/60 mt-6",children:"Bereits ber 500 Salons vertrauen auf SalonManager"})]})})]}),Nre=()=>{const e={product:[{name:"Funktionen",href:"#features"},{name:"Preise",href:"#pricing"},{name:"Integrationen",href:"#integrations"},{name:"Updates",href:"#updates"}],company:[{name:"ber uns",href:"#about"},{name:"Karriere",href:"#careers"},{name:"Blog",href:"#blog"},{name:"Presse",href:"#press"}],resources:[{name:"Dokumentation",href:"#docs"},{name:"Hilfe-Center",href:"#help"},{name:"API",href:"#api"},{name:"Status",href:"#status"}],legal:[{name:"Datenschutz",href:"#privacy"},{name:"AGB",href:"#terms"},{name:"Impressum",href:"#imprint"},{name:"Cookies",href:"#cookies"}]},t=[{icon:U9,href:"#instagram"},{icon:B9,href:"#facebook"},{icon:rK,href:"#twitter"},{icon:H9,href:"#linkedin"}];return o.jsx("footer",{className:"bg-card border-t border-border",children:o.jsxs("div",{className:"container px-4 py-16",children:[o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-8",children:[o.jsxs("div",{className:"col-span-2",children:[o.jsxs(Rt,{to:"/",className:"flex items-center gap-2 mb-4",children:[o.jsx("div",{className:"w-10 h-10 gradient-primary rounded-xl flex items-center justify-center",children:o.jsx(Qt,{className:"w-5 h-5 text-primary-foreground"})}),o.jsxs("span",{className:"text-xl font-display font-bold text-foreground",children:["Salon",o.jsx("span",{className:"text-primary",children:"Manager"})]})]}),o.jsx("p",{className:"text-sm text-muted-foreground mb-6 max-w-xs",children:"Die moderne Lsung fr Salonmanagement. Termine, Mitarbeiter und Kunden  alles in einer App."}),o.jsx("div",{className:"flex gap-3",children:t.map((n,r)=>{const i=n.icon;return o.jsx("a",{href:n.href,className:"w-10 h-10 rounded-full bg-secondary flex items-center justify-center hover:bg-primary hover:text-primary-foreground transition-colors",children:o.jsx(i,{className:"w-4 h-4"})},r)})})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-foreground mb-4",children:"Produkt"}),o.jsx("ul",{className:"space-y-3",children:e.product.map(n=>o.jsx("li",{children:o.jsx("a",{href:n.href,className:"text-sm text-muted-foreground hover:text-foreground transition-colors",children:n.name})},n.name))})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-foreground mb-4",children:"Unternehmen"}),o.jsx("ul",{className:"space-y-3",children:e.company.map(n=>o.jsx("li",{children:o.jsx("a",{href:n.href,className:"text-sm text-muted-foreground hover:text-foreground transition-colors",children:n.name})},n.name))})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-foreground mb-4",children:"Ressourcen"}),o.jsx("ul",{className:"space-y-3",children:e.resources.map(n=>o.jsx("li",{children:o.jsx("a",{href:n.href,className:"text-sm text-muted-foreground hover:text-foreground transition-colors",children:n.name})},n.name))})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-foreground mb-4",children:"Rechtliches"}),o.jsx("ul",{className:"space-y-3",children:e.legal.map(n=>o.jsx("li",{children:o.jsx("a",{href:n.href,className:"text-sm text-muted-foreground hover:text-foreground transition-colors",children:n.name})},n.name))})]})]}),o.jsxs("div",{className:"border-t border-border mt-12 pt-8 flex flex-col md:flex-row items-center justify-between gap-4",children:[o.jsxs("p",{className:"text-sm text-muted-foreground",children:[" ",new Date().getFullYear()," SalonManager. Alle Rechte vorbehalten."]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Made with  in Deutschland"})]})]})})},Pre=()=>o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx(yre,{}),o.jsxs("main",{children:[o.jsx(xre,{}),o.jsx(wre,{}),o.jsx(Sre,{}),o.jsx(jre,{})]}),o.jsx(Nre,{})]}),ke=S.forwardRef(({className:e,type:t,...n},r)=>o.jsx("input",{type:t,className:qe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));ke.displayName="Input";var kre="Label",Oz=S.forwardRef((e,t)=>o.jsx(ze.label,{...e,ref:t,onMouseDown:n=>{n.target.closest("button, input, select, textarea")||(e.onMouseDown?.(n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));Oz.displayName=kre;var Tz=Oz;const Ere=hx("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Pe=S.forwardRef(({className:e,...t},n)=>o.jsx(Tz,{ref:n,className:qe(Ere(),e),...t}));Pe.displayName=Tz.displayName;const Cre=()=>{const{t:e}=Pt(),t=pr(),{signIn:n}=mr(),[r,i]=S.useState(!1),[a,s]=S.useState(!1),[l,c]=S.useState(""),[f,p]=S.useState(""),m=async v=>{v.preventDefault(),s(!0);const{error:x}=await n(l,f);x?(ut.error(x.message),s(!1)):(ut.success(e("common.success")),t("/dashboard"))};return o.jsxs("div",{className:"min-h-screen bg-background flex",children:[o.jsxs("div",{className:"flex-1 flex flex-col",children:[o.jsxs("div",{className:"flex justify-end p-4 gap-2",children:[o.jsx(Mr,{}),o.jsx(Rr,{})]}),o.jsx("div",{className:"flex-1 flex items-center justify-center p-8",children:o.jsxs("div",{className:"w-full max-w-md space-y-8 animate-fade-in",children:[o.jsx("div",{className:"text-center",children:o.jsxs(Rt,{to:"/",className:"inline-flex items-center gap-2",children:[o.jsx("div",{className:"w-12 h-12 gradient-primary rounded-xl flex items-center justify-center shadow-glow",children:o.jsx(Qt,{className:"w-6 h-6 text-primary-foreground"})}),o.jsxs("span",{className:"text-2xl font-display font-bold text-foreground",children:["Salon",o.jsx("span",{className:"text-primary",children:"Manager"})]})]})}),o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"text-3xl font-display font-bold text-foreground mb-2",children:e("auth.welcomeBack")}),o.jsx("p",{className:"text-muted-foreground",children:e("auth.loginSubtitle")})]}),o.jsxs("form",{onSubmit:m,className:"space-y-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Pe,{htmlFor:"email",children:e("auth.email")}),o.jsxs("div",{className:"relative",children:[o.jsx(hf,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),o.jsx(ke,{id:"email",type:"email",placeholder:"ihre@email.de",className:"pl-10",value:l,onChange:v=>c(v.target.value),required:!0})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(Pe,{htmlFor:"password",children:e("auth.password")}),o.jsx(Rt,{to:"/forgot-password",className:"text-sm text-primary hover:underline",children:e("auth.forgotPassword")})]}),o.jsxs("div",{className:"relative",children:[o.jsx(Oc,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),o.jsx(ke,{id:"password",type:r?"text":"password",placeholder:"",className:"pl-10 pr-10",value:f,onChange:v=>p(v.target.value),required:!0}),o.jsx("button",{type:"button",className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",onClick:()=>i(!r),children:r?o.jsx(mx,{className:"w-5 h-5"}):o.jsx(gx,{className:"w-5 h-5"})})]})]}),o.jsx(Se,{type:"submit",variant:"hero",className:"w-full",size:"lg",disabled:a,children:e(a?"common.loading":"auth.login")})]}),o.jsxs("p",{className:"text-center text-sm text-muted-foreground",children:[e("auth.noAccount")," ",o.jsx(Rt,{to:"/register",className:"text-primary font-medium hover:underline",children:e("auth.register")})]})]})})]}),o.jsxs("div",{className:"hidden lg:flex flex-1 gradient-primary relative overflow-hidden",children:[o.jsxs("div",{className:"absolute inset-0 opacity-10",children:[o.jsx("div",{className:"absolute top-20 left-20 w-72 h-72 border border-primary-foreground rounded-full"}),o.jsx("div",{className:"absolute bottom-20 right-20 w-96 h-96 border border-primary-foreground rounded-full"}),o.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-64 h-64 border border-primary-foreground rounded-full"})]}),o.jsx("div",{className:"flex items-center justify-center w-full",children:o.jsxs("div",{className:"text-center text-primary-foreground p-12",children:[o.jsx(Qt,{className:"w-20 h-20 mx-auto mb-8 opacity-90"}),o.jsxs("h2",{className:"text-4xl font-display font-bold mb-4",children:[e("landing.hero.title"),", neu gedacht"]}),o.jsx("p",{className:"text-xl opacity-80 max-w-md",children:e("landing.hero.subtitle")})]})})]})]})},Ore=()=>{const{t:e}=Pt(),t=pr(),{signUp:n}=mr(),[r,i]=S.useState(!1),[a,s]=S.useState(!1),[l,c]=S.useState({firstName:"",lastName:"",email:"",password:""}),f=async m=>{m.preventDefault(),s(!0);const{error:v}=await n(l.email,l.password,{first_name:l.firstName,last_name:l.lastName});v?(ut.error(v.message),s(!1)):(ut.success(e("common.success")),t("/dashboard"))},p=m=>{c({...l,[m.target.name]:m.target.value})};return o.jsxs("div",{className:"min-h-screen bg-background flex",children:[o.jsxs("div",{className:"hidden lg:flex flex-1 gradient-primary relative overflow-hidden",children:[o.jsxs("div",{className:"absolute inset-0 opacity-10",children:[o.jsx("div",{className:"absolute top-20 right-20 w-72 h-72 border border-primary-foreground rounded-full"}),o.jsx("div",{className:"absolute bottom-20 left-20 w-96 h-96 border border-primary-foreground rounded-full"}),o.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-64 h-64 border border-primary-foreground rounded-full"})]}),o.jsx("div",{className:"flex items-center justify-center w-full",children:o.jsxs("div",{className:"text-center text-primary-foreground p-12",children:[o.jsx(Qt,{className:"w-20 h-20 mx-auto mb-8 opacity-90"}),o.jsx("h2",{className:"text-4xl font-display font-bold mb-4",children:e("landing.cta.badge")}),o.jsx("p",{className:"text-xl opacity-80 max-w-md",children:e("landing.cta.subtitle")})]})})]}),o.jsxs("div",{className:"flex-1 flex flex-col",children:[o.jsxs("div",{className:"flex justify-end p-4 gap-2",children:[o.jsx(Mr,{}),o.jsx(Rr,{})]}),o.jsx("div",{className:"flex-1 flex items-center justify-center p-8",children:o.jsxs("div",{className:"w-full max-w-md space-y-8 animate-fade-in",children:[o.jsx("div",{className:"text-center",children:o.jsxs(Rt,{to:"/",className:"inline-flex items-center gap-2",children:[o.jsx("div",{className:"w-12 h-12 gradient-primary rounded-xl flex items-center justify-center shadow-glow",children:o.jsx(Qt,{className:"w-6 h-6 text-primary-foreground"})}),o.jsxs("span",{className:"text-2xl font-display font-bold text-foreground",children:["Salon",o.jsx("span",{className:"text-primary",children:"Manager"})]})]})}),o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"text-3xl font-display font-bold text-foreground mb-2",children:e("auth.createAccount")}),o.jsx("p",{className:"text-muted-foreground",children:e("auth.registerSubtitle")})]}),o.jsxs("form",{onSubmit:f,className:"space-y-5",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Pe,{htmlFor:"firstName",children:e("auth.firstName")}),o.jsxs("div",{className:"relative",children:[o.jsx(Kr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),o.jsx(ke,{id:"firstName",name:"firstName",type:"text",placeholder:"Max",className:"pl-10",value:l.firstName,onChange:p,required:!0})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Pe,{htmlFor:"lastName",children:e("auth.lastName")}),o.jsx(ke,{id:"lastName",name:"lastName",type:"text",placeholder:"Mustermann",value:l.lastName,onChange:p,required:!0})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Pe,{htmlFor:"email",children:e("auth.email")}),o.jsxs("div",{className:"relative",children:[o.jsx(hf,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),o.jsx(ke,{id:"email",name:"email",type:"email",placeholder:"ihre@email.de",className:"pl-10",value:l.email,onChange:p,required:!0})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Pe,{htmlFor:"password",children:e("auth.password")}),o.jsxs("div",{className:"relative",children:[o.jsx(Oc,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),o.jsx(ke,{id:"password",name:"password",type:r?"text":"password",placeholder:e("auth.minPassword"),className:"pl-10 pr-10",value:l.password,onChange:p,required:!0,minLength:8}),o.jsx("button",{type:"button",className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",onClick:()=>i(!r),children:r?o.jsx(mx,{className:"w-5 h-5"}):o.jsx(gx,{className:"w-5 h-5"})})]})]}),o.jsx(Se,{type:"submit",variant:"hero",className:"w-full",size:"lg",disabled:a,children:e(a?"common.loading":"auth.register")}),o.jsxs("p",{className:"text-xs text-center text-muted-foreground",children:[e("auth.termsAgree")," ",o.jsx("a",{href:"#",className:"text-primary hover:underline",children:e("auth.terms")})," ",e("common.and")," ",o.jsx("a",{href:"#",className:"text-primary hover:underline",children:e("auth.privacy")}),"."]})]}),o.jsxs("p",{className:"text-center text-sm text-muted-foreground",children:[e("auth.hasAccount")," ",o.jsx(Rt,{to:"/login",className:"text-primary font-medium hover:underline",children:e("auth.login")})]})]})})]})]})};function xt(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function si(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function cr(e,t){const n=xt(e);return isNaN(t)?si(e,NaN):(t&&n.setDate(n.getDate()+t),n)}function Gi(e,t){const n=xt(e);if(isNaN(t))return si(e,NaN);if(!t)return n;const r=n.getDate(),i=si(e,n.getTime());i.setMonth(n.getMonth()+t+1,0);const a=i.getDate();return r>=a?i:(n.setFullYear(i.getFullYear(),i.getMonth(),r),n)}function Tre(e,t){const n=+xt(e);return si(e,n+t)}const SE=6048e5,Are=864e5,$x=6e4,Az=36e5;let Rre={};function mm(){return Rre}function Gr(e,t){const n=mm(),r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=xt(e),a=i.getDay(),s=(a<r?7:0)+a-r;return i.setDate(i.getDate()-s),i.setHours(0,0,0,0),i}function Dc(e){return Gr(e,{weekStartsOn:1})}function Rz(e){const t=xt(e),n=t.getFullYear(),r=si(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=Dc(r),a=si(e,0);a.setFullYear(n,0,4),a.setHours(0,0,0,0);const s=Dc(a);return t.getTime()>=i.getTime()?n+1:t.getTime()>=s.getTime()?n:n-1}function Ic(e){const t=xt(e);return t.setHours(0,0,0,0),t}function iy(e){const t=xt(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function gs(e,t){const n=Ic(e),r=Ic(t),i=+n-iy(n),a=+r-iy(r);return Math.round((i-a)/Are)}function Mre(e){const t=Rz(e),n=si(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),Dc(n)}function Dre(e,t){return Tre(e,t*$x)}function Lc(e,t){const n=t*7;return cr(e,n)}function Ire(e,t){return Gi(e,t*12)}function Lre(e){let t;return e.forEach(function(n){const r=xt(n);(t===void 0||t<r||isNaN(Number(r)))&&(t=r)}),t||new Date(NaN)}function $re(e){let t;return e.forEach(n=>{const r=xt(n);(!t||t>r||isNaN(+r))&&(t=r)}),t||new Date(NaN)}function Bre(e){return si(e,Date.now())}function Kn(e,t){const n=Ic(e),r=Ic(t);return+n==+r}function jE(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Fre(e){if(!jE(e)&&typeof e!="number")return!1;const t=xt(e);return!isNaN(Number(t))}function xp(e,t){const n=xt(e),r=xt(t),i=n.getFullYear()-r.getFullYear(),a=n.getMonth()-r.getMonth();return i*12+a}function zre(e,t,n){const r=Gr(e,n),i=Gr(t,n),a=+r-iy(r),s=+i-iy(i);return Math.round((a-s)/SE)}function qre(e){return t=>{const n=Math.trunc,r=n(t);return r===0?0:r}}function Ure(e,t){return+xt(e)-+xt(t)}function Wre(e,t,n){const r=Ure(e,t)/$x;return qre()(r)}function gm(e){const t=xt(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function GN(e,t){const n=xt(e.start),r=xt(e.end);let i=+n>+r;const a=i?+n:+r,s=i?r:n;s.setHours(0,0,0,0);let l=1;const c=[];for(;+s<=a;)c.push(xt(s)),s.setDate(s.getDate()+l),s.setHours(0,0,0,0);return i?c.reverse():c}function Yr(e){const t=xt(e);return t.setDate(1),t.setHours(0,0,0,0),t}function Mz(e){const t=xt(e),n=si(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}function yl(e,t){const n=mm(),r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=xt(e),a=i.getDay(),s=(a<r?-7:0)+6-(a-r);return i.setDate(i.getDate()+s),i.setHours(23,59,59,999),i}function Dz(e){return yl(e,{weekStartsOn:1})}const Hre={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Vre=(e,t,n)=>{let r;const i=Hre[e];return typeof i=="string"?r=i:t===1?r=i.one:r=i.other.replace("{{count}}",t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function _d(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const Kre={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Gre={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Yre={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Zre={date:_d({formats:Kre,defaultWidth:"full"}),time:_d({formats:Gre,defaultWidth:"full"}),dateTime:_d({formats:Yre,defaultWidth:"full"})},Xre={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Qre=(e,t,n,r)=>Xre[e];function fs(e){return(t,n)=>{const r=n?.context?String(n.context):"standalone";let i;if(r==="formatting"&&e.formattingValues){const s=e.defaultFormattingWidth||e.defaultWidth,l=n?.width?String(n.width):s;i=e.formattingValues[l]||e.formattingValues[s]}else{const s=e.defaultWidth,l=n?.width?String(n.width):e.defaultWidth;i=e.values[l]||e.values[s]}const a=e.argumentCallback?e.argumentCallback(t):t;return i[a]}}const Jre={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},eie={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},tie={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},nie={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},rie={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},iie={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},aie=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},sie={ordinalNumber:aie,era:fs({values:Jre,defaultWidth:"wide"}),quarter:fs({values:eie,defaultWidth:"wide",argumentCallback:e=>e-1}),month:fs({values:tie,defaultWidth:"wide"}),day:fs({values:nie,defaultWidth:"wide"}),dayPeriod:fs({values:rie,defaultWidth:"wide",formattingValues:iie,defaultFormattingWidth:"wide"})};function hs(e){return(t,n={})=>{const r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],a=t.match(i);if(!a)return null;const s=a[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?lie(l,m=>m.test(s)):oie(l,m=>m.test(s));let f;f=e.valueCallback?e.valueCallback(c):c,f=n.valueCallback?n.valueCallback(f):f;const p=t.slice(s.length);return{value:f,rest:p}}}function oie(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function lie(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function Iz(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const i=r[0],a=t.match(e.parsePattern);if(!a)return null;let s=e.valueCallback?e.valueCallback(a[0]):a[0];s=n.valueCallback?n.valueCallback(s):s;const l=t.slice(i.length);return{value:s,rest:l}}}const cie=/^(\d+)(th|st|nd|rd)?/i,uie=/\d+/i,die={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},fie={any:[/^b/i,/^(a|c)/i]},hie={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},pie={any:[/1/i,/2/i,/3/i,/4/i]},mie={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},gie={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},vie={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},yie={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},xie={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},bie={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},wie={ordinalNumber:Iz({matchPattern:cie,parsePattern:uie,valueCallback:e=>parseInt(e,10)}),era:hs({matchPatterns:die,defaultMatchWidth:"wide",parsePatterns:fie,defaultParseWidth:"any"}),quarter:hs({matchPatterns:hie,defaultMatchWidth:"wide",parsePatterns:pie,defaultParseWidth:"any",valueCallback:e=>e+1}),month:hs({matchPatterns:mie,defaultMatchWidth:"wide",parsePatterns:gie,defaultParseWidth:"any"}),day:hs({matchPatterns:vie,defaultMatchWidth:"wide",parsePatterns:yie,defaultParseWidth:"any"}),dayPeriod:hs({matchPatterns:xie,defaultMatchWidth:"any",parsePatterns:bie,defaultParseWidth:"any"})},Cn={code:"en-US",formatDistance:Vre,formatLong:Zre,formatRelative:Qre,localize:sie,match:wie,options:{weekStartsOn:0,firstWeekContainsDate:1}};function _ie(e){const t=xt(e);return gs(t,Mz(t))+1}function Lz(e){const t=xt(e),n=+Dc(t)-+Mre(t);return Math.round(n/SE)+1}function $z(e,t){const n=xt(e),r=n.getFullYear(),i=mm(),a=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,s=si(e,0);s.setFullYear(r+1,0,a),s.setHours(0,0,0,0);const l=Gr(s,t),c=si(e,0);c.setFullYear(r,0,a),c.setHours(0,0,0,0);const f=Gr(c,t);return n.getTime()>=l.getTime()?r+1:n.getTime()>=f.getTime()?r:r-1}function Sie(e,t){const n=mm(),r=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,i=$z(e,t),a=si(e,0);return a.setFullYear(i,0,r),a.setHours(0,0,0,0),Gr(a,t)}function Bz(e,t){const n=xt(e),r=+Gr(n,t)-+Sie(n,t);return Math.round(r/SE)+1}function Xt(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const ll={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return Xt(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):Xt(n+1,2)},d(e,t){return Xt(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return Xt(e.getHours()%12||12,t.length)},H(e,t){return Xt(e.getHours(),t.length)},m(e,t){return Xt(e.getMinutes(),t.length)},s(e,t){return Xt(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return Xt(i,t.length)}},nd={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Y2={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return ll.y(e,t)},Y:function(e,t,n,r){const i=$z(e,r),a=i>0?i:1-i;if(t==="YY"){const s=a%100;return Xt(s,2)}return t==="Yo"?n.ordinalNumber(a,{unit:"year"}):Xt(a,t.length)},R:function(e,t){const n=Rz(e);return Xt(n,t.length)},u:function(e,t){const n=e.getFullYear();return Xt(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Xt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Xt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return ll.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return Xt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const i=Bz(e,r);return t==="wo"?n.ordinalNumber(i,{unit:"week"}):Xt(i,t.length)},I:function(e,t,n){const r=Lz(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):Xt(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):ll.d(e,t)},D:function(e,t,n){const r=_ie(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Xt(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const i=e.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return Xt(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const i=e.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return Xt(a,t.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),i=r===0?7:r;switch(t){case"i":return String(i);case"ii":return Xt(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let i;switch(r===12?i=nd.noon:r===0?i=nd.midnight:i=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let i;switch(r>=17?i=nd.evening:r>=12?i=nd.afternoon:r>=4?i=nd.morning:i=nd.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return ll.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):ll.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Xt(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):Xt(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):ll.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):ll.s(e,t)},S:function(e,t){return ll.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return X2(r);case"XXXX":case"XX":return gc(r);case"XXXXX":case"XXX":default:return gc(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return X2(r);case"xxxx":case"xx":return gc(r);case"xxxxx":case"xxx":default:return gc(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Z2(r,":");case"OOOO":default:return"GMT"+gc(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Z2(r,":");case"zzzz":default:return"GMT"+gc(r,":")}},t:function(e,t,n){const r=Math.trunc(e.getTime()/1e3);return Xt(r,t.length)},T:function(e,t,n){const r=e.getTime();return Xt(r,t.length)}};function Z2(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=Math.trunc(r/60),a=r%60;return a===0?n+String(i):n+String(i)+t+Xt(a,2)}function X2(e,t){return e%60===0?(e>0?"-":"+")+Xt(Math.abs(e)/60,2):gc(e,t)}function gc(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=Xt(Math.trunc(r/60),2),a=Xt(r%60,2);return n+i+t+a}const Q2=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},Fz=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},jie=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return Q2(e,t);let a;switch(r){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",Q2(r,t)).replace("{{time}}",Fz(i,t))},Nie={p:Fz,P:jie},Pie=/^D+$/,kie=/^Y+$/,Eie=["D","DD","YY","YYYY"];function Cie(e){return Pie.test(e)}function Oie(e){return kie.test(e)}function Tie(e,t,n){const r=Aie(e,t,n);if(console.warn(r),Eie.includes(e))throw new RangeError(r)}function Aie(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Rie=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Mie=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Die=/^'([^]*?)'?$/,Iie=/''/g,Lie=/[a-zA-Z]/;function Le(e,t,n){const r=mm(),i=n?.locale??r.locale??Cn,a=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,s=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,l=xt(e);if(!Fre(l))throw new RangeError("Invalid time value");let c=t.match(Mie).map(p=>{const m=p[0];if(m==="p"||m==="P"){const v=Nie[m];return v(p,i.formatLong)}return p}).join("").match(Rie).map(p=>{if(p==="''")return{isToken:!1,value:"'"};const m=p[0];if(m==="'")return{isToken:!1,value:$ie(p)};if(Y2[m])return{isToken:!0,value:p};if(m.match(Lie))throw new RangeError("Format string contains an unescaped latin alphabet character `"+m+"`");return{isToken:!1,value:p}});i.localize.preprocessor&&(c=i.localize.preprocessor(l,c));const f={firstWeekContainsDate:a,weekStartsOn:s,locale:i};return c.map(p=>{if(!p.isToken)return p.value;const m=p.value;(!n?.useAdditionalWeekYearTokens&&Oie(m)||!n?.useAdditionalDayOfYearTokens&&Cie(m))&&Tie(m,t,String(e));const v=Y2[m[0]];return v(l,m,i.localize,f)}).join("")}function $ie(e){const t=e.match(Die);return t?t[1].replace(Iie,"'"):e}function Bie(e){const t=xt(e),n=t.getFullYear(),r=t.getMonth(),i=si(e,0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}function J2(e){return xt(e).getHours()}function eR(e){return xt(e).getMinutes()}function Fie(e){return Math.trunc(+xt(e)/1e3)}function zie(e){const t=xt(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(0,0,0,0),t}function qie(e,t){return zre(zie(e),Yr(e),t)+1}function YN(e,t){const n=xt(e),r=xt(t);return n.getTime()>r.getTime()}function ul(e,t){const n=xt(e),r=xt(t);return+n<+r}function Uie(e){return+xt(e)>Date.now()}function Wie(e){return+xt(e)<Date.now()}function Bx(e,t){const n=xt(e),r=xt(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function Hie(e,t){const n=xt(e),r=xt(t);return n.getFullYear()===r.getFullYear()}function mv(e){return Kn(e,Bre(e))}function Vie(e,t){const n=+xt(e),[r,i]=[+xt(t.start),+xt(t.end)].sort((a,s)=>a-s);return n>=r&&n<=i}function $w(e,t){return cr(e,-t)}function xi(e,t){const r=Zie(e);let i;if(r.date){const c=Xie(r.date,2);i=Qie(c.restDateString,c.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);const a=i.getTime();let s=0,l;if(r.time&&(s=Jie(r.time),isNaN(s)))return new Date(NaN);if(r.timezone){if(l=eae(r.timezone),isNaN(l))return new Date(NaN)}else{const c=new Date(a+s),f=new Date(0);return f.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),f.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),f}return new Date(a+s+l)}const gv={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Kie=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Gie=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Yie=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Zie(e){const t={},n=e.split(gv.dateTimeDelimiter);let r;if(n.length>2)return t;if(/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],gv.timeZoneDelimiter.test(t.date)&&(t.date=e.split(gv.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length))),r){const i=gv.timezone.exec(r);i?(t.time=r.replace(i[1],""),t.timezone=i[1]):t.time=r}return t}function Xie(e,t){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};const i=r[1]?parseInt(r[1]):null,a=r[2]?parseInt(r[2]):null;return{year:a===null?i:a*100,restDateString:e.slice((r[1]||r[2]).length)}}function Qie(e,t){if(t===null)return new Date(NaN);const n=e.match(Kie);if(!n)return new Date(NaN);const r=!!n[4],i=Nh(n[1]),a=Nh(n[2])-1,s=Nh(n[3]),l=Nh(n[4]),c=Nh(n[5])-1;if(r)return aae(t,l,c)?tae(t,l,c):new Date(NaN);{const f=new Date(0);return!rae(t,a,s)||!iae(t,i)?new Date(NaN):(f.setUTCFullYear(t,a,Math.max(i,s)),f)}}function Nh(e){return e?parseInt(e):1}function Jie(e){const t=e.match(Gie);if(!t)return NaN;const n=Bw(t[1]),r=Bw(t[2]),i=Bw(t[3]);return sae(n,r,i)?n*Az+r*$x+i*1e3:NaN}function Bw(e){return e&&parseFloat(e.replace(",","."))||0}function eae(e){if(e==="Z")return 0;const t=e.match(Yie);if(!t)return 0;const n=t[1]==="+"?-1:1,r=parseInt(t[2]),i=t[3]&&parseInt(t[3])||0;return oae(r,i)?n*(r*Az+i*$x):NaN}function tae(e,t,n){const r=new Date(0);r.setUTCFullYear(e,0,4);const i=r.getUTCDay()||7,a=(t-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+a),r}const nae=[31,null,31,30,31,30,31,31,30,31,30,31];function zz(e){return e%400===0||e%4===0&&e%100!==0}function rae(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(nae[t]||(zz(e)?29:28))}function iae(e,t){return t>=1&&t<=(zz(e)?366:365)}function aae(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function sae(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function oae(e,t){return t>=0&&t<=59}function Fw(e,t){const n=xt(e),r=n.getFullYear(),i=n.getDate(),a=si(e,0);a.setFullYear(r,t,15),a.setHours(0,0,0,0);const s=Bie(a);return n.setMonth(t,Math.min(i,s)),n}function tR(e,t){const n=xt(e);return isNaN(+n)?si(e,NaN):(n.setFullYear(t),n)}function lae(e,t){return Gi(e,-1)}function cae(e,t){return Lc(e,-1)}const nR={lessThanXSeconds:{standalone:{one:"weniger als 1 Sekunde",other:"weniger als {{count}} Sekunden"},withPreposition:{one:"weniger als 1 Sekunde",other:"weniger als {{count}} Sekunden"}},xSeconds:{standalone:{one:"1 Sekunde",other:"{{count}} Sekunden"},withPreposition:{one:"1 Sekunde",other:"{{count}} Sekunden"}},halfAMinute:{standalone:"eine halbe Minute",withPreposition:"einer halben Minute"},lessThanXMinutes:{standalone:{one:"weniger als 1 Minute",other:"weniger als {{count}} Minuten"},withPreposition:{one:"weniger als 1 Minute",other:"weniger als {{count}} Minuten"}},xMinutes:{standalone:{one:"1 Minute",other:"{{count}} Minuten"},withPreposition:{one:"1 Minute",other:"{{count}} Minuten"}},aboutXHours:{standalone:{one:"etwa 1 Stunde",other:"etwa {{count}} Stunden"},withPreposition:{one:"etwa 1 Stunde",other:"etwa {{count}} Stunden"}},xHours:{standalone:{one:"1 Stunde",other:"{{count}} Stunden"},withPreposition:{one:"1 Stunde",other:"{{count}} Stunden"}},xDays:{standalone:{one:"1 Tag",other:"{{count}} Tage"},withPreposition:{one:"1 Tag",other:"{{count}} Tagen"}},aboutXWeeks:{standalone:{one:"etwa 1 Woche",other:"etwa {{count}} Wochen"},withPreposition:{one:"etwa 1 Woche",other:"etwa {{count}} Wochen"}},xWeeks:{standalone:{one:"1 Woche",other:"{{count}} Wochen"},withPreposition:{one:"1 Woche",other:"{{count}} Wochen"}},aboutXMonths:{standalone:{one:"etwa 1 Monat",other:"etwa {{count}} Monate"},withPreposition:{one:"etwa 1 Monat",other:"etwa {{count}} Monaten"}},xMonths:{standalone:{one:"1 Monat",other:"{{count}} Monate"},withPreposition:{one:"1 Monat",other:"{{count}} Monaten"}},aboutXYears:{standalone:{one:"etwa 1 Jahr",other:"etwa {{count}} Jahre"},withPreposition:{one:"etwa 1 Jahr",other:"etwa {{count}} Jahren"}},xYears:{standalone:{one:"1 Jahr",other:"{{count}} Jahre"},withPreposition:{one:"1 Jahr",other:"{{count}} Jahren"}},overXYears:{standalone:{one:"mehr als 1 Jahr",other:"mehr als {{count}} Jahre"},withPreposition:{one:"mehr als 1 Jahr",other:"mehr als {{count}} Jahren"}},almostXYears:{standalone:{one:"fast 1 Jahr",other:"fast {{count}} Jahre"},withPreposition:{one:"fast 1 Jahr",other:"fast {{count}} Jahren"}}},uae=(e,t,n)=>{let r;const i=n?.addSuffix?nR[e].withPreposition:nR[e].standalone;return typeof i=="string"?r=i:t===1?r=i.one:r=i.other.replace("{{count}}",String(t)),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:"vor "+r:r},dae={full:"EEEE, do MMMM y",long:"do MMMM y",medium:"do MMM y",short:"dd.MM.y"},fae={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},hae={full:"{{date}} 'um' {{time}}",long:"{{date}} 'um' {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},pae={date:_d({formats:dae,defaultWidth:"full"}),time:_d({formats:fae,defaultWidth:"full"}),dateTime:_d({formats:hae,defaultWidth:"full"})},mae={lastWeek:"'letzten' eeee 'um' p",yesterday:"'gestern um' p",today:"'heute um' p",tomorrow:"'morgen um' p",nextWeek:"eeee 'um' p",other:"P"},gae=(e,t,n,r)=>mae[e],vae={narrow:["v.Chr.","n.Chr."],abbreviated:["v.Chr.","n.Chr."],wide:["vor Christus","nach Christus"]},yae={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1. Quartal","2. Quartal","3. Quartal","4. Quartal"]},ZN={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mr","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],wide:["Januar","Februar","Mrz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"]},xae={narrow:ZN.narrow,abbreviated:["Jan.","Feb.","Mrz","Apr.","Mai","Juni","Juli","Aug.","Sep.","Okt.","Nov.","Dez."],wide:ZN.wide},bae={narrow:["S","M","D","M","D","F","S"],short:["So","Mo","Di","Mi","Do","Fr","Sa"],abbreviated:["So.","Mo.","Di.","Mi.","Do.","Fr.","Sa."],wide:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"]},wae={narrow:{am:"vm.",pm:"nm.",midnight:"Mitternacht",noon:"Mittag",morning:"Morgen",afternoon:"Nachm.",evening:"Abend",night:"Nacht"},abbreviated:{am:"vorm.",pm:"nachm.",midnight:"Mitternacht",noon:"Mittag",morning:"Morgen",afternoon:"Nachmittag",evening:"Abend",night:"Nacht"},wide:{am:"vormittags",pm:"nachmittags",midnight:"Mitternacht",noon:"Mittag",morning:"Morgen",afternoon:"Nachmittag",evening:"Abend",night:"Nacht"}},_ae={narrow:{am:"vm.",pm:"nm.",midnight:"Mitternacht",noon:"Mittag",morning:"morgens",afternoon:"nachm.",evening:"abends",night:"nachts"},abbreviated:{am:"vorm.",pm:"nachm.",midnight:"Mitternacht",noon:"Mittag",morning:"morgens",afternoon:"nachmittags",evening:"abends",night:"nachts"},wide:{am:"vormittags",pm:"nachmittags",midnight:"Mitternacht",noon:"Mittag",morning:"morgens",afternoon:"nachmittags",evening:"abends",night:"nachts"}},Sae=e=>Number(e)+".",jae={ordinalNumber:Sae,era:fs({values:vae,defaultWidth:"wide"}),quarter:fs({values:yae,defaultWidth:"wide",argumentCallback:e=>e-1}),month:fs({values:ZN,formattingValues:xae,defaultWidth:"wide"}),day:fs({values:bae,defaultWidth:"wide"}),dayPeriod:fs({values:wae,defaultWidth:"wide",formattingValues:_ae,defaultFormattingWidth:"wide"})},Nae=/^(\d+)(\.)?/i,Pae=/\d+/i,kae={narrow:/^(v\.? ?Chr\.?|n\.? ?Chr\.?)/i,abbreviated:/^(v\.? ?Chr\.?|n\.? ?Chr\.?)/i,wide:/^(vor Christus|vor unserer Zeitrechnung|nach Christus|unserer Zeitrechnung)/i},Eae={any:[/^v/i,/^n/i]},Cae={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](\.)? Quartal/i},Oae={any:[/1/i,/2/i,/3/i,/4/i]},Tae={narrow:/^[jfmasond]/i,abbreviated:/^(j[a]n|feb|mr[z]?|apr|mai|jun[i]?|jul[i]?|aug|sep|okt|nov|dez)\.?/i,wide:/^(januar|februar|mrz|april|mai|juni|juli|august|september|oktober|november|dezember)/i},Aae={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^j[a]/i,/^f/i,/^mr/i,/^ap/i,/^mai/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Rae={narrow:/^[smdmf]/i,short:/^(so|mo|di|mi|do|fr|sa)/i,abbreviated:/^(son?|mon?|die?|mit?|don?|fre?|sam?)\.?/i,wide:/^(sonntag|montag|dienstag|mittwoch|donnerstag|freitag|samstag)/i},Mae={any:[/^so/i,/^mo/i,/^di/i,/^mi/i,/^do/i,/^f/i,/^sa/i]},Dae={narrow:/^(vm\.?|nm\.?|Mitternacht|Mittag|morgens|nachm\.?|abends|nachts)/i,abbreviated:/^(vorm\.?|nachm\.?|Mitternacht|Mittag|morgens|nachm\.?|abends|nachts)/i,wide:/^(vormittags|nachmittags|Mitternacht|Mittag|morgens|nachmittags|abends|nachts)/i},Iae={any:{am:/^v/i,pm:/^n/i,midnight:/^Mitte/i,noon:/^Mitta/i,morning:/morgens/i,afternoon:/nachmittags/i,evening:/abends/i,night:/nachts/i}},Lae={ordinalNumber:Iz({matchPattern:Nae,parsePattern:Pae,valueCallback:e=>parseInt(e)}),era:hs({matchPatterns:kae,defaultMatchWidth:"wide",parsePatterns:Eae,defaultParseWidth:"any"}),quarter:hs({matchPatterns:Cae,defaultMatchWidth:"wide",parsePatterns:Oae,defaultParseWidth:"any",valueCallback:e=>e+1}),month:hs({matchPatterns:Tae,defaultMatchWidth:"wide",parsePatterns:Aae,defaultParseWidth:"any"}),day:hs({matchPatterns:Rae,defaultMatchWidth:"wide",parsePatterns:Mae,defaultParseWidth:"any"}),dayPeriod:hs({matchPatterns:Dae,defaultMatchWidth:"wide",parsePatterns:Iae,defaultParseWidth:"any"})},qn={code:"de",formatDistance:uae,formatLong:pae,formatRelative:gae,localize:jae,match:Lae,options:{weekStartsOn:1,firstWeekContainsDate:4}},$ae=()=>{const{t:e,i18n:t}=Pt(),{user:n,signOut:r,loading:i}=mr(),a=pr(),s=t.language==="de"?qn:Cn,[l,c]=S.useState(!0),[f,p]=S.useState(null),[m,v]=S.useState(!1),[x,_]=S.useState(null);S.useEffect(()=>{if(!i&&!n){a("/login");return}n&&b()},[n,i]);const b=async()=>{if(n){c(!0);try{const{data:w}=await ye.from("user_roles").select("role").eq("user_id",n.id).maybeSingle(),k=w?.role||"customer";if(p(k),k==="admin"){const{data:E}=await ye.from("salons").select("*").eq("owner_id",n.id).maybeSingle();E?(_(E),v(!0),a("/admin")):a("/salon-setup")}else k==="stylist"?a("/employee-dashboard"):v(!1)}catch(w){console.error("Error checking user status:",w)}finally{c(!1)}}};return i||l?o.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx("header",{className:"sticky top-0 z-50 bg-card border-b border-border",children:o.jsxs("div",{className:"container mx-auto px-4 h-16 flex items-center justify-between",children:[o.jsxs(Rt,{to:"/",className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-10 h-10 gradient-primary rounded-xl flex items-center justify-center",children:o.jsx(Qt,{className:"w-5 h-5 text-primary-foreground"})}),o.jsxs("span",{className:"text-lg font-display font-bold text-foreground",children:["Salon",o.jsx("span",{className:"text-primary",children:"Manager"})]})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(Rr,{}),o.jsx(Mr,{}),o.jsxs(Rt,{to:"/profile",className:"flex items-center gap-2 text-sm hover:underline",children:[o.jsx(Kr,{className:"w-4 h-4"}),e("nav.profile","Profil")]}),o.jsxs(Se,{variant:"ghost",size:"sm",onClick:r,children:[o.jsx(wo,{className:"w-4 h-4 mr-2"}),e("nav.logout")]})]})]})}),o.jsxs("main",{className:"container mx-auto px-4 py-8",children:[o.jsxs("div",{className:"mb-8",children:[o.jsxs("h1",{className:"text-3xl font-display font-bold text-foreground mb-2",children:[e("dashboard.welcome"),"!"]}),o.jsx("p",{className:"text-muted-foreground",children:Le(new Date,"EEEE, d. MMMM yyyy",{locale:s})})]}),o.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:[o.jsx(Rt,{to:"/booking",className:"group",children:o.jsxs("div",{className:"bg-card border border-border rounded-2xl p-6 hover:shadow-lg transition-all hover:border-primary/50",children:[o.jsx("div",{className:"w-14 h-14 rounded-xl bg-primary/10 flex items-center justify-center mb-4 group-hover:scale-110 transition-transform",children:o.jsx(wn,{className:"w-7 h-7 text-primary"})}),o.jsx("h3",{className:"text-xl font-display font-bold text-foreground mb-2",children:e("landing.roles.customer.features.0","Termin buchen")}),o.jsx("p",{className:"text-muted-foreground",children:e("dashboard.bookAppointmentDesc","Buchen Sie jetzt einen Termin bei Ihrem Lieblingssalon.")})]})}),o.jsxs("div",{className:"bg-card border border-border rounded-2xl p-6",children:[o.jsx("div",{className:"w-14 h-14 rounded-xl bg-sage/10 flex items-center justify-center mb-4",children:o.jsx(ba,{className:"w-7 h-7 text-sage"})}),o.jsx("h3",{className:"text-xl font-display font-bold text-foreground mb-2",children:e("dashboard.myAppointments","Meine Termine")}),o.jsx("p",{className:"text-muted-foreground mb-4",children:e("dashboard.myAppointmentsDesc","Verwalten Sie Ihre gebuchten Termine.")}),o.jsx("p",{className:"text-sm text-muted-foreground italic",children:e("dashboard.noAppointments","Keine Termine vorhanden")})]}),o.jsxs("div",{className:"bg-card border border-border rounded-2xl p-6",children:[o.jsx("div",{className:"w-14 h-14 rounded-xl bg-gold/10 flex items-center justify-center mb-4",children:o.jsx(s3,{className:"w-7 h-7 text-gold"})}),o.jsx("h3",{className:"text-xl font-display font-bold text-foreground mb-2",children:e("nav.settings")}),o.jsx("p",{className:"text-muted-foreground",children:e("dashboard.settingsDesc","Profil und Einstellungen verwalten.")})]})]}),f==="customer"&&o.jsx("div",{className:"mt-8 bg-gradient-to-r from-primary/10 to-gold/10 border border-primary/20 rounded-2xl p-6",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"w-14 h-14 rounded-xl gradient-primary flex items-center justify-center",children:o.jsx(Bk,{className:"w-7 h-7 text-primary-foreground"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"text-xl font-display font-bold text-foreground mb-1",children:e("dashboard.becomeSalonOwner","Saloninhaber werden?")}),o.jsx("p",{className:"text-muted-foreground",children:e("dashboard.becomeSalonOwnerDesc","Erstellen Sie Ihren eigenen Salon und verwalten Sie Termine, Mitarbeiter und mehr.")})]}),o.jsx(Se,{onClick:()=>a("/salon-setup"),children:e("dashboard.startNow","Jetzt starten")})]})})]})]})};function Bae(){const{user:e}=mr(),[t,n]=S.useState(null),[r,i]=S.useState(null),[a,s]=S.useState([]),[l,c]=S.useState([]),[f,p]=S.useState([]),[m,v]=S.useState(!1),[x,_]=S.useState(null),[b,w]=S.useState([]),[k,E]=S.useState(!0);S.useEffect(()=>{e&&P()},[e]);const P=async()=>{if(e){E(!0);try{const{data:F}=await ye.from("profiles").select("first_name, last_name, avatar_url, phone").eq("user_id",e.id).maybeSingle();i(F);const{data:H}=await ye.from("employees").select("*").eq("user_id",e.id).single();if(H){n(H);const B=new Date,{data:$}=await ye.from("appointments").select(`
            *,
            service:services(name, duration_minutes, price)
          `).eq("employee_id",H.id).gte("start_time",B.toISOString()).order("start_time",{ascending:!0}).limit(5);s($||[]);const G=new Date;G.setHours(0,0,0,0);const W=new Date(G);W.setDate(G.getDate()+7),W.setHours(23,59,59,999);const{data:V}=await ye.from("appointments").select(`
            *,
            service:services(name, duration_minutes, price)
          `).eq("employee_id",H.id).gte("start_time",G.toISOString()).lte("start_time",W.toISOString()).order("start_time",{ascending:!0});c(V||[]);const K=new Date;K.setFullYear(K.getFullYear()-4);const{data:q}=await ye.from("appointments").select(`
            *,
            service:services(name, duration_minutes, price)
          `).eq("employee_id",H.id).lt("start_time",G.toISOString()).gte("start_time",K.toISOString()).order("start_time",{descending:!0});p(q||[]);const D=new Date().toISOString().split("T")[0],{data:Q}=await ye.from("time_entries").select("*").eq("employee_id",H.id).gte("check_in",`${D}T00:00:00`).lte("check_in",`${D}T23:59:59`).order("check_in",{ascending:!1}).limit(1).maybeSingle();_(Q);const{data:ne}=await ye.from("leave_requests").select("*").eq("employee_id",H.id).order("created_at",{ascending:!1});w(ne||[])}}catch(F){console.error("Error fetching employee data:",F)}finally{E(!1)}}};return{employee:t,profile:r,appointments:m?l:a,upcomingAppointments:a,weekAppointments:l,archivedAppointments:f,showWeek:m,toggleShowWeek:()=>v(F=>!F),todayTimeEntry:x,leaveRequests:b,loading:k,checkIn:async()=>{if(!t)return;const{data:F,error:H}=await ye.from("time_entries").insert({employee_id:t.id,check_in:new Date().toISOString()}).select().single();return!H&&F&&_(F),{data:F,error:H}},checkOut:async()=>{if(!x)return;const{data:F,error:H}=await ye.from("time_entries").update({check_out:new Date().toISOString()}).eq("id",x.id).select().single();return!H&&F&&_(F),{data:F,error:H}},submitLeaveRequest:async F=>{if(!t)return{data:null,error:new Error("No employee")};const{data:H,error:B}=await ye.from("leave_requests").insert({employee_id:t.id,leave_type:F.leave_type,start_date:F.start_date,end_date:F.end_date,reason:F.reason||null}).select().single();return!B&&H&&w([H,...b]),{data:H,error:B}},refetch:P,updateAppointment:async(F,H)=>{const B={};H.start_time&&(B.start_time=H.start_time),H.end_time&&(B.end_time=H.end_time);const{data:$,error:G}=await ye.from("appointments").update(B).eq("id",F).select().single();if(G)throw G;return $&&(s(W=>W.map(V=>V.id===F?$:V)),c(W=>W.map(V=>V.id===F?$:V)),p(W=>W.map(V=>V.id===F?$:V))),$},completeAppointment:async(F,H,B,$,G="")=>{const{data:W,error:V}=await ye.from("appointments").select("*").eq("id",F).single();if(V||!W)throw V||new Error("Appointment not found");const K=W,q=H&&H.length>0?H:K.service_id?[K.service_id]:[];let D=[];if(q.length>0){const{data:Me,error:tt}=await ye.from("services").select("*").in("id",q);tt||(D=Me||[])}const Q=19,ne=B,J=+(ne*Q/100).toFixed(2),ee=+(ne+J).toFixed(2),{data:te,error:re}=await ye.from("transactions").insert({salon_id:K.salon_id,appointment_id:K.id,customer_id:K.customer_id,employee_id:K.employee_id,subtotal:ne,tax_amount:J,tax_rate:Q,discount_amount:0,tip_amount:0,total_amount:ee,payment_method:"cash",payment_status:"completed",guest_name:K.guest_name,guest_email:K.guest_email,guest_phone:K.guest_phone,notes:[K.notes||null,G||null].filter(Boolean).join(`

`)||null}).select().single();if(re||!te)throw re||new Error("Failed to create transaction");const ie=te,se=[];D.forEach(Me=>{se.push({transaction_id:ie.id,item_type:"service",service_id:Me.id,inventory_id:null,name:Me.name,description:Me.description,quantity:1,unit_price:Me.price,total_price:Me.price})});let oe=null;if($&&$.length>0){const Me=$.map(Ht=>Ht.id),{data:tt,error:Wt}=await ye.from("extra_charge_reasons").select("*").in("id",Me);Wt||(oe=tt||[]),$.forEach(Ht=>{const Mt=oe?.find(It=>It.id===Ht.id);se.push({transaction_id:ie.id,item_type:"product",service_id:null,inventory_id:null,name:Mt?.name||"Extra",description:null,quantity:1,unit_price:Ht.amount,total_price:Ht.amount})})}const be=D.reduce((Me,tt)=>Me+(tt.price||0),0),fe=$.reduce((Me,tt)=>Me+tt.amount,0),xe=+(B-be-fe).toFixed(2);if(Math.abs(xe)>.009&&se.push({transaction_id:ie.id,item_type:"product",service_id:null,inventory_id:null,name:"Manual Adjustment",description:null,quantity:1,unit_price:xe,total_price:xe}),se.length>0){const{error:Me}=await ye.from("transaction_items").insert(se);Me&&console.error("Failed to insert transaction items",Me)}const ce=q.length>0?q[0]:K.service_id,{data:ue,error:je}=await ye.from("appointments").update({status:"completed",service_id:ce,price:B,updated_at:new Date().toISOString()}).eq("id",K.id).select().single();if(je)throw je;let Re=ue;const Xe=D.find(Me=>Me.id===ce);Xe?Re.service={name:Xe.name,duration_minutes:Xe.duration_minutes,price:Xe.price}:K.service&&(Re.service=K.service);try{await ye.functions.invoke("create-invoice",{body:{transactionId:ie.id,invoiceType:"invoice",salonId:K.salon_id}})}catch(Me){console.error("Failed to invoke create-invoice function",Me)}return s(Me=>Me.map(tt=>tt.id===K.id?Re:tt)),c(Me=>Me.map(tt=>tt.id===K.id?Re:tt)),p(Me=>Me.map(tt=>tt.id===K.id?Re:tt)),Re}}}const Je=S.forwardRef(({className:e,...t},n)=>o.jsx("div",{ref:n,className:qe("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Je.displayName="Card";const nn=S.forwardRef(({className:e,...t},n)=>o.jsx("div",{ref:n,className:qe("flex flex-col space-y-1.5 p-6",e),...t}));nn.displayName="CardHeader";const rn=S.forwardRef(({className:e,...t},n)=>o.jsx("h3",{ref:n,className:qe("text-2xl font-semibold leading-none tracking-tight",e),...t}));rn.displayName="CardTitle";const $v=S.forwardRef(({className:e,...t},n)=>o.jsx("p",{ref:n,className:qe("text-sm text-muted-foreground",e),...t}));$v.displayName="CardDescription";const et=S.forwardRef(({className:e,...t},n)=>o.jsx("div",{ref:n,className:qe("p-6 pt-0",e),...t}));et.displayName="CardContent";const Fae=S.forwardRef(({className:e,...t},n)=>o.jsx("div",{ref:n,className:qe("flex items-center p-6 pt-0",e),...t}));Fae.displayName="CardFooter";function zae({todayTimeEntry:e,onCheckIn:t,onCheckOut:n,loading:r}){const{t:i,i18n:a}=Pt(),[s,l]=S.useState(!1),c=a.language==="de"?qn:Cn,f=async()=>{l(!0),await t(),l(!1)},p=async()=>{l(!0),await n(),l(!1)},m=e&&!e.check_out,v=e&&e.check_out,x=()=>{if(!e)return"0h 0m";const _=new Date(e.check_in),b=e.check_out?new Date(e.check_out):new Date,w=Wre(b,_)-(e.break_minutes||0),k=Math.floor(w/60),E=w%60;return`${k}h ${E}m`};return o.jsxs(Je,{className:"border-border",children:[o.jsx(nn,{className:"pb-3",children:o.jsxs(rn,{className:"flex items-center gap-2 text-lg font-display",children:[o.jsx(ba,{className:"w-5 h-5 text-primary"}),i("dashboard.timeTracking")]})}),o.jsxs(et,{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-muted/50",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:i("dashboard.status")}),o.jsx("p",{className:"text-lg font-semibold text-foreground",children:m?o.jsx("span",{className:"text-sage",children:i("dashboard.checkedIn")}):v?o.jsx("span",{className:"text-muted-foreground",children:i("dashboard.checkedOut")}):o.jsx("span",{className:"text-gold",children:i("dashboard.notCheckedIn")})})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:i("dashboard.workedToday")}),o.jsx("p",{className:"text-2xl font-display font-bold text-foreground",children:x()})]})]}),e&&o.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[o.jsxs("div",{className:"p-3 rounded-lg bg-sage/10",children:[o.jsx(sA,{className:"w-4 h-4 text-sage mx-auto mb-1"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:i("dashboard.checkIn")}),o.jsx("p",{className:"font-semibold text-foreground",children:Le(new Date(e.check_in),"HH:mm",{locale:c})})]}),o.jsxs("div",{className:"p-3 rounded-lg bg-gold/10",children:[o.jsx(D9,{className:"w-4 h-4 text-gold mx-auto mb-1"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:i("dashboard.break")}),o.jsxs("p",{className:"font-semibold text-foreground",children:[e.break_minutes||0,"m"]})]}),o.jsxs("div",{className:"p-3 rounded-lg bg-rose/10",children:[o.jsx(uA,{className:"w-4 h-4 text-rose mx-auto mb-1"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:i("dashboard.checkOut")}),o.jsx("p",{className:"font-semibold text-foreground",children:e.check_out?Le(new Date(e.check_out),"HH:mm",{locale:c}):"--:--"})]})]}),o.jsx("div",{className:"pt-2",children:e?e.check_out?o.jsx("div",{className:"text-center text-muted-foreground text-sm",children:i("dashboard.workdayComplete")}):o.jsxs(Se,{onClick:p,disabled:s||r,variant:"destructive",className:"w-full",size:"lg",children:[o.jsx(uA,{className:"w-4 h-4 mr-2"}),i("dashboard.endWork")]}):o.jsxs(Se,{onClick:f,disabled:s||r,className:"w-full",size:"lg",children:[o.jsx(sA,{className:"w-4 h-4 mr-2"}),i("dashboard.startWork")]})})]})]})}const Wi=S.forwardRef(({className:e,...t},n)=>o.jsx("textarea",{className:qe("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));Wi.displayName="Textarea";function bp(e,[t,n]){return Math.min(n,Math.max(t,e))}function Fx(e){const t=S.useRef({value:e,previous:e});return S.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var qae=[" ","Enter","ArrowUp","ArrowDown"],Uae=[" ","Enter"],$c="Select",[zx,qx,Wae]=im($c),[wf]=Ar($c,[Wae,Nl]),Ux=Nl(),[Hae,Cl]=wf($c),[Vae,Kae]=wf($c),qz=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:i,onOpenChange:a,value:s,defaultValue:l,onValueChange:c,dir:f,name:p,autoComplete:m,disabled:v,required:x,form:_}=e,b=Ux(t),[w,k]=S.useState(null),[E,P]=S.useState(null),[C,O]=S.useState(!1),R=bf(f),[M,U]=Va({prop:r,defaultProp:i??!1,onChange:a,caller:$c}),[F,H]=Va({prop:s,defaultProp:l,onChange:c,caller:$c}),B=S.useRef(null),$=w?_||!!w.closest("form"):!0,[G,W]=S.useState(new Set),V=Array.from(G).map(K=>K.props.value).join(";");return o.jsx(Zk,{...b,children:o.jsxs(Hae,{required:x,scope:t,trigger:w,onTriggerChange:k,valueNode:E,onValueNodeChange:P,valueNodeHasChildren:C,onValueNodeHasChildrenChange:O,contentId:Wa(),value:F,onValueChange:H,open:M,onOpenChange:U,dir:R,triggerPointerDownPosRef:B,disabled:v,children:[o.jsx(zx.Provider,{scope:t,children:o.jsx(Vae,{scope:e.__scopeSelect,onNativeOptionAdd:S.useCallback(K=>{W(q=>new Set(q).add(K))},[]),onNativeOptionRemove:S.useCallback(K=>{W(q=>{const D=new Set(q);return D.delete(K),D})},[]),children:n})}),$?o.jsxs(f6,{"aria-hidden":!0,required:x,tabIndex:-1,name:p,autoComplete:m,value:F,onChange:K=>H(K.target.value),disabled:v,form:_,children:[F===void 0?o.jsx("option",{value:""}):null,Array.from(G)]},V):null]})})};qz.displayName=$c;var Uz="SelectTrigger",Wz=S.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...i}=e,a=Ux(n),s=Cl(Uz,n),l=s.disabled||r,c=dt(t,s.onTriggerChange),f=qx(n),p=S.useRef("touch"),[m,v,x]=p6(b=>{const w=f().filter(P=>!P.disabled),k=w.find(P=>P.value===s.value),E=m6(w,b,k);E!==void 0&&s.onValueChange(E.value)}),_=b=>{l||(s.onOpenChange(!0),x()),b&&(s.triggerPointerDownPosRef.current={x:Math.round(b.pageX),y:Math.round(b.pageY)})};return o.jsx(om,{asChild:!0,...a,children:o.jsx(ze.button,{type:"button",role:"combobox","aria-controls":s.contentId,"aria-expanded":s.open,"aria-required":s.required,"aria-autocomplete":"none",dir:s.dir,"data-state":s.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":h6(s.value)?"":void 0,...i,ref:c,onClick:Ae(i.onClick,b=>{b.currentTarget.focus(),p.current!=="mouse"&&_(b)}),onPointerDown:Ae(i.onPointerDown,b=>{p.current=b.pointerType;const w=b.target;w.hasPointerCapture(b.pointerId)&&w.releasePointerCapture(b.pointerId),b.button===0&&b.ctrlKey===!1&&b.pointerType==="mouse"&&(_(b),b.preventDefault())}),onKeyDown:Ae(i.onKeyDown,b=>{const w=m.current!=="";!(b.ctrlKey||b.altKey||b.metaKey)&&b.key.length===1&&v(b.key),!(w&&b.key===" ")&&qae.includes(b.key)&&(_(),b.preventDefault())})})})});Wz.displayName=Uz;var Hz="SelectValue",Vz=S.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,children:a,placeholder:s="",...l}=e,c=Cl(Hz,n),{onValueNodeHasChildrenChange:f}=c,p=a!==void 0,m=dt(t,c.onValueNodeChange);return zn(()=>{f(p)},[f,p]),o.jsx(ze.span,{...l,ref:m,style:{pointerEvents:"none"},children:h6(c.value)?o.jsx(o.Fragment,{children:s}):a})});Vz.displayName=Hz;var Gae="SelectIcon",Kz=S.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...i}=e;return o.jsx(ze.span,{"aria-hidden":!0,...i,ref:t,children:r||""})});Kz.displayName=Gae;var Yae="SelectPortal",Gz=e=>o.jsx(df,{asChild:!0,...e});Gz.displayName=Yae;var Bc="SelectContent",Yz=S.forwardRef((e,t)=>{const n=Cl(Bc,e.__scopeSelect),[r,i]=S.useState();if(zn(()=>{i(new DocumentFragment)},[]),!n.open){const a=r;return a?Kc.createPortal(o.jsx(Zz,{scope:e.__scopeSelect,children:o.jsx(zx.Slot,{scope:e.__scopeSelect,children:o.jsx("div",{children:e.children})})}),a):null}return o.jsx(Xz,{...e,ref:t})});Yz.displayName=Bc;var $a=10,[Zz,Ol]=wf(Bc),Zae="SelectContentImpl",Xae=wl("SelectContent.RemoveScroll"),Xz=S.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:s,side:l,sideOffset:c,align:f,alignOffset:p,arrowPadding:m,collisionBoundary:v,collisionPadding:x,sticky:_,hideWhenDetached:b,avoidCollisions:w,...k}=e,E=Cl(Bc,n),[P,C]=S.useState(null),[O,R]=S.useState(null),M=dt(t,oe=>C(oe)),[U,F]=S.useState(null),[H,B]=S.useState(null),$=qx(n),[G,W]=S.useState(!1),V=S.useRef(!1);S.useEffect(()=>{if(P)return Ax(P)},[P]),Ox();const K=S.useCallback(oe=>{const[be,...fe]=$().map(ue=>ue.ref.current),[xe]=fe.slice(-1),ce=document.activeElement;for(const ue of oe)if(ue===ce||(ue?.scrollIntoView({block:"nearest"}),ue===be&&O&&(O.scrollTop=0),ue===xe&&O&&(O.scrollTop=O.scrollHeight),ue?.focus(),document.activeElement!==ce))return},[$,O]),q=S.useCallback(()=>K([U,P]),[K,U,P]);S.useEffect(()=>{G&&q()},[G,q]);const{onOpenChange:D,triggerPointerDownPosRef:Q}=E;S.useEffect(()=>{if(P){let oe={x:0,y:0};const be=xe=>{oe={x:Math.abs(Math.round(xe.pageX)-(Q.current?.x??0)),y:Math.abs(Math.round(xe.pageY)-(Q.current?.y??0))}},fe=xe=>{oe.x<=10&&oe.y<=10?xe.preventDefault():P.contains(xe.target)||D(!1),document.removeEventListener("pointermove",be),Q.current=null};return Q.current!==null&&(document.addEventListener("pointermove",be),document.addEventListener("pointerup",fe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",be),document.removeEventListener("pointerup",fe,{capture:!0})}}},[P,D,Q]),S.useEffect(()=>{const oe=()=>D(!1);return window.addEventListener("blur",oe),window.addEventListener("resize",oe),()=>{window.removeEventListener("blur",oe),window.removeEventListener("resize",oe)}},[D]);const[ne,J]=p6(oe=>{const be=$().filter(ce=>!ce.disabled),fe=be.find(ce=>ce.ref.current===document.activeElement),xe=m6(be,oe,fe);xe&&setTimeout(()=>xe.ref.current.focus())}),ee=S.useCallback((oe,be,fe)=>{const xe=!V.current&&!fe;(E.value!==void 0&&E.value===be||xe)&&(F(oe),xe&&(V.current=!0))},[E.value]),te=S.useCallback(()=>P?.focus(),[P]),re=S.useCallback((oe,be,fe)=>{const xe=!V.current&&!fe;(E.value!==void 0&&E.value===be||xe)&&B(oe)},[E.value]),ie=r==="popper"?XN:Qz,se=ie===XN?{side:l,sideOffset:c,align:f,alignOffset:p,arrowPadding:m,collisionBoundary:v,collisionPadding:x,sticky:_,hideWhenDetached:b,avoidCollisions:w}:{};return o.jsx(Zz,{scope:n,content:P,viewport:O,onViewportChange:R,itemRefCallback:ee,selectedItem:U,onItemLeave:te,itemTextRefCallback:re,focusSelectedItem:q,selectedItemText:H,position:r,isPositioned:G,searchRef:ne,children:o.jsx(fm,{as:Xae,allowPinchZoom:!0,children:o.jsx(um,{asChild:!0,trapped:E.open,onMountAutoFocus:oe=>{oe.preventDefault()},onUnmountAutoFocus:Ae(i,oe=>{E.trigger?.focus({preventScroll:!0}),oe.preventDefault()}),children:o.jsx(Gc,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:s,onFocusOutside:oe=>oe.preventDefault(),onDismiss:()=>E.onOpenChange(!1),children:o.jsx(ie,{role:"listbox",id:E.contentId,"data-state":E.open?"open":"closed",dir:E.dir,onContextMenu:oe=>oe.preventDefault(),...k,...se,onPlaced:()=>W(!0),ref:M,style:{display:"flex",flexDirection:"column",outline:"none",...k.style},onKeyDown:Ae(k.onKeyDown,oe=>{const be=oe.ctrlKey||oe.altKey||oe.metaKey;if(oe.key==="Tab"&&oe.preventDefault(),!be&&oe.key.length===1&&J(oe.key),["ArrowUp","ArrowDown","Home","End"].includes(oe.key)){let xe=$().filter(ce=>!ce.disabled).map(ce=>ce.ref.current);if(["ArrowUp","End"].includes(oe.key)&&(xe=xe.slice().reverse()),["ArrowUp","ArrowDown"].includes(oe.key)){const ce=oe.target,ue=xe.indexOf(ce);xe=xe.slice(ue+1)}setTimeout(()=>K(xe)),oe.preventDefault()}})})})})})})});Xz.displayName=Zae;var Qae="SelectItemAlignedPosition",Qz=S.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...i}=e,a=Cl(Bc,n),s=Ol(Bc,n),[l,c]=S.useState(null),[f,p]=S.useState(null),m=dt(t,M=>p(M)),v=qx(n),x=S.useRef(!1),_=S.useRef(!0),{viewport:b,selectedItem:w,selectedItemText:k,focusSelectedItem:E}=s,P=S.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&f&&b&&w&&k){const M=a.trigger.getBoundingClientRect(),U=f.getBoundingClientRect(),F=a.valueNode.getBoundingClientRect(),H=k.getBoundingClientRect();if(a.dir!=="rtl"){const ce=H.left-U.left,ue=F.left-ce,je=M.left-ue,Re=M.width+je,Xe=Math.max(Re,U.width),Me=window.innerWidth-$a,tt=bp(ue,[$a,Math.max($a,Me-Xe)]);l.style.minWidth=Re+"px",l.style.left=tt+"px"}else{const ce=U.right-H.right,ue=window.innerWidth-F.right-ce,je=window.innerWidth-M.right-ue,Re=M.width+je,Xe=Math.max(Re,U.width),Me=window.innerWidth-$a,tt=bp(ue,[$a,Math.max($a,Me-Xe)]);l.style.minWidth=Re+"px",l.style.right=tt+"px"}const B=v(),$=window.innerHeight-$a*2,G=b.scrollHeight,W=window.getComputedStyle(f),V=parseInt(W.borderTopWidth,10),K=parseInt(W.paddingTop,10),q=parseInt(W.borderBottomWidth,10),D=parseInt(W.paddingBottom,10),Q=V+K+G+D+q,ne=Math.min(w.offsetHeight*5,Q),J=window.getComputedStyle(b),ee=parseInt(J.paddingTop,10),te=parseInt(J.paddingBottom,10),re=M.top+M.height/2-$a,ie=$-re,se=w.offsetHeight/2,oe=w.offsetTop+se,be=V+K+oe,fe=Q-be;if(be<=re){const ce=B.length>0&&w===B[B.length-1].ref.current;l.style.bottom="0px";const ue=f.clientHeight-b.offsetTop-b.offsetHeight,je=Math.max(ie,se+(ce?te:0)+ue+q),Re=be+je;l.style.height=Re+"px"}else{const ce=B.length>0&&w===B[0].ref.current;l.style.top="0px";const je=Math.max(re,V+b.offsetTop+(ce?ee:0)+se)+fe;l.style.height=je+"px",b.scrollTop=be-re+b.offsetTop}l.style.margin=`${$a}px 0`,l.style.minHeight=ne+"px",l.style.maxHeight=$+"px",r?.(),requestAnimationFrame(()=>x.current=!0)}},[v,a.trigger,a.valueNode,l,f,b,w,k,a.dir,r]);zn(()=>P(),[P]);const[C,O]=S.useState();zn(()=>{f&&O(window.getComputedStyle(f).zIndex)},[f]);const R=S.useCallback(M=>{M&&_.current===!0&&(P(),E?.(),_.current=!1)},[P,E]);return o.jsx(ese,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:x,onScrollButtonChange:R,children:o.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:C},children:o.jsx(ze.div,{...i,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});Qz.displayName=Qae;var Jae="SelectPopperPosition",XN=S.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=$a,...a}=e,s=Ux(n);return o.jsx(_x,{...s,...a,ref:t,align:r,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});XN.displayName=Jae;var[ese,NE]=wf(Bc,{}),QN="SelectViewport",Jz=S.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...i}=e,a=Ol(QN,n),s=NE(QN,n),l=dt(t,a.onViewportChange),c=S.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),o.jsx(zx.Slot,{scope:n,children:o.jsx(ze.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Ae(i.onScroll,f=>{const p=f.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:v}=s;if(v?.current&&m){const x=Math.abs(c.current-p.scrollTop);if(x>0){const _=window.innerHeight-$a*2,b=parseFloat(m.style.minHeight),w=parseFloat(m.style.height),k=Math.max(b,w);if(k<_){const E=k+x,P=Math.min(_,E),C=E-P;m.style.height=P+"px",m.style.bottom==="0px"&&(p.scrollTop=C>0?C:0,m.style.justifyContent="flex-end")}}}c.current=p.scrollTop})})})]})});Jz.displayName=QN;var e6="SelectGroup",[tse,nse]=wf(e6),rse=S.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=Wa();return o.jsx(tse,{scope:n,id:i,children:o.jsx(ze.div,{role:"group","aria-labelledby":i,...r,ref:t})})});rse.displayName=e6;var t6="SelectLabel",n6=S.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=nse(t6,n);return o.jsx(ze.div,{id:i.id,...r,ref:t})});n6.displayName=t6;var ay="SelectItem",[ise,r6]=wf(ay),i6=S.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:a,...s}=e,l=Cl(ay,n),c=Ol(ay,n),f=l.value===r,[p,m]=S.useState(a??""),[v,x]=S.useState(!1),_=dt(t,E=>c.itemRefCallback?.(E,r,i)),b=Wa(),w=S.useRef("touch"),k=()=>{i||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(ise,{scope:n,value:r,disabled:i,textId:b,isSelected:f,onItemTextChange:S.useCallback(E=>{m(P=>P||(E?.textContent??"").trim())},[]),children:o.jsx(zx.ItemSlot,{scope:n,value:r,disabled:i,textValue:p,children:o.jsx(ze.div,{role:"option","aria-labelledby":b,"data-highlighted":v?"":void 0,"aria-selected":f&&v,"data-state":f?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...s,ref:_,onFocus:Ae(s.onFocus,()=>x(!0)),onBlur:Ae(s.onBlur,()=>x(!1)),onClick:Ae(s.onClick,()=>{w.current!=="mouse"&&k()}),onPointerUp:Ae(s.onPointerUp,()=>{w.current==="mouse"&&k()}),onPointerDown:Ae(s.onPointerDown,E=>{w.current=E.pointerType}),onPointerMove:Ae(s.onPointerMove,E=>{w.current=E.pointerType,i?c.onItemLeave?.():w.current==="mouse"&&E.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ae(s.onPointerLeave,E=>{E.currentTarget===document.activeElement&&c.onItemLeave?.()}),onKeyDown:Ae(s.onKeyDown,E=>{c.searchRef?.current!==""&&E.key===" "||(Uae.includes(E.key)&&k(),E.key===" "&&E.preventDefault())})})})})});i6.displayName=ay;var Fh="SelectItemText",a6=S.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,...a}=e,s=Cl(Fh,n),l=Ol(Fh,n),c=r6(Fh,n),f=Kae(Fh,n),[p,m]=S.useState(null),v=dt(t,k=>m(k),c.onItemTextChange,k=>l.itemTextRefCallback?.(k,c.value,c.disabled)),x=p?.textContent,_=S.useMemo(()=>o.jsx("option",{value:c.value,disabled:c.disabled,children:x},c.value),[c.disabled,c.value,x]),{onNativeOptionAdd:b,onNativeOptionRemove:w}=f;return zn(()=>(b(_),()=>w(_)),[b,w,_]),o.jsxs(o.Fragment,{children:[o.jsx(ze.span,{id:c.textId,...a,ref:v}),c.isSelected&&s.valueNode&&!s.valueNodeHasChildren?Kc.createPortal(a.children,s.valueNode):null]})});a6.displayName=Fh;var s6="SelectItemIndicator",o6=S.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return r6(s6,n).isSelected?o.jsx(ze.span,{"aria-hidden":!0,...r,ref:t}):null});o6.displayName=s6;var JN="SelectScrollUpButton",l6=S.forwardRef((e,t)=>{const n=Ol(JN,e.__scopeSelect),r=NE(JN,e.__scopeSelect),[i,a]=S.useState(!1),s=dt(t,r.onScrollButtonChange);return zn(()=>{if(n.viewport&&n.isPositioned){let l=function(){const f=c.scrollTop>0;a(f)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?o.jsx(u6,{...e,ref:s,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});l6.displayName=JN;var eP="SelectScrollDownButton",c6=S.forwardRef((e,t)=>{const n=Ol(eP,e.__scopeSelect),r=NE(eP,e.__scopeSelect),[i,a]=S.useState(!1),s=dt(t,r.onScrollButtonChange);return zn(()=>{if(n.viewport&&n.isPositioned){let l=function(){const f=c.scrollHeight-c.clientHeight,p=Math.ceil(c.scrollTop)<f;a(p)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?o.jsx(u6,{...e,ref:s,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});c6.displayName=eP;var u6=S.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=e,a=Ol("SelectScrollButton",n),s=S.useRef(null),l=qx(n),c=S.useCallback(()=>{s.current!==null&&(window.clearInterval(s.current),s.current=null)},[]);return S.useEffect(()=>()=>c(),[c]),zn(()=>{l().find(p=>p.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[l]),o.jsx(ze.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:Ae(i.onPointerDown,()=>{s.current===null&&(s.current=window.setInterval(r,50))}),onPointerMove:Ae(i.onPointerMove,()=>{a.onItemLeave?.(),s.current===null&&(s.current=window.setInterval(r,50))}),onPointerLeave:Ae(i.onPointerLeave,()=>{c()})})}),ase="SelectSeparator",d6=S.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return o.jsx(ze.div,{"aria-hidden":!0,...r,ref:t})});d6.displayName=ase;var tP="SelectArrow",sse=S.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=Ux(n),a=Cl(tP,n),s=Ol(tP,n);return a.open&&s.position==="popper"?o.jsx(Sx,{...i,...r,ref:t}):null});sse.displayName=tP;var ose="SelectBubbleInput",f6=S.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const i=S.useRef(null),a=dt(r,i),s=Fx(t);return S.useEffect(()=>{const l=i.current;if(!l)return;const c=window.HTMLSelectElement.prototype,p=Object.getOwnPropertyDescriptor(c,"value").set;if(s!==t&&p){const m=new Event("change",{bubbles:!0});p.call(l,t),l.dispatchEvent(m)}},[s,t]),o.jsx(ze.select,{...n,style:{...MB,...n.style},ref:a,defaultValue:t})});f6.displayName=ose;function h6(e){return e===""||e===void 0}function p6(e){const t=In(e),n=S.useRef(""),r=S.useRef(0),i=S.useCallback(s=>{const l=n.current+s;t(l),(function c(f){n.current=f,window.clearTimeout(r.current),f!==""&&(r.current=window.setTimeout(()=>c(""),1e3))})(l)},[t]),a=S.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return S.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,a]}function m6(e,t,n){const i=t.length>1&&Array.from(t).every(f=>f===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let s=lse(e,Math.max(a,0));i.length===1&&(s=s.filter(f=>f!==n));const c=s.find(f=>f.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function lse(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var cse=qz,g6=Wz,use=Vz,dse=Kz,fse=Gz,v6=Yz,hse=Jz,y6=n6,x6=i6,pse=a6,mse=o6,b6=l6,w6=c6,_6=d6;const ao=cse,so=use,vs=S.forwardRef(({className:e,children:t,...n},r)=>o.jsxs(g6,{ref:r,className:qe("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,o.jsx(dse,{asChild:!0,children:o.jsx(r3,{className:"h-4 w-4 opacity-50"})})]}));vs.displayName=g6.displayName;const S6=S.forwardRef(({className:e,...t},n)=>o.jsx(b6,{ref:n,className:qe("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(T9,{className:"h-4 w-4"})}));S6.displayName=b6.displayName;const j6=S.forwardRef(({className:e,...t},n)=>o.jsx(w6,{ref:n,className:qe("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(r3,{className:"h-4 w-4"})}));j6.displayName=w6.displayName;const ys=S.forwardRef(({className:e,children:t,position:n="popper",...r},i)=>o.jsx(fse,{children:o.jsxs(v6,{ref:i,className:qe("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[o.jsx(S6,{}),o.jsx(hse,{className:qe("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),o.jsx(j6,{})]})}));ys.displayName=v6.displayName;const gse=S.forwardRef(({className:e,...t},n)=>o.jsx(y6,{ref:n,className:qe("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));gse.displayName=y6.displayName;const Zt=S.forwardRef(({className:e,children:t,...n},r)=>o.jsxs(x6,{ref:r,className:qe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...n,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(mse,{children:o.jsx(ya,{className:"h-4 w-4"})})}),o.jsx(pse,{children:t})]}));Zt.displayName=x6.displayName;const vse=S.forwardRef(({className:e,...t},n)=>o.jsx(_6,{ref:n,className:qe("-mx-1 my-1 h-px bg-muted",e),...t}));vse.displayName=_6.displayName;function yse({onSubmit:e}){const{t}=Pt(),{toast:n}=jl(),[r,i]=S.useState(""),[a,s]=S.useState(""),[l,c]=S.useState(""),[f,p]=S.useState(""),[m,v]=S.useState(!1),x=[{value:"vacation",label:t("dashboard.leaveTypes.vacation")},{value:"sick",label:t("dashboard.leaveTypes.sick")},{value:"personal",label:t("dashboard.leaveTypes.personal")},{value:"other",label:t("dashboard.leaveTypes.other")}],_=async b=>{if(b.preventDefault(),!r||!a||!l){n({title:t("common.error"),description:t("dashboard.fillAllFields"),variant:"destructive"});return}v(!0);const w=await e({leave_type:r,start_date:a,end_date:l,reason:f||void 0});w?.error?n({title:t("common.error"),description:w.error.message,variant:"destructive"}):(n({title:t("common.success"),description:t("dashboard.leaveRequestSubmitted")}),i(""),s(""),c(""),p("")),v(!1)};return o.jsxs(Je,{className:"border-border",children:[o.jsx(nn,{className:"pb-3",children:o.jsxs(rn,{className:"flex items-center gap-2 text-lg font-display",children:[o.jsx(wn,{className:"w-5 h-5 text-primary"}),t("dashboard.requestLeave")]})}),o.jsx(et,{children:o.jsxs("form",{onSubmit:_,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Pe,{htmlFor:"leaveType",children:t("dashboard.leaveType")}),o.jsxs(ao,{value:r,onValueChange:i,children:[o.jsx(vs,{children:o.jsx(so,{placeholder:t("dashboard.selectLeaveType")})}),o.jsx(ys,{children:x.map(b=>o.jsx(Zt,{value:b.value,children:b.label},b.value))})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Pe,{htmlFor:"startDate",children:t("dashboard.startDate")}),o.jsx(ke,{id:"startDate",type:"date",value:a,onChange:b=>s(b.target.value)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Pe,{htmlFor:"endDate",children:t("dashboard.endDate")}),o.jsx(ke,{id:"endDate",type:"date",value:l,onChange:b=>c(b.target.value)})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Pe,{htmlFor:"reason",children:t("dashboard.reason")}),o.jsx(Wi,{id:"reason",value:f,onChange:b=>p(b.target.value),placeholder:t("dashboard.reasonPlaceholder"),rows:3})]}),o.jsxs(Se,{type:"submit",disabled:m,className:"w-full",children:[o.jsx(eK,{className:"w-4 h-4 mr-2"}),t("dashboard.submitRequest")]})]})})]})}var Wx="Dialog",[N6]=Ar(Wx),[xse,Xa]=N6(Wx),P6=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:i,onOpenChange:a,modal:s=!0}=e,l=S.useRef(null),c=S.useRef(null),[f,p]=Va({prop:r,defaultProp:i??!1,onChange:a,caller:Wx});return o.jsx(xse,{scope:t,triggerRef:l,contentRef:c,contentId:Wa(),titleId:Wa(),descriptionId:Wa(),open:f,onOpenChange:p,onOpenToggle:S.useCallback(()=>p(m=>!m),[p]),modal:s,children:n})};P6.displayName=Wx;var k6="DialogTrigger",E6=S.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Xa(k6,n),a=dt(t,i.triggerRef);return o.jsx(ze.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":EE(i.open),...r,ref:a,onClick:Ae(e.onClick,i.onOpenToggle)})});E6.displayName=k6;var PE="DialogPortal",[bse,C6]=N6(PE,{forceMount:void 0}),O6=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:i}=e,a=Xa(PE,t);return o.jsx(bse,{scope:t,forceMount:n,children:S.Children.map(r,s=>o.jsx(_r,{present:n||a.open,children:o.jsx(df,{asChild:!0,container:i,children:s})}))})};O6.displayName=PE;var sy="DialogOverlay",T6=S.forwardRef((e,t)=>{const n=C6(sy,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,a=Xa(sy,e.__scopeDialog);return a.modal?o.jsx(_r,{present:r||a.open,children:o.jsx(_se,{...i,ref:t})}):null});T6.displayName=sy;var wse=wl("DialogOverlay.RemoveScroll"),_se=S.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Xa(sy,n);return o.jsx(fm,{as:wse,allowPinchZoom:!0,shards:[i.contentRef],children:o.jsx(ze.div,{"data-state":EE(i.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Fc="DialogContent",A6=S.forwardRef((e,t)=>{const n=C6(Fc,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,a=Xa(Fc,e.__scopeDialog);return o.jsx(_r,{present:r||a.open,children:a.modal?o.jsx(Sse,{...i,ref:t}):o.jsx(jse,{...i,ref:t})})});A6.displayName=Fc;var Sse=S.forwardRef((e,t)=>{const n=Xa(Fc,e.__scopeDialog),r=S.useRef(null),i=dt(t,n.contentRef,r);return S.useEffect(()=>{const a=r.current;if(a)return Ax(a)},[]),o.jsx(R6,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ae(e.onCloseAutoFocus,a=>{a.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:Ae(e.onPointerDownOutside,a=>{const s=a.detail.originalEvent,l=s.button===0&&s.ctrlKey===!0;(s.button===2||l)&&a.preventDefault()}),onFocusOutside:Ae(e.onFocusOutside,a=>a.preventDefault())})}),jse=S.forwardRef((e,t)=>{const n=Xa(Fc,e.__scopeDialog),r=S.useRef(!1),i=S.useRef(!1);return o.jsx(R6,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{e.onCloseAutoFocus?.(a),a.defaultPrevented||(r.current||n.triggerRef.current?.focus(),a.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:a=>{e.onInteractOutside?.(a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const s=a.target;n.triggerRef.current?.contains(s)&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),R6=S.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:a,...s}=e,l=Xa(Fc,n),c=S.useRef(null),f=dt(t,c);return Ox(),o.jsxs(o.Fragment,{children:[o.jsx(um,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:a,children:o.jsx(Gc,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":EE(l.open),...s,ref:f,onDismiss:()=>l.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(Nse,{titleId:l.titleId}),o.jsx(kse,{contentRef:c,descriptionId:l.descriptionId})]})]})}),kE="DialogTitle",M6=S.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Xa(kE,n);return o.jsx(ze.h2,{id:i.titleId,...r,ref:t})});M6.displayName=kE;var D6="DialogDescription",I6=S.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Xa(D6,n);return o.jsx(ze.p,{id:i.descriptionId,...r,ref:t})});I6.displayName=D6;var L6="DialogClose",$6=S.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Xa(L6,n);return o.jsx(ze.button,{type:"button",...r,ref:t,onClick:Ae(e.onClick,()=>i.onOpenChange(!1))})});$6.displayName=L6;function EE(e){return e?"open":"closed"}var B6="DialogTitleWarning",[Qke,F6]=A7(B6,{contentName:Fc,titleName:kE,docsSlug:"dialog"}),Nse=({titleId:e})=>{const t=F6(B6),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return S.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},Pse="DialogDescriptionWarning",kse=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${F6(Pse).contentName}}.`;return S.useEffect(()=>{const i=e.current?.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},z6=P6,q6=E6,U6=O6,CE=T6,OE=A6,TE=M6,AE=I6,Ese=$6;const fr=z6,wp=q6,Cse=U6,W6=S.forwardRef(({className:e,...t},n)=>o.jsx(CE,{ref:n,className:qe("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));W6.displayName=CE.displayName;const Gn=S.forwardRef(({className:e,children:t,...n},r)=>o.jsxs(Cse,{children:[o.jsx(W6,{}),o.jsxs(OE,{ref:r,className:qe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,o.jsxs(Ese,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[o.jsx(pf,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Gn.displayName=OE.displayName;const Yn=({className:e,...t})=>o.jsx("div",{className:qe("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Yn.displayName="DialogHeader";const RE=({className:e,...t})=>o.jsx("div",{className:qe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});RE.displayName="DialogFooter";const Zn=S.forwardRef(({className:e,...t},n)=>o.jsx(TE,{ref:n,className:qe("text-lg font-semibold leading-none tracking-tight",e),...t}));Zn.displayName=TE.displayName;const H6=S.forwardRef(({className:e,...t},n)=>o.jsx(AE,{ref:n,className:qe("text-sm text-muted-foreground",e),...t}));H6.displayName=AE.displayName;const Ose=hx("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Or({className:e,variant:t,...n}){return o.jsx("div",{className:qe(Ose({variant:t}),e),...n})}function V6(e){const[t,n]=S.useState([]),[r,i]=S.useState(!1),[a,s]=S.useState(null);S.useEffect(()=>{e?l():n([])},[e]);async function l(){if(e){i(!0);try{const{data:m,error:v}=await ye.from("extra_charge_reasons").select("*").eq("salon_id",e).order("created_at",{ascending:!0});if(v)throw v;n(m||[]),s(null)}catch(m){s(m.message),n([])}finally{i(!1)}}}async function c(m,v){if(!e)throw new Error("Salon ID is required");const{data:x,error:_}=await ye.from("extra_charge_reasons").insert({salon_id:e,name:m,default_amount:v}).select().single();if(_)throw _;return n(b=>[...b,x]),x}async function f(m,v){const{data:x,error:_}=await ye.from("extra_charge_reasons").update(v).eq("id",m).select().single();if(_)throw _;return n(b=>b.map(w=>w.id===m?x:w)),x}async function p(m){const{error:v}=await ye.from("extra_charge_reasons").delete().eq("id",m);if(v)throw v;n(x=>x.filter(_=>_.id!==m))}return{reasons:t,loading:r,error:a,fetchReasons:l,createReason:c,updateReason:f,deleteReason:p}}function ME({appointment:e,open:t,onClose:n,canReschedule:r=!1,canReassign:i=!1,employees:a=[],onUpdate:s,canComplete:l=!1,onComplete:c,services:f=[]}){const{t:p,i18n:m}=Pt(),v=m.language==="de"?qn:Cn,[x,_]=S.useState(null),[b,w]=S.useState(null),[k,E]=S.useState(null),[P,C]=S.useState(null),[O,R]=S.useState(!1),[M,U]=S.useState(""),[F,H]=S.useState(""),[B,$]=S.useState(""),[G,W]=S.useState(!1),[V,K]=S.useState({}),[q,D]=S.useState(0),[Q,ne]=S.useState({}),[J,ee]=S.useState(""),{reasons:te}=V6(e?.salon_id);if(S.useEffect(()=>{const ce={};(te||[]).forEach(ue=>{ce[ue.id]={selected:!1,amount:ue.default_amount??0}}),K(ce)},[te]),S.useEffect(()=>{const ce={};if(f.forEach(ue=>{ce[ue.id]=!1}),e?.service_id)ce[e.service_id]=!0;else if(e?.service&&f.length>0){const ue=f.find(je=>je.name===e.service?.name);ue&&(ce[ue.id]=!0)}ne(ce)},[f,e?.service_id,e?.service?.name]),S.useEffect(()=>{_(null),w(null),E(null),C(null)},[e?.id]),S.useEffect(()=>{async function ce(){if(e?.customer_profile_id){const{data:ue,error:je}=await ye.from("customer_profiles").select("birthdate, customer_number, notes, image_urls").eq("id",e.customer_profile_id).maybeSingle();!je&&ue?(ue.birthdate?_(new Date(ue.birthdate)):_(null),w(ue.customer_number??null),E(ue.notes??null),C(ue.image_urls??null)):(_(null),w(null),E(null),C(null))}else _(null),w(null),E(null),C(null)}ce()},[e?.customer_profile_id]),!e)return null;const re=ce=>{switch(ce){case"confirmed":return o.jsx(Or,{className:"bg-sage text-sage-foreground",children:p("appointments.confirmed")});case"pending":return o.jsx(Or,{className:"bg-gold text-gold-foreground",children:p("appointments.pending")});case"cancelled":return o.jsx(Or,{className:"bg-rose text-rose-foreground",children:p("appointments.cancelled")});case"completed":return o.jsx(Or,{variant:"secondary",children:p("appointments.completed")});default:return o.jsx(Or,{variant:"outline",children:ce||"Unknown"})}},ie=e.price??e.service?.price??0,se=e.buffer_before??0,oe=e.buffer_after??0,be=new Date,fe=!!x&&x.getDate()===be.getDate()&&x.getMonth()===be.getMonth(),xe=!!x&&x.getMonth()===be.getMonth()&&x.getDate()!==be.getDate();return o.jsx(fr,{open:t,onOpenChange:ce=>{ce||n()},children:o.jsxs(Gn,{className:"max-w-md overflow-y-auto max-h-[90vh]",children:[o.jsx(Yn,{children:o.jsxs(Zn,{className:"flex items-center justify-between",children:[o.jsx("span",{children:p("appointments.details")}),re(e.status)]})}),o.jsxs("div",{className:"space-y-4 mt-2",children:[o.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50",children:[o.jsx(wn,{className:"w-5 h-5 text-primary"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-foreground",children:Le(xi(e.start_time),"EEEE, d. MMMM yyyy",{locale:v})}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[Le(xi(e.start_time),"HH:mm")," - ",Le(xi(e.end_time),"HH:mm")]})]})]}),e.service&&o.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50",children:[o.jsx(Qt,{className:"w-5 h-5 text-primary"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"font-medium text-foreground",children:e.service.name}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[e.service.duration_minutes," ",p("time.minutes")]})]}),o.jsxs("span",{className:"font-semibold text-foreground",children:["",ie.toFixed(2)]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{className:"p-3 rounded-lg bg-muted/50",children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:p("appointments.bufferBefore")||p("services.bufferBefore")}),o.jsxs("p",{className:"font-medium text-foreground",children:[se," ",p("time.minutes")]})]}),o.jsxs("div",{className:"p-3 rounded-lg bg-muted/50",children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:p("appointments.bufferAfter")||p("services.bufferAfter")}),o.jsxs("p",{className:"font-medium text-foreground",children:[oe," ",p("time.minutes")]})]})]}),e.appointment_number&&o.jsxs("div",{className:"p-3 rounded-lg bg-muted/50",children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:p("appointments.appointmentNumber","Terminnummer")}),o.jsx("p",{className:"font-medium text-foreground",children:e.appointment_number})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Kr,{className:"w-4 h-4 text-muted-foreground"}),o.jsx("span",{className:"font-medium",children:e.guest_name||p("dashboard.anonymousCustomer")}),fe&&o.jsx(Or,{className:"ml-2 bg-sage text-sage-foreground",children:p("customersPage.todayBirthdays")}),!fe&&xe&&o.jsx(Or,{className:"ml-2 bg-gold text-gold-foreground",children:p("customersPage.monthBirthdays")})]}),e.guest_email&&o.jsx("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:o.jsx("span",{className:"font-medium",children:e.guest_email})}),e.guest_phone&&o.jsx("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:o.jsx("span",{className:"font-medium",children:e.guest_phone})}),b&&o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsxs("span",{className:"font-medium",children:[p("customersPage.customerNumber","Kundennummer"),":"]}),o.jsx("span",{className:"font-medium break-all",children:b})]}),x&&o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsxs("span",{className:"font-medium",children:[p("customersPage.birthdate","Geburtstag"),":"]}),o.jsx("span",{className:"font-medium",children:Le(x,"dd.MM.yyyy")})]})]}),e.image_url&&o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(zv,{className:"w-4 h-4 text-muted-foreground"}),o.jsx("span",{className:"text-sm font-medium",children:p("appointments.image")})]}),o.jsx("img",{src:e.image_url,alt:p("appointments.image"),className:"w-full rounded-lg max-h-60 object-cover"})]}),e.notes&&o.jsxs("div",{className:"p-3 rounded-lg bg-muted/50",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(ud,{className:"w-4 h-4 text-muted-foreground"}),o.jsx("span",{className:"text-sm font-medium",children:p("appointments.customerNotes")})]}),o.jsx("p",{className:"text-sm text-muted-foreground whitespace-pre-line",children:e.notes})]}),e.notes&&o.jsxs("div",{className:"p-3 rounded-lg bg-muted/50",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(ud,{className:"w-4 h-4 text-muted-foreground"}),o.jsx("span",{className:"text-sm font-medium",children:p("appointments.customerNotes")})]}),o.jsx("p",{className:"text-sm text-muted-foreground whitespace-pre-line",children:e.notes})]}),P&&P.length>0&&o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(zv,{className:"w-4 h-4 text-muted-foreground"}),o.jsx("span",{className:"text-sm font-medium",children:p("appointments.profileImages","Kundenbilder")})]}),o.jsx("div",{className:"grid grid-cols-2 gap-2",children:P.map((ce,ue)=>o.jsx("img",{src:ce,alt:p("appointments.profileImages","Kundenbilder"),className:"w-full rounded-lg max-h-40 object-cover"},ue))})]}),k&&o.jsxs("div",{className:"p-3 rounded-lg bg-muted/50",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(ud,{className:"w-4 h-4 text-muted-foreground"}),o.jsx("span",{className:"text-sm font-medium",children:p("appointments.profileNotes","Kundenkartei-Notizen")})]}),o.jsx("p",{className:"text-sm text-muted-foreground whitespace-pre-line",children:k})]}),o.jsxs("div",{className:"p-3 rounded-lg bg-muted/50",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(ud,{className:"w-4 h-4 text-muted-foreground"}),o.jsx("span",{className:"text-sm font-medium",children:p("appointments.stylistNotes")})]}),o.jsx("p",{className:"text-sm text-muted-foreground italic",children:p("appointments.noStylistNotes")})]}),r&&o.jsx("div",{className:"mt-4",children:O?o.jsxs("div",{className:"space-y-3 p-3 rounded-lg bg-muted/50",children:[o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsx("label",{className:"text-sm font-medium",htmlFor:"editDate",children:p("appointments.newDate","Neues Datum")}),o.jsx("input",{id:"editDate",type:"date",className:"border border-input rounded px-2 py-1",value:M,onChange:ce=>U(ce.target.value)}),o.jsx("label",{className:"text-sm font-medium",htmlFor:"editTime",children:p("appointments.newTime","Neue Zeit")}),o.jsx("input",{id:"editTime",type:"time",className:"border border-input rounded px-2 py-1",value:F,onChange:ce=>H(ce.target.value)}),i&&a.length>0&&o.jsxs(o.Fragment,{children:[o.jsx("label",{className:"text-sm font-medium",htmlFor:"editEmployee",children:p("appointments.newStylist","Neuer Stylist")}),o.jsx("select",{id:"editEmployee",className:"border border-input rounded px-2 py-1",value:B,onChange:ce=>$(ce.target.value),children:a.map(ce=>o.jsx("option",{value:ce.id,children:ce.display_name},ce.id))})]})]}),o.jsxs("div",{className:"flex gap-2 pt-2",children:[o.jsx(Se,{onClick:async()=>{if(!s||!e)return;const ce=new Date(`${M}T${F}`),ue=e.service?.duration_minutes??30,je=new Date(ce.getTime()+ue*6e4),Re={start_time:ce.toISOString(),end_time:je.toISOString()};i&&(Re.employee_id=B||null);try{await s(e.id,Re),R(!1),n()}catch(Xe){console.error("Failed to update appointment",Xe)}},children:p("common.save","Speichern")}),o.jsx(Se,{variant:"secondary",onClick:()=>R(!1),children:p("common.cancel","Abbrechen")})]})]}):o.jsx(Se,{onClick:()=>{e&&(U(e.start_time.split("T")[0]),H(Le(xi(e.start_time),"HH:mm")),$(e.employee_id||""),R(!0))},children:p("appointments.reschedule","Termin verschieben")})}),l&&!O&&o.jsx("div",{className:"mt-4",children:G?o.jsxs("div",{className:"space-y-3 p-3 rounded-lg bg-muted/50",children:[f&&f.length>0&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("p",{className:"text-sm font-medium",children:p("appointments.selectServices","Dienstleistungen")}),f.map(ce=>o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{id:`svc-${ce.id}`,type:"checkbox",className:"h-4 w-4 border border-input rounded",checked:Q[ce.id]||!1,onChange:ue=>{const je=ue.target.checked;ne(Re=>({...Re,[ce.id]:je}))}}),o.jsx("label",{htmlFor:`svc-${ce.id}`,className:"flex-1 text-sm",children:ce.name}),o.jsxs("span",{className:"text-sm text-muted-foreground",children:["",ce.price.toFixed(2)]})]},ce.id))]}),te&&te.length>0?te.map(ce=>o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{id:`extra-${ce.id}`,type:"checkbox",className:"h-4 w-4 border border-input rounded",checked:V[ce.id]?.selected||!1,onChange:ue=>{const je=ue.target.checked;K(Re=>({...Re,[ce.id]:{selected:je,amount:Re[ce.id]?.amount??ce.default_amount??0}}))}}),o.jsx("label",{htmlFor:`extra-${ce.id}`,className:"flex-1 text-sm",children:ce.name}),o.jsx("input",{type:"number",step:"0.01",className:"w-24 border border-input rounded px-2 py-1 text-sm",value:V[ce.id]?.amount??ce.default_amount??0,disabled:!V[ce.id]?.selected,onChange:ue=>{const je=parseFloat(ue.target.value);K(Re=>({...Re,[ce.id]:{selected:Re[ce.id]?.selected??!0,amount:isNaN(je)?0:je}}))}})]},ce.id)):o.jsx("p",{className:"text-sm text-muted-foreground",children:p("appointments.noExtraReasons","Keine Zusatzgrnde definiert")}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("label",{className:"text-sm font-medium",htmlFor:"manualAdjustment",children:p("appointments.manualAdjustment","Manueller Aufschlag")}),o.jsx("input",{id:"manualAdjustment",type:"number",step:"0.01",className:"w-24 border border-input rounded px-2 py-1 text-sm",value:q,onChange:ce=>{const ue=parseFloat(ce.target.value);D(isNaN(ue)?0:ue)}})]}),o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx("label",{className:"text-sm font-medium",htmlFor:"completionNote",children:p("appointments.internalNote","Interne Notiz")}),o.jsx("textarea",{id:"completionNote",className:"w-full border border-input rounded px-2 py-1 text-sm",rows:3,value:J,onChange:ce=>ee(ce.target.value)})]}),o.jsxs("div",{className:"font-medium",children:[p("appointments.finalPrice","Gesamtpreis"),": ",(()=>{let ce=0;f&&f.length>0&&f.forEach(Re=>{Q[Re.id]&&(ce+=Re.price||0)}),ce===0&&(ce=e?.price||e?.service?.price||0);let ue=0;return Object.entries(V).forEach(([Re,Xe])=>{Xe.selected&&(ue+=Xe.amount)}),(ce+ue+(q||0)).toFixed(2)})()]}),o.jsxs("div",{className:"flex gap-2 pt-2",children:[o.jsx(Se,{onClick:async()=>{if(!e||!c)return;const ce=[];Object.entries(V).forEach(([Me,tt])=>{tt.selected&&ce.push({id:Me,amount:tt.amount})});const ue=[];f&&f.length>0&&f.forEach(Me=>{Q[Me.id]&&ue.push(Me.id)});let je=0;ue.length>0?f.forEach(Me=>{Q[Me.id]&&(je+=Me.price||0)}):je=e.price||e.service?.price||0;let Re=0;ce.forEach(Me=>{Re+=Me.amount});const Xe=je+Re+(q||0);try{await c(e.id,ue,Xe,ce,J),W(!1),D(0),ee(""),n()}catch(Me){console.error("Failed to complete appointment",Me)}},children:p("appointments.completeConfirm","Abschlieen")}),o.jsx(Se,{variant:"secondary",onClick:()=>{W(!1),D(0),ee("")},children:p("common.cancel","Abbrechen")})]})]}):o.jsx(Se,{onClick:()=>W(!0),children:p("appointments.complete","Termin abschlieen")})})]})]})})}function K6({appointments:e,title:t,showToggle:n=!0,showingWeek:r=!1,onToggleWeek:i,canReschedule:a=!1,canReassign:s=!1,employees:l=[],onUpdate:c,canComplete:f=!1,onComplete:p,services:m}){const{t:v,i18n:x}=Pt(),_=x.language==="de"?qn:Cn,[b,w]=S.useState(null),k=P=>{switch(P){case"confirmed":return"bg-sage-light text-sage";case"pending":return"bg-gold-light text-gold";case"cancelled":return"bg-rose-light text-rose";case"completed":return"bg-muted text-muted-foreground";default:return"bg-muted text-muted-foreground"}},E=P=>{switch(P){case"confirmed":return v("appointments.confirmed");case"pending":return v("appointments.pending");case"cancelled":return v("appointments.cancelled");case"completed":return v("appointments.completed");default:return P}};return o.jsxs(Je,{className:"border-border",children:[o.jsx(nn,{className:"pb-3",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(rn,{className:"flex items-center gap-2 text-lg font-display",children:[o.jsx(wn,{className:"w-5 h-5 text-primary"}),t||v(r?"dashboard.weekAppointments":"dashboard.nextAppointments")]}),n&&i&&o.jsxs(Se,{variant:"ghost",size:"sm",onClick:i,children:[v(r?"common.showNext":"common.viewWeek"),o.jsx(Ka,{className:"w-4 h-4 ml-1"})]})]})}),o.jsx(et,{children:e.length===0?o.jsx("div",{className:"text-center py-8 text-muted-foreground",children:v(r?"dashboard.noWeekAppointments":"dashboard.noNextAppointments")}):o.jsx("div",{className:"space-y-3 max-h-[500px] overflow-y-auto",children:e.map(P=>o.jsxs("div",{className:"flex items-center gap-4 p-4 bg-muted/50 rounded-xl hover:bg-muted transition-colors cursor-pointer",onClick:()=>w(P),children:[o.jsxs("div",{className:"text-center min-w-[80px]",children:[o.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:Le(new Date(P.start_time),"dd.MM.yy",{locale:_})}),o.jsx("p",{className:"text-lg font-semibold text-foreground",children:Le(new Date(P.start_time),"HH:mm",{locale:_})}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[P.service?.duration_minutes||30," ",v("time.minutes")]})]}),o.jsx("div",{className:`w-1 h-12 rounded-full ${P.status==="confirmed"?"bg-sage":P.status==="pending"?"bg-gold":"bg-muted-foreground"}`}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"font-medium text-foreground",children:P.guest_name||v("dashboard.anonymousCustomer")}),o.jsx("p",{className:"text-sm text-muted-foreground",children:P.service?.name||v("dashboard.noService")})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("p",{className:"text-sm font-medium text-foreground",children:["",P.price!==void 0&&P.price!==null?P.price.toFixed(2):P.service?.price?.toFixed(2)||"0.00"]}),o.jsx("span",{className:`inline-block px-2 py-0.5 text-xs rounded-full ${k(P.status||"pending")}`,children:E(P.status||"pending")})]})]},P.id))})}),o.jsx(ME,{appointment:b,open:!!b,onClose:()=>w(null),canReschedule:a,canReassign:s,employees:l,onUpdate:c,canComplete:f,onComplete:p,services:m})]})}function nP({leaveRequests:e,showActions:t=!1,onApprove:n,onReject:r}){const{t:i,i18n:a}=Pt(),s=a.language==="de"?qn:Cn,l=p=>{switch(p){case"approved":return"bg-sage-light text-sage";case"pending":return"bg-gold-light text-gold";case"rejected":return"bg-rose-light text-rose";default:return"bg-muted text-muted-foreground"}},c=p=>{switch(p){case"approved":return i("dashboard.leaveStatus.approved");case"pending":return i("dashboard.leaveStatus.pending");case"rejected":return i("dashboard.leaveStatus.rejected");default:return p}},f=p=>{switch(p){case"vacation":return i("dashboard.leaveTypes.vacation");case"sick":return i("dashboard.leaveTypes.sick");case"personal":return i("dashboard.leaveTypes.personal");case"other":return i("dashboard.leaveTypes.other");default:return p}};return o.jsxs(Je,{className:"border-border",children:[o.jsx(nn,{className:"pb-3",children:o.jsxs(rn,{className:"flex items-center gap-2 text-lg font-display",children:[o.jsx(wn,{className:"w-5 h-5 text-primary"}),i("dashboard.leaveRequests")]})}),o.jsx(et,{children:e.length===0?o.jsx("div",{className:"text-center py-8 text-muted-foreground",children:i("dashboard.noLeaveRequests")}):o.jsx("div",{className:"space-y-3",children:e.map(p=>o.jsxs("div",{className:"p-4 bg-muted/50 rounded-xl",children:[o.jsxs("div",{className:"flex items-start justify-between mb-2",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-foreground",children:f(p.leave_type)}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[Le(new Date(p.start_date),"dd.MM.yyyy",{locale:s})," - ",Le(new Date(p.end_date),"dd.MM.yyyy",{locale:s})]})]}),o.jsx("span",{className:`px-2 py-0.5 text-xs rounded-full ${l(p.status||"pending")}`,children:c(p.status||"pending")})]}),p.reason&&o.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:p.reason}),t&&p.status==="pending"&&o.jsxs("div",{className:"flex gap-2 mt-3",children:[o.jsxs(Se,{size:"sm",variant:"outline",className:"flex-1 text-sage border-sage hover:bg-sage/10",onClick:()=>n?.(p.id),children:[o.jsx(ya,{className:"w-4 h-4 mr-1"}),i("common.approve")]}),o.jsxs(Se,{size:"sm",variant:"outline",className:"flex-1 text-rose border-rose hover:bg-rose/10",onClick:()=>r?.(p.id),children:[o.jsx(pf,{className:"w-4 h-4 mr-1"}),i("common.reject")]})]})]},p.id))})})]})}function G6(e){const{user:t}=mr(),{toast:n}=jl(),[r,i]=S.useState([]),[a,s]=S.useState([]),[l,c]=S.useState(!0),[f,p]=S.useState(!1),[m,v]=S.useState({cart:[],subtotal:0,taxRate:19,taxAmount:0,discountType:null,discountValue:0,discountAmount:0,tipAmount:0,totalAmount:0,customerName:"",customerEmail:"",customerPhone:"",appointmentId:null}),x=S.useCallback((H,B,$,G,W)=>{const V=H.reduce((ne,J)=>ne+J.total_price,0);let K=0;$==="percentage"&&G>0?K=V*(G/100):$==="fixed"&&G>0&&(K=Math.min(G,V));const q=V-K,D=q*(B/100),Q=q+D+W;return{subtotal:V,discountAmount:K,taxAmount:D,totalAmount:Q}},[]),_=S.useCallback(H=>{v(B=>{const $={...H,id:crypto.randomUUID(),total_price:H.unit_price*H.quantity},G=[...B.cart,$],W=x(G,B.taxRate,B.discountType,B.discountValue,B.tipAmount);return{...B,cart:G,...W}})},[x]),b=S.useCallback(H=>{v(B=>{const $=B.cart.filter(W=>W.id!==H),G=x($,B.taxRate,B.discountType,B.discountValue,B.tipAmount);return{...B,cart:$,...G}})},[x]),w=S.useCallback((H,B)=>{B<1||v($=>{const G=$.cart.map(V=>V.id===H?{...V,quantity:B,total_price:V.unit_price*B}:V),W=x(G,$.taxRate,$.discountType,$.discountValue,$.tipAmount);return{...$,cart:G,...W}})},[x]),k=S.useCallback((H,B)=>{v($=>{const G=x($.cart,$.taxRate,H,B,$.tipAmount);return{...$,discountType:H,discountValue:B,...G}})},[x]),E=S.useCallback(H=>{v(B=>{const $=x(B.cart,B.taxRate,B.discountType,B.discountValue,H);return{...B,tipAmount:H,...$}})},[x]),P=S.useCallback((H,B,$)=>{v(G=>({...G,customerName:H,customerEmail:B,customerPhone:$}))},[]),C=S.useCallback(H=>{v(B=>({...B,appointmentId:H}))},[]),O=S.useCallback(()=>{v({cart:[],subtotal:0,taxRate:19,taxAmount:0,discountType:null,discountValue:0,discountAmount:0,tipAmount:0,totalAmount:0,customerName:"",customerEmail:"",customerPhone:"",appointmentId:null})},[]),R=S.useCallback(async H=>{if(!e||m.cart.length===0)return null;p(!0);try{const{data:B}=await ye.from("employees").select("id").eq("user_id",t?.id).single(),{data:$,error:G}=await ye.from("transactions").insert({salon_id:e,appointment_id:m.appointmentId,employee_id:B?.id||null,subtotal:m.subtotal,tax_amount:m.taxAmount,tax_rate:m.taxRate,discount_amount:m.discountAmount,discount_type:m.discountType,discount_value:m.discountValue,tip_amount:m.tipAmount,total_amount:m.totalAmount,payment_method:H,payment_status:H==="cash"?"completed":"pending",guest_name:m.customerName||null,guest_email:m.customerEmail||null,guest_phone:m.customerPhone||null,completed_at:H==="cash"?new Date().toISOString():null}).select().single();if(G)throw G;const W=m.cart.map(K=>({transaction_id:$.id,item_type:K.type,service_id:K.service_id||null,inventory_id:K.inventory_id||null,name:K.name,description:K.description||null,quantity:K.quantity,unit_price:K.unit_price,total_price:K.total_price})),{error:V}=await ye.from("transaction_items").insert(W);if(V)throw V;if(H==="stripe"||H==="paypal"){const{data:K,error:q}=await ye.functions.invoke("process-payment",{body:{transactionId:$.id,paymentMethod:H,amount:m.totalAmount,currency:"eur",customerEmail:m.customerEmail||null}});if(q)throw q;return{transaction:$,paymentData:K}}return await M($.id,"receipt"),O(),await F(),{transaction:$,paymentData:null}}catch(B){return n({title:"Fehler",description:B.message||"Zahlung fehlgeschlagen",variant:"destructive"}),null}finally{p(!1)}},[e,m,t,n,O]),M=S.useCallback(async(H,B)=>{if(!e)return null;try{const{data:$,error:G}=await ye.functions.invoke("create-invoice",{body:{transactionId:H,invoiceType:B,salonId:e}});if(G)throw G;return $}catch($){return n({title:"Fehler",description:$.message||"Rechnung konnte nicht erstellt werden",variant:"destructive"}),null}},[e,n]),U=S.useCallback(async(H,B,$)=>{try{const{data:G,error:W}=await ye.functions.invoke("process-refund",{body:{transactionId:H,amount:B,reason:$}});if(W)throw W;return await F(),G}catch(G){return n({title:"Fehler",description:G.message||"Rckerstattung fehlgeschlagen",variant:"destructive"}),null}},[n]),F=S.useCallback(async()=>{if(e){c(!0);try{const H=new Date;H.setHours(0,0,0,0);const{data:B,error:$}=await ye.from("transactions").select("*").eq("salon_id",e).order("created_at",{ascending:!1}).limit(100);if($)throw $;i(B||[]),s((B||[]).filter(G=>new Date(G.created_at)>=H))}catch(H){console.error("Error fetching transactions:",H)}finally{c(!1)}}},[e]);return S.useEffect(()=>{e&&F()},[e,F]),{transactions:r,todayTransactions:a,loading:l,processing:f,posState:m,addToCart:_,removeFromCart:b,updateQuantity:w,setDiscount:k,setTip:E,setCustomerInfo:P,setAppointmentId:C,clearCart:O,processPayment:R,createInvoice:M,processRefund:U,refetch:F}}var Hx="Tabs",[Tse]=Ar(Hx,[Tx]),Y6=Tx(),[Ase,DE]=Tse(Hx),Z6=S.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:a,orientation:s="horizontal",dir:l,activationMode:c="automatic",...f}=e,p=bf(l),[m,v]=Va({prop:r,onChange:i,defaultProp:a??"",caller:Hx});return o.jsx(Ase,{scope:n,baseId:Wa(),value:m,onValueChange:v,orientation:s,dir:p,activationMode:c,children:o.jsx(ze.div,{dir:p,"data-orientation":s,...f,ref:t})})});Z6.displayName=Hx;var X6="TabsList",Q6=S.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...i}=e,a=DE(X6,n),s=Y6(n);return o.jsx(xF,{asChild:!0,...s,orientation:a.orientation,dir:a.dir,loop:r,children:o.jsx(ze.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:t})})});Q6.displayName=X6;var J6="TabsTrigger",e8=S.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...a}=e,s=DE(J6,n),l=Y6(n),c=r8(s.baseId,r),f=i8(s.baseId,r),p=r===s.value;return o.jsx(bF,{asChild:!0,...l,focusable:!i,active:p,children:o.jsx(ze.button,{type:"button",role:"tab","aria-selected":p,"aria-controls":f,"data-state":p?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...a,ref:t,onMouseDown:Ae(e.onMouseDown,m=>{!i&&m.button===0&&m.ctrlKey===!1?s.onValueChange(r):m.preventDefault()}),onKeyDown:Ae(e.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&s.onValueChange(r)}),onFocus:Ae(e.onFocus,()=>{const m=s.activationMode!=="manual";!p&&!i&&m&&s.onValueChange(r)})})})});e8.displayName=J6;var t8="TabsContent",n8=S.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:i,children:a,...s}=e,l=DE(t8,n),c=r8(l.baseId,r),f=i8(l.baseId,r),p=r===l.value,m=S.useRef(p);return S.useEffect(()=>{const v=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(v)},[]),o.jsx(_r,{present:i||p,children:({present:v})=>o.jsx(ze.div,{"data-state":p?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!v,id:f,tabIndex:0,...s,ref:t,style:{...e.style,animationDuration:m.current?"0s":void 0},children:v&&a})})});n8.displayName=t8;function r8(e,t){return`${e}-trigger-${t}`}function i8(e,t){return`${e}-content-${t}`}var Rse=Z6,a8=Q6,s8=e8,o8=n8;const vm=Rse,_f=S.forwardRef(({className:e,...t},n)=>o.jsx(a8,{ref:n,className:qe("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));_f.displayName=a8.displayName;const Bn=S.forwardRef(({className:e,...t},n)=>o.jsx(s8,{ref:n,className:qe("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));Bn.displayName=s8.displayName;const Fn=S.forwardRef(({className:e,...t},n)=>o.jsx(o8,{ref:n,className:qe("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Fn.displayName=o8.displayName;function Mse(e,t){return S.useReducer((n,r)=>t[n][r]??n,e)}var IE="ScrollArea",[l8]=Ar(IE),[Dse,wa]=l8(IE),c8=S.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:a=600,...s}=e,[l,c]=S.useState(null),[f,p]=S.useState(null),[m,v]=S.useState(null),[x,_]=S.useState(null),[b,w]=S.useState(null),[k,E]=S.useState(0),[P,C]=S.useState(0),[O,R]=S.useState(!1),[M,U]=S.useState(!1),F=dt(t,B=>c(B)),H=bf(i);return o.jsx(Dse,{scope:n,type:r,dir:H,scrollHideDelay:a,scrollArea:l,viewport:f,onViewportChange:p,content:m,onContentChange:v,scrollbarX:x,onScrollbarXChange:_,scrollbarXEnabled:O,onScrollbarXEnabledChange:R,scrollbarY:b,onScrollbarYChange:w,scrollbarYEnabled:M,onScrollbarYEnabledChange:U,onCornerWidthChange:E,onCornerHeightChange:C,children:o.jsx(ze.div,{dir:H,...s,ref:F,style:{position:"relative","--radix-scroll-area-corner-width":k+"px","--radix-scroll-area-corner-height":P+"px",...e.style}})})});c8.displayName=IE;var u8="ScrollAreaViewport",d8=S.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:i,...a}=e,s=wa(u8,n),l=S.useRef(null),c=dt(t,l,s.onViewportChange);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),o.jsx(ze.div,{"data-radix-scroll-area-viewport":"",...a,ref:c,style:{overflowX:s.scrollbarXEnabled?"scroll":"hidden",overflowY:s.scrollbarYEnabled?"scroll":"hidden",...e.style},children:o.jsx("div",{ref:s.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});d8.displayName=u8;var Es="ScrollAreaScrollbar",LE=S.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=wa(Es,e.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:s}=i,l=e.orientation==="horizontal";return S.useEffect(()=>(l?a(!0):s(!0),()=>{l?a(!1):s(!1)}),[l,a,s]),i.type==="hover"?o.jsx(Ise,{...r,ref:t,forceMount:n}):i.type==="scroll"?o.jsx(Lse,{...r,ref:t,forceMount:n}):i.type==="auto"?o.jsx(f8,{...r,ref:t,forceMount:n}):i.type==="always"?o.jsx($E,{...r,ref:t}):null});LE.displayName=Es;var Ise=S.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=wa(Es,e.__scopeScrollArea),[a,s]=S.useState(!1);return S.useEffect(()=>{const l=i.scrollArea;let c=0;if(l){const f=()=>{window.clearTimeout(c),s(!0)},p=()=>{c=window.setTimeout(()=>s(!1),i.scrollHideDelay)};return l.addEventListener("pointerenter",f),l.addEventListener("pointerleave",p),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",f),l.removeEventListener("pointerleave",p)}}},[i.scrollArea,i.scrollHideDelay]),o.jsx(_r,{present:n||a,children:o.jsx(f8,{"data-state":a?"visible":"hidden",...r,ref:t})})}),Lse=S.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=wa(Es,e.__scopeScrollArea),a=e.orientation==="horizontal",s=Kx(()=>c("SCROLL_END"),100),[l,c]=Mse("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return S.useEffect(()=>{if(l==="idle"){const f=window.setTimeout(()=>c("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(f)}},[l,i.scrollHideDelay,c]),S.useEffect(()=>{const f=i.viewport,p=a?"scrollLeft":"scrollTop";if(f){let m=f[p];const v=()=>{const x=f[p];m!==x&&(c("SCROLL"),s()),m=x};return f.addEventListener("scroll",v),()=>f.removeEventListener("scroll",v)}},[i.viewport,a,c,s]),o.jsx(_r,{present:n||l!=="hidden",children:o.jsx($E,{"data-state":l==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:Ae(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Ae(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),f8=S.forwardRef((e,t)=>{const n=wa(Es,e.__scopeScrollArea),{forceMount:r,...i}=e,[a,s]=S.useState(!1),l=e.orientation==="horizontal",c=Kx(()=>{if(n.viewport){const f=n.viewport.offsetWidth<n.viewport.scrollWidth,p=n.viewport.offsetHeight<n.viewport.scrollHeight;s(l?f:p)}},10);return Md(n.viewport,c),Md(n.content,c),o.jsx(_r,{present:r||a,children:o.jsx($E,{"data-state":a?"visible":"hidden",...i,ref:t})})}),$E=S.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,i=wa(Es,e.__scopeScrollArea),a=S.useRef(null),s=S.useRef(0),[l,c]=S.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),f=v8(l.viewport,l.content),p={...r,sizes:l,onSizesChange:c,hasThumb:f>0&&f<1,onThumbChange:v=>a.current=v,onThumbPointerUp:()=>s.current=0,onThumbPointerDown:v=>s.current=v};function m(v,x){return Use(v,s.current,l,x)}return n==="horizontal"?o.jsx($se,{...p,ref:t,onThumbPositionChange:()=>{if(i.viewport&&a.current){const v=i.viewport.scrollLeft,x=rR(v,l,i.dir);a.current.style.transform=`translate3d(${x}px, 0, 0)`}},onWheelScroll:v=>{i.viewport&&(i.viewport.scrollLeft=v)},onDragScroll:v=>{i.viewport&&(i.viewport.scrollLeft=m(v,i.dir))}}):n==="vertical"?o.jsx(Bse,{...p,ref:t,onThumbPositionChange:()=>{if(i.viewport&&a.current){const v=i.viewport.scrollTop,x=rR(v,l);a.current.style.transform=`translate3d(0, ${x}px, 0)`}},onWheelScroll:v=>{i.viewport&&(i.viewport.scrollTop=v)},onDragScroll:v=>{i.viewport&&(i.viewport.scrollTop=m(v))}}):null}),$se=S.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...i}=e,a=wa(Es,e.__scopeScrollArea),[s,l]=S.useState(),c=S.useRef(null),f=dt(t,c,a.onScrollbarXChange);return S.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(p8,{"data-orientation":"horizontal",...i,ref:f,sizes:n,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Vx(n)+"px",...e.style},onThumbPointerDown:p=>e.onThumbPointerDown(p.x),onDragScroll:p=>e.onDragScroll(p.x),onWheelScroll:(p,m)=>{if(a.viewport){const v=a.viewport.scrollLeft+p.deltaX;e.onWheelScroll(v),x8(v,m)&&p.preventDefault()}},onResize:()=>{c.current&&a.viewport&&s&&r({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:ly(s.paddingLeft),paddingEnd:ly(s.paddingRight)}})}})}),Bse=S.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...i}=e,a=wa(Es,e.__scopeScrollArea),[s,l]=S.useState(),c=S.useRef(null),f=dt(t,c,a.onScrollbarYChange);return S.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(p8,{"data-orientation":"vertical",...i,ref:f,sizes:n,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Vx(n)+"px",...e.style},onThumbPointerDown:p=>e.onThumbPointerDown(p.y),onDragScroll:p=>e.onDragScroll(p.y),onWheelScroll:(p,m)=>{if(a.viewport){const v=a.viewport.scrollTop+p.deltaY;e.onWheelScroll(v),x8(v,m)&&p.preventDefault()}},onResize:()=>{c.current&&a.viewport&&s&&r({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:ly(s.paddingTop),paddingEnd:ly(s.paddingBottom)}})}})}),[Fse,h8]=l8(Es),p8=S.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:a,onThumbPointerUp:s,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:f,onWheelScroll:p,onResize:m,...v}=e,x=wa(Es,n),[_,b]=S.useState(null),w=dt(t,F=>b(F)),k=S.useRef(null),E=S.useRef(""),P=x.viewport,C=r.content-r.viewport,O=In(p),R=In(c),M=Kx(m,10);function U(F){if(k.current){const H=F.clientX-k.current.left,B=F.clientY-k.current.top;f({x:H,y:B})}}return S.useEffect(()=>{const F=H=>{const B=H.target;_?.contains(B)&&O(H,C)};return document.addEventListener("wheel",F,{passive:!1}),()=>document.removeEventListener("wheel",F,{passive:!1})},[P,_,C,O]),S.useEffect(R,[r,R]),Md(_,M),Md(x.content,M),o.jsx(Fse,{scope:n,scrollbar:_,hasThumb:i,onThumbChange:In(a),onThumbPointerUp:In(s),onThumbPositionChange:R,onThumbPointerDown:In(l),children:o.jsx(ze.div,{...v,ref:w,style:{position:"absolute",...v.style},onPointerDown:Ae(e.onPointerDown,F=>{F.button===0&&(F.target.setPointerCapture(F.pointerId),k.current=_.getBoundingClientRect(),E.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",x.viewport&&(x.viewport.style.scrollBehavior="auto"),U(F))}),onPointerMove:Ae(e.onPointerMove,U),onPointerUp:Ae(e.onPointerUp,F=>{const H=F.target;H.hasPointerCapture(F.pointerId)&&H.releasePointerCapture(F.pointerId),document.body.style.webkitUserSelect=E.current,x.viewport&&(x.viewport.style.scrollBehavior=""),k.current=null})})})}),oy="ScrollAreaThumb",m8=S.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=h8(oy,e.__scopeScrollArea);return o.jsx(_r,{present:n||i.hasThumb,children:o.jsx(zse,{ref:t,...r})})}),zse=S.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...i}=e,a=wa(oy,n),s=h8(oy,n),{onThumbPositionChange:l}=s,c=dt(t,m=>s.onThumbChange(m)),f=S.useRef(void 0),p=Kx(()=>{f.current&&(f.current(),f.current=void 0)},100);return S.useEffect(()=>{const m=a.viewport;if(m){const v=()=>{if(p(),!f.current){const x=Wse(m,l);f.current=x,l()}};return l(),m.addEventListener("scroll",v),()=>m.removeEventListener("scroll",v)}},[a.viewport,p,l]),o.jsx(ze.div,{"data-state":s.hasThumb?"visible":"hidden",...i,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Ae(e.onPointerDownCapture,m=>{const x=m.target.getBoundingClientRect(),_=m.clientX-x.left,b=m.clientY-x.top;s.onThumbPointerDown({x:_,y:b})}),onPointerUp:Ae(e.onPointerUp,s.onThumbPointerUp)})});m8.displayName=oy;var BE="ScrollAreaCorner",g8=S.forwardRef((e,t)=>{const n=wa(BE,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?o.jsx(qse,{...e,ref:t}):null});g8.displayName=BE;var qse=S.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,i=wa(BE,n),[a,s]=S.useState(0),[l,c]=S.useState(0),f=!!(a&&l);return Md(i.scrollbarX,()=>{const p=i.scrollbarX?.offsetHeight||0;i.onCornerHeightChange(p),c(p)}),Md(i.scrollbarY,()=>{const p=i.scrollbarY?.offsetWidth||0;i.onCornerWidthChange(p),s(p)}),f?o.jsx(ze.div,{...r,ref:t,style:{width:a,height:l,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function ly(e){return e?parseInt(e,10):0}function v8(e,t){const n=e/t;return isNaN(n)?0:n}function Vx(e){const t=v8(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function Use(e,t,n,r="ltr"){const i=Vx(n),a=i/2,s=t||a,l=i-s,c=n.scrollbar.paddingStart+s,f=n.scrollbar.size-n.scrollbar.paddingEnd-l,p=n.content-n.viewport,m=r==="ltr"?[0,p]:[p*-1,0];return y8([c,f],m)(e)}function rR(e,t,n="ltr"){const r=Vx(t),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=t.scrollbar.size-i,s=t.content-t.viewport,l=a-r,c=n==="ltr"?[0,s]:[s*-1,0],f=bp(e,c);return y8([0,s],[0,l])(f)}function y8(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function x8(e,t){return e>0&&e<t}var Wse=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return(function i(){const a={left:e.scrollLeft,top:e.scrollTop},s=n.left!==a.left,l=n.top!==a.top;(s||l)&&t(),n=a,r=window.requestAnimationFrame(i)})(),()=>window.cancelAnimationFrame(r)};function Kx(e,t){const n=In(e),r=S.useRef(0);return S.useEffect(()=>()=>window.clearTimeout(r.current),[]),S.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function Md(e,t){const n=In(t);zn(()=>{let r=0;if(e){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(e),()=>{window.cancelAnimationFrame(r),i.unobserve(e)}}},[e,n])}var b8=c8,Hse=d8,Vse=g8;const Xh=S.forwardRef(({className:e,children:t,...n},r)=>o.jsxs(b8,{ref:r,className:qe("relative overflow-hidden",e),...n,children:[o.jsx(Hse,{className:"h-full w-full rounded-[inherit]",children:t}),o.jsx(w8,{}),o.jsx(Vse,{})]}));Xh.displayName=b8.displayName;const w8=S.forwardRef(({className:e,orientation:t="vertical",...n},r)=>o.jsx(LE,{ref:r,orientation:t,className:qe("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:o.jsx(m8,{className:"relative flex-1 rounded-full bg-border"})}));w8.displayName=LE.displayName;var Kse="Separator",iR="horizontal",Gse=["horizontal","vertical"],_8=S.forwardRef((e,t)=>{const{decorative:n,orientation:r=iR,...i}=e,a=Yse(r)?r:iR,l=n?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return o.jsx(ze.div,{"data-orientation":a,...l,...i,ref:t})});_8.displayName=Kse;function Yse(e){return Gse.includes(e)}var S8=_8;const j8=S.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...r},i)=>o.jsx(S8,{ref:i,decorative:n,orientation:t,className:qe("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...r}));j8.displayName=S8.displayName;function Zse({salonId:e,services:t,products:n=[],onTransactionComplete:r}){const{t:i}=Pt(),{posState:a,processing:s,addToCart:l,removeFromCart:c,updateQuantity:f,setDiscount:p,setTip:m,setCustomerInfo:v,clearCart:x,processPayment:_}=G6(e),[b,w]=S.useState(!1),[k,E]=S.useState(null),[P,C]=S.useState(""),[O,R]=S.useState(""),[M,U]=S.useState("percentage"),[F,H]=S.useState(""),B=D=>{l({type:"service",service_id:D.id,name:D.name,description:D.description||void 0,quantity:1,unit_price:D.price})},$=D=>{D.price&&l({type:"product",inventory_id:D.id,name:D.name,description:D.description||void 0,quantity:1,unit_price:D.price})},G=()=>{const D=parseFloat(O);!isNaN(D)&&D>0&&p(M,D),R("")},W=()=>{const D=parseFloat(F);!isNaN(D)&&D>=0&&m(D),H("")},V=async()=>{if(!k)return;await _(k)&&(w(!1),E(null),C(""),r?.())},K=k==="cash"&&P?parseFloat(P)-a.totalAmount:0,q=t.reduce((D,Q)=>{const ne=Q.category||i("pos.uncategorized");return D[ne]||(D[ne]=[]),D[ne].push(Q),D},{});return o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 h-full",children:[o.jsx("div",{className:"lg:col-span-2",children:o.jsxs(Je,{className:"h-full border-border",children:[o.jsx(nn,{className:"pb-4",children:o.jsxs(rn,{className:"flex items-center gap-2",children:[o.jsx(ap,{className:"w-5 h-5"}),i("pos.selectItems")]})}),o.jsx(et,{children:o.jsxs(vm,{defaultValue:"services",children:[o.jsxs(_f,{className:"mb-4",children:[o.jsxs(Bn,{value:"services",className:"gap-2",children:[o.jsx(Qt,{className:"w-4 h-4"}),i("pos.services")]}),o.jsxs(Bn,{value:"products",className:"gap-2",children:[o.jsx(Z9,{className:"w-4 h-4"}),i("pos.products")]})]}),o.jsx(Fn,{value:"services",children:o.jsx(Xh,{className:"h-[400px] pr-4",children:Object.entries(q).map(([D,Q])=>o.jsxs("div",{className:"mb-6",children:[o.jsx("h4",{className:"text-sm font-semibold text-muted-foreground mb-3",children:D}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:Q.map(ne=>o.jsxs(Se,{variant:"outline",className:"h-auto py-3 px-4 flex flex-col items-start justify-start text-left hover:bg-primary/5 hover:border-primary",onClick:()=>B(ne),children:[o.jsx("span",{className:"font-medium text-foreground",children:ne.name}),o.jsxs("span",{className:"text-sm text-primary font-semibold",children:["",ne.price.toFixed(2)]}),o.jsxs("span",{className:"text-xs text-muted-foreground",children:[ne.duration_minutes," min"]})]},ne.id))})]},D))})}),o.jsx(Fn,{value:"products",children:o.jsx(Xh,{className:"h-[400px] pr-4",children:n.length===0?o.jsx("div",{className:"text-center py-8 text-muted-foreground",children:i("pos.noProducts")}):o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:n.filter(D=>D.price&&(D.quantity??0)>0).map(D=>o.jsxs(Se,{variant:"outline",className:"h-auto py-3 px-4 flex flex-col items-start justify-start text-left hover:bg-primary/5 hover:border-primary",onClick:()=>$(D),children:[o.jsx("span",{className:"font-medium text-foreground",children:D.name}),o.jsxs("span",{className:"text-sm text-primary font-semibold",children:["",D.price?.toFixed(2)]}),o.jsxs("span",{className:"text-xs text-muted-foreground",children:[i("pos.inStock"),": ",D.quantity]})]},D.id))})})})]})})]})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs(Je,{className:"border-border",children:[o.jsx(nn,{className:"pb-2",children:o.jsxs(rn,{className:"flex items-center justify-between",children:[o.jsxs("span",{className:"flex items-center gap-2",children:[o.jsx(o3,{className:"w-5 h-5"}),i("pos.cart")]}),a.cart.length>0&&o.jsx(Se,{variant:"ghost",size:"sm",onClick:x,children:o.jsx(uo,{className:"w-4 h-4 text-destructive"})})]})}),o.jsx(et,{children:a.cart.length===0?o.jsx("div",{className:"text-center py-8 text-muted-foreground",children:i("pos.emptyCart")}):o.jsx(Xh,{className:"h-[200px] pr-2",children:o.jsx("div",{className:"space-y-3",children:a.cart.map(D=>o.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-border last:border-0",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"font-medium text-sm",children:D.name}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:["",D.unit_price.toFixed(2),"  ",D.quantity]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Se,{variant:"outline",size:"icon",className:"h-6 w-6",onClick:()=>f(D.id,D.quantity-1),children:o.jsx(G9,{className:"w-3 h-3"})}),o.jsx("span",{className:"w-6 text-center text-sm",children:D.quantity}),o.jsx(Se,{variant:"outline",size:"icon",className:"h-6 w-6",onClick:()=>f(D.id,D.quantity+1),children:o.jsx(Od,{className:"w-3 h-3"})})]}),o.jsxs("span",{className:"w-16 text-right font-semibold text-sm",children:["",D.total_price.toFixed(2)]}),o.jsx(Se,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>c(D.id),children:o.jsx(uo,{className:"w-3 h-3 text-destructive"})})]})]},D.id))})})})]}),o.jsx(Je,{className:"border-border",children:o.jsxs(et,{className:"pt-4 space-y-3",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("div",{className:"flex-1 flex gap-2",children:[o.jsx(ke,{type:"number",placeholder:i("pos.discountValue"),value:O,onChange:D=>R(D.target.value),className:"flex-1"}),o.jsxs("select",{value:M,onChange:D=>U(D.target.value),className:"px-2 border border-border rounded-md bg-background text-sm",children:[o.jsx("option",{value:"percentage",children:"%"}),o.jsx("option",{value:"fixed",children:""})]})]}),o.jsx(Se,{variant:"outline",size:"sm",onClick:G,children:o.jsx(Q9,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ke,{type:"number",placeholder:i("pos.tipAmount"),value:F,onChange:D=>H(D.target.value),className:"flex-1"}),o.jsx(Se,{variant:"outline",size:"sm",onClick:W,children:o.jsx(nK,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"pt-2",children:[o.jsx(Pe,{className:"text-xs text-muted-foreground",children:i("pos.customerName")}),o.jsx(ke,{placeholder:i("pos.customerNamePlaceholder"),value:a.customerName,onChange:D=>v(D.target.value,a.customerEmail,a.customerPhone),className:"mt-1"})]})]})}),o.jsx(Je,{className:"border-primary bg-primary/5",children:o.jsxs(et,{className:"pt-4",children:[o.jsxs("div",{className:"space-y-2 text-sm",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:i("pos.subtotal")}),o.jsxs("span",{children:["",a.subtotal.toFixed(2)]})]}),a.discountAmount>0&&o.jsxs("div",{className:"flex justify-between text-green-600",children:[o.jsx("span",{children:i("pos.discount")}),o.jsxs("span",{children:["-",a.discountAmount.toFixed(2)]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsxs("span",{className:"text-muted-foreground",children:[i("pos.tax")," (",a.taxRate,"%)"]}),o.jsxs("span",{children:["",a.taxAmount.toFixed(2)]})]}),a.tipAmount>0&&o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:i("pos.tip")}),o.jsxs("span",{children:["",a.tipAmount.toFixed(2)]})]}),o.jsx(j8,{className:"my-2"}),o.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[o.jsx("span",{children:i("pos.total")}),o.jsxs("span",{className:"text-primary",children:["",a.totalAmount.toFixed(2)]})]})]}),o.jsxs(Se,{className:"w-full mt-4",size:"lg",disabled:a.cart.length===0||s,onClick:()=>w(!0),children:[o.jsx(Ed,{className:"w-5 h-5 mr-2"}),i("pos.proceedToPayment")]})]})})]}),o.jsx(fr,{open:b,onOpenChange:w,children:o.jsxs(Gn,{className:"max-w-md",children:[o.jsx(Yn,{children:o.jsx(Zn,{children:i("pos.selectPaymentMethod")})}),o.jsxs("div",{className:"space-y-4 pt-4",children:[o.jsxs("div",{className:"text-center",children:[o.jsxs("p",{className:"text-3xl font-bold text-primary",children:["",a.totalAmount.toFixed(2)]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:i("pos.totalToPay")})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[o.jsxs(Se,{variant:k==="cash"?"default":"outline",className:"h-24 flex flex-col gap-2",onClick:()=>E("cash"),children:[o.jsx(n3,{className:"w-8 h-8"}),o.jsx("span",{children:i("pos.cash")})]}),o.jsxs(Se,{variant:k==="stripe"?"default":"outline",className:"h-24 flex flex-col gap-2",onClick:()=>E("stripe"),children:[o.jsx(Ed,{className:"w-8 h-8"}),o.jsx("span",{children:i("pos.card")})]}),o.jsxs(Se,{variant:k==="paypal"?"default":"outline",className:"h-24 flex flex-col gap-2",onClick:()=>E("paypal"),children:[o.jsx("svg",{viewBox:"0 0 24 24",className:"w-8 h-8 fill-current",children:o.jsx("path",{d:"M7.076 21.337H2.47a.641.641 0 0 1-.633-.74L4.944.901C5.026.382 5.474 0 5.998 0h7.46c2.57 0 4.578.543 5.69 1.81 1.01 1.15 1.304 2.42 1.012 4.287-.023.143-.047.288-.077.437-.983 5.05-4.349 6.797-8.647 6.797h-2.19c-.524 0-.968.382-1.05.9l-1.12 7.106zm14.146-14.42a3.35 3.35 0 0 0-.607-.541c1.48 4.608-1.024 7.22-5.55 7.22h-2.19c-1.05 0-1.95.75-2.11 1.78l-1.12 7.11a.641.641 0 0 0 .633.74h4.07c.474 0 .88-.34.96-.8l.79-4.83c.06-.33.38-.58.72-.58h1.48c3.53 0 6.29-1.43 7.1-5.57.3-1.52.2-2.77-.6-3.53z"})}),o.jsx("span",{children:"PayPal"})]})]}),k==="cash"&&o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx(Pe,{children:i("pos.cashReceived")}),o.jsx(ke,{type:"number",step:"0.01",value:P,onChange:D=>C(D.target.value),placeholder:"0.00",className:"mt-1 text-lg text-center"})]}),K>0&&o.jsxs("div",{className:"bg-green-500/10 rounded-lg p-4 text-center",children:[o.jsx("p",{className:"text-sm text-green-600",children:i("pos.changeToGive")}),o.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["",K.toFixed(2)]})]})]}),o.jsx(Se,{className:"w-full",size:"lg",disabled:!k||s,onClick:V,children:s?o.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):o.jsxs(o.Fragment,{children:[o.jsx(ap,{className:"w-5 h-5 mr-2"}),i("pos.completePayment")]})})]})]})})]})}function Xse({transactions:e,loading:t,onRefetch:n,onCreateInvoice:r,onRefund:i}){const{t:a,i18n:s}=Pt(),l=s.language==="de"?qn:Cn,[c,f]=S.useState(""),[p,m]=S.useState(null),[v,x]=S.useState(!1),[_,b]=S.useState(""),[w,k]=S.useState(""),[E,P]=S.useState(!1),C=e.filter(F=>{const H=c.toLowerCase();return F.guest_name?.toLowerCase().includes(H)||F.guest_email?.toLowerCase().includes(H)||F.id.toLowerCase().includes(H)||F.payment_method.toLowerCase().includes(H)}),O=F=>{const H={pending:"bg-yellow-500/10 text-yellow-600",completed:"bg-green-500/10 text-green-600",failed:"bg-red-500/10 text-red-600",refunded:"bg-purple-500/10 text-purple-600",partially_refunded:"bg-orange-500/10 text-orange-600"};return o.jsx(Or,{className:H[F]||"bg-muted",children:a(`pos.status.${F}`)})},R=F=>{switch(F){case"cash":return o.jsx(n3,{className:"w-4 h-4"});case"stripe":case"card":case"apple_pay":case"google_pay":return o.jsx(Ed,{className:"w-4 h-4"});case"paypal":return o.jsx("svg",{viewBox:"0 0 24 24",className:"w-4 h-4 fill-current",children:o.jsx("path",{d:"M7.076 21.337H2.47a.641.641 0 0 1-.633-.74L4.944.901C5.026.382 5.474 0 5.998 0h7.46c2.57 0 4.578.543 5.69 1.81 1.01 1.15 1.304 2.42 1.012 4.287-.023.143-.047.288-.077.437-.983 5.05-4.349 6.797-8.647 6.797h-2.19c-.524 0-.968.382-1.05.9l-1.12 7.106z"})});default:return o.jsx(ap,{className:"w-4 h-4"})}},M=async F=>{p&&(P(!0),await r(p.id,F),P(!1))},U=async()=>{if(!p||!i)return;const F=parseFloat(_);isNaN(F)||F<=0||F>p.total_amount||(P(!0),await i(p.id,F,w||void 0),P(!1),x(!1),b(""),k(""))};return o.jsxs(o.Fragment,{children:[o.jsxs(Je,{className:"border-border h-full",children:[o.jsxs(nn,{className:"pb-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(rn,{className:"flex items-center gap-2",children:[o.jsx(a3,{className:"w-5 h-5"}),a("pos.transactionHistory")]}),o.jsx(Se,{variant:"outline",size:"sm",onClick:n,disabled:t,children:o.jsx(J9,{className:`w-4 h-4 ${t?"animate-spin":""}`})})]}),o.jsxs("div",{className:"relative mt-4",children:[o.jsx($k,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),o.jsx(ke,{placeholder:a("pos.searchTransactions"),value:c,onChange:F=>f(F.target.value),className:"pl-10"})]})]}),o.jsx(et,{children:t?o.jsx("div",{className:"flex justify-center py-8",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):C.length===0?o.jsx("div",{className:"text-center py-8 text-muted-foreground",children:a("pos.noTransactions")}):o.jsx(Xh,{className:"h-[500px] pr-4",children:o.jsx("div",{className:"space-y-3",children:C.map(F=>o.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border border-border hover:border-primary/50 cursor-pointer transition-colors",onClick:()=>m(F),children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",children:R(F.payment_method)}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:F.guest_name||a("pos.anonymous")}),o.jsx("p",{className:"text-sm text-muted-foreground",children:Le(new Date(F.created_at),"dd.MM.yyyy HH:mm",{locale:l})})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("p",{className:"font-semibold text-primary",children:["",F.total_amount.toFixed(2)]}),O(F.payment_status)]})]},F.id))})})})]}),o.jsx(fr,{open:!!p,onOpenChange:F=>!F&&m(null),children:o.jsxs(Gn,{className:"max-w-lg",children:[o.jsx(Yn,{children:o.jsx(Zn,{children:a("pos.transactionDetails")})}),p&&o.jsxs("div",{className:"space-y-4 pt-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-muted-foreground",children:a("pos.transactionId")}),o.jsxs("p",{className:"font-mono text-xs",children:[p.id.slice(0,8),"..."]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-muted-foreground",children:a("pos.date")}),o.jsx("p",{children:Le(new Date(p.created_at),"dd.MM.yyyy HH:mm",{locale:l})})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-muted-foreground",children:a("pos.paymentMethod")}),o.jsx("p",{className:"capitalize",children:p.payment_method})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-muted-foreground",children:a("pos.status")}),O(p.payment_status)]}),p.guest_name&&o.jsxs("div",{className:"col-span-2",children:[o.jsx("p",{className:"text-muted-foreground",children:a("pos.customer")}),o.jsx("p",{children:p.guest_name}),p.guest_email&&o.jsx("p",{className:"text-xs text-muted-foreground",children:p.guest_email})]})]}),o.jsxs("div",{className:"border-t border-border pt-4 space-y-2",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:a("pos.subtotal")}),o.jsxs("span",{children:["",p.subtotal.toFixed(2)]})]}),p.discount_amount>0&&o.jsxs("div",{className:"flex justify-between text-green-600",children:[o.jsx("span",{children:a("pos.discount")}),o.jsxs("span",{children:["-",p.discount_amount.toFixed(2)]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsxs("span",{className:"text-muted-foreground",children:[a("pos.tax")," (",p.tax_rate,"%)"]}),o.jsxs("span",{children:["",p.tax_amount.toFixed(2)]})]}),p.tip_amount>0&&o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:a("pos.tip")}),o.jsxs("span",{children:["",p.tip_amount.toFixed(2)]})]}),o.jsxs("div",{className:"flex justify-between font-bold text-lg border-t border-border pt-2",children:[o.jsx("span",{children:a("pos.total")}),o.jsxs("span",{className:"text-primary",children:["",p.total_amount.toFixed(2)]})]})]}),o.jsxs("div",{className:"flex gap-2 pt-4",children:[o.jsxs(Se,{variant:"outline",className:"flex-1",onClick:()=>M("receipt"),disabled:E,children:[o.jsx(ap,{className:"w-4 h-4 mr-2"}),a("pos.createReceipt")]}),o.jsxs(Se,{variant:"outline",className:"flex-1",onClick:()=>M("invoice"),disabled:E,children:[o.jsx(F9,{className:"w-4 h-4 mr-2"}),a("pos.createInvoice")]})]}),p.payment_status==="completed"&&i&&o.jsxs(Se,{variant:"destructive",className:"w-full",onClick:()=>x(!0),children:[o.jsx(oA,{className:"w-4 h-4 mr-2"}),a("pos.refund")]})]})]})}),o.jsx(fr,{open:v,onOpenChange:x,children:o.jsxs(Gn,{children:[o.jsx(Yn,{children:o.jsx(Zn,{children:a("pos.processRefund")})}),o.jsxs("div",{className:"space-y-4 pt-4",children:[o.jsxs("div",{children:[o.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:[a("pos.maxRefundAmount"),": ",p?.total_amount.toFixed(2)]}),o.jsx(ke,{type:"number",step:"0.01",placeholder:a("pos.refundAmount"),value:_,onChange:F=>b(F.target.value)})]}),o.jsx("div",{children:o.jsx(ke,{placeholder:a("pos.refundReason"),value:w,onChange:F=>k(F.target.value)})}),o.jsx(Se,{className:"w-full",variant:"destructive",onClick:U,disabled:E||!_,children:E?o.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):o.jsxs(o.Fragment,{children:[o.jsx(oA,{className:"w-4 h-4 mr-2"}),a("pos.confirmRefund")]})})]})]})})]})}function N8({salonId:e,services:t,products:n=[]}){const{t:r,i18n:i}=Pt();i.language;const[a,s]=S.useState("terminal"),{transactions:l,todayTransactions:c,loading:f,createInvoice:p,processRefund:m,refetch:v}=G6(e),x=c.filter(P=>P.payment_status==="completed").reduce((P,C)=>P+C.total_amount,0),_=c.filter(P=>P.payment_status==="completed").length,b=c.filter(P=>P.payment_method==="cash"&&P.payment_status==="completed"),w=c.filter(P=>["stripe","card","paypal","apple_pay","google_pay"].includes(P.payment_method)&&P.payment_status==="completed"),k=b.reduce((P,C)=>P+C.total_amount,0),E=w.reduce((P,C)=>P+C.total_amount,0);return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[o.jsx(Je,{className:"border-border",children:o.jsx(et,{className:"pt-6",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"w-12 h-12 rounded-xl bg-primary/10 flex items-center justify-center",children:o.jsx(i3,{className:"w-6 h-6 text-primary"})}),o.jsxs("div",{children:[o.jsxs("p",{className:"text-2xl font-display font-bold text-foreground",children:["",x.toFixed(2)]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:r("pos.todayRevenue")})]})]})})}),o.jsx(Je,{className:"border-border",children:o.jsx(et,{className:"pt-6",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"w-12 h-12 rounded-xl bg-sage/10 flex items-center justify-center",children:o.jsx(ap,{className:"w-6 h-6 text-sage"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-2xl font-display font-bold text-foreground",children:_}),o.jsx("p",{className:"text-sm text-muted-foreground",children:r("pos.todayTransactions")})]})]})})}),o.jsx(Je,{className:"border-border",children:o.jsx(et,{className:"pt-6",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"w-12 h-12 rounded-xl bg-gold/10 flex items-center justify-center",children:o.jsx(l3,{className:"w-6 h-6 text-gold"})}),o.jsxs("div",{children:[o.jsxs("p",{className:"text-2xl font-display font-bold text-foreground",children:["",k.toFixed(2)]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:r("pos.cashTotal")})]})]})})}),o.jsx(Je,{className:"border-border",children:o.jsx(et,{className:"pt-6",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"w-12 h-12 rounded-xl bg-rose/10 flex items-center justify-center",children:o.jsx(Ed,{className:"w-6 h-6 text-rose"})}),o.jsxs("div",{children:[o.jsxs("p",{className:"text-2xl font-display font-bold text-foreground",children:["",E.toFixed(2)]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:r("pos.cardTotal")})]})]})})})]}),o.jsxs(vm,{value:a,onValueChange:s,children:[o.jsxs(_f,{children:[o.jsxs(Bn,{value:"terminal",className:"gap-2",children:[o.jsx(o3,{className:"w-4 h-4"}),r("pos.terminal")]}),o.jsxs(Bn,{value:"history",className:"gap-2",children:[o.jsx(a3,{className:"w-4 h-4"}),r("pos.history")]})]}),o.jsx(Fn,{value:"terminal",className:"mt-6",children:o.jsx(Zse,{salonId:e,services:t,products:n,onTransactionComplete:v})}),o.jsx(Fn,{value:"history",className:"mt-6",children:o.jsx(Xse,{transactions:l,loading:f,onRefetch:v,onCreateInvoice:p,onRefund:m})})]})]})}function Qse(e){const[t,n]=S.useState([]),[r,i]=S.useState(!0),[a,s]=S.useState(null);S.useEffect(()=>{async function m(){if(!e){n([]),i(!1);return}i(!0);const{data:v,error:x}=await ye.from("customer_profiles").select("*").eq("salon_id",e).order("last_name",{ascending:!0});x?s(x.message):(n(v||[]),s(null)),i(!1)}m()},[e]);async function l(m){if(!e)throw new Error("Salon ID is required to create a customer");let v="cu";try{const{data:P}=await ye.from("salons").select("name, owner_id").eq("id",e).single();if(P){const C=P.name||"";let O="";if(P.owner_id){const{data:U}=await ye.from("profiles").select("first_name").eq("user_id",P.owner_id).maybeSingle();O=U?.first_name||""}const R=C.trim()[0]||"",M=O.trim()[0]||"";R&&(v=R.toLowerCase()+(M?M.toLowerCase():""))}}catch(P){console.error("Error computing customer prefix:",P)}const x=new Date,_=x.toISOString().slice(0,10).replace(/-/g,"");let b=1;try{const P=new Date(x);P.setHours(0,0,0,0);const C=new Date(P);C.setDate(P.getDate()+1);const{count:O}=await ye.from("customer_profiles").select("*",{count:"exact",head:!0}).eq("salon_id",e).gte("created_at",P.toISOString()).lt("created_at",C.toISOString());b=(O??0)+1}catch(P){console.error("Error computing customer daily sequence:",P)}const w=`${v}${_}${String(b).padStart(5,"0")}`,{data:k,error:E}=await ye.from("customer_profiles").insert({...m,salon_id:e,customer_number:w}).select().single();if(E)throw E;return n(P=>[...P,k]),k}async function c(m,v){const{data:x,error:_}=await ye.from("customer_profiles").update(v).eq("id",m).select().single();if(_)throw _;return n(b=>b.map(w=>w.id===m?x:w)),x}async function f(m){const{error:v}=await ye.from("customer_profiles").delete().eq("id",m);if(v)throw v;n(x=>x.filter(_=>_.id!==m))}async function p(m){const v=new Date;v.setFullYear(v.getFullYear()-5);const{data:x,error:_}=await ye.from("appointments").select("id, start_time, end_time, status, notes, guest_name, guest_email, guest_phone, price, buffer_before, buffer_after, image_url, customer_profile_id, appointment_number, service:services(name, duration_minutes, price)").eq("customer_profile_id",m).gte("start_time",v.toISOString()).order("start_time",{ascending:!1});if(_)throw _;return x||[]}return{customers:t,loading:r,error:a,createCustomer:l,updateCustomer:c,deleteCustomer:f,getCustomerAppointments:p}}const P8=({salonId:e})=>{const{t,i18n:n}=Pt(),r=n.language==="de"?qn:Cn,{customers:i,loading:a,createCustomer:s,updateCustomer:l,deleteCustomer:c,getCustomerAppointments:f}=Qse(e??void 0),[p,m]=S.useState(""),[v,x]=S.useState(null),[_,b]=S.useState([]),[w,k]=S.useState(!1),[E,P]=S.useState(null);S.useEffect(()=>{v?f(v.id).then(B=>b(B)).catch(B=>{console.error("Failed to fetch appointments for customer",B),b([])}):b([])},[v,f]);const C=S.useMemo(()=>{const B=p.toLowerCase().trim();return B?i.filter($=>{const G=`${$.first_name} ${$.last_name}`.toLowerCase(),W=($.phone??"").toLowerCase(),V=($.email??"").toLowerCase(),K=($.customer_number??"").toLowerCase(),q=[$.street,$.house_number,$.postal_code,$.city].filter(Boolean).join(" ").toLowerCase();return G.includes(B)||W.includes(B)||V.includes(B)||K.includes(B)||q.includes(B)}):i},[i,p]),O=new Date,R=O.getMonth(),M=i.filter(B=>B.birthdate&&new Date(B.birthdate).getDate()===O.getDate()&&new Date(B.birthdate).getMonth()===R),U=i.filter(B=>B.birthdate&&new Date(B.birthdate).getMonth()===R&&new Date(B.birthdate).getDate()!==O.getDate()),F=()=>{k(!1),P(null)},H=B=>{const $=B.birthdate&&new Date(B.birthdate).getDate()===O.getDate()&&new Date(B.birthdate).getMonth()===R,G=B.birthdate&&new Date(B.birthdate).getMonth()===R&&new Date(B.birthdate).getDate()!==O.getDate();return o.jsxs("div",{className:"flex items-center gap-4 p-4 bg-muted/50 rounded-xl hover:bg-muted transition-colors cursor-pointer",onClick:()=>x(B),children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("p",{className:"font-medium text-foreground",children:[B.first_name," ",B.last_name]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:B.email||B.phone||"-"})]}),($||G)&&o.jsxs("div",{className:"flex items-center gap-1 text-xs text-sage",children:[o.jsx(iA,{className:"w-4 h-4"}),t($?"customersPage.todayBirthdays":"customersPage.monthBirthdays")]})]},B.id)};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h2",{className:"text-2xl font-display font-bold",children:t("customersPage.title")}),o.jsxs(Se,{onClick:()=>k(!0),children:[o.jsx(R9,{className:"w-4 h-4 mr-2"}),t("customersPage.addCustomer")]})]}),o.jsxs("div",{className:"relative",children:[o.jsx($k,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),o.jsx(ke,{value:p,onChange:B=>m(B.target.value),placeholder:t("customersPage.searchPlaceholder","Search..."),className:"pl-8"})]}),o.jsxs("div",{children:[o.jsxs("h3",{className:"text-lg font-display font-medium mb-2 flex items-center gap-2",children:[o.jsx(iA,{className:"w-5 h-5 text-primary"})," ",t("customersPage.birthdays")]}),M.length===0&&U.length===0?o.jsx("p",{className:"text-sm text-muted-foreground",children:t("customersPage.noBirthdays")}):o.jsxs("div",{className:"space-y-2",children:[M.length>0&&o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-foreground mb-1",children:t("customersPage.todayBirthdays")}),o.jsx("div",{className:"space-y-1",children:M.map(B=>o.jsxs("span",{className:"block text-sm text-muted-foreground",children:[B.first_name," ",B.last_name,"  ",Le(xi(B.birthdate),"dd.MM.",{locale:r})]},B.id))})]}),U.length>0&&o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-foreground mb-1",children:t("customersPage.monthBirthdays")}),o.jsx("div",{className:"space-y-1",children:U.map(B=>o.jsxs("span",{className:"block text-sm text-muted-foreground",children:[B.first_name," ",B.last_name,"  ",Le(xi(B.birthdate),"dd.MM.",{locale:r})]},B.id))})]})]})]}),o.jsxs(Je,{className:"border-border",children:[o.jsx(nn,{children:o.jsxs(rn,{className:"flex items-center gap-2 text-lg font-display",children:[o.jsx(Kr,{className:"w-5 h-5 text-primary"})," ",t("nav.customers")]})}),o.jsx(et,{children:a?o.jsx("p",{className:"text-center py-8 text-muted-foreground",children:t("common.loading")}):C.length===0?o.jsx("p",{className:"text-center py-8 text-muted-foreground",children:t("customersPage.noCustomers")}):o.jsx("div",{className:"space-y-3 max-h-[500px] overflow-y-auto",children:C.map(B=>H(B))})})]}),v&&o.jsx(eoe,{customer:v,appointments:_,open:!!v,onClose:()=>x(null),onEdit:B=>{x(null),P(B),k(!0)},onDelete:async B=>{if(window.confirm(t("customersPage.confirmDelete","Are you sure you want to delete this customer?")))try{await c(B.id),x(null)}catch($){console.error("Failed to delete customer",$)}}}),w&&o.jsx(Jse,{salonId:e||"",initialCustomer:E,onCancel:()=>{k(!1),P(null)},onSave:F,createCustomer:s,updateCustomer:l})]})},Jse=({salonId:e,initialCustomer:t,onCancel:n,onSave:r,createCustomer:i,updateCustomer:a})=>{const{t:s}=Pt(),[l,c]=S.useState(t?.first_name??""),[f,p]=S.useState(t?.last_name??""),[m,v]=S.useState(t?.birthdate??""),[x,_]=S.useState(t?.phone??""),[b,w]=S.useState(t?.email??""),[k,E]=S.useState(t?.street??""),[P,C]=S.useState(t?.house_number??""),[O,R]=S.useState(t?.postal_code??""),[M,U]=S.useState(t?.city??""),[F,H]=S.useState(t?.notes??""),[B,$]=S.useState(t?.image_urls??[]),[G,W]=S.useState(!1),V=async q=>{const D=q.target.files;if(!D)return;const Q=5,ne=[],J=Math.min(D.length,Q);for(let ee=0;ee<J;ee++){const te=D[ee],re=new FileReader,ie=new Promise(oe=>{re.onload=()=>oe(re.result)});re.readAsDataURL(te);const se=await ie;ne.push(se)}$(ne)},K=async()=>{const q={salon_id:e,user_id:t?.user_id??null,first_name:l,last_name:f,birthdate:m||null,phone:x||null,email:b||null,street:k||null,house_number:P||null,postal_code:O||null,city:M||null,address:null,image_urls:B.length>0?B:null,notes:F||null};try{t?await a(t.id,q):await i(q),r()}catch(D){console.error("Failed to save customer",D)}};return o.jsx(fr,{open:!0,onOpenChange:q=>!q&&n(),children:o.jsxs(Gn,{className:"max-w-lg overflow-y-auto max-h-[90vh]",children:[o.jsx(Yn,{children:o.jsx(Zn,{children:s(t?"customersPage.editCustomer":"customersPage.addCustomer")})}),o.jsxs("div",{className:"space-y-4 mt-2",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",htmlFor:"first-name",children:s("customersPage.firstName")}),o.jsx(ke,{id:"first-name",value:l,onChange:q=>c(q.target.value)})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",htmlFor:"last-name",children:s("customersPage.lastName")}),o.jsx(ke,{id:"last-name",value:f,onChange:q=>p(q.target.value)})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",htmlFor:"birthdate",children:s("customersPage.birthdate")}),o.jsx(ke,{id:"birthdate",type:"date",value:m||"",onChange:q=>v(q.target.value)})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",htmlFor:"phone",children:s("customersPage.phone")}),o.jsx(ke,{id:"phone",value:x||"",onChange:q=>_(q.target.value)})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",htmlFor:"email",children:s("customersPage.email")}),o.jsx(ke,{id:"email",type:"email",value:b||"",onChange:q=>w(q.target.value)})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",htmlFor:"street",children:s("customersPage.street","Strae")}),o.jsx(ke,{id:"street",value:k||"",onChange:q=>E(q.target.value)})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",htmlFor:"house-number",children:s("customersPage.houseNumber","Hausnummer")}),o.jsx(ke,{id:"house-number",value:P||"",onChange:q=>C(q.target.value)})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",htmlFor:"postal-code",children:s("customersPage.postalCode","PLZ")}),o.jsx(ke,{id:"postal-code",value:O||"",onChange:q=>R(q.target.value)})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",htmlFor:"city",children:s("customersPage.city","Ort")}),o.jsx(ke,{id:"city",value:M||"",onChange:q=>U(q.target.value)})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",htmlFor:"notes",children:s("customersPage.notes")}),o.jsx(Wi,{id:"notes",value:F||"",onChange:q=>H(q.target.value)})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",htmlFor:"images",children:s("customersPage.images")}),o.jsx(ke,{id:"images",type:"file",multiple:!0,accept:"image/*",onChange:V}),B&&B.length>0&&o.jsx("div",{className:"mt-2 grid grid-cols-5 gap-2",children:B.map((q,D)=>o.jsx("img",{src:q,alt:"Customer",className:"w-full h-20 object-cover rounded-md"},D))})]}),o.jsxs("div",{className:"flex items-center justify-end gap-2 pt-2",children:[o.jsx(Se,{variant:"secondary",onClick:n,children:s("common.cancel")}),o.jsx(Se,{onClick:K,disabled:!l||!f||G,children:s(t?"customersPage.updateCustomer":"customersPage.createCustomer")})]})]})]})})},eoe=({customer:e,appointments:t,open:n,onClose:r,onEdit:i,onDelete:a})=>{const{t:s,i18n:l}=Pt(),c=l.language==="de"?qn:Cn,f=e.birthdate?new Date(e.birthdate):null,p=new Date,m=f&&f.getDate()===p.getDate()&&f.getMonth()===p.getMonth(),v=f&&f.getMonth()===p.getMonth()&&f.getDate()!==p.getDate(),x=pr(),[_,b]=S.useState(null);return o.jsx(fr,{open:n,onOpenChange:w=>!w&&r(),children:o.jsxs(Gn,{className:"max-w-lg overflow-y-auto max-h-[90vh]",children:[o.jsx(Yn,{children:o.jsxs(Zn,{className:"text-xl font-display font-semibold flex items-center gap-2",children:[o.jsx(Kr,{className:"w-5 h-5 text-primary"}),e.first_name," ",e.last_name]})}),o.jsxs("div",{className:"space-y-4 mt-2",children:[o.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[o.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[o.jsx(wn,{className:"w-4 h-4 text-muted-foreground"}),o.jsxs("span",{className:"font-medium",children:[s("customersPage.birthdate"),":"]}),o.jsx("span",{className:"text-muted-foreground break-all",children:f?Le(f,"dd.MM.yyyy",{locale:c}):"-"}),m&&o.jsx(Or,{className:"bg-sage text-sage-foreground",children:s("customersPage.todayBirthdays")}),!m&&v&&o.jsx(Or,{className:"bg-gold text-gold-foreground",children:s("customersPage.monthBirthdays")})]}),o.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[o.jsx(vx,{className:"w-4 h-4 text-muted-foreground"}),o.jsxs("span",{className:"font-medium",children:[s("customersPage.phone"),":"]}),o.jsx("span",{className:"text-muted-foreground break-all",children:e.phone||"-"})]}),o.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[o.jsx(hf,{className:"w-4 h-4 text-muted-foreground"}),o.jsxs("span",{className:"font-medium",children:[s("customersPage.email"),":"]}),o.jsx("span",{className:"text-muted-foreground break-all",children:e.email||"-"})]}),o.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[o.jsx(gd,{className:"w-4 h-4 text-muted-foreground"}),o.jsxs("span",{className:"font-medium",children:[s("customersPage.address"),":"]}),o.jsx("span",{className:"text-muted-foreground break-all",children:e.street||e.house_number||e.postal_code||e.city?[e.street,e.house_number,e.postal_code,e.city].filter(Boolean).join(" "):e.address||"-"})]}),o.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[o.jsxs("span",{className:"font-medium",children:[s("customersPage.customerNumber","Kundennummer"),":"]}),o.jsx("span",{className:"text-muted-foreground break-all",children:e.customer_number??"-"})]})]}),e.image_urls&&e.image_urls.length>0&&o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(zv,{className:"w-4 h-4 text-muted-foreground"}),o.jsx("span",{className:"text-sm font-medium",children:s("customersPage.images")})]}),o.jsx("div",{className:"grid grid-cols-3 gap-2",children:e.image_urls.slice(0,5).map((w,k)=>o.jsx("img",{src:w,alt:"Customer",className:"w-full h-24 object-cover rounded-md"},k))})]}),e.notes&&o.jsxs("div",{className:"p-3 rounded-lg bg-muted/50",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(ud,{className:"w-4 h-4 text-muted-foreground"}),o.jsx("span",{className:"text-sm font-medium",children:s("customersPage.notes")})]}),o.jsx("p",{className:"text-sm text-muted-foreground whitespace-pre-line",children:e.notes})]}),o.jsxs("div",{children:[o.jsxs("h4",{className:"text-lg font-display font-medium mb-2 flex items-center gap-2",children:[o.jsx(wn,{className:"w-5 h-5 text-primary"})," ",s("customersPage.appointments")]}),t.length===0?o.jsx("p",{className:"text-sm text-muted-foreground",children:s("customersPage.noAppointments")}):o.jsx("div",{className:"space-y-2 max-h-[300px] overflow-y-auto",children:t.map(w=>o.jsxs("div",{className:"p-3 rounded-lg bg-muted/50 cursor-pointer hover:bg-muted",onClick:()=>b(w),children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-foreground",children:Le(new Date(w.start_time),"dd.MM.yyyy",{locale:c})}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[Le(new Date(w.start_time),"HH:mm",{locale:c}),"  ",Le(new Date(w.end_time),"HH:mm",{locale:c})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("p",{className:"text-sm font-medium text-foreground",children:["",(w.price??w.service?.price??0).toFixed(2)]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:w.service?.name||"-"})]})]}),w.notes&&o.jsx("p",{className:"mt-2 text-xs text-muted-foreground whitespace-pre-line",children:w.notes})]},w.id))})]}),o.jsx("div",{className:"mt-4",children:o.jsx(Se,{onClick:()=>x(`/new-appointment/${e.id}`),children:s("customersPage.addAppointment","Neuen Termin anlegen")})}),o.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[a&&o.jsx(Se,{variant:"destructive",onClick:()=>a(e),children:s("customersPage.deleteCustomer","Delete Customer")}),i&&o.jsx(Se,{onClick:()=>i(e),children:s("customersPage.editCustomer","Edit Customer")})]}),o.jsx(ME,{appointment:_?{..._,customer_profile_id:e.id}:null,open:!!_,onClose:()=>b(null)})]})]})})};function k8({appointments:e}){const{t,i18n:n}=Pt(),r=n.language==="de"?qn:Cn,[i,a]=S.useState(""),[s,l]=S.useState(null),c=S.useMemo(()=>{const m=i.toLowerCase().trim();return m?e.filter(v=>{const x=Le(new Date(v.start_time),"dd.MM.yyyy",{locale:r});return(v.guest_name||"").toLowerCase().includes(m)||(v.guest_email||"").toLowerCase().includes(m)||(v.guest_phone||"").toLowerCase().includes(m)||(v.service?.name||"").toLowerCase().includes(m)||(v.appointment_number||"").toLowerCase().includes(m)||x.includes(m)}):e},[e,i,r]),f=m=>{switch(m){case"confirmed":return"bg-sage-light text-sage";case"pending":return"bg-gold-light text-gold";case"cancelled":return"bg-rose-light text-rose";case"completed":return"bg-muted text-muted-foreground";default:return"bg-muted text-muted-foreground"}},p=m=>{switch(m){case"confirmed":return t("appointments.confirmed");case"pending":return t("appointments.pending");case"cancelled":return t("appointments.cancelled");case"completed":return t("appointments.completed");default:return m}};return o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"relative max-w-sm",children:o.jsx(ke,{value:i,onChange:m=>a(m.target.value),placeholder:t("pastAppointments.searchPlaceholder"),className:"pl-4"})}),o.jsxs(Je,{className:"border-border",children:[o.jsx(nn,{className:"pb-3",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(wn,{className:"w-5 h-5 text-primary"}),o.jsx(rn,{className:"text-lg font-display",children:t("pastAppointments.title")})]})}),o.jsx(et,{children:c.length===0?o.jsx("div",{className:"text-center py-8 text-muted-foreground",children:t("pastAppointments.noResults")}):o.jsx("div",{className:"space-y-3 max-h-[500px] overflow-y-auto",children:c.map(m=>o.jsxs("div",{className:"flex items-center gap-4 p-4 bg-muted/50 rounded-xl hover:bg-muted transition-colors cursor-pointer",onClick:()=>l(m),children:[o.jsxs("div",{className:"text-center min-w-[80px]",children:[o.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:Le(new Date(m.start_time),"dd.MM.yy",{locale:r})}),o.jsx("p",{className:"text-lg font-semibold text-foreground",children:Le(new Date(m.start_time),"HH:mm",{locale:r})}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[m.service?.duration_minutes||30," ",t("time.minutes")]})]}),o.jsx("div",{className:`w-1 h-12 rounded-full ${m.status==="confirmed"?"bg-sage":m.status==="pending"?"bg-gold":"bg-muted-foreground"}`}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"font-medium text-foreground",children:m.guest_name||t("dashboard.anonymousCustomer")}),o.jsx("p",{className:"text-sm text-muted-foreground",children:m.service?.name||t("dashboard.noService")})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("p",{className:"text-sm font-medium text-foreground",children:["",m.price!==void 0&&m.price!==null?m.price.toFixed(2):m.service?.price?.toFixed(2)||"0.00"]}),o.jsx("span",{className:`inline-block px-2 py-0.5 text-xs rounded-full ${f(m.status||"pending")}`,children:p(m.status||"pending")})]})]},m.id))})}),o.jsx(ME,{appointment:s,open:!!s,onClose:()=>l(null)})]})]})}const toe=()=>{const{t:e,i18n:t}=Pt(),{user:n,signOut:r,loading:i}=mr(),a=pr(),s=t.language==="de"?qn:Cn,[l,c]=S.useState("dashboard"),{employee:f,profile:p,appointments:m,archivedAppointments:v,showWeek:x,toggleShowWeek:_,todayTimeEntry:b,leaveRequests:w,loading:k,checkIn:E,checkOut:P,submitLeaveRequest:C,updateAppointment:O,completeAppointment:R}=Bae(),{data:M=[]}=Tr({queryKey:["employee-salon-services",f?.salon_id],queryFn:async()=>{if(!f?.salon_id)return[];const{data:F,error:H}=await ye.from("services").select("*").eq("salon_id",f.salon_id).eq("is_active",!0);if(H)throw H;return F||[]},enabled:!!f?.salon_id});if(S.useEffect(()=>{!i&&!n&&a("/login")},[n,i,a]),i||k)return o.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});if(!f)return o.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:o.jsx(Je,{className:"max-w-md w-full mx-4",children:o.jsxs(et,{className:"pt-6 text-center",children:[o.jsx(Kr,{className:"w-16 h-16 mx-auto text-muted-foreground mb-4"}),o.jsx("h2",{className:"text-xl font-display font-bold mb-2",children:e("dashboard.notAnEmployee")}),o.jsx("p",{className:"text-muted-foreground mb-4",children:e("dashboard.contactAdmin")}),o.jsx(Se,{onClick:()=>a("/"),children:e("common.backToHome")})]})})});const U=new Date;return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx("header",{className:"sticky top-0 z-50 bg-card border-b border-border",children:o.jsxs("div",{className:"container mx-auto px-4 h-16 flex items-center justify-between",children:[o.jsxs(Rt,{to:"/",className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-10 h-10 gradient-primary rounded-xl flex items-center justify-center",children:o.jsx(Qt,{className:"w-5 h-5 text-primary-foreground"})}),o.jsxs("span",{className:"text-lg font-display font-bold text-foreground",children:["Salon",o.jsx("span",{className:"text-primary",children:"Manager"})]})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(Rr,{}),o.jsx(Mr,{}),o.jsxs(Rt,{to:"/profile",className:"flex items-center gap-2 text-sm hover:underline",children:[o.jsx(Kr,{className:"w-4 h-4"}),e("nav.profile","Profil")]}),o.jsxs(Se,{variant:"ghost",size:"sm",onClick:r,children:[o.jsx(wo,{className:"w-4 h-4 mr-2"}),e("nav.logout")]})]})]})}),o.jsxs("main",{className:"container mx-auto px-4 py-8",children:[o.jsxs("div",{className:"mb-8",children:[o.jsxs("h1",{className:"text-3xl font-display font-bold text-foreground mb-2",children:[e("dashboard.welcome"),", ",p?.first_name||n?.user_metadata?.first_name||e("dashboard.employee"),"!"]}),o.jsx("p",{className:"text-muted-foreground",children:Le(U,"EEEE, d. MMMM yyyy",{locale:s})})]}),o.jsxs(vm,{value:l,onValueChange:c,children:[o.jsxs(_f,{className:"mb-6",children:[o.jsxs(Bn,{value:"dashboard",className:"gap-2",children:[o.jsx(W9,{className:"w-4 h-4"}),e("nav.dashboard")]}),o.jsxs(Bn,{value:"pos",className:"gap-2",children:[o.jsx(Ed,{className:"w-4 h-4"}),e("pos.terminal")]}),o.jsxs(Bn,{value:"customers",className:"gap-2",children:[o.jsx(Kr,{className:"w-4 h-4"}),e("nav.customers","Kunden")]}),o.jsxs(Bn,{value:"past",className:"gap-2",children:[o.jsx(wn,{className:"w-4 h-4"}),e("dashboard.pastAppointments","Vergangene Termine")]})]}),o.jsxs(Fn,{value:"dashboard",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[o.jsx(Je,{className:"border-border",children:o.jsx(et,{className:"pt-6",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"w-12 h-12 rounded-xl bg-primary/10 flex items-center justify-center",children:o.jsx(wn,{className:"w-6 h-6 text-primary"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-2xl font-display font-bold text-foreground",children:m.length}),o.jsx("p",{className:"text-sm text-muted-foreground",children:e(x?"dashboard.weekAppointments":"dashboard.nextAppointments")})]})]})})}),o.jsx(Je,{className:"border-border",children:o.jsx(et,{className:"pt-6",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"w-12 h-12 rounded-xl bg-sage/10 flex items-center justify-center",children:o.jsx(px,{className:"w-6 h-6 text-sage"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-2xl font-display font-bold text-foreground",children:m.filter(F=>F.status==="completed").length}),o.jsx("p",{className:"text-sm text-muted-foreground",children:e("dashboard.completed")})]})]})})}),o.jsx(Je,{className:"border-border",children:o.jsx(et,{className:"pt-6",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"w-12 h-12 rounded-xl bg-gold/10 flex items-center justify-center",children:o.jsx(Kr,{className:"w-6 h-6 text-gold"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-2xl font-display font-bold text-foreground",children:f.position||"-"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:e("dashboard.position")})]})]})})})]}),o.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[o.jsx("div",{className:"lg:col-span-2 space-y-6",children:o.jsx(K6,{appointments:m,showingWeek:x,onToggleWeek:_,canReschedule:!0,canReassign:!1,onUpdate:O,canComplete:!0,onComplete:R,services:M.map(F=>({id:F.id,name:F.name,duration_minutes:F.duration_minutes,price:F.price}))})}),o.jsxs("div",{className:"space-y-6",children:[o.jsx(zae,{todayTimeEntry:b,onCheckIn:E,onCheckOut:P,loading:k}),o.jsx(yse,{onSubmit:C}),o.jsx(nP,{leaveRequests:w.slice(0,3)})]})]})]}),o.jsx(Fn,{value:"pos",children:f?.salon_id&&o.jsx(N8,{salonId:f.salon_id,services:M.map(F=>({id:F.id,name:F.name,description:F.description,price:F.price,duration_minutes:F.duration_minutes,category:F.category}))})}),o.jsx(Fn,{value:"customers",children:o.jsx(P8,{salonId:f?.salon_id||null})}),o.jsx(Fn,{value:"past",children:o.jsx(k8,{appointments:v.map(F=>({...F,status:F.status||"pending"}))})})]})]})]})};function noe(){const{user:e}=mr(),[t,n]=S.useState(!1),[r,i]=S.useState(null),[a,s]=S.useState([]),[l,c]=S.useState([]),[f,p]=S.useState([]),[m,v]=S.useState([]),[x,_]=S.useState([]),[b,w]=S.useState([]),[k,E]=S.useState(!1),[P,C]=S.useState(!0);S.useEffect(()=>{e&&O()},[e]);const O=async()=>{if(e){C(!0);try{const{data:V}=await ye.from("user_roles").select("role").eq("user_id",e.id).eq("role","admin").maybeSingle(),K=!!V;if(n(K),K){const{data:q,error:D}=await ye.from("salons").select("*").eq("owner_id",e.id).order("created_at",{ascending:!0}).limit(1).maybeSingle();if(D&&console.error("Error fetching salon for admin:",D),q){i(q);const{data:Q}=await ye.from("employees").select("*").eq("salon_id",q.id).order("created_at",{ascending:!1});if(Q&&Q.length>0){const fe=Q.filter(ue=>ue.user_id).map(ue=>ue.user_id),{data:xe}=await ye.from("profiles").select("user_id, first_name, last_name, email").in("user_id",fe),ce=Q.map(ue=>({...ue,profile:xe?.find(je=>je.user_id===ue.user_id)}));s(ce)}else s([]);const{data:ne}=await ye.from("services").select("*").eq("salon_id",q.id).order("name",{ascending:!0});c(ne||[]);let J=[];try{const fe=(Q||[]).map(xe=>xe.id);if(fe.length>0){const{data:xe,error:ce}=await ye.from("leave_requests").select("*").in("employee_id",fe).order("created_at",{ascending:!1});ce?console.error("Error fetching leave requests for salon",ce):J=xe||[]}}catch(fe){console.error("Error fetching leave requests for salon",fe)}p(J||[]);const ee=new Date,{data:te}=await ye.from("appointments").select("*, service:services(name, duration_minutes, price)").eq("salon_id",q.id).gte("start_time",ee.toISOString()).order("start_time",{ascending:!0}).limit(5);v(te||[]);const re=new Date;re.setHours(0,0,0,0);const ie=new Date(re);ie.setDate(re.getDate()+7),ie.setHours(23,59,59,999);const{data:se}=await ye.from("appointments").select("*, service:services(name, duration_minutes, price)").eq("salon_id",q.id).gte("start_time",re.toISOString()).lte("start_time",ie.toISOString()).order("start_time",{ascending:!0});_(se||[]);const oe=new Date;oe.setFullYear(oe.getFullYear()-4);const{data:be}=await ye.from("appointments").select("*, service:services(name, duration_minutes, price)").eq("salon_id",q.id).lt("start_time",re.toISOString()).gte("start_time",oe.toISOString()).order("start_time",{descending:!0});w(be||[])}else i(null),s([]),c([]),p([]),v([]),_([]),w([])}}catch(V){console.error("Error fetching admin data:",V)}finally{C(!1)}}};return{isAdmin:t,salon:r,employees:a,services:l,leaveRequests:f,appointments:k?x:m,upcomingAppointments:m,weekAppointments:x,archivedAppointments:b,showWeek:k,toggleShowWeek:()=>E(V=>!V),loading:P,createEmployee:async(V,K)=>{const q={...V,display_name:V.display_name||"Stylist"},D=await ye.from("employees").insert(q).select().single();if(!D.error&&K?.email){await ye.from("employee_invitations").insert({salon_id:V.salon_id,employee_id:D.data.id,email:K.email,first_name:K.first_name,last_name:K.last_name});try{const{data:ne}=await ye.auth.getSession(),J=ne?.session?.access_token;await ye.functions.invoke("employee-invite",{body:{employeeId:D.data.id,salonId:V.salon_id,email:K.email,first_name:K.first_name,last_name:K.last_name},headers:J?{Authorization:`Bearer ${J}`}:{}})}catch(ne){console.error("Failed to send invitation email:",ne)}const Q={...D.data,profile:{first_name:K.first_name,last_name:K.last_name,email:K.email}};s([Q,...a])}else D.error||s([D.data,...a]);return D},updateEmployee:async(V,K)=>{const q=await ye.from("employees").update(K).eq("id",V).select().single();return q.error||s(a.map(D=>D.id===V?{...D,...q.data}:D)),q},deleteEmployee:async V=>{const K=await ye.from("employees").delete().eq("id",V);return K.error||s(a.filter(q=>q.id!==V)),K},createService:async V=>{const K=await ye.from("services").insert(V).select().single();return K.error||c([...l,K.data]),K},updateService:async(V,K)=>{const q=await ye.from("services").update(K).eq("id",V).select().single();return q.error||c(l.map(D=>D.id===V?q.data:D)),q},deleteService:async V=>{const K=await ye.from("services").delete().eq("id",V);return K.error||c(l.filter(q=>q.id!==V)),K},updateLeaveRequest:async(V,K)=>{const q=await ye.from("leave_requests").update({status:K,approved_by:e?.id}).eq("id",V).select().single();return q.error||p(f.map(D=>D.id===V?q.data:D)),q},updateAppointment:async(V,K)=>{const{data:q,error:D}=await ye.from("appointments").update(K).eq("id",V).select().single();if(D)throw D;return q&&(v(Q=>Q.map(ne=>ne.id===V?q:ne)),_(Q=>Q.map(ne=>ne.id===V?q:ne)),w(Q=>Q.map(ne=>ne.id===V?q:ne))),q},completeAppointment:async(V,K,q,D,Q="")=>{const{data:ne,error:J}=await ye.from("appointments").select("*").eq("id",V).single();if(J||!ne)throw J||new Error("Appointment not found");const ee=ne,te=K&&K.length>0?K:ee.service_id?[ee.service_id]:[];let re=[];if(te.length>0){const{data:it,error:Et}=await ye.from("services").select("*").in("id",te);Et?console.error("Failed to fetch services for transaction items",Et):re=it||[]}const ie=19,se=q,oe=+(se*ie/100).toFixed(2),be=+(se+oe).toFixed(2),{data:fe,error:xe}=await ye.from("transactions").insert({salon_id:ee.salon_id,appointment_id:ee.id,customer_id:ee.customer_id,employee_id:ee.employee_id,subtotal:se,tax_amount:oe,tax_rate:ie,discount_amount:0,tip_amount:0,total_amount:be,payment_method:"cash",payment_status:"completed",guest_name:ee.guest_name,guest_email:ee.guest_email,guest_phone:ee.guest_phone,notes:[ee.notes||null,Q||null].filter(Boolean).join(`

`)||null}).select().single();if(xe||!fe)throw xe||new Error("Failed to create transaction");const ce=fe,ue=[];re.forEach(it=>{ue.push({transaction_id:ce.id,item_type:"service",service_id:it.id,inventory_id:null,name:it.name,description:it.description,quantity:1,unit_price:it.price,total_price:it.price})});let je=null;if(D&&D.length>0){const it=D.map(pe=>pe.id),{data:Et,error:jr}=await ye.from("extra_charge_reasons").select("*").in("id",it);jr?console.error("Failed to fetch extra charge reasons",jr):je=Et||[],D.forEach(pe=>{const pt=je?.find(sn=>sn.id===pe.id);ue.push({transaction_id:ce.id,item_type:"product",service_id:null,inventory_id:null,name:pt?.name||"Extra",description:null,quantity:1,unit_price:pe.amount,total_price:pe.amount})})}const Re=re.reduce((it,Et)=>it+(Et.price||0),0),Xe=D.reduce((it,Et)=>it+Et.amount,0),Me=+(q-Re-Xe).toFixed(2);if(Math.abs(Me)>.009&&ue.push({transaction_id:ce.id,item_type:"product",service_id:null,inventory_id:null,name:"Manual Adjustment",description:null,quantity:1,unit_price:Me,total_price:Me}),ue.length>0){const{error:it}=await ye.from("transaction_items").insert(ue);it&&console.error("Failed to insert transaction items",it)}const tt=te.length>0?te[0]:ee.service_id,{data:Wt,error:Ht}=await ye.from("appointments").update({status:"completed",service_id:tt,price:q,updated_at:new Date().toISOString()}).eq("id",ee.id).select().single();if(Ht)throw Ht;let Mt=Wt;const It=re.find(it=>it.id===tt);It?Mt.service={name:It.name,duration_minutes:It.duration_minutes,price:It.price}:ee.service&&(Mt.service=ee.service);try{await ye.functions.invoke("create-invoice",{body:{transactionId:ce.id,invoiceType:"invoice",salonId:ee.salon_id}})}catch(it){console.error("Failed to invoke create-invoice function",it)}return v(it=>it.map(Et=>Et.id===ee.id?Mt:Et)),_(it=>it.map(Et=>Et.id===ee.id?Mt:Et)),w(it=>it.map(Et=>Et.id===ee.id?Mt:Et)),Mt},refetch:O}}var rd={},zw={exports:{}},qw,aR;function roe(){if(aR)return qw;aR=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return qw=e,qw}var Uw,sR;function ioe(){if(sR)return Uw;sR=1;var e=roe();function t(){}function n(){}return n.resetWarningCache=t,Uw=function(){function r(s,l,c,f,p,m){if(m!==e){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}r.isRequired=r;function i(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:t};return a.PropTypes=a,a},Uw}var oR;function FE(){return oR||(oR=1,zw.exports=ioe()()),zw.exports}var Ww,lR;function E8(){return lR||(lR=1,Ww={L:1,M:0,Q:3,H:2}),Ww}var Hw,cR;function C8(){return cR||(cR=1,Hw={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8}),Hw}var Vw,uR;function aoe(){if(uR)return Vw;uR=1;var e=C8();function t(n){this.mode=e.MODE_8BIT_BYTE,this.data=n}return t.prototype={getLength:function(n){return this.data.length},write:function(n){for(var r=0;r<this.data.length;r++)n.put(this.data.charCodeAt(r),8)}},Vw=t,Vw}var Kw,dR;function soe(){if(dR)return Kw;dR=1;var e=E8();function t(n,r){this.totalCount=n,this.dataCount=r}return t.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],t.getRSBlocks=function(n,r){var i=t.getRsBlockTable(n,r);if(i==null)throw new Error("bad rs block @ typeNumber:"+n+"/errorCorrectLevel:"+r);for(var a=i.length/3,s=new Array,l=0;l<a;l++)for(var c=i[l*3+0],f=i[l*3+1],p=i[l*3+2],m=0;m<c;m++)s.push(new t(f,p));return s},t.getRsBlockTable=function(n,r){switch(r){case e.L:return t.RS_BLOCK_TABLE[(n-1)*4+0];case e.M:return t.RS_BLOCK_TABLE[(n-1)*4+1];case e.Q:return t.RS_BLOCK_TABLE[(n-1)*4+2];case e.H:return t.RS_BLOCK_TABLE[(n-1)*4+3];default:return}},Kw=t,Kw}var Gw,fR;function ooe(){if(fR)return Gw;fR=1;function e(){this.buffer=new Array,this.length=0}return e.prototype={get:function(t){var n=Math.floor(t/8);return(this.buffer[n]>>>7-t%8&1)==1},put:function(t,n){for(var r=0;r<n;r++)this.putBit((t>>>n-r-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(t){var n=Math.floor(this.length/8);this.buffer.length<=n&&this.buffer.push(0),t&&(this.buffer[n]|=128>>>this.length%8),this.length++}},Gw=e,Gw}var Yw,hR;function O8(){if(hR)return Yw;hR=1;for(var e={glog:function(n){if(n<1)throw new Error("glog("+n+")");return e.LOG_TABLE[n]},gexp:function(n){for(;n<0;)n+=255;for(;n>=256;)n-=255;return e.EXP_TABLE[n]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},t=0;t<8;t++)e.EXP_TABLE[t]=1<<t;for(var t=8;t<256;t++)e.EXP_TABLE[t]=e.EXP_TABLE[t-4]^e.EXP_TABLE[t-5]^e.EXP_TABLE[t-6]^e.EXP_TABLE[t-8];for(var t=0;t<255;t++)e.LOG_TABLE[e.EXP_TABLE[t]]=t;return Yw=e,Yw}var Zw,pR;function T8(){if(pR)return Zw;pR=1;var e=O8();function t(n,r){if(n.length==null)throw new Error(n.length+"/"+r);for(var i=0;i<n.length&&n[i]==0;)i++;this.num=new Array(n.length-i+r);for(var a=0;a<n.length-i;a++)this.num[a]=n[a+i]}return t.prototype={get:function(n){return this.num[n]},getLength:function(){return this.num.length},multiply:function(n){for(var r=new Array(this.getLength()+n.getLength()-1),i=0;i<this.getLength();i++)for(var a=0;a<n.getLength();a++)r[i+a]^=e.gexp(e.glog(this.get(i))+e.glog(n.get(a)));return new t(r,0)},mod:function(n){if(this.getLength()-n.getLength()<0)return this;for(var r=e.glog(this.get(0))-e.glog(n.get(0)),i=new Array(this.getLength()),a=0;a<this.getLength();a++)i[a]=this.get(a);for(var a=0;a<n.getLength();a++)i[a]^=e.gexp(e.glog(n.get(a))+r);return new t(i,0).mod(n)}},Zw=t,Zw}var Xw,mR;function loe(){if(mR)return Xw;mR=1;var e=C8(),t=T8(),n=O8(),r={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},i={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(a){for(var s=a<<10;i.getBCHDigit(s)-i.getBCHDigit(i.G15)>=0;)s^=i.G15<<i.getBCHDigit(s)-i.getBCHDigit(i.G15);return(a<<10|s)^i.G15_MASK},getBCHTypeNumber:function(a){for(var s=a<<12;i.getBCHDigit(s)-i.getBCHDigit(i.G18)>=0;)s^=i.G18<<i.getBCHDigit(s)-i.getBCHDigit(i.G18);return a<<12|s},getBCHDigit:function(a){for(var s=0;a!=0;)s++,a>>>=1;return s},getPatternPosition:function(a){return i.PATTERN_POSITION_TABLE[a-1]},getMask:function(a,s,l){switch(a){case r.PATTERN000:return(s+l)%2==0;case r.PATTERN001:return s%2==0;case r.PATTERN010:return l%3==0;case r.PATTERN011:return(s+l)%3==0;case r.PATTERN100:return(Math.floor(s/2)+Math.floor(l/3))%2==0;case r.PATTERN101:return s*l%2+s*l%3==0;case r.PATTERN110:return(s*l%2+s*l%3)%2==0;case r.PATTERN111:return(s*l%3+(s+l)%2)%2==0;default:throw new Error("bad maskPattern:"+a)}},getErrorCorrectPolynomial:function(a){for(var s=new t([1],0),l=0;l<a;l++)s=s.multiply(new t([1,n.gexp(l)],0));return s},getLengthInBits:function(a,s){if(1<=s&&s<10)switch(a){case e.MODE_NUMBER:return 10;case e.MODE_ALPHA_NUM:return 9;case e.MODE_8BIT_BYTE:return 8;case e.MODE_KANJI:return 8;default:throw new Error("mode:"+a)}else if(s<27)switch(a){case e.MODE_NUMBER:return 12;case e.MODE_ALPHA_NUM:return 11;case e.MODE_8BIT_BYTE:return 16;case e.MODE_KANJI:return 10;default:throw new Error("mode:"+a)}else if(s<41)switch(a){case e.MODE_NUMBER:return 14;case e.MODE_ALPHA_NUM:return 13;case e.MODE_8BIT_BYTE:return 16;case e.MODE_KANJI:return 12;default:throw new Error("mode:"+a)}else throw new Error("type:"+s)},getLostPoint:function(a){for(var s=a.getModuleCount(),l=0,c=0;c<s;c++)for(var f=0;f<s;f++){for(var p=0,m=a.isDark(c,f),v=-1;v<=1;v++)if(!(c+v<0||s<=c+v))for(var x=-1;x<=1;x++)f+x<0||s<=f+x||v==0&&x==0||m==a.isDark(c+v,f+x)&&p++;p>5&&(l+=3+p-5)}for(var c=0;c<s-1;c++)for(var f=0;f<s-1;f++){var _=0;a.isDark(c,f)&&_++,a.isDark(c+1,f)&&_++,a.isDark(c,f+1)&&_++,a.isDark(c+1,f+1)&&_++,(_==0||_==4)&&(l+=3)}for(var c=0;c<s;c++)for(var f=0;f<s-6;f++)a.isDark(c,f)&&!a.isDark(c,f+1)&&a.isDark(c,f+2)&&a.isDark(c,f+3)&&a.isDark(c,f+4)&&!a.isDark(c,f+5)&&a.isDark(c,f+6)&&(l+=40);for(var f=0;f<s;f++)for(var c=0;c<s-6;c++)a.isDark(c,f)&&!a.isDark(c+1,f)&&a.isDark(c+2,f)&&a.isDark(c+3,f)&&a.isDark(c+4,f)&&!a.isDark(c+5,f)&&a.isDark(c+6,f)&&(l+=40);for(var b=0,f=0;f<s;f++)for(var c=0;c<s;c++)a.isDark(c,f)&&b++;var w=Math.abs(100*b/s/s-50)/5;return l+=w*10,l}};return Xw=i,Xw}var Qw,gR;function coe(){if(gR)return Qw;gR=1;var e=aoe(),t=soe(),n=ooe(),r=loe(),i=T8();function a(l,c){this.typeNumber=l,this.errorCorrectLevel=c,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var s=a.prototype;return s.addData=function(l){var c=new e(l);this.dataList.push(c),this.dataCache=null},s.isDark=function(l,c){if(l<0||this.moduleCount<=l||c<0||this.moduleCount<=c)throw new Error(l+","+c);return this.modules[l][c]},s.getModuleCount=function(){return this.moduleCount},s.make=function(){if(this.typeNumber<1){var l=1;for(l=1;l<40;l++){for(var c=t.getRSBlocks(l,this.errorCorrectLevel),f=new n,p=0,m=0;m<c.length;m++)p+=c[m].dataCount;for(var m=0;m<this.dataList.length;m++){var v=this.dataList[m];f.put(v.mode,4),f.put(v.getLength(),r.getLengthInBits(v.mode,l)),v.write(f)}if(f.getLengthInBits()<=p*8)break}this.typeNumber=l}this.makeImpl(!1,this.getBestMaskPattern())},s.makeImpl=function(l,c){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var f=0;f<this.moduleCount;f++){this.modules[f]=new Array(this.moduleCount);for(var p=0;p<this.moduleCount;p++)this.modules[f][p]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(l,c),this.typeNumber>=7&&this.setupTypeNumber(l),this.dataCache==null&&(this.dataCache=a.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,c)},s.setupPositionProbePattern=function(l,c){for(var f=-1;f<=7;f++)if(!(l+f<=-1||this.moduleCount<=l+f))for(var p=-1;p<=7;p++)c+p<=-1||this.moduleCount<=c+p||(0<=f&&f<=6&&(p==0||p==6)||0<=p&&p<=6&&(f==0||f==6)||2<=f&&f<=4&&2<=p&&p<=4?this.modules[l+f][c+p]=!0:this.modules[l+f][c+p]=!1)},s.getBestMaskPattern=function(){for(var l=0,c=0,f=0;f<8;f++){this.makeImpl(!0,f);var p=r.getLostPoint(this);(f==0||l>p)&&(l=p,c=f)}return c},s.createMovieClip=function(l,c,f){var p=l.createEmptyMovieClip(c,f),m=1;this.make();for(var v=0;v<this.modules.length;v++)for(var x=v*m,_=0;_<this.modules[v].length;_++){var b=_*m,w=this.modules[v][_];w&&(p.beginFill(0,100),p.moveTo(b,x),p.lineTo(b+m,x),p.lineTo(b+m,x+m),p.lineTo(b,x+m),p.endFill())}return p},s.setupTimingPattern=function(){for(var l=8;l<this.moduleCount-8;l++)this.modules[l][6]==null&&(this.modules[l][6]=l%2==0);for(var c=8;c<this.moduleCount-8;c++)this.modules[6][c]==null&&(this.modules[6][c]=c%2==0)},s.setupPositionAdjustPattern=function(){for(var l=r.getPatternPosition(this.typeNumber),c=0;c<l.length;c++)for(var f=0;f<l.length;f++){var p=l[c],m=l[f];if(this.modules[p][m]==null)for(var v=-2;v<=2;v++)for(var x=-2;x<=2;x++)v==-2||v==2||x==-2||x==2||v==0&&x==0?this.modules[p+v][m+x]=!0:this.modules[p+v][m+x]=!1}},s.setupTypeNumber=function(l){for(var c=r.getBCHTypeNumber(this.typeNumber),f=0;f<18;f++){var p=!l&&(c>>f&1)==1;this.modules[Math.floor(f/3)][f%3+this.moduleCount-8-3]=p}for(var f=0;f<18;f++){var p=!l&&(c>>f&1)==1;this.modules[f%3+this.moduleCount-8-3][Math.floor(f/3)]=p}},s.setupTypeInfo=function(l,c){for(var f=this.errorCorrectLevel<<3|c,p=r.getBCHTypeInfo(f),m=0;m<15;m++){var v=!l&&(p>>m&1)==1;m<6?this.modules[m][8]=v:m<8?this.modules[m+1][8]=v:this.modules[this.moduleCount-15+m][8]=v}for(var m=0;m<15;m++){var v=!l&&(p>>m&1)==1;m<8?this.modules[8][this.moduleCount-m-1]=v:m<9?this.modules[8][15-m-1+1]=v:this.modules[8][15-m-1]=v}this.modules[this.moduleCount-8][8]=!l},s.mapData=function(l,c){for(var f=-1,p=this.moduleCount-1,m=7,v=0,x=this.moduleCount-1;x>0;x-=2)for(x==6&&x--;;){for(var _=0;_<2;_++)if(this.modules[p][x-_]==null){var b=!1;v<l.length&&(b=(l[v]>>>m&1)==1);var w=r.getMask(c,p,x-_);w&&(b=!b),this.modules[p][x-_]=b,m--,m==-1&&(v++,m=7)}if(p+=f,p<0||this.moduleCount<=p){p-=f,f=-f;break}}},a.PAD0=236,a.PAD1=17,a.createData=function(l,c,f){for(var p=t.getRSBlocks(l,c),m=new n,v=0;v<f.length;v++){var x=f[v];m.put(x.mode,4),m.put(x.getLength(),r.getLengthInBits(x.mode,l)),x.write(m)}for(var _=0,v=0;v<p.length;v++)_+=p[v].dataCount;if(m.getLengthInBits()>_*8)throw new Error("code length overflow. ("+m.getLengthInBits()+">"+_*8+")");for(m.getLengthInBits()+4<=_*8&&m.put(0,4);m.getLengthInBits()%8!=0;)m.putBit(!1);for(;!(m.getLengthInBits()>=_*8||(m.put(a.PAD0,8),m.getLengthInBits()>=_*8));)m.put(a.PAD1,8);return a.createBytes(m,p)},a.createBytes=function(l,c){for(var f=0,p=0,m=0,v=new Array(c.length),x=new Array(c.length),_=0;_<c.length;_++){var b=c[_].dataCount,w=c[_].totalCount-b;p=Math.max(p,b),m=Math.max(m,w),v[_]=new Array(b);for(var k=0;k<v[_].length;k++)v[_][k]=255&l.buffer[k+f];f+=b;var E=r.getErrorCorrectPolynomial(w),P=new i(v[_],E.getLength()-1),C=P.mod(E);x[_]=new Array(E.getLength()-1);for(var k=0;k<x[_].length;k++){var O=k+C.getLength()-x[_].length;x[_][k]=O>=0?C.get(O):0}}for(var R=0,k=0;k<c.length;k++)R+=c[k].totalCount;for(var M=new Array(R),U=0,k=0;k<p;k++)for(var _=0;_<c.length;_++)k<v[_].length&&(M[U++]=v[_][k]);for(var k=0;k<m;k++)for(var _=0;_<c.length;_++)k<x[_].length&&(M[U++]=x[_][k]);return M},Qw=a,Qw}var vv={},vR;function uoe(){if(vR)return vv;vR=1,Object.defineProperty(vv,"__esModule",{value:!0});var e=Object.assign||function(f){for(var p=1;p<arguments.length;p++){var m=arguments[p];for(var v in m)Object.prototype.hasOwnProperty.call(m,v)&&(f[v]=m[v])}return f},t=FE(),n=a(t),r=uf(),i=a(r);function a(f){return f&&f.__esModule?f:{default:f}}function s(f,p){var m={};for(var v in f)p.indexOf(v)>=0||Object.prototype.hasOwnProperty.call(f,v)&&(m[v]=f[v]);return m}var l={bgColor:n.default.oneOfType([n.default.object,n.default.string]).isRequired,bgD:n.default.string.isRequired,fgColor:n.default.oneOfType([n.default.object,n.default.string]).isRequired,fgD:n.default.string.isRequired,size:n.default.number.isRequired,title:n.default.string,viewBoxSize:n.default.number.isRequired,xmlns:n.default.string},c=(0,r.forwardRef)(function(f,p){var m=f.bgColor,v=f.bgD,x=f.fgD,_=f.fgColor,b=f.size,w=f.title,k=f.viewBoxSize,E=f.xmlns,P=E===void 0?"http://www.w3.org/2000/svg":E,C=s(f,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize","xmlns"]);return i.default.createElement("svg",e({},C,{height:b,ref:p,viewBox:"0 0 "+k+" "+k,width:b,xmlns:P}),w?i.default.createElement("title",null,w):null,i.default.createElement("path",{d:v,fill:m}),i.default.createElement("path",{d:x,fill:_}))});return c.displayName="QRCodeSvg",c.propTypes=l,vv.default=c,vv}var yR;function doe(){if(yR)return rd;yR=1,Object.defineProperty(rd,"__esModule",{value:!0}),rd.QRCode=void 0;var e=Object.assign||function(b){for(var w=1;w<arguments.length;w++){var k=arguments[w];for(var E in k)Object.prototype.hasOwnProperty.call(k,E)&&(b[E]=k[E])}return b},t=FE(),n=m(t),r=E8(),i=m(r),a=coe(),s=m(a),l=uf(),c=m(l),f=uoe(),p=m(f);function m(b){return b&&b.__esModule?b:{default:b}}function v(b,w){var k={};for(var E in b)w.indexOf(E)>=0||Object.prototype.hasOwnProperty.call(b,E)&&(k[E]=b[E]);return k}var x={bgColor:n.default.oneOfType([n.default.object,n.default.string]),fgColor:n.default.oneOfType([n.default.object,n.default.string]),level:n.default.string,size:n.default.number,value:n.default.string.isRequired},_=(0,l.forwardRef)(function(b,w){var k=b.bgColor,E=k===void 0?"#FFFFFF":k,P=b.fgColor,C=P===void 0?"#000000":P,O=b.level,R=O===void 0?"L":O,M=b.size,U=M===void 0?256:M,F=b.value,H=v(b,["bgColor","fgColor","level","size","value"]),B=new s.default(-1,i.default[R]);B.addData(F),B.make();var $=B.modules;return c.default.createElement(p.default,e({},H,{bgColor:E,bgD:$.map(function(G,W){return G.map(function(V,K){return V?"":"M "+K+" "+W+" l 1 0 0 1 -1 0 Z"}).join(" ")}).join(" "),fgColor:C,fgD:$.map(function(G,W){return G.map(function(V,K){return V?"M "+K+" "+W+" l 1 0 0 1 -1 0 Z":""}).join(" ")}).join(" "),ref:w,size:U,viewBoxSize:$.length}))});return rd.QRCode=_,_.displayName="QRCode",_.propTypes=x,rd.default=_,rd}var foe=doe();const hoe=Ft(foe),poe=({value:e,size:t=160,svgRef:n})=>e?o.jsx("div",{ref:n,className:"flex justify-center mt-2",children:o.jsx(hoe,{value:e,size:t})}):null;function moe(){const{t:e}=Pt();return o.jsxs(Je,{className:"border-border",children:[o.jsx(nn,{children:o.jsx(rn,{children:e("admin.timeTracking","Zeiterfassung")})}),o.jsx(et,{className:"p-4 text-muted-foreground",children:e("admin.timeTrackingUnavailable","Die Zeiterfassung ist derzeit nicht verfgbar. Bitte stellen Sie sicher, dass alle Berechtigungen korrekt gesetzt sind oder kontaktieren Sie den Support.")})]})}var Gx="Switch",[goe]=Ar(Gx),[voe,yoe]=goe(Gx),A8=S.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:a,required:s,disabled:l,value:c="on",onCheckedChange:f,form:p,...m}=e,[v,x]=S.useState(null),_=dt(t,P=>x(P)),b=S.useRef(!1),w=v?p||!!v.closest("form"):!0,[k,E]=Va({prop:i,defaultProp:a??!1,onChange:f,caller:Gx});return o.jsxs(voe,{scope:n,checked:k,disabled:l,children:[o.jsx(ze.button,{type:"button",role:"switch","aria-checked":k,"aria-required":s,"data-state":I8(k),"data-disabled":l?"":void 0,disabled:l,value:c,...m,ref:_,onClick:Ae(e.onClick,P=>{E(C=>!C),w&&(b.current=P.isPropagationStopped(),b.current||P.stopPropagation())})}),w&&o.jsx(D8,{control:v,bubbles:!b.current,name:r,value:c,checked:k,required:s,disabled:l,form:p,style:{transform:"translateX(-100%)"}})]})});A8.displayName=Gx;var R8="SwitchThumb",M8=S.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,i=yoe(R8,n);return o.jsx(ze.span,{"data-state":I8(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:t})});M8.displayName=R8;var xoe="SwitchBubbleInput",D8=S.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:r=!0,...i},a)=>{const s=S.useRef(null),l=dt(s,a),c=Fx(n),f=wx(t);return S.useEffect(()=>{const p=s.current;if(!p)return;const m=window.HTMLInputElement.prototype,x=Object.getOwnPropertyDescriptor(m,"checked").set;if(c!==n&&x){const _=new Event("click",{bubbles:r});x.call(p,n),p.dispatchEvent(_)}},[c,n,r]),o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:l,style:{...i.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});D8.displayName=xoe;function I8(e){return e?"checked":"unchecked"}var L8=A8,boe=M8;const cy=S.forwardRef(({className:e,...t},n)=>o.jsx(L8,{className:qe("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",e),...t,ref:n,children:o.jsx(boe,{className:qe("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));cy.displayName=L8.displayName;function woe(e){const{user:t}=mr(),[n,r]=S.useState(null),[i,a]=S.useState(!0),[s,l]=S.useState(null);S.useEffect(()=>{e?c(e):t?f():(r(null),a(!1))},[t,e]);async function c(v){a(!0);try{const{data:x,error:_}=await ye.from("salons").select("*").eq("id",v).maybeSingle();_?(l(_.message),r(null)):(r(x??null),l(null))}catch(x){l(x.message),r(null)}finally{a(!1)}}async function f(){if(t){a(!0);try{const{data:v,error:x}=await ye.from("salons").select("*").eq("owner_id",t.id).order("created_at",{ascending:!0}).limit(1).maybeSingle();x?(l(x.message),r(null)):(r(v??null),l(null))}catch(v){l(v.message),r(null)}finally{a(!1)}}}async function p(v){if(!n)throw new Error("Salon not loaded");const{data:x,error:_}=await ye.from("salons").update(v).eq("id",n.id).select().single();if(_)throw _;return r(x),x}async function m(){e?await c(e):await f()}return{salon:n,loading:i,error:s,fetchSalon:m,updateSalon:p}}function _oe({salonId:e}={}){const{t}=Pt(),{salon:n,loading:r,error:i,updateSalon:a}=woe(e),{reasons:s,loading:l,error:c,createReason:f,updateReason:p,deleteReason:m}=V6(n?.id),[v,x]=S.useState(""),[_,b]=S.useState(""),[w,k]=S.useState(""),[E,P]=S.useState(""),[C,O]=S.useState(""),[R,M]=S.useState(""),[U,F]=S.useState(""),[H,B]=S.useState(""),[$,G]=S.useState(!0);S.useEffect(()=>{if(n){x(n.name||""),b(n.email||""),k(n.phone||""),P(n.website||"");const re=n.street||"",ie=n.house_number||"",se=n.postal_code||"",oe=n.city||"";if(!re&&!ie&&typeof n.address=="string"&&n.address.trim().length>0){const be=n.address.trim(),[fe,xe]=be.split(",");if(fe){const ce=fe.trim().split(" "),ue=ce.pop()||"";M(ue),O(ce.join(" "))}else O(""),M("");if(xe){const ce=xe.trim().split(" "),ue=ce.shift()||"";F(ue),B(ce.join(" "))}else F(""),B("")}else O(re),M(ie),F(se),B(oe);G(n.booking_enabled??!0)}},[n]);const[W,V]=S.useState(""),[K,q]=S.useState(""),[D,Q]=S.useState({});S.useEffect(()=>{const re={};s?.forEach(ie=>{re[ie.id]={name:ie.name||"",amount:ie.default_amount?.toString()??""}}),Q(re)},[s]);const ne=async()=>{if(n)try{await a({name:v,email:_,phone:w,website:E||null,street:C||null,house_number:R||null,postal_code:U||null,city:H||null,booking_enabled:$}),ut.success(t("salonSettings.updateSuccess","Salon settings updated successfully"))}catch(re){console.error("Failed to update salon settings",re),ut.error(re.message||t("common.error"))}},J=async()=>{if(!W.trim())return;const re=parseFloat(K),ie=isNaN(re)?0:re;try{await f(W.trim(),ie),V(""),q("")}catch(se){console.error("Failed to create extra charge reason",se),ut.error(se.message||t("common.error"))}},ee=async re=>{const ie=D[re];if(!ie)return;const se=parseFloat(ie.amount),oe=isNaN(se)?0:se;try{await p(re,{name:ie.name.trim(),default_amount:oe}),ut.success(t("salonSettings.reasonUpdated","Reason updated"))}catch(be){console.error("Failed to update reason",be),ut.error(be.message||t("common.error"))}},te=async re=>{try{await m(re),ut.success(t("salonSettings.reasonDeleted","Reason deleted"))}catch(ie){console.error("Failed to delete reason",ie),ut.error(ie.message||t("common.error"))}};return r?o.jsx("p",{children:t("common.loading")}):i?o.jsx("p",{className:"text-red-500",children:i}):n?o.jsxs("div",{className:"space-y-6",children:[o.jsx("h2",{className:"text-2xl font-display font-bold",children:t("salonSettings.title","Salon Settings")}),o.jsxs(Je,{className:"border-border",children:[o.jsx(nn,{children:o.jsx(rn,{children:t("salonSettings.general","General")})}),o.jsxs(et,{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(Pe,{htmlFor:"name",children:t("salonSetup.salonName","Salon name")}),o.jsx(ke,{id:"name",value:v,onChange:re=>x(re.target.value)})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(Pe,{htmlFor:"email",children:t("auth.email")}),o.jsx(ke,{id:"email",type:"email",value:_,onChange:re=>b(re.target.value)})]}),o.jsxs("div",{children:[o.jsx(Pe,{htmlFor:"phone",children:t("auth.phone")}),o.jsx(ke,{id:"phone",type:"tel",value:w,onChange:re=>k(re.target.value)})]})]}),o.jsxs("div",{children:[o.jsx(Pe,{htmlFor:"website",children:t("salonSettings.website","Website")}),o.jsx(ke,{id:"website",value:E,onChange:re=>P(re.target.value),placeholder:"https://..."})]})]})]}),o.jsxs(Je,{className:"border-border",children:[o.jsx(nn,{children:o.jsx(rn,{children:t("salonSettings.address","Address")})}),o.jsxs(et,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(Pe,{htmlFor:"street",children:t("customersPage.street","Street")}),o.jsx(ke,{id:"street",value:C,onChange:re=>O(re.target.value)})]}),o.jsxs("div",{children:[o.jsx(Pe,{htmlFor:"houseNumber",children:t("customersPage.houseNumber","House number")}),o.jsx(ke,{id:"houseNumber",value:R,onChange:re=>M(re.target.value)})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(Pe,{htmlFor:"postalCode",children:t("customersPage.postalCode","Postal code")}),o.jsx(ke,{id:"postalCode",value:U,onChange:re=>F(re.target.value)})]}),o.jsxs("div",{children:[o.jsx(Pe,{htmlFor:"city",children:t("customersPage.city","City")}),o.jsx(ke,{id:"city",value:H,onChange:re=>B(re.target.value)})]})]})]})]}),o.jsxs(Je,{className:"border-border",children:[o.jsx(nn,{children:o.jsx(rn,{children:t("salonSettings.booking","Booking")})}),o.jsxs(et,{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(Pe,{htmlFor:"bookingEnabled",className:"font-medium",children:t("salonSettings.bookingEnabled","Enable public booking")}),o.jsx(cy,{id:"bookingEnabled",checked:$,onCheckedChange:re=>G(re)})]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:t("salonSettings.bookingExplanation","If disabled, customers cannot book appointments themselves. Staff can still create appointments internally.")})]})]}),o.jsxs(Je,{className:"border-border",children:[o.jsx(nn,{children:o.jsx(rn,{children:t("salonSettings.extraChargeReasonsTitle","Extra charge reasons")})}),o.jsxs(et,{className:"space-y-4",children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:t("salonSettings.extraChargeReasonsDesc","Define optional reasons for additional charges that can be applied when completing an appointment.")}),o.jsxs("div",{className:"grid grid-cols-12 gap-2 items-end",children:[o.jsxs("div",{className:"col-span-5",children:[o.jsx(Pe,{htmlFor:"newReasonName",children:t("salonSettings.reasonName","Reason")}),o.jsx(ke,{id:"newReasonName",value:W,onChange:re=>V(re.target.value),placeholder:t("salonSettings.reasonNamePlaceholder","e.g. Extra color")})]}),o.jsxs("div",{className:"col-span-3",children:[o.jsx(Pe,{htmlFor:"newReasonAmount",children:t("salonSettings.defaultAmount","Amount ()")}),o.jsx(ke,{id:"newReasonAmount",type:"number",step:"0.01",value:K,onChange:re=>q(re.target.value),placeholder:"0.00"})]}),o.jsx("div",{className:"col-span-2",children:o.jsx(Se,{onClick:J,children:t("salonSettings.addReason","Add")})})]}),l?o.jsx("p",{children:t("common.loading","Loading...")}):c?o.jsx("p",{className:"text-red-500",children:c}):s&&s.length>0?o.jsx("div",{className:"space-y-3",children:s.map(re=>o.jsxs("div",{className:"grid grid-cols-12 gap-2 items-end",children:[o.jsx("div",{className:"col-span-5",children:o.jsx(ke,{value:D[re.id]?.name??"",onChange:ie=>Q(se=>({...se,[re.id]:{...se[re.id],name:ie.target.value}}))})}),o.jsx("div",{className:"col-span-3",children:o.jsx(ke,{type:"number",step:"0.01",value:D[re.id]?.amount??"",onChange:ie=>Q(se=>({...se,[re.id]:{...se[re.id],amount:ie.target.value}}))})}),o.jsxs("div",{className:"col-span-2 flex gap-2",children:[o.jsx(Se,{size:"sm",onClick:()=>ee(re.id),children:t("common.save","Save")}),o.jsx(Se,{size:"sm",variant:"destructive",onClick:()=>te(re.id),children:t("common.delete","Delete")})]})]},re.id))}):o.jsx("p",{className:"text-sm text-muted-foreground",children:t("salonSettings.noReasons","No extra charge reasons yet")})]})]}),o.jsx(Se,{onClick:ne,children:t("common.save","Save")})]}):o.jsx("p",{children:t("salonSettings.noSalon","No salon found")})}const Soe=()=>{const{t:e,i18n:t}=Pt(),{user:n,signOut:r,loading:i}=mr(),a=pr(),{toast:s}=jl(),l=t.language==="de"?qn:Cn,{isAdmin:c,salon:f,employees:p,services:m,leaveRequests:v,appointments:x,archivedAppointments:_,showWeek:b,toggleShowWeek:w,loading:k,createEmployee:E,updateEmployee:P,deleteEmployee:C,createService:O,updateService:R,deleteService:M,updateLeaveRequest:U,updateAppointment:F,completeAppointment:H}=noe(),[B,$]=S.useState("overview"),[G,W]=S.useState(!1),[V,K]=S.useState(!1),[q,D]=S.useState(null),[Q,ne]=S.useState(null),[J,ee]=S.useState(!1),[te,re]=S.useState({email:"",first_name:"",last_name:"",display_name:"",position:"",bio:"",hourly_rate:"",weekly_hours:"40"}),[ie,se]=S.useState({name:"",description:"",price:"",duration_minutes:"30",category:"",buffer_before:"",buffer_after:""}),oe=S.useRef(null);if(S.useEffect(()=>{!i&&!n&&a("/login")},[n,i,a]),S.useEffect(()=>{!k&&!c&&a("/employee-dashboard")},[c,k,a]),i||k)return o.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});if(!c)return null;const be=()=>{re({email:"",first_name:"",last_name:"",display_name:"",position:"",bio:"",hourly_rate:"",weekly_hours:"40"})},fe=async()=>{if(!f)return;const pe=await E({salon_id:f.id,display_name:te.display_name,position:te.position||null,bio:te.bio||null,hourly_rate:te.hourly_rate?parseFloat(te.hourly_rate):null,weekly_hours:parseInt(te.weekly_hours)||40},{email:te.email,first_name:te.first_name,last_name:te.last_name});pe.error?s({title:e("common.error"),description:pe.error.message,variant:"destructive"}):(s({title:e("common.success"),description:e("admin.employeeCreated")}),W(!1),be())},xe=async()=>{if(!q)return;const pe=await P(q.id,{display_name:te.display_name||null,position:te.position||null,bio:te.bio||null,hourly_rate:te.hourly_rate?parseFloat(te.hourly_rate):null,weekly_hours:parseInt(te.weekly_hours)||40});pe.error?s({title:e("common.error"),description:pe.error.message,variant:"destructive"}):(s({title:e("common.success"),description:e("admin.employeeUpdated")}),D(null),be())},ce=async pe=>{const pt=await C(pe);pt.error?s({title:e("common.error"),description:pt.error.message,variant:"destructive"}):s({title:e("common.success"),description:e("admin.employeeDeleted")})},ue=async()=>{if(!f)return;const pe=await O({salon_id:f.id,name:ie.name,description:ie.description||null,price:parseFloat(ie.price)||0,duration_minutes:parseInt(ie.duration_minutes)||30,category:ie.category||null,buffer_before:ie.buffer_before?parseInt(ie.buffer_before):0,buffer_after:ie.buffer_after?parseInt(ie.buffer_after):0});pe.error?s({title:e("common.error"),description:pe.error.message,variant:"destructive"}):(s({title:e("common.success"),description:e("admin.serviceCreated")}),K(!1),se({name:"",description:"",price:"",duration_minutes:"30",category:"",buffer_before:"",buffer_after:""}))},je=async()=>{if(!Q)return;const pe=await R(Q.id,{name:ie.name,description:ie.description||null,price:parseFloat(ie.price)||0,duration_minutes:parseInt(ie.duration_minutes)||30,category:ie.category||null,buffer_before:ie.buffer_before?parseInt(ie.buffer_before):0,buffer_after:ie.buffer_after?parseInt(ie.buffer_after):0});pe.error?s({title:e("common.error"),description:pe.error.message,variant:"destructive"}):(s({title:e("common.success"),description:e("admin.serviceUpdated")}),ne(null),se({name:"",description:"",price:"",duration_minutes:"30",category:"",buffer_before:"",buffer_after:""}))},Re=async pe=>{const pt=await M(pe);pt.error?s({title:e("common.error"),description:pt.error.message,variant:"destructive"}):s({title:e("common.success"),description:e("admin.serviceDeleted")})},Xe=async pe=>{const pt=await U(pe,"approved");pt.error?s({title:e("common.error"),description:pt.error.message,variant:"destructive"}):s({title:e("common.success"),description:e("admin.leaveApproved")})},Me=async pe=>{const pt=await U(pe,"rejected");pt.error?s({title:e("common.error"),description:pt.error.message,variant:"destructive"}):s({title:e("common.success"),description:e("admin.leaveRejected")})},tt=new Date,Wt=v.filter(pe=>pe.status==="pending"),Ht=(()=>{const{origin:pe,pathname:pt}=window.location,sn=pt.endsWith("/")&&pt!=="/"?pt.slice(0,-1):pt;return`${pe}${sn}`})(),Mt=f?`${Ht}/#/salon/${f.id}`:"",It=p.reduce((pe,pt)=>{const sn=pt.profile?`${pt.profile.first_name||""} ${pt.profile.last_name||""}`.trim():"";return pe[pt.id]=sn||pt.display_name||"Mitarbeiter",pe},{}),it=()=>{if(!oe.current)return;const pe=oe.current.querySelector("svg");if(!pe)return;const sn=new XMLSerializer().serializeToString(pe),_i=new Blob([sn],{type:"image/svg+xml;charset=utf-8"}),Yi=URL.createObjectURL(_i),Nr=f?.name?.replace(/\s+/g,"-").toLowerCase()||f?.id||"booking",On=document.createElement("a");On.href=Yi,On.download=`${Nr}-qr-code.svg`,document.body.appendChild(On),On.click(),document.body.removeChild(On),URL.revokeObjectURL(Yi)},Et=async()=>{if(Mt)if(navigator.share)try{await navigator.share({title:e("admin.shareBookingLink","Buchungslink teilen"),url:Mt}),s({title:e("common.success"),description:e("admin.linkShared","Buchungslink wurde geteilt!")})}catch{s({title:e("common.error"),description:"Link konnte nicht geteilt werden",variant:"destructive"})}else try{await navigator.clipboard.writeText(Mt),s({title:e("common.success"),description:e("admin.linkCopied","Buchungslink kopiert!")})}catch{s({title:e("common.error"),description:"Link konnte nicht kopiert werden",variant:"destructive"})}},jr=async()=>{if(Mt)try{await navigator.clipboard.writeText(Mt),ee(!0),s({title:e("common.success"),description:e("admin.linkCopied","Buchungslink kopiert!")}),setTimeout(()=>ee(!1),2e3)}catch{s({title:e("common.error"),description:"Link konnte nicht kopiert werden",variant:"destructive"})}};return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx("header",{className:"sticky top-0 z-50 bg-card border-b border-border",children:o.jsxs("div",{className:"container mx-auto px-4 h-16 flex items-center justify-between",children:[o.jsxs(Rt,{to:"/",className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-10 h-10 gradient-primary rounded-xl flex items-center justify-center",children:o.jsx(Qt,{className:"w-5 h-5 text-primary-foreground"})}),o.jsxs("span",{className:"text-lg font-display font-bold text-foreground",children:["Salon",o.jsx("span",{className:"text-primary",children:"Manager"})]})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("span",{className:"flex items-center gap-1 text-sm text-primary",children:[o.jsx(Bk,{className:"w-4 h-4"}),"Admin"]}),o.jsx(Rr,{}),o.jsx(Mr,{}),o.jsxs(Rt,{to:"/profile",className:"flex items-center gap-2 text-sm hover:underline",children:[o.jsx(Kr,{className:"w-4 h-4"}),e("nav.profile","Profil")]}),o.jsxs(Se,{variant:"ghost",size:"sm",onClick:r,children:[o.jsx(wo,{className:"w-4 h-4 mr-2"}),e("nav.logout")]})]})]})}),o.jsxs("main",{className:"container mx-auto px-4 py-8",children:[o.jsxs("div",{className:"mb-8 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-display font-bold text-foreground mb-2",children:e("admin.dashboard")}),o.jsxs("p",{className:"text-muted-foreground",children:[f?.name,"  ",Le(tt,"EEEE, d. MMMM yyyy",{locale:l})]})]}),f&&o.jsx(Je,{className:"border-border",children:o.jsx(et,{className:"p-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary/10 flex items-center justify-center",children:o.jsx(cA,{className:"w-5 h-5 text-primary"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-sm font-medium text-foreground",children:e("admin.shareBookingLink","Buchungslink teilen")}),o.jsx("p",{className:"text-xs text-muted-foreground truncate max-w-[200px]",children:Mt}),o.jsx(poe,{value:Mt,svgRef:oe})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[o.jsx(Se,{size:"sm",variant:"outline",onClick:jr,"aria-label":e("admin.copyLink","Link kopieren"),children:J?o.jsx(ya,{className:"w-4 h-4 text-sage"}):o.jsx(I9,{className:"w-4 h-4"})}),o.jsx(Se,{size:"sm",variant:"outline",onClick:Et,"aria-label":e("admin.shareLink","Link teilen"),children:o.jsx(cA,{className:"w-4 h-4"})}),o.jsx(Se,{size:"sm",variant:"outline",onClick:it,"aria-label":e("admin.downloadQr","QR-Code herunterladen"),children:o.jsx($9,{className:"w-4 h-4"})})]})]})})})]}),o.jsxs(vm,{value:B,onValueChange:$,children:[o.jsxs(_f,{className:"mb-6",children:[o.jsxs(Bn,{value:"overview",className:"gap-2",children:[o.jsx(px,{className:"w-4 h-4"}),e("admin.overview")]}),o.jsxs(Bn,{value:"employees",className:"gap-2",children:[o.jsx(sp,{className:"w-4 h-4"}),e("admin.employees")]}),o.jsxs(Bn,{value:"services",className:"gap-2",children:[o.jsx(Qt,{className:"w-4 h-4"}),e("admin.services")]}),o.jsxs(Bn,{value:"leave",className:"gap-2",children:[o.jsx(wn,{className:"w-4 h-4"}),e("admin.leaveManagement"),Wt.length>0&&o.jsx("span",{className:"ml-1 px-1.5 py-0.5 text-xs bg-rose text-rose-foreground rounded-full",children:Wt.length})]}),o.jsxs(Bn,{value:"pos",className:"gap-2",children:[o.jsx(Ed,{className:"w-4 h-4"}),e("pos.terminal")]}),o.jsxs(Bn,{value:"customers",className:"gap-2",children:[o.jsx(Kr,{className:"w-4 h-4"}),e("nav.customers","Kunden")]}),o.jsxs(Bn,{value:"time",className:"gap-2",children:[o.jsx(ba,{className:"w-4 h-4"}),e("admin.timeTracking","Zeiterfassung")]}),o.jsxs(Bn,{value:"past",className:"gap-2",children:[o.jsx(wn,{className:"w-4 h-4"}),e("dashboard.pastAppointments","Vergangene Termine")]}),o.jsxs(Bn,{value:"settings",className:"gap-2",children:[o.jsx(s3,{className:"w-4 h-4"}),e("salonSettings.title","Salon Settings")]})]}),o.jsxs(Fn,{value:"overview",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[o.jsx(Je,{className:"border-border",children:o.jsx(et,{className:"pt-6",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"w-12 h-12 rounded-xl bg-primary/10 flex items-center justify-center",children:o.jsx(wn,{className:"w-6 h-6 text-primary"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-2xl font-display font-bold text-foreground",children:x.length}),o.jsx("p",{className:"text-sm text-muted-foreground",children:e(b?"dashboard.weekAppointments":"dashboard.nextAppointments")})]})]})})}),o.jsx(Je,{className:"border-border",children:o.jsx(et,{className:"pt-6",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"w-12 h-12 rounded-xl bg-sage/10 flex items-center justify-center",children:o.jsx(sp,{className:"w-6 h-6 text-sage"})}),o.jsxs("div",{children:[o.jsxs("p",{className:"text-2xl font-display font-bold text-foreground",children:[p.filter(pe=>pe.is_active).length,"/",p.length]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:e("admin.activeEmployees")})]})]})})}),o.jsx(Je,{className:"border-border",children:o.jsx(et,{className:"pt-6",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"w-12 h-12 rounded-xl bg-gold/10 flex items-center justify-center",children:o.jsx(Qt,{className:"w-6 h-6 text-gold"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-2xl font-display font-bold text-foreground",children:m.length}),o.jsx("p",{className:"text-sm text-muted-foreground",children:e("admin.totalServices")})]})]})})}),o.jsx(Je,{className:"border-border",children:o.jsx(et,{className:"pt-6",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"w-12 h-12 rounded-xl bg-rose/10 flex items-center justify-center",children:o.jsx(wn,{className:"w-6 h-6 text-rose"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-2xl font-display font-bold text-foreground",children:Wt.length}),o.jsx("p",{className:"text-sm text-muted-foreground",children:e("admin.pendingLeave")})]})]})})})]}),o.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[o.jsx(K6,{appointments:x.map(pe=>({...pe,status:pe.status||"pending"})),showingWeek:b,onToggleWeek:w,canReschedule:!0,canReassign:!0,employees:p.map(pe=>({id:pe.id,display_name:It[pe.id]})),onUpdate:F,canComplete:!0,onComplete:H,services:m}),o.jsx(nP,{leaveRequests:Wt.map(pe=>({...pe,status:pe.status||"pending"})),showActions:!0,onApprove:Xe,onReject:Me})]})]}),o.jsx(Fn,{value:"past",children:o.jsx(k8,{appointments:_.map(pe=>({...pe,status:pe.status||"pending"}))})}),o.jsx(Fn,{value:"settings",children:o.jsx(_oe,{salonId:f?.id})}),o.jsx(Fn,{value:"customers",children:o.jsx(P8,{salonId:f?.id||null})}),o.jsxs(Fn,{value:"employees",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h2",{className:"text-xl font-display font-bold",children:e("admin.manageEmployees")}),o.jsxs(fr,{open:G,onOpenChange:W,children:[o.jsx(wp,{asChild:!0,children:o.jsxs(Se,{children:[o.jsx(Od,{className:"w-4 h-4 mr-2"}),e("admin.addEmployee")]})}),o.jsxs(Gn,{children:[o.jsx(Yn,{children:o.jsx(Zn,{children:e("admin.addEmployee")})}),o.jsxs("div",{className:"space-y-4 pt-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(Pe,{children:e("auth.firstName")}),o.jsx(ke,{value:te.first_name,onChange:pe=>re({...te,first_name:pe.target.value}),placeholder:"Max",required:!0})]}),o.jsxs("div",{children:[o.jsx(Pe,{children:e("auth.lastName")}),o.jsx(ke,{value:te.last_name,onChange:pe=>re({...te,last_name:pe.target.value}),placeholder:"Mustermann",required:!0})]})]}),o.jsxs("div",{children:[o.jsx(Pe,{children:e("staff.displayName")}),o.jsx(ke,{value:te.display_name,onChange:pe=>re({...te,display_name:pe.target.value}),placeholder:e("staff.displayNamePlaceholder"),required:!0}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:e("staff.displayNameHint")})]}),o.jsxs("div",{children:[o.jsx(Pe,{children:e("auth.email")}),o.jsx(ke,{type:"email",value:te.email,onChange:pe=>re({...te,email:pe.target.value}),placeholder:"mitarbeiter@email.de",required:!0}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:e("admin.employeeEmailHint","Der Mitarbeiter kann sich mit dieser E-Mail registrieren")})]}),o.jsxs("div",{children:[o.jsx(Pe,{children:e("staff.position")}),o.jsx(ke,{value:te.position,onChange:pe=>re({...te,position:pe.target.value}),placeholder:e("staff.positionPlaceholder")})]}),o.jsxs("div",{children:[o.jsx(Pe,{children:e("staff.bio")}),o.jsx(Wi,{value:te.bio,onChange:pe=>re({...te,bio:pe.target.value}),placeholder:e("staff.bioPlaceholder")})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(Pe,{children:e("staff.hourlyRate")}),o.jsx(ke,{type:"number",value:te.hourly_rate,onChange:pe=>re({...te,hourly_rate:pe.target.value}),placeholder:"0.00"})]}),o.jsxs("div",{children:[o.jsx(Pe,{children:e("staff.weeklyHours")}),o.jsx(ke,{type:"number",value:te.weekly_hours,onChange:pe=>re({...te,weekly_hours:pe.target.value})})]})]}),o.jsx(Se,{onClick:fe,className:"w-full",disabled:!te.email||!te.first_name||!te.display_name,children:e("common.create")})]})]})]})]}),o.jsx("div",{className:"grid gap-4",children:p.length===0?o.jsx(Je,{className:"border-border",children:o.jsx(et,{className:"py-12 text-center text-muted-foreground",children:e("admin.noEmployees")})}):p.map(pe=>o.jsx(Je,{className:"border-border",children:o.jsx(et,{className:"py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center font-medium text-primary",children:pe.display_name?.[0]||pe.profile?.first_name?.[0]||"E"}),o.jsxs("div",{children:[o.jsxs("p",{className:"font-medium text-foreground",children:[pe.profile?.first_name," ",pe.profile?.last_name]}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[e("staff.displayName"),": ",o.jsx("span",{className:"text-primary",children:pe.display_name||"-"}),pe.position&&`  ${pe.position}`]})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${pe.is_active?"bg-sage-light text-sage":"bg-muted text-muted-foreground"}`,children:pe.is_active?e("common.active"):e("common.inactive")}),o.jsx(Se,{variant:"ghost",size:"icon",onClick:()=>{D(pe),re({email:pe.profile?.email||"",first_name:pe.profile?.first_name||"",last_name:pe.profile?.last_name||"",display_name:pe.display_name||"",position:pe.position||"",bio:pe.bio||"",hourly_rate:pe.hourly_rate?.toString()||"",weekly_hours:pe.weekly_hours?.toString()||"40"})},children:o.jsx(Cd,{className:"w-4 h-4"})}),o.jsx(Se,{variant:"ghost",size:"icon",onClick:()=>ce(pe.id),children:o.jsx(uo,{className:"w-4 h-4 text-rose"})})]})]})})},pe.id))}),o.jsx(fr,{open:!!q,onOpenChange:pe=>!pe&&D(null),children:o.jsxs(Gn,{children:[o.jsx(Yn,{children:o.jsx(Zn,{children:e("admin.editEmployee")})}),o.jsxs("div",{className:"space-y-4 pt-4",children:[o.jsxs("div",{children:[o.jsx(Pe,{children:e("staff.displayName")}),o.jsx(ke,{value:te.display_name,onChange:pe=>re({...te,display_name:pe.target.value}),placeholder:e("staff.displayNamePlaceholder")}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:e("staff.displayNameHint")})]}),o.jsxs("div",{children:[o.jsx(Pe,{children:e("staff.position")}),o.jsx(ke,{value:te.position,onChange:pe=>re({...te,position:pe.target.value})})]}),o.jsxs("div",{children:[o.jsx(Pe,{children:e("staff.bio")}),o.jsx(Wi,{value:te.bio,onChange:pe=>re({...te,bio:pe.target.value})})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(Pe,{children:e("staff.hourlyRate")}),o.jsx(ke,{type:"number",value:te.hourly_rate,onChange:pe=>re({...te,hourly_rate:pe.target.value})})]}),o.jsxs("div",{children:[o.jsx(Pe,{children:e("staff.weeklyHours")}),o.jsx(ke,{type:"number",value:te.weekly_hours,onChange:pe=>re({...te,weekly_hours:pe.target.value})})]})]}),o.jsx(Se,{onClick:xe,className:"w-full",children:e("common.save")})]})]})})]}),o.jsxs(Fn,{value:"services",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h2",{className:"text-xl font-display font-bold",children:e("admin.manageServices")}),o.jsxs(fr,{open:V,onOpenChange:K,children:[o.jsx(wp,{asChild:!0,children:o.jsxs(Se,{children:[o.jsx(Od,{className:"w-4 h-4 mr-2"}),e("admin.addService")]})}),o.jsxs(Gn,{children:[o.jsx(Yn,{children:o.jsx(Zn,{children:e("admin.addService")})}),o.jsxs("div",{className:"space-y-4 pt-4",children:[o.jsxs("div",{children:[o.jsx(Pe,{children:e("services.name")}),o.jsx(ke,{value:ie.name,onChange:pe=>se({...ie,name:pe.target.value}),placeholder:e("services.namePlaceholder")})]}),o.jsxs("div",{children:[o.jsx(Pe,{children:e("services.description")}),o.jsx(Wi,{value:ie.description,onChange:pe=>se({...ie,description:pe.target.value})})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsxs(Pe,{children:[e("services.price")," ()"]}),o.jsx(ke,{type:"number",value:ie.price,onChange:pe=>se({...ie,price:pe.target.value}),placeholder:"0.00"})]}),o.jsxs("div",{children:[o.jsxs(Pe,{children:[e("services.duration")," (min)"]}),o.jsx(ke,{type:"number",value:ie.duration_minutes,onChange:pe=>se({...ie,duration_minutes:pe.target.value})})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(Pe,{children:e("services.bufferBefore","Puffer vor (Min)")}),o.jsx(ke,{type:"number",min:"0",value:ie.buffer_before,onChange:pe=>se({...ie,buffer_before:pe.target.value}),placeholder:"0"})]}),o.jsxs("div",{children:[o.jsx(Pe,{children:e("services.bufferAfter","Puffer nach (Min)")}),o.jsx(ke,{type:"number",min:"0",value:ie.buffer_after,onChange:pe=>se({...ie,buffer_after:pe.target.value}),placeholder:"0"})]})]}),o.jsxs("div",{children:[o.jsx(Pe,{children:e("services.category")}),o.jsx(ke,{value:ie.category,onChange:pe=>se({...ie,category:pe.target.value}),placeholder:e("services.categoryPlaceholder")})]}),o.jsx(Se,{onClick:ue,className:"w-full",children:e("common.create")})]})]})]})]}),o.jsx("div",{className:"grid gap-4",children:m.length===0?o.jsx(Je,{className:"border-border",children:o.jsx(et,{className:"py-12 text-center text-muted-foreground",children:e("admin.noServices")})}):m.map(pe=>o.jsx(Je,{className:"border-border",children:o.jsx(et,{className:"py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-foreground",children:pe.name}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[pe.duration_minutes," min  ",pe.price.toFixed(2),pe.category&&`  ${pe.category}`]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${pe.is_active?"bg-sage-light text-sage":"bg-muted text-muted-foreground"}`,children:pe.is_active?e("common.active"):e("common.inactive")}),o.jsx(Se,{variant:"ghost",size:"icon",onClick:()=>{ne(pe),se({name:pe.name,description:pe.description||"",price:pe.price.toString(),duration_minutes:pe.duration_minutes.toString(),category:pe.category||"",buffer_before:pe.buffer_before?.toString()??"",buffer_after:pe.buffer_after?.toString()??""})},children:o.jsx(Cd,{className:"w-4 h-4"})}),o.jsx(Se,{variant:"ghost",size:"icon",onClick:()=>Re(pe.id),children:o.jsx(uo,{className:"w-4 h-4 text-rose"})})]})]})})},pe.id))}),o.jsx(fr,{open:!!Q,onOpenChange:pe=>!pe&&ne(null),children:o.jsxs(Gn,{children:[o.jsx(Yn,{children:o.jsx(Zn,{children:e("admin.editService")})}),o.jsxs("div",{className:"space-y-4 pt-4",children:[o.jsxs("div",{children:[o.jsx(Pe,{children:e("services.name")}),o.jsx(ke,{value:ie.name,onChange:pe=>se({...ie,name:pe.target.value})})]}),o.jsxs("div",{children:[o.jsx(Pe,{children:e("services.description")}),o.jsx(Wi,{value:ie.description,onChange:pe=>se({...ie,description:pe.target.value})})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsxs(Pe,{children:[e("services.price")," ()"]}),o.jsx(ke,{type:"number",value:ie.price,onChange:pe=>se({...ie,price:pe.target.value})})]}),o.jsxs("div",{children:[o.jsxs(Pe,{children:[e("services.duration")," (min)"]}),o.jsx(ke,{type:"number",value:ie.duration_minutes,onChange:pe=>se({...ie,duration_minutes:pe.target.value})})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(Pe,{children:e("services.bufferBefore","Puffer vor (Min)")}),o.jsx(ke,{type:"number",min:"0",value:ie.buffer_before,onChange:pe=>se({...ie,buffer_before:pe.target.value}),placeholder:"0"})]}),o.jsxs("div",{children:[o.jsx(Pe,{children:e("services.bufferAfter","Puffer nach (Min)")}),o.jsx(ke,{type:"number",min:"0",value:ie.buffer_after,onChange:pe=>se({...ie,buffer_after:pe.target.value}),placeholder:"0"})]})]}),o.jsxs("div",{children:[o.jsx(Pe,{children:e("services.category")}),o.jsx(ke,{value:ie.category,onChange:pe=>se({...ie,category:pe.target.value})})]}),o.jsx(Se,{onClick:je,className:"w-full",children:e("common.save")})]})]})})]}),o.jsxs(Fn,{value:"leave",children:[o.jsx("h2",{className:"text-xl font-display font-bold mb-6",children:e("admin.leaveManagement")}),o.jsx(nP,{leaveRequests:v.map(pe=>({...pe,status:pe.status||"pending"})),showActions:!0,onApprove:Xe,onReject:Me})]}),o.jsx(Fn,{value:"pos",children:f&&o.jsx(N8,{salonId:f.id,services:m.map(pe=>({id:pe.id,name:pe.name,description:pe.description,price:pe.price,duration_minutes:pe.duration_minutes,category:pe.category}))})}),o.jsx(Fn,{value:"time",children:o.jsx(moe,{})})]})]})]})};function joe(){return Cz.useSyncExternalStore(Noe,()=>!0,()=>!1)}function Noe(){return()=>{}}var zE="Avatar",[Poe]=Ar(zE),[koe,$8]=Poe(zE),B8=S.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[i,a]=S.useState("idle");return o.jsx(koe,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:a,children:o.jsx(ze.span,{...r,ref:t})})});B8.displayName=zE;var F8="AvatarImage",z8=S.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:i=()=>{},...a}=e,s=$8(F8,n),l=Eoe(r,a),c=In(f=>{i(f),s.onImageLoadingStatusChange(f)});return zn(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?o.jsx(ze.img,{...a,ref:t,src:r}):null});z8.displayName=F8;var q8="AvatarFallback",U8=S.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...i}=e,a=$8(q8,n),[s,l]=S.useState(r===void 0);return S.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>l(!0),r);return()=>window.clearTimeout(c)}},[r]),s&&a.imageLoadingStatus!=="loaded"?o.jsx(ze.span,{...i,ref:t}):null});U8.displayName=q8;function xR(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function Eoe(e,{referrerPolicy:t,crossOrigin:n}){const r=joe(),i=S.useRef(null),a=r?(i.current||(i.current=new window.Image),i.current):null,[s,l]=S.useState(()=>xR(a,e));return zn(()=>{l(xR(a,e))},[a,e]),zn(()=>{const c=m=>()=>{l(m)};if(!a)return;const f=c("loaded"),p=c("error");return a.addEventListener("load",f),a.addEventListener("error",p),t&&(a.referrerPolicy=t),typeof n=="string"&&(a.crossOrigin=n),()=>{a.removeEventListener("load",f),a.removeEventListener("error",p)}},[a,n,t]),s}var W8=B8,H8=z8,V8=U8;const K8=S.forwardRef(({className:e,...t},n)=>o.jsx(W8,{ref:n,className:qe("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));K8.displayName=W8.displayName;const G8=S.forwardRef(({className:e,...t},n)=>o.jsx(H8,{ref:n,className:qe("aspect-square h-full w-full",e),...t}));G8.displayName=H8.displayName;const Y8=S.forwardRef(({className:e,...t},n)=>o.jsx(V8,{ref:n,className:qe("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));Y8.displayName=V8.displayName;const Coe=({profile:e,onUpdate:t})=>{const{t:n}=Pt(),{user:r}=mr(),i=S.useRef(null),[a,s]=S.useState(!1),[l,c]=S.useState(!1),[f,p]=S.useState({first_name:e?.first_name||"",last_name:e?.last_name||"",phone:e?.phone||""}),m=`${f.first_name?.[0]||""}${f.last_name?.[0]||""}`.toUpperCase()||"U",v=()=>{i.current?.click()},x=async U=>{const F=U.target.files?.[0];if(!(!F||!r)){if(!F.type.startsWith("image/")){ut.error(n("profile.invalidFileType"));return}if(F.size>5*1024*1024){ut.error(n("profile.fileTooLarge"));return}s(!0);try{const H=F.name.split(".").pop(),B=`${r.id}/avatar.${H}`,{error:$}=await ye.storage.from("avatars").upload(B,F,{upsert:!0});if($)throw $;const{data:{publicUrl:G}}=ye.storage.from("avatars").getPublicUrl(B),{error:W}=await ye.from("profiles").update({avatar_url:`${G}?t=${Date.now()}`}).eq("user_id",r.id);if(W)throw W;ut.success(n("profile.avatarUpdated")),t()}catch(H){console.error("Avatar upload error:",H),ut.error(n("profile.avatarError"))}finally{s(!1)}}},_=async()=>{if(r){c(!0);try{const{error:U}=await ye.from("profiles").update({first_name:f.first_name,last_name:f.last_name,phone:f.phone}).eq("user_id",r.id);if(U)throw U;ut.success(n("profile.profileUpdated")),t()}catch(U){console.error("Profile update error:",U),ut.error(n("profile.updateError"))}finally{c(!1)}}},[b,w]=S.useState(""),[k,E]=S.useState(""),[P,C]=S.useState(""),[O,R]=S.useState(!1),M=async U=>{if(U.preventDefault(),!!r){if(k!==P){ut.error(n("auth.passwordsDoNotMatch",{defaultValue:"Die Passwrter stimmen nicht berein."}));return}R(!0);try{const{error:F}=await ye.auth.signInWithPassword({email:r.email,password:b});if(F){ut.error(n("auth.invalidCurrentPassword",{defaultValue:"Aktuelles Passwort ist ungltig."})),R(!1);return}const{error:H}=await ye.auth.updateUser({password:k});if(H){ut.error(H.message),R(!1);return}w(""),E(""),C(""),ut.success(n("auth.passwordUpdated",{defaultValue:"Passwort erfolgreich gespeichert."}))}catch(F){console.error("Change password error:",F),ut.error(n("auth.updatePasswordError",{defaultValue:"Fehler beim Aktualisieren des Passworts."}))}finally{R(!1)}}};return o.jsxs(Je,{className:"border-border",children:[o.jsx(nn,{children:o.jsxs(rn,{className:"flex items-center gap-2 text-foreground",children:[o.jsx(Kr,{className:"w-5 h-5 text-primary"}),n("profile.settings")]})}),o.jsxs(et,{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col items-center gap-4",children:[o.jsxs("div",{className:"relative",children:[o.jsxs(K8,{className:"w-24 h-24 cursor-pointer hover:opacity-80 transition-opacity",onClick:v,children:[o.jsx(G8,{src:e?.avatar_url||void 0,alt:"Avatar"}),o.jsx(Y8,{className:"text-2xl bg-primary/10 text-primary",children:m})]}),o.jsx("button",{onClick:v,disabled:a,className:"absolute bottom-0 right-0 w-8 h-8 rounded-full bg-primary text-primary-foreground flex items-center justify-center hover:bg-primary/90 transition-colors disabled:opacity-50",children:a?o.jsx(bs,{className:"w-4 h-4 animate-spin"}):o.jsx(O9,{className:"w-4 h-4"})})]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:n("profile.clickToUpload")}),o.jsx("input",{ref:i,type:"file",accept:"image/*",onChange:x,className:"hidden"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Pe,{htmlFor:"first_name",children:n("profile.firstName")}),o.jsx(ke,{id:"first_name",value:f.first_name,onChange:U=>p(F=>({...F,first_name:U.target.value})),placeholder:n("profile.firstName")})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Pe,{htmlFor:"last_name",children:n("profile.lastName")}),o.jsx(ke,{id:"last_name",value:f.last_name,onChange:U=>p(F=>({...F,last_name:U.target.value})),placeholder:n("profile.lastName")})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Pe,{htmlFor:"phone",children:n("profile.phone")}),o.jsx(ke,{id:"phone",type:"tel",value:f.phone,onChange:U=>p(F=>({...F,phone:U.target.value})),placeholder:n("profile.phone")})]}),o.jsxs(Se,{onClick:_,disabled:l,className:"w-full",children:[l?o.jsx(bs,{className:"w-4 h-4 mr-2 animate-spin"}):o.jsx(lA,{className:"w-4 h-4 mr-2"}),n("profile.save")]})]}),o.jsxs("div",{className:"space-y-4 border-t pt-6 mt-6",children:[o.jsxs("h3",{className:"text-xl font-semibold text-foreground flex items-center gap-2",children:[o.jsx(Oc,{className:"w-5 h-5 text-primary"}),n("auth.changePasswordTitle",{defaultValue:"Passwort ndern"})]}),o.jsxs("form",{onSubmit:M,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Pe,{htmlFor:"current_password",children:n("auth.currentPassword",{defaultValue:"Aktuelles Passwort"})}),o.jsx(ke,{id:"current_password",type:"password",placeholder:"",value:b,onChange:U=>w(U.target.value),required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Pe,{htmlFor:"new_password",children:n("auth.newPassword",{defaultValue:"Neues Passwort"})}),o.jsx(ke,{id:"new_password",type:"password",placeholder:"",value:k,onChange:U=>E(U.target.value),required:!0,minLength:8})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Pe,{htmlFor:"confirm_new_password",children:n("auth.confirmPassword",{defaultValue:"Passwort besttigen"})}),o.jsx(ke,{id:"confirm_new_password",type:"password",placeholder:"",value:P,onChange:U=>C(U.target.value),required:!0,minLength:8})]}),o.jsxs(Se,{type:"submit",disabled:O,className:"w-full",children:[O?o.jsx(bs,{className:"w-4 h-4 mr-2 animate-spin"}):o.jsx(lA,{className:"w-4 h-4 mr-2"}),n("auth.changePassword",{defaultValue:"Passwort ndern"})]})]})]})]})]})};function Z8(){const{user:e}=mr(),t=nE(),{data:n,isLoading:r}=Tr({queryKey:["profile",e?.id],queryFn:async()=>{if(!e)return null;const{data:s,error:l}=await ye.from("profiles").select("*").eq("user_id",e.id).single();if(l)throw l;return s},enabled:!!e}),i=DZ({mutationFn:async s=>{if(!e)throw new Error("Cannot update profile without a signedin user");const{error:l}=await ye.from("profiles").update(s).eq("user_id",e.id);if(l)throw l},onSuccess:()=>{e&&t.invalidateQueries(["profile",e.id])}});return{profile:n,loading:r,updateProfile:async s=>i.mutateAsync(s)}}var Yx="Checkbox",[Ooe]=Ar(Yx),[Toe,qE]=Ooe(Yx);function Aoe(e){const{__scopeCheckbox:t,checked:n,children:r,defaultChecked:i,disabled:a,form:s,name:l,onCheckedChange:c,required:f,value:p="on",internal_do_not_use_render:m}=e,[v,x]=Va({prop:n,defaultProp:i??!1,onChange:c,caller:Yx}),[_,b]=S.useState(null),[w,k]=S.useState(null),E=S.useRef(!1),P=_?!!s||!!_.closest("form"):!0,C={checked:v,disabled:a,setChecked:x,control:_,setControl:b,name:l,form:s,value:p,hasConsumerStoppedPropagationRef:E,required:f,defaultChecked:xl(i)?!1:i,isFormControl:P,bubbleInput:w,setBubbleInput:k};return o.jsx(Toe,{scope:t,...C,children:Roe(m)?m(C):r})}var X8="CheckboxTrigger",Q8=S.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...r},i)=>{const{control:a,value:s,disabled:l,checked:c,required:f,setControl:p,setChecked:m,hasConsumerStoppedPropagationRef:v,isFormControl:x,bubbleInput:_}=qE(X8,e),b=dt(i,p),w=S.useRef(c);return S.useEffect(()=>{const k=a?.form;if(k){const E=()=>m(w.current);return k.addEventListener("reset",E),()=>k.removeEventListener("reset",E)}},[a,m]),o.jsx(ze.button,{type:"button",role:"checkbox","aria-checked":xl(c)?"mixed":c,"aria-required":f,"data-state":rq(c),"data-disabled":l?"":void 0,disabled:l,value:s,...r,ref:b,onKeyDown:Ae(t,k=>{k.key==="Enter"&&k.preventDefault()}),onClick:Ae(n,k=>{m(E=>xl(E)?!0:!E),_&&x&&(v.current=k.isPropagationStopped(),v.current||k.stopPropagation())})})});Q8.displayName=X8;var UE=S.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:i,defaultChecked:a,required:s,disabled:l,value:c,onCheckedChange:f,form:p,...m}=e;return o.jsx(Aoe,{__scopeCheckbox:n,checked:i,defaultChecked:a,disabled:l,required:s,onCheckedChange:f,name:r,form:p,value:c,internal_do_not_use_render:({isFormControl:v})=>o.jsxs(o.Fragment,{children:[o.jsx(Q8,{...m,ref:t,__scopeCheckbox:n}),v&&o.jsx(nq,{__scopeCheckbox:n})]})})});UE.displayName=Yx;var J8="CheckboxIndicator",eq=S.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...i}=e,a=qE(J8,n);return o.jsx(_r,{present:r||xl(a.checked)||a.checked===!0,children:o.jsx(ze.span,{"data-state":rq(a.checked),"data-disabled":a.disabled?"":void 0,...i,ref:t,style:{pointerEvents:"none",...e.style}})})});eq.displayName=J8;var tq="CheckboxBubbleInput",nq=S.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:r,hasConsumerStoppedPropagationRef:i,checked:a,defaultChecked:s,required:l,disabled:c,name:f,value:p,form:m,bubbleInput:v,setBubbleInput:x}=qE(tq,e),_=dt(n,x),b=Fx(a),w=wx(r);S.useEffect(()=>{const E=v;if(!E)return;const P=window.HTMLInputElement.prototype,O=Object.getOwnPropertyDescriptor(P,"checked").set,R=!i.current;if(b!==a&&O){const M=new Event("click",{bubbles:R});E.indeterminate=xl(a),O.call(E,xl(a)?!1:a),E.dispatchEvent(M)}},[v,b,a,i]);const k=S.useRef(xl(a)?!1:a);return o.jsx(ze.input,{type:"checkbox","aria-hidden":!0,defaultChecked:s??k.current,required:l,disabled:c,name:f,value:p,form:m,...t,tabIndex:-1,ref:_,style:{...t.style,...w,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});nq.displayName=tq;function Roe(e){return typeof e=="function"}function xl(e){return e==="indeterminate"}function rq(e){return xl(e)?"indeterminate":e?"checked":"unchecked"}const Sd=S.forwardRef(({className:e,...t},n)=>o.jsx(UE,{ref:n,className:qe("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:o.jsx(eq,{className:qe("flex items-center justify-center text-current"),children:o.jsx(ya,{className:"h-4 w-4"})})}));Sd.displayName=UE.displayName;const Moe=()=>{const{profile:e,loading:t,updateProfile:n}=Z8(),{t:r}=Pt(),[i,a]=S.useState({cookie_consent:!1,privacy_consent:!1,terms_consent:!1});S.useEffect(()=>{e&&a({cookie_consent:!!e.cookie_consent,privacy_consent:!!e.privacy_consent,terms_consent:!!e.terms_consent})},[e]);const s=c=>f=>{a(p=>({...p,[c]:f}))},l=async()=>{try{await n(i),ut.success(r("consent.saved",{defaultValue:"Einwilligungen gespeichert."}))}catch(c){console.error("Failed to update consents:",c),ut.error(r("consent.saveError",{defaultValue:"Fehler beim Speichern der Einwilligungen."}))}};return t||!e?null:o.jsxs(Je,{className:"border-border",children:[o.jsx(nn,{children:o.jsx(rn,{className:"text-foreground",children:r("consent.settingsTitle",{defaultValue:"Einwilligungen"})})}),o.jsxs(et,{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(Sd,{id:"cookie_consent",checked:i.cookie_consent,onCheckedChange:s("cookie_consent")}),o.jsxs("div",{className:"space-y-1",children:[o.jsx(Pe,{htmlFor:"cookie_consent",className:"cursor-pointer",children:r("consent.cookie",{defaultValue:"Cookies akzeptieren"})}),o.jsx("p",{className:"text-sm text-muted-foreground",children:r("consent.cookieDescription",{defaultValue:"Wir verwenden Cookies, um dir ein bestmgliches Erlebnis zu bieten."})})]})]}),o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(Sd,{id:"privacy_consent",checked:i.privacy_consent,onCheckedChange:s("privacy_consent")}),o.jsxs("div",{className:"space-y-1",children:[o.jsx(Pe,{htmlFor:"privacy_consent",className:"cursor-pointer",children:r("consent.privacy",{defaultValue:"Datenschutzbestimmungen akzeptieren"})}),o.jsx("p",{className:"text-sm text-muted-foreground",children:r("consent.privacyDescription",{defaultValue:"Bitte besttige, dass du unsere Datenschutzbestimmungen gelesen hast."})})]})]}),o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(Sd,{id:"terms_consent",checked:i.terms_consent,onCheckedChange:s("terms_consent")}),o.jsxs("div",{className:"space-y-1",children:[o.jsx(Pe,{htmlFor:"terms_consent",className:"cursor-pointer",children:r("consent.terms",{defaultValue:"AGB akzeptieren"})}),o.jsx("p",{className:"text-sm text-muted-foreground",children:r("consent.termsDescription",{defaultValue:"Bitte besttige, dass du unsere Allgemeinen Geschftsbedingungen akzeptierst."})})]})]}),o.jsx(Se,{onClick:l,className:"mt-4",children:r("consent.save",{defaultValue:"Speichern"})})]})]})},Doe=()=>{const{t:e}=Pt(),{user:t,signOut:n,loading:r}=mr(),i=pr();if(!r&&!t)return i("/login"),null;const{data:a,isLoading:s,refetch:l}=Tr({queryKey:["profile",t?.id],queryFn:async()=>{if(!t)return null;const{data:c,error:f}=await ye.from("profiles").select("first_name, last_name, phone, avatar_url").eq("user_id",t.id).single();return f?(console.error("Error fetching profile:",f),null):c},enabled:!!t});return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx("header",{className:"sticky top-0 z-50 bg-card border-b border-border",children:o.jsxs("div",{className:"container mx-auto px-4 h-16 flex items-center justify-between",children:[o.jsxs(Rt,{to:"/",className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-10 h-10 gradient-primary rounded-xl flex items-center justify-center",children:o.jsx(Qt,{className:"w-5 h-5 text-primary-foreground"})}),o.jsxs("span",{className:"text-lg font-display font-bold text-foreground",children:["Salon",o.jsx("span",{className:"text-primary",children:"Manager"})]})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(Rr,{}),o.jsx(Mr,{}),o.jsxs(Rt,{to:"/profile",className:"flex items-center gap-2 text-sm hover:underline",children:[o.jsx(Kr,{className:"w-4 h-4"}),e("nav.profile","Profil")]}),o.jsxs(Se,{variant:"ghost",size:"sm",onClick:n,children:[o.jsx(wo,{className:"w-4 h-4 mr-2"}),e("nav.logout")]})]})]})}),o.jsxs("main",{className:"container mx-auto px-4 py-8 max-w-2xl",children:[o.jsx("div",{className:"mb-4",children:o.jsxs(Se,{variant:"ghost",size:"sm",onClick:()=>i(-1),className:"flex items-center gap-2",children:[o.jsx(mo,{className:"w-4 h-4"}),e("common.back")]})}),o.jsx("h1",{className:"text-3xl font-display font-bold text-foreground mb-6",children:e("profile.settings","Profil")}),s?o.jsx("div",{className:"flex justify-center items-center py-16",children:o.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-primary"})}):o.jsx(Coe,{profile:a,onUpdate:l}),o.jsx("div",{className:"mt-8",children:o.jsx(Moe,{})})]})]})},Ioe={monday:{open:"09:00",close:"18:00",closed:!1},tuesday:{open:"09:00",close:"18:00",closed:!1},wednesday:{open:"09:00",close:"18:00",closed:!1},thursday:{open:"09:00",close:"18:00",closed:!1},friday:{open:"09:00",close:"18:00",closed:!1},saturday:{open:"09:00",close:"14:00",closed:!1},sunday:{open:"09:00",close:"18:00",closed:!0}},Loe=()=>{const{t:e,i18n:t}=Pt(),{user:n}=mr(),r=pr(),[i,a]=S.useState(1),[s,l]=S.useState(!1),[c,f]=S.useState({name:"",description:"",address:"",city:"",postal_code:"",phone:"",email:""}),[p,m]=S.useState(Ioe),v=t.language==="de"?["Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag","Sonntag"]:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],x=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"],_=P=>{f({...c,[P.target.name]:P.target.value})},b=(P,C,O)=>{m({...p,[P]:{...p[P],[C]:O}})},w=async()=>{if(!n)return;l(!0);const P=`${c.address}, ${c.postal_code} ${c.city}`;async function C(O){try{const R=new URLSearchParams({q:O,format:"json",limit:"1"}),U=await(await fetch(`https://nominatim.openstreetmap.org/search?${R.toString()}`,{headers:{"Accept-Language":t.language||"de"}})).json();if(U&&U.length>0){const F=U[0];return{latitude:parseFloat(F.lat),longitude:parseFloat(F.lon)}}}catch(R){console.error("Geocoding error:",R)}return null}try{const O=await C(P),{data:R,error:M}=await ye.rpc("create_salon_with_owner",{p_name:c.name,p_description:c.description||null,p_address:c.address||null,p_city:c.city||null,p_postal_code:c.postal_code||null,p_phone:c.phone||null,p_email:c.email||null,p_opening_hours:p});if(!M&&R&&O){const{error:U}=await ye.from("salons").update({latitude:O.latitude,longitude:O.longitude}).eq("id",R);U&&console.error("Error saving coordinates:",U)}if(M)throw M;ut.success(e("salonSetup.success","Salon erfolgreich erstellt!")),r("/admin")}catch(O){console.error("Error creating salon:",O),ut.error(O.message||e("common.error"))}finally{l(!1)}},k=c.name.trim().length>0,E=c.address.trim().length>0&&c.city.trim().length>0;return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx("header",{className:"border-b border-border bg-card",children:o.jsxs("div",{className:"container mx-auto px-4 h-16 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-10 h-10 gradient-primary rounded-xl flex items-center justify-center",children:o.jsx(Qt,{className:"w-5 h-5 text-primary-foreground"})}),o.jsxs("span",{className:"text-lg font-display font-bold text-foreground",children:["Salon",o.jsx("span",{className:"text-primary",children:"Manager"})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Mr,{}),o.jsx(Rr,{})]})]})}),o.jsxs("main",{className:"container mx-auto px-4 py-12 max-w-2xl",children:[o.jsx("div",{className:"flex items-center justify-center gap-4 mb-8",children:[1,2,3].map(P=>o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-medium transition-colors ${i>=P?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground"}`,children:i>P?o.jsx(ya,{className:"w-5 h-5"}):P}),P<3&&o.jsx("div",{className:`w-12 h-1 rounded ${i>P?"bg-primary":"bg-muted"}`})]},P))}),i===1&&o.jsxs(Je,{className:"animate-fade-in",children:[o.jsxs(nn,{className:"text-center",children:[o.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-primary/10 flex items-center justify-center",children:o.jsx(E9,{className:"w-8 h-8 text-primary"})}),o.jsx(rn,{className:"text-2xl",children:e("salonSetup.step1Title","Salon Grunddaten")}),o.jsx($v,{children:e("salonSetup.step1Description","Geben Sie die grundlegenden Informationen zu Ihrem Salon ein.")})]}),o.jsxs(et,{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsxs(Pe,{htmlFor:"name",children:[e("salonSetup.salonName","Salonname")," *"]}),o.jsx(ke,{id:"name",name:"name",value:c.name,onChange:_,placeholder:e("salonSetup.salonNamePlaceholder","z.B. Hair Studio Berlin"),required:!0})]}),o.jsxs("div",{children:[o.jsx(Pe,{htmlFor:"description",children:e("salonSetup.description","Beschreibung")}),o.jsx(Wi,{id:"description",name:"description",value:c.description,onChange:_,placeholder:e("salonSetup.descriptionPlaceholder","Kurze Beschreibung Ihres Salons..."),rows:3})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsxs(Pe,{htmlFor:"phone",children:[o.jsx(vx,{className:"w-4 h-4 inline mr-1"}),e("auth.phone")]}),o.jsx(ke,{id:"phone",name:"phone",type:"tel",value:c.phone,onChange:_,placeholder:"+49 30 12345678"})]}),o.jsxs("div",{children:[o.jsxs(Pe,{htmlFor:"email",children:[o.jsx(hf,{className:"w-4 h-4 inline mr-1"}),e("auth.email")]}),o.jsx(ke,{id:"email",name:"email",type:"email",value:c.email,onChange:_,placeholder:"kontakt@salon.de"})]})]}),o.jsxs(Se,{onClick:()=>a(2),className:"w-full",disabled:!k,children:[e("common.next"),o.jsx(Ka,{className:"w-4 h-4 ml-2"})]})]})]}),i===2&&o.jsxs(Je,{className:"animate-fade-in",children:[o.jsxs(nn,{className:"text-center",children:[o.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-primary/10 flex items-center justify-center",children:o.jsx(gd,{className:"w-8 h-8 text-primary"})}),o.jsx(rn,{className:"text-2xl",children:e("salonSetup.step2Title","Adresse")}),o.jsx($v,{children:e("salonSetup.step2Description","Wo befindet sich Ihr Salon?")})]}),o.jsxs(et,{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsxs(Pe,{htmlFor:"address",children:[e("salonSetup.street","Strae & Hausnummer")," *"]}),o.jsx(ke,{id:"address",name:"address",value:c.address,onChange:_,placeholder:e("salonSetup.streetPlaceholder","Musterstrae 123"),required:!0})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsxs(Pe,{htmlFor:"postal_code",children:[e("salonSetup.postalCode","PLZ")," *"]}),o.jsx(ke,{id:"postal_code",name:"postal_code",value:c.postal_code,onChange:_,placeholder:"10115",required:!0})]}),o.jsxs("div",{children:[o.jsxs(Pe,{htmlFor:"city",children:[e("salonSetup.city","Stadt")," *"]}),o.jsx(ke,{id:"city",name:"city",value:c.city,onChange:_,placeholder:"Berlin",required:!0})]})]}),o.jsxs("div",{className:"flex gap-4",children:[o.jsxs(Se,{variant:"outline",onClick:()=>a(1),className:"flex-1",children:[o.jsx(mo,{className:"w-4 h-4 mr-2"}),e("common.back")]}),o.jsxs(Se,{onClick:()=>a(3),className:"flex-1",disabled:!E,children:[e("common.next"),o.jsx(Ka,{className:"w-4 h-4 ml-2"})]})]})]})]}),i===3&&o.jsxs(Je,{className:"animate-fade-in",children:[o.jsxs(nn,{className:"text-center",children:[o.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-primary/10 flex items-center justify-center",children:o.jsx(ba,{className:"w-8 h-8 text-primary"})}),o.jsx(rn,{className:"text-2xl",children:e("salonSetup.step3Title","ffnungszeiten")}),o.jsx($v,{children:e("salonSetup.step3Description","Wann ist Ihr Salon geffnet?")})]}),o.jsxs(et,{className:"space-y-3",children:[x.map((P,C)=>o.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50",children:[o.jsx("div",{className:"w-24 font-medium text-sm",children:v[C]}),o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:!p[P].closed,onChange:O=>b(P,"closed",!O.target.checked),className:"rounded border-border"}),o.jsx("span",{className:"text-sm text-muted-foreground",children:e("salonSetup.open","Geffnet")})]}),!p[P].closed&&o.jsxs(o.Fragment,{children:[o.jsx(ke,{type:"time",value:p[P].open,onChange:O=>b(P,"open",O.target.value),className:"w-28"}),o.jsx("span",{className:"text-muted-foreground",children:"-"}),o.jsx(ke,{type:"time",value:p[P].close,onChange:O=>b(P,"close",O.target.value),className:"w-28"})]}),p[P].closed&&o.jsx("span",{className:"text-sm text-muted-foreground italic",children:e("salonSetup.closed","Geschlossen")})]},P)),o.jsxs("div",{className:"flex gap-4 pt-4",children:[o.jsxs(Se,{variant:"outline",onClick:()=>a(2),className:"flex-1",children:[o.jsx(mo,{className:"w-4 h-4 mr-2"}),e("common.back")]}),o.jsxs(Se,{onClick:w,className:"flex-1",disabled:s,children:[s?e("common.loading"):e("salonSetup.createSalon","Salon erstellen"),o.jsx(ya,{className:"w-4 h-4 ml-2"})]})]})]})]})]})]})};function $oe({appointments:e,onAppointmentClick:t,onDateClick:n}){const{t:r,i18n:i}=Pt(),a=i.language==="de"?qn:Cn,[s,l]=S.useState(new Date),[c,f]=S.useState("week"),p=Array.from({length:12},(E,P)=>P+8),m=()=>{l(c==="week"?cae(s):lae(s))},v=()=>{l(c==="week"?Lc(s,1):Gi(s,1))},x=()=>{l(new Date)},_=S.useMemo(()=>{if(c==="week"){const E=Gr(s,{weekStartsOn:1}),P=yl(s,{weekStartsOn:1});return GN({start:E,end:P})}else{const E=Yr(s),P=gm(s),C=Gr(E,{weekStartsOn:1}),O=yl(P,{weekStartsOn:1});return GN({start:C,end:O})}},[s,c]),b=E=>e.filter(P=>{const C=xi(P.start_time);return Kn(C,E)}),w=E=>{const P=xi(E.start_time),C=xi(E.end_time),O=J2(P)+eR(P)/60,R=J2(C)+eR(C)/60,M=(O-8)/12*100,U=(R-O)/12*100;return{top:`${M}%`,height:`${U}%`}},k=E=>{switch(E){case"confirmed":return"bg-sage/80 border-sage";case"pending":return"bg-gold/80 border-gold";case"cancelled":return"bg-rose/80 border-rose";case"completed":return"bg-muted border-muted-foreground";default:return"bg-primary/80 border-primary"}};return o.jsxs(Je,{className:"border-border h-full",children:[o.jsx(nn,{className:"pb-3",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(rn,{className:"flex items-center gap-2 text-lg font-display",children:[o.jsx(wn,{className:"w-5 h-5 text-primary"}),c==="week"?`${Le(_[0],"d. MMM",{locale:a})} - ${Le(_[6],"d. MMM yyyy",{locale:a})}`:Le(s,"MMMM yyyy",{locale:a})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Se,{variant:"outline",size:"sm",onClick:x,children:r("common.today")}),o.jsxs("div",{className:"flex border rounded-lg overflow-hidden",children:[o.jsx(Se,{variant:c==="week"?"default":"ghost",size:"sm",className:"rounded-none",onClick:()=>f("week"),children:o.jsx(V9,{className:"w-4 h-4"})}),o.jsx(Se,{variant:c==="month"?"default":"ghost",size:"sm",className:"rounded-none",onClick:()=>f("month"),children:o.jsx(q9,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"flex",children:[o.jsx(Se,{variant:"ghost",size:"icon",onClick:m,children:o.jsx(mo,{className:"w-4 h-4"})}),o.jsx(Se,{variant:"ghost",size:"icon",onClick:v,children:o.jsx(Ka,{className:"w-4 h-4"})})]})]})]})}),o.jsx(et,{className:"p-0",children:c==="week"?o.jsxs("div",{className:"flex flex-col h-[600px]",children:[o.jsxs("div",{className:"grid grid-cols-8 border-b border-border",children:[o.jsx("div",{className:"p-2 text-xs text-muted-foreground text-center border-r border-border",children:r("time.hours")}),_.map((E,P)=>o.jsxs("div",{className:`p-2 text-center border-r border-border last:border-r-0 cursor-pointer hover:bg-muted/50 ${mv(E)?"bg-primary/10":""}`,onClick:()=>n?.(E),children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:Le(E,"EEE",{locale:a})}),o.jsx("p",{className:`text-lg font-semibold ${mv(E)?"text-primary":"text-foreground"}`,children:Le(E,"d")})]},P))]}),o.jsx("div",{className:"flex-1 overflow-auto",children:o.jsxs("div",{className:"grid grid-cols-8 relative",style:{minHeight:"720px"},children:[o.jsx("div",{className:"border-r border-border",children:p.map(E=>o.jsx("div",{className:"h-[60px] border-b border-border p-1 text-xs text-muted-foreground text-right pr-2",children:`${E}:00`},E))}),_.map((E,P)=>{const C=b(E);return o.jsxs("div",{className:"relative border-r border-border last:border-r-0",onClick:()=>n?.(E),children:[p.map(O=>o.jsx("div",{className:"h-[60px] border-b border-border hover:bg-muted/30"},O)),C.map(O=>{const R=w(O);return o.jsxs("div",{className:`absolute left-1 right-1 rounded-md p-1 cursor-pointer border-l-4 text-xs overflow-hidden ${k(O.status)}`,style:{top:R.top,height:R.height,minHeight:"20px"},onClick:M=>{M.stopPropagation(),t?.(O)},children:[o.jsx("p",{className:"font-medium text-foreground truncate",children:Le(xi(O.start_time),"HH:mm")}),o.jsx("p",{className:"truncate text-foreground/80",children:O.guest_name||O.service?.name||"-"})]},O.id)})]},P)})]})})]}):o.jsxs("div",{className:"grid grid-cols-7 gap-px bg-border",children:[["Mo","Di","Mi","Do","Fr","Sa","So"].map((E,P)=>o.jsx("div",{className:"bg-card p-2 text-center text-sm font-medium text-muted-foreground",children:i.language==="de"?E:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"][P]},P)),_.map((E,P)=>{const C=b(E),O=Bx(E,s);return o.jsxs("div",{className:`bg-card min-h-[100px] p-1 cursor-pointer hover:bg-muted/50 ${O?"":"opacity-40"} ${mv(E)?"ring-2 ring-primary ring-inset":""}`,onClick:()=>n?.(E),children:[o.jsx("p",{className:`text-sm font-medium mb-1 ${mv(E)?"text-primary":"text-foreground"}`,children:Le(E,"d")}),o.jsxs("div",{className:"space-y-1",children:[C.slice(0,3).map(R=>o.jsxs("div",{className:`text-xs p-1 rounded truncate cursor-pointer ${k(R.status)}`,onClick:M=>{M.stopPropagation(),t?.(R)},children:[Le(xi(R.start_time),"HH:mm")," ",R.guest_name||R.service?.name]},R.id)),C.length>3&&o.jsxs("p",{className:"text-xs text-muted-foreground",children:["+",C.length-3," ",r("common.more")]})]})]},P)})]})})]})}function Boe({appointment:e,open:t,onClose:n,onApprove:r,onReject:i,onSuggestNewTime:a,canApprove:s=!1}){const{t:l,i18n:c}=Pt(),f=c.language==="de"?qn:Cn,[p,m]=S.useState(!1),[v,x]=S.useState(!1),[_,b]=S.useState(""),[w,k]=S.useState(""),[E,P]=S.useState("");if(!e)return null;const C=async()=>{m(!0),await r?.(e.id),m(!1),n()},O=async()=>{m(!0),await i?.(e.id,E),m(!1),n()},R=async()=>{if(!_||!w)return;m(!0);const U=`${_}T${w}:00`;await a?.(e.id,U),m(!1),x(!1),n()},M=U=>{switch(U){case"confirmed":return o.jsx(Or,{className:"bg-sage text-sage-foreground",children:l("appointments.confirmed")});case"pending":return o.jsx(Or,{className:"bg-gold text-gold-foreground",children:l("appointments.pending")});case"cancelled":return o.jsx(Or,{className:"bg-rose text-rose-foreground",children:l("appointments.cancelled")});case"completed":return o.jsx(Or,{variant:"secondary",children:l("appointments.completed")});default:return o.jsx(Or,{variant:"outline",children:U||"Unknown"})}};return o.jsx(fr,{open:t,onOpenChange:n,children:o.jsxs(Gn,{className:"max-w-md",children:[o.jsx(Yn,{children:o.jsxs(Zn,{className:"flex items-center justify-between",children:[o.jsx("span",{children:l("appointments.details")}),M(e.status)]})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50",children:[o.jsx(wn,{className:"w-5 h-5 text-primary"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-foreground",children:Le(xi(e.start_time),"EEEE, d. MMMM yyyy",{locale:f})}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[Le(xi(e.start_time),"HH:mm")," - ",Le(xi(e.end_time),"HH:mm")]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Kr,{className:"w-4 h-4 text-muted-foreground"}),o.jsx("span",{className:"font-medium",children:e.guest_name||l("dashboard.anonymousCustomer")})]}),e.guest_email&&o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(hf,{className:"w-4 h-4"}),o.jsx("span",{children:e.guest_email})]}),e.guest_phone&&o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(vx,{className:"w-4 h-4"}),o.jsx("span",{children:e.guest_phone})]})]}),e.service&&o.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50",children:[o.jsx(Qt,{className:"w-5 h-5 text-primary"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"font-medium text-foreground",children:e.service.name}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[e.service.duration_minutes," min"]})]}),o.jsxs("span",{className:"font-semibold text-foreground",children:["",(e.price||e.service.price||0).toFixed(2)]})]}),e.notes&&o.jsxs("div",{className:"p-3 rounded-lg bg-muted/50",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(ud,{className:"w-4 h-4 text-muted-foreground"}),o.jsx("span",{className:"text-sm font-medium",children:l("appointments.notes")})]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:e.notes})]}),v&&o.jsxs("div",{className:"space-y-3 p-3 rounded-lg border border-border",children:[o.jsx("p",{className:"font-medium text-sm",children:l("calendar.suggestNewTime")}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{children:[o.jsx(Pe,{children:l("dashboard.startDate")}),o.jsx(ke,{type:"date",value:_,onChange:U=>b(U.target.value)})]}),o.jsxs("div",{children:[o.jsx(Pe,{children:l("time.hours")}),o.jsx(ke,{type:"time",value:w,onChange:U=>k(U.target.value)})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(Se,{size:"sm",onClick:R,disabled:p,children:l("common.submit")}),o.jsx(Se,{size:"sm",variant:"ghost",onClick:()=>x(!1),children:l("common.cancel")})]})]}),e.status==="pending"&&s&&!v&&o.jsxs("div",{className:"space-y-2",children:[o.jsx(Pe,{children:l("calendar.rejectReason")}),o.jsx(Wi,{value:E,onChange:U=>P(U.target.value),placeholder:l("calendar.rejectReasonPlaceholder"),rows:2})]}),e.status==="pending"&&s&&o.jsxs("div",{className:"flex gap-2 pt-2",children:[o.jsxs(Se,{className:"flex-1",onClick:C,disabled:p,children:[o.jsx(ya,{className:"w-4 h-4 mr-2"}),l("calendar.approve")]}),o.jsxs(Se,{variant:"outline",onClick:()=>x(!0),disabled:p||v,children:[o.jsx(ba,{className:"w-4 h-4 mr-2"}),l("calendar.suggestTime")]}),o.jsxs(Se,{variant:"destructive",onClick:O,disabled:p,children:[o.jsx(pf,{className:"w-4 h-4 mr-2"}),l("calendar.reject")]})]})]})]})})}const Foe=()=>{const{t:e}=Pt(),{user:t,signOut:n,loading:r}=mr(),i=pr(),{toast:a}=jl(),[s,l]=S.useState([]),[c,f]=S.useState(!0),[p,m]=S.useState(null),[v,x]=S.useState(!1),[_,b]=S.useState(null);S.useEffect(()=>{!r&&!t?i("/login"):t&&w()},[t,r,i]);const w=async()=>{if(t){f(!0);try{const{data:C}=await ye.from("employees").select("id, salon_id").eq("user_id",t.id).maybeSingle();if(C){x(!0),b(C.id);const{data:O}=await ye.from("appointments").select(`
            *,
            service:services(name, duration_minutes, price)
          `).eq("employee_id",C.id).order("start_time",{ascending:!0});l(O||[])}else{const{data:O}=await ye.from("user_roles").select("role").eq("user_id",t.id).eq("role","admin").maybeSingle();if(O){const{data:R}=await ye.from("appointments").select(`
              *,
              service:services(name, duration_minutes, price)
            `).order("start_time",{ascending:!0});l(R||[])}}}catch(C){console.error("Error fetching data:",C)}finally{f(!1)}}},k=async C=>{const{error:O}=await ye.from("appointments").update({status:"confirmed"}).eq("id",C);O?a({title:e("common.error"),description:O.message,variant:"destructive"}):(a({title:e("common.success"),description:e("calendar.appointmentApproved")}),l(s.map(R=>R.id===C?{...R,status:"confirmed"}:R)))},E=async(C,O)=>{const{error:R}=await ye.from("appointments").update({status:"cancelled",notes:O||null}).eq("id",C);R?a({title:e("common.error"),description:R.message,variant:"destructive"}):(a({title:e("common.success"),description:e("calendar.appointmentRejected")}),l(s.map(M=>M.id===C?{...M,status:"cancelled"}:M)))},P=async(C,O)=>{const R=s.find(B=>B.id===C);if(!R)return;const M=R.service?.duration_minutes||30,U=new Date(O),F=new Date(U.getTime()+M*6e4),{error:H}=await ye.from("appointments").update({start_time:U.toISOString(),end_time:F.toISOString(),status:"pending",notes:`${R.notes||""}
[Neue Zeit vorgeschlagen]`}).eq("id",C);H?a({title:e("common.error"),description:H.message,variant:"destructive"}):(a({title:e("common.success"),description:e("calendar.newTimeSuggested")}),w())};return r||c?o.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx("header",{className:"sticky top-0 z-50 bg-card border-b border-border",children:o.jsxs("div",{className:"container mx-auto px-4 h-16 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(Se,{variant:"ghost",size:"icon",onClick:()=>i(-1),children:o.jsx(ff,{className:"w-5 h-5"})}),o.jsxs(Rt,{to:"/",className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-10 h-10 gradient-primary rounded-xl flex items-center justify-center",children:o.jsx(Qt,{className:"w-5 h-5 text-primary-foreground"})}),o.jsxs("span",{className:"text-lg font-display font-bold text-foreground",children:["Salon",o.jsx("span",{className:"text-primary",children:"Manager"})]})]})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(Rr,{}),o.jsx(Mr,{}),o.jsxs(Se,{variant:"ghost",size:"sm",onClick:n,children:[o.jsx(wo,{className:"w-4 h-4 mr-2"}),e("nav.logout")]})]})]})}),o.jsxs("main",{className:"container mx-auto px-4 py-6",children:[o.jsx("h1",{className:"text-2xl font-display font-bold text-foreground mb-6",children:e("nav.calendar")}),o.jsx($oe,{appointments:s,onAppointmentClick:C=>m(C)}),o.jsx(Boe,{appointment:p,open:!!p,onClose:()=>m(null),onApprove:k,onReject:E,onSuggestNewTime:P,canApprove:v})]})]})};var WE="Progress",HE=100,[zoe]=Ar(WE),[qoe,Uoe]=zoe(WE),iq=S.forwardRef((e,t)=>{const{__scopeProgress:n,value:r=null,max:i,getValueLabel:a=Woe,...s}=e;(i||i===0)&&!bR(i)&&console.error(Hoe(`${i}`,"Progress"));const l=bR(i)?i:HE;r!==null&&!wR(r,l)&&console.error(Voe(`${r}`,"Progress"));const c=wR(r,l)?r:null,f=uy(c)?a(c,l):void 0;return o.jsx(qoe,{scope:n,value:c,max:l,children:o.jsx(ze.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":uy(c)?c:void 0,"aria-valuetext":f,role:"progressbar","data-state":oq(c,l),"data-value":c??void 0,"data-max":l,...s,ref:t})})});iq.displayName=WE;var aq="ProgressIndicator",sq=S.forwardRef((e,t)=>{const{__scopeProgress:n,...r}=e,i=Uoe(aq,n);return o.jsx(ze.div,{"data-state":oq(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...r,ref:t})});sq.displayName=aq;function Woe(e,t){return`${Math.round(e/t*100)}%`}function oq(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function uy(e){return typeof e=="number"}function bR(e){return uy(e)&&!isNaN(e)&&e>0}function wR(e,t){return uy(e)&&!isNaN(e)&&e<=t&&e>=0}function Hoe(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${HE}\`.`}function Voe(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${HE} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var lq=iq,Koe=sq;const cq=S.forwardRef(({className:e,value:t,...n},r)=>o.jsx(lq,{ref:r,className:qe("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...n,children:o.jsx(Koe,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));cq.displayName=lq.displayName;const Goe=()=>{const{t:e,i18n:t}=Pt(),{user:n,signOut:r,loading:i}=mr(),a=pr(),{toast:s}=jl(),l=t.language==="de"?qn:Cn,[c,f]=S.useState([]),[p,m]=S.useState(!0),[v,x]=S.useState(null),[_,b]=S.useState(""),[w,k]=S.useState(!1),[E,P]=S.useState(null),[C,O]=S.useState({name:"",description:"",quantity:"",min_quantity:"5",price:"",unit:"Stck",expiry_date:""});S.useEffect(()=>{!i&&!n?a("/login"):n&&R()},[n,i,a]);const R=async()=>{if(n){m(!0);try{const{data:V}=await ye.from("employees").select("salon_id").eq("user_id",n.id).maybeSingle();let K=V?.salon_id;if(!K){const{data:q}=await ye.from("salons").select("id").eq("owner_id",n.id).maybeSingle();K=q?.id}if(K){x(K);const{data:q}=await ye.from("inventory").select("*").eq("salon_id",K).order("name",{ascending:!0});f(q||[])}}catch(V){console.error("Error fetching inventory:",V)}finally{m(!1)}}},M=async()=>{if(!v||!C.name)return;const{data:V,error:K}=await ye.from("inventory").insert({salon_id:v,name:C.name,description:C.description||null,quantity:parseInt(C.quantity)||0,min_quantity:parseInt(C.min_quantity)||5,price:parseFloat(C.price)||null,unit:C.unit||"Stck",expiry_date:C.expiry_date||null}).select().single();K?s({title:e("common.error"),description:K.message,variant:"destructive"}):(s({title:e("common.success"),description:e("inventory.itemCreated")}),f([...c,V]),H(),k(!1))},U=async()=>{if(!E)return;const{data:V,error:K}=await ye.from("inventory").update({name:C.name,description:C.description||null,quantity:parseInt(C.quantity)||0,min_quantity:parseInt(C.min_quantity)||5,price:parseFloat(C.price)||null,unit:C.unit||"Stck",expiry_date:C.expiry_date||null}).eq("id",E.id).select().single();K?s({title:e("common.error"),description:K.message,variant:"destructive"}):(s({title:e("common.success"),description:e("inventory.itemUpdated")}),f(c.map(q=>q.id===E.id?V:q)),H(),P(null))},F=async V=>{const{error:K}=await ye.from("inventory").delete().eq("id",V);K?s({title:e("common.error"),description:K.message,variant:"destructive"}):(s({title:e("common.success"),description:e("inventory.itemDeleted")}),f(c.filter(q=>q.id!==V)))},H=()=>{O({name:"",description:"",quantity:"",min_quantity:"5",price:"",unit:"Stck",expiry_date:""})},B=V=>{P(V),O({name:V.name,description:V.description||"",quantity:V.quantity?.toString()||"",min_quantity:V.min_quantity?.toString()||"5",price:V.price?.toString()||"",unit:V.unit||"Stck",expiry_date:V.expiry_date||""})},$=c.filter(V=>V.name.toLowerCase().includes(_.toLowerCase())),G=c.filter(V=>(V.quantity||0)<=(V.min_quantity||5)),W=c.filter(V=>{if(!V.expiry_date)return!1;const K=Math.ceil((new Date(V.expiry_date).getTime()-new Date().getTime())/(1e3*60*60*24));return K<=30&&K>0});return i||p?o.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx("header",{className:"sticky top-0 z-50 bg-card border-b border-border",children:o.jsxs("div",{className:"container mx-auto px-4 h-16 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(Se,{variant:"ghost",size:"icon",onClick:()=>a(-1),children:o.jsx(ff,{className:"w-5 h-5"})}),o.jsxs(Rt,{to:"/",className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-10 h-10 gradient-primary rounded-xl flex items-center justify-center",children:o.jsx(Qt,{className:"w-5 h-5 text-primary-foreground"})}),o.jsxs("span",{className:"text-lg font-display font-bold text-foreground",children:["Salon",o.jsx("span",{className:"text-primary",children:"Manager"})]})]})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(Rr,{}),o.jsx(Mr,{}),o.jsxs(Se,{variant:"ghost",size:"sm",onClick:r,children:[o.jsx(wo,{className:"w-4 h-4 mr-2"}),e("nav.logout")]})]})]})}),o.jsxs("main",{className:"container mx-auto px-4 py-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h1",{className:"text-2xl font-display font-bold text-foreground",children:e("nav.inventory")}),o.jsxs(fr,{open:w,onOpenChange:k,children:[o.jsx(wp,{asChild:!0,children:o.jsxs(Se,{onClick:H,children:[o.jsx(Od,{className:"w-4 h-4 mr-2"}),e("inventory.addItem")]})}),o.jsxs(Gn,{children:[o.jsx(Yn,{children:o.jsx(Zn,{children:e("inventory.addItem")})}),o.jsxs("div",{className:"space-y-4 pt-4",children:[o.jsxs("div",{children:[o.jsx(Pe,{children:e("inventory.name")}),o.jsx(ke,{value:C.name,onChange:V=>O({...C,name:V.target.value}),placeholder:e("inventory.namePlaceholder")})]}),o.jsxs("div",{children:[o.jsx(Pe,{children:e("inventory.description")}),o.jsx(ke,{value:C.description,onChange:V=>O({...C,description:V.target.value})})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(Pe,{children:e("inventory.quantity")}),o.jsx(ke,{type:"number",value:C.quantity,onChange:V=>O({...C,quantity:V.target.value})})]}),o.jsxs("div",{children:[o.jsx(Pe,{children:e("inventory.minQuantity")}),o.jsx(ke,{type:"number",value:C.min_quantity,onChange:V=>O({...C,min_quantity:V.target.value})})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsxs(Pe,{children:[e("inventory.price")," ()"]}),o.jsx(ke,{type:"number",step:"0.01",value:C.price,onChange:V=>O({...C,price:V.target.value})})]}),o.jsxs("div",{children:[o.jsx(Pe,{children:e("inventory.unit")}),o.jsx(ke,{value:C.unit,onChange:V=>O({...C,unit:V.target.value})})]})]}),o.jsxs("div",{children:[o.jsx(Pe,{children:e("inventory.expiryDate")}),o.jsx(ke,{type:"date",value:C.expiry_date,onChange:V=>O({...C,expiry_date:V.target.value})})]}),o.jsx(Se,{onClick:M,className:"w-full",children:e("common.create")})]})]})]})]}),(G.length>0||W.length>0)&&o.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-6",children:[G.length>0&&o.jsx(Je,{className:"border-gold bg-gold/5",children:o.jsxs(et,{className:"pt-4",children:[o.jsxs("div",{className:"flex items-center gap-2 text-gold mb-2",children:[o.jsx(fA,{className:"w-5 h-5"}),o.jsx("span",{className:"font-medium",children:e("inventory.lowStock")})]}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[G.length," ",e("inventory.itemsLowStock")]})]})}),W.length>0&&o.jsx(Je,{className:"border-rose bg-rose/5",children:o.jsxs(et,{className:"pt-4",children:[o.jsxs("div",{className:"flex items-center gap-2 text-rose mb-2",children:[o.jsx(fA,{className:"w-5 h-5"}),o.jsx("span",{className:"font-medium",children:e("inventory.expiringSoon")})]}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[W.length," ",e("inventory.itemsExpiring")]})]})})]}),o.jsxs("div",{className:"relative mb-6",children:[o.jsx($k,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),o.jsx(ke,{className:"pl-9",placeholder:e("common.search"),value:_,onChange:V=>b(V.target.value)})]}),o.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:$.length===0?o.jsx(Je,{className:"col-span-full border-border",children:o.jsx(et,{className:"py-12 text-center text-muted-foreground",children:e("inventory.noItems")})}):$.map(V=>{const K=Math.min((V.quantity||0)/(V.min_quantity||5)*100,100),q=(V.quantity||0)<=(V.min_quantity||5),D=V.expiry_date&&Math.ceil((new Date(V.expiry_date).getTime()-new Date().getTime())/(1e3*60*60*24))<=30;return o.jsxs(Je,{className:"border-border",children:[o.jsx(nn,{className:"pb-2",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{children:[o.jsx(rn,{className:"text-base",children:V.name}),V.description&&o.jsx("p",{className:"text-sm text-muted-foreground",children:V.description})]}),o.jsxs("div",{className:"flex gap-1",children:[q&&o.jsx(Or,{variant:"outline",className:"text-gold border-gold",children:e("inventory.low")}),D&&o.jsx(Or,{variant:"outline",className:"text-rose border-rose",children:e("inventory.expiring")})]})]})}),o.jsxs(et,{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("span",{className:"text-2xl font-bold text-foreground",children:[V.quantity||0," ",o.jsx("span",{className:"text-sm font-normal text-muted-foreground",children:V.unit})]}),V.price&&o.jsxs("span",{className:"text-muted-foreground",children:["",V.price.toFixed(2)]})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[o.jsx("span",{children:e("inventory.stock")}),o.jsxs("span",{children:[e("inventory.min"),": ",V.min_quantity]})]}),o.jsx(cq,{value:K,className:q?"[&>div]:bg-gold":""})]}),V.expiry_date&&o.jsxs("p",{className:"text-xs text-muted-foreground",children:[e("inventory.expires"),": ",Le(new Date(V.expiry_date),"dd.MM.yyyy",{locale:l})]}),o.jsxs("div",{className:"flex gap-2 pt-2",children:[o.jsxs(Se,{variant:"ghost",size:"sm",className:"flex-1",onClick:()=>B(V),children:[o.jsx(Cd,{className:"w-4 h-4 mr-1"}),e("common.edit")]}),o.jsx(Se,{variant:"ghost",size:"sm",className:"text-rose",onClick:()=>F(V.id),children:o.jsx(uo,{className:"w-4 h-4"})})]})]})]},V.id)})}),o.jsx(fr,{open:!!E,onOpenChange:V=>!V&&P(null),children:o.jsxs(Gn,{children:[o.jsx(Yn,{children:o.jsx(Zn,{children:e("inventory.editItem")})}),o.jsxs("div",{className:"space-y-4 pt-4",children:[o.jsxs("div",{children:[o.jsx(Pe,{children:e("inventory.name")}),o.jsx(ke,{value:C.name,onChange:V=>O({...C,name:V.target.value})})]}),o.jsxs("div",{children:[o.jsx(Pe,{children:e("inventory.description")}),o.jsx(ke,{value:C.description,onChange:V=>O({...C,description:V.target.value})})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(Pe,{children:e("inventory.quantity")}),o.jsx(ke,{type:"number",value:C.quantity,onChange:V=>O({...C,quantity:V.target.value})})]}),o.jsxs("div",{children:[o.jsx(Pe,{children:e("inventory.minQuantity")}),o.jsx(ke,{type:"number",value:C.min_quantity,onChange:V=>O({...C,min_quantity:V.target.value})})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsxs(Pe,{children:[e("inventory.price")," ()"]}),o.jsx(ke,{type:"number",step:"0.01",value:C.price,onChange:V=>O({...C,price:V.target.value})})]}),o.jsxs("div",{children:[o.jsx(Pe,{children:e("inventory.unit")}),o.jsx(ke,{value:C.unit,onChange:V=>O({...C,unit:V.target.value})})]})]}),o.jsxs("div",{children:[o.jsx(Pe,{children:e("inventory.expiryDate")}),o.jsx(ke,{type:"date",value:C.expiry_date,onChange:V=>O({...C,expiry_date:V.target.value})})]}),o.jsx(Se,{onClick:U,className:"w-full",children:e("common.save")})]})]})})]})]})};var Jw,_R;function wi(){if(_R)return Jw;_R=1;var e=Array.isArray;return Jw=e,Jw}var e_,SR;function uq(){if(SR)return e_;SR=1;var e=typeof Kg=="object"&&Kg&&Kg.Object===Object&&Kg;return e_=e,e_}var t_,jR;function Cs(){if(jR)return t_;jR=1;var e=uq(),t=typeof self=="object"&&self&&self.Object===Object&&self,n=e||t||Function("return this")();return t_=n,t_}var n_,NR;function ym(){if(NR)return n_;NR=1;var e=Cs(),t=e.Symbol;return n_=t,n_}var r_,PR;function Yoe(){if(PR)return r_;PR=1;var e=ym(),t=Object.prototype,n=t.hasOwnProperty,r=t.toString,i=e?e.toStringTag:void 0;function a(s){var l=n.call(s,i),c=s[i];try{s[i]=void 0;var f=!0}catch{}var p=r.call(s);return f&&(l?s[i]=c:delete s[i]),p}return r_=a,r_}var i_,kR;function Zoe(){if(kR)return i_;kR=1;var e=Object.prototype,t=e.toString;function n(r){return t.call(r)}return i_=n,i_}var a_,ER;function _o(){if(ER)return a_;ER=1;var e=ym(),t=Yoe(),n=Zoe(),r="[object Null]",i="[object Undefined]",a=e?e.toStringTag:void 0;function s(l){return l==null?l===void 0?i:r:a&&a in Object(l)?t(l):n(l)}return a_=s,a_}var s_,CR;function So(){if(CR)return s_;CR=1;function e(t){return t!=null&&typeof t=="object"}return s_=e,s_}var o_,OR;function Sf(){if(OR)return o_;OR=1;var e=_o(),t=So(),n="[object Symbol]";function r(i){return typeof i=="symbol"||t(i)&&e(i)==n}return o_=r,o_}var l_,TR;function VE(){if(TR)return l_;TR=1;var e=wi(),t=Sf(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,s){if(e(a))return!1;var l=typeof a;return l=="number"||l=="symbol"||l=="boolean"||a==null||t(a)?!0:r.test(a)||!n.test(a)||s!=null&&a in Object(s)}return l_=i,l_}var c_,AR;function Tl(){if(AR)return c_;AR=1;function e(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}return c_=e,c_}var u_,RR;function KE(){if(RR)return u_;RR=1;var e=_o(),t=Tl(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",a="[object Proxy]";function s(l){if(!t(l))return!1;var c=e(l);return c==r||c==i||c==n||c==a}return u_=s,u_}var d_,MR;function Xoe(){if(MR)return d_;MR=1;var e=Cs(),t=e["__core-js_shared__"];return d_=t,d_}var f_,DR;function Qoe(){if(DR)return f_;DR=1;var e=Xoe(),t=(function(){var r=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""})();function n(r){return!!t&&t in r}return f_=n,f_}var h_,IR;function dq(){if(IR)return h_;IR=1;var e=Function.prototype,t=e.toString;function n(r){if(r!=null){try{return t.call(r)}catch{}try{return r+""}catch{}}return""}return h_=n,h_}var p_,LR;function Joe(){if(LR)return p_;LR=1;var e=KE(),t=Qoe(),n=Tl(),r=dq(),i=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,s=Function.prototype,l=Object.prototype,c=s.toString,f=l.hasOwnProperty,p=RegExp("^"+c.call(f).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function m(v){if(!n(v)||t(v))return!1;var x=e(v)?p:a;return x.test(r(v))}return p_=m,p_}var m_,$R;function ele(){if($R)return m_;$R=1;function e(t,n){return t?.[n]}return m_=e,m_}var g_,BR;function eu(){if(BR)return g_;BR=1;var e=Joe(),t=ele();function n(r,i){var a=t(r,i);return e(a)?a:void 0}return g_=n,g_}var v_,FR;function Zx(){if(FR)return v_;FR=1;var e=eu(),t=e(Object,"create");return v_=t,v_}var y_,zR;function tle(){if(zR)return y_;zR=1;var e=Zx();function t(){this.__data__=e?e(null):{},this.size=0}return y_=t,y_}var x_,qR;function nle(){if(qR)return x_;qR=1;function e(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}return x_=e,x_}var b_,UR;function rle(){if(UR)return b_;UR=1;var e=Zx(),t="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(a){var s=this.__data__;if(e){var l=s[a];return l===t?void 0:l}return r.call(s,a)?s[a]:void 0}return b_=i,b_}var w_,WR;function ile(){if(WR)return w_;WR=1;var e=Zx(),t=Object.prototype,n=t.hasOwnProperty;function r(i){var a=this.__data__;return e?a[i]!==void 0:n.call(a,i)}return w_=r,w_}var __,HR;function ale(){if(HR)return __;HR=1;var e=Zx(),t="__lodash_hash_undefined__";function n(r,i){var a=this.__data__;return this.size+=this.has(r)?0:1,a[r]=e&&i===void 0?t:i,this}return __=n,__}var S_,VR;function sle(){if(VR)return S_;VR=1;var e=tle(),t=nle(),n=rle(),r=ile(),i=ale();function a(s){var l=-1,c=s==null?0:s.length;for(this.clear();++l<c;){var f=s[l];this.set(f[0],f[1])}}return a.prototype.clear=e,a.prototype.delete=t,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,S_=a,S_}var j_,KR;function ole(){if(KR)return j_;KR=1;function e(){this.__data__=[],this.size=0}return j_=e,j_}var N_,GR;function GE(){if(GR)return N_;GR=1;function e(t,n){return t===n||t!==t&&n!==n}return N_=e,N_}var P_,YR;function Xx(){if(YR)return P_;YR=1;var e=GE();function t(n,r){for(var i=n.length;i--;)if(e(n[i][0],r))return i;return-1}return P_=t,P_}var k_,ZR;function lle(){if(ZR)return k_;ZR=1;var e=Xx(),t=Array.prototype,n=t.splice;function r(i){var a=this.__data__,s=e(a,i);if(s<0)return!1;var l=a.length-1;return s==l?a.pop():n.call(a,s,1),--this.size,!0}return k_=r,k_}var E_,XR;function cle(){if(XR)return E_;XR=1;var e=Xx();function t(n){var r=this.__data__,i=e(r,n);return i<0?void 0:r[i][1]}return E_=t,E_}var C_,QR;function ule(){if(QR)return C_;QR=1;var e=Xx();function t(n){return e(this.__data__,n)>-1}return C_=t,C_}var O_,JR;function dle(){if(JR)return O_;JR=1;var e=Xx();function t(n,r){var i=this.__data__,a=e(i,n);return a<0?(++this.size,i.push([n,r])):i[a][1]=r,this}return O_=t,O_}var T_,eM;function Qx(){if(eM)return T_;eM=1;var e=ole(),t=lle(),n=cle(),r=ule(),i=dle();function a(s){var l=-1,c=s==null?0:s.length;for(this.clear();++l<c;){var f=s[l];this.set(f[0],f[1])}}return a.prototype.clear=e,a.prototype.delete=t,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,T_=a,T_}var A_,tM;function YE(){if(tM)return A_;tM=1;var e=eu(),t=Cs(),n=e(t,"Map");return A_=n,A_}var R_,nM;function fle(){if(nM)return R_;nM=1;var e=sle(),t=Qx(),n=YE();function r(){this.size=0,this.__data__={hash:new e,map:new(n||t),string:new e}}return R_=r,R_}var M_,rM;function hle(){if(rM)return M_;rM=1;function e(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}return M_=e,M_}var D_,iM;function Jx(){if(iM)return D_;iM=1;var e=hle();function t(n,r){var i=n.__data__;return e(r)?i[typeof r=="string"?"string":"hash"]:i.map}return D_=t,D_}var I_,aM;function ple(){if(aM)return I_;aM=1;var e=Jx();function t(n){var r=e(this,n).delete(n);return this.size-=r?1:0,r}return I_=t,I_}var L_,sM;function mle(){if(sM)return L_;sM=1;var e=Jx();function t(n){return e(this,n).get(n)}return L_=t,L_}var $_,oM;function gle(){if(oM)return $_;oM=1;var e=Jx();function t(n){return e(this,n).has(n)}return $_=t,$_}var B_,lM;function vle(){if(lM)return B_;lM=1;var e=Jx();function t(n,r){var i=e(this,n),a=i.size;return i.set(n,r),this.size+=i.size==a?0:1,this}return B_=t,B_}var F_,cM;function ZE(){if(cM)return F_;cM=1;var e=fle(),t=ple(),n=mle(),r=gle(),i=vle();function a(s){var l=-1,c=s==null?0:s.length;for(this.clear();++l<c;){var f=s[l];this.set(f[0],f[1])}}return a.prototype.clear=e,a.prototype.delete=t,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,F_=a,F_}var z_,uM;function fq(){if(uM)return z_;uM=1;var e=ZE(),t="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(t);var a=function(){var s=arguments,l=i?i.apply(this,s):s[0],c=a.cache;if(c.has(l))return c.get(l);var f=r.apply(this,s);return a.cache=c.set(l,f)||c,f};return a.cache=new(n.Cache||e),a}return n.Cache=e,z_=n,z_}var q_,dM;function yle(){if(dM)return q_;dM=1;var e=fq(),t=500;function n(r){var i=e(r,function(s){return a.size===t&&a.clear(),s}),a=i.cache;return i}return q_=n,q_}var U_,fM;function xle(){if(fM)return U_;fM=1;var e=yle(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=e(function(i){var a=[];return i.charCodeAt(0)===46&&a.push(""),i.replace(t,function(s,l,c,f){a.push(c?f.replace(n,"$1"):l||s)}),a});return U_=r,U_}var W_,hM;function XE(){if(hM)return W_;hM=1;function e(t,n){for(var r=-1,i=t==null?0:t.length,a=Array(i);++r<i;)a[r]=n(t[r],r,t);return a}return W_=e,W_}var H_,pM;function ble(){if(pM)return H_;pM=1;var e=ym(),t=XE(),n=wi(),r=Sf(),i=e?e.prototype:void 0,a=i?i.toString:void 0;function s(l){if(typeof l=="string")return l;if(n(l))return t(l,s)+"";if(r(l))return a?a.call(l):"";var c=l+"";return c=="0"&&1/l==-1/0?"-0":c}return H_=s,H_}var V_,mM;function hq(){if(mM)return V_;mM=1;var e=ble();function t(n){return n==null?"":e(n)}return V_=t,V_}var K_,gM;function pq(){if(gM)return K_;gM=1;var e=wi(),t=VE(),n=xle(),r=hq();function i(a,s){return e(a)?a:t(a,s)?[a]:n(r(a))}return K_=i,K_}var G_,vM;function eb(){if(vM)return G_;vM=1;var e=Sf();function t(n){if(typeof n=="string"||e(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return G_=t,G_}var Y_,yM;function QE(){if(yM)return Y_;yM=1;var e=pq(),t=eb();function n(r,i){i=e(i,r);for(var a=0,s=i.length;r!=null&&a<s;)r=r[t(i[a++])];return a&&a==s?r:void 0}return Y_=n,Y_}var Z_,xM;function mq(){if(xM)return Z_;xM=1;var e=QE();function t(n,r,i){var a=n==null?void 0:e(n,r);return a===void 0?i:a}return Z_=t,Z_}var wle=mq();const Vi=Ft(wle);var X_,bM;function _le(){if(bM)return X_;bM=1;function e(t){return t==null}return X_=e,X_}var Sle=_le();const _t=Ft(Sle);var Q_,wM;function jle(){if(wM)return Q_;wM=1;var e=_o(),t=wi(),n=So(),r="[object String]";function i(a){return typeof a=="string"||!t(a)&&n(a)&&e(a)==r}return Q_=i,Q_}var Nle=jle();const zc=Ft(Nle);var Ple=KE();const gt=Ft(Ple);var kle=Tl();const jf=Ft(kle);var J_={exports:{}},Kt={};var _M;function Ele(){if(_M)return Kt;_M=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),s=Symbol.for("react.context"),l=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),x=Symbol.for("react.offscreen"),_;_=Symbol.for("react.module.reference");function b(w){if(typeof w=="object"&&w!==null){var k=w.$$typeof;switch(k){case e:switch(w=w.type,w){case n:case i:case r:case f:case p:return w;default:switch(w=w&&w.$$typeof,w){case l:case s:case c:case v:case m:case a:return w;default:return k}}case t:return k}}}return Kt.ContextConsumer=s,Kt.ContextProvider=a,Kt.Element=e,Kt.ForwardRef=c,Kt.Fragment=n,Kt.Lazy=v,Kt.Memo=m,Kt.Portal=t,Kt.Profiler=i,Kt.StrictMode=r,Kt.Suspense=f,Kt.SuspenseList=p,Kt.isAsyncMode=function(){return!1},Kt.isConcurrentMode=function(){return!1},Kt.isContextConsumer=function(w){return b(w)===s},Kt.isContextProvider=function(w){return b(w)===a},Kt.isElement=function(w){return typeof w=="object"&&w!==null&&w.$$typeof===e},Kt.isForwardRef=function(w){return b(w)===c},Kt.isFragment=function(w){return b(w)===n},Kt.isLazy=function(w){return b(w)===v},Kt.isMemo=function(w){return b(w)===m},Kt.isPortal=function(w){return b(w)===t},Kt.isProfiler=function(w){return b(w)===i},Kt.isStrictMode=function(w){return b(w)===r},Kt.isSuspense=function(w){return b(w)===f},Kt.isSuspenseList=function(w){return b(w)===p},Kt.isValidElementType=function(w){return typeof w=="string"||typeof w=="function"||w===n||w===i||w===r||w===f||w===p||w===x||typeof w=="object"&&w!==null&&(w.$$typeof===v||w.$$typeof===m||w.$$typeof===a||w.$$typeof===s||w.$$typeof===c||w.$$typeof===_||w.getModuleId!==void 0)},Kt.typeOf=b,Kt}var SM;function Cle(){return SM||(SM=1,J_.exports=Ele()),J_.exports}var Ole=Cle(),e1,jM;function gq(){if(jM)return e1;jM=1;var e=_o(),t=So(),n="[object Number]";function r(i){return typeof i=="number"||t(i)&&e(i)==n}return e1=r,e1}var t1,NM;function Tle(){if(NM)return t1;NM=1;var e=gq();function t(n){return e(n)&&n!=+n}return t1=t,t1}var Ale=Tle();const xm=Ft(Ale);var Rle=gq();const Mle=Ft(Rle);var ri=function(t){return t===0?0:t>0?1:-1},jc=function(t){return zc(t)&&t.indexOf("%")===t.length-1},Ie=function(t){return Mle(t)&&!xm(t)},Dle=function(t){return _t(t)},hr=function(t){return Ie(t)||zc(t)},Ile=0,Nf=function(t){var n=++Ile;return"".concat(t||"").concat(n)},ii=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ie(t)&&!zc(t))return r;var a;if(jc(t)){var s=t.indexOf("%");a=n*parseFloat(t.slice(0,s))/100}else a=+t;return xm(a)&&(a=r),i&&a>n&&(a=n),a},hl=function(t){if(!t)return null;var n=Object.keys(t);return n&&n.length?t[n[0]]:null},Lle=function(t){if(!Array.isArray(t))return!1;for(var n=t.length,r={},i=0;i<n;i++)if(!r[t[i]])r[t[i]]=!0;else return!0;return!1},Fi=function(t,n){return Ie(t)&&Ie(n)?function(r){return t+r*(n-t)}:function(){return n}};function dy(e,t,n){return!e||!e.length?null:e.find(function(r){return r&&(typeof t=="function"?t(r):Vi(r,t))===n})}var $le=function(t,n){return Ie(t)&&Ie(n)?t-n:zc(t)&&zc(n)?t.localeCompare(n):t instanceof Date&&n instanceof Date?t.getTime()-n.getTime():String(t).localeCompare(String(n))};function jd(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function rP(e){"@babel/helpers - typeof";return rP=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rP(e)}var Ble=["viewBox","children"],Fle=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],PM=["points","pathLength"],n1={svg:Ble,polygon:PM,polyline:PM},JE=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],fy=function(t,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(S.isValidElement(t)&&(r=t.props),!jf(r))return null;var i={};return Object.keys(r).forEach(function(a){JE.includes(a)&&(i[a]=n||function(s){return r[a](r,s)})}),i},zle=function(t,n,r){return function(i){return t(n,r,i),null}},qc=function(t,n,r){if(!jf(t)||rP(t)!=="object")return null;var i=null;return Object.keys(t).forEach(function(a){var s=t[a];JE.includes(a)&&typeof s=="function"&&(i||(i={}),i[a]=zle(s,n,r))}),i},qle=["children"],Ule=["children"];function kM(e,t){if(e==null)return{};var n=Wle(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Wle(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function iP(e){"@babel/helpers - typeof";return iP=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},iP(e)}var EM={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},fo=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},CM=null,r1=null,eC=function e(t){if(t===CM&&Array.isArray(r1))return r1;var n=[];return S.Children.forEach(t,function(r){_t(r)||(Ole.isFragment(r)?n=n.concat(e(r.props.children)):n.push(r))}),r1=n,CM=t,n};function Ki(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(function(i){return fo(i)}):r=[fo(t)],eC(e).forEach(function(i){var a=Vi(i,"type.displayName")||Vi(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}function $i(e,t){var n=Ki(e,t);return n&&n[0]}var OM=function(t){if(!t||!t.props)return!1;var n=t.props,r=n.width,i=n.height;return!(!Ie(r)||r<=0||!Ie(i)||i<=0)},Hle=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Vle=function(t){return t&&t.type&&zc(t.type)&&Hle.indexOf(t.type)>=0},Kle=function(t){return t&&iP(t)==="object"&&"clipDot"in t},Gle=function(t,n,r,i){var a,s=(a=n1?.[i])!==null&&a!==void 0?a:[];return n.startsWith("data-")||!gt(t)&&(i&&s.includes(n)||Fle.includes(n))||r&&JE.includes(n)},ot=function(t,n,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var i=t;if(S.isValidElement(t)&&(i=t.props),!jf(i))return null;var a={};return Object.keys(i).forEach(function(s){var l;Gle((l=i)===null||l===void 0?void 0:l[s],s,n,r)&&(a[s]=i[s])}),a},aP=function e(t,n){if(t===n)return!0;var r=S.Children.count(t);if(r!==S.Children.count(n))return!1;if(r===0)return!0;if(r===1)return TM(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var a=t[i],s=n[i];if(Array.isArray(a)||Array.isArray(s)){if(!e(a,s))return!1}else if(!TM(a,s))return!1}return!0},TM=function(t,n){if(_t(t)&&_t(n))return!0;if(!_t(t)&&!_t(n)){var r=t.props||{},i=r.children,a=kM(r,qle),s=n.props||{},l=s.children,c=kM(s,Ule);return i&&l?jd(a,c)&&aP(i,l):!i&&!l?jd(a,c):!1}return!1},AM=function(t,n){var r=[],i={};return eC(t).forEach(function(a,s){if(Vle(a))r.push(a);else if(a){var l=fo(a.type),c=n[l]||{},f=c.handler,p=c.once;if(f&&(!p||!i[l])){var m=f(a,l,s);r.push(m),i[l]=!0}}}),r},Yle=function(t){var n=t&&t.type;return n&&EM[n]?EM[n]:null},Zle=function(t,n){return eC(n).indexOf(t)},Xle=["children","width","height","viewBox","className","style","title","desc"];function sP(){return sP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sP.apply(this,arguments)}function Qle(e,t){if(e==null)return{};var n=Jle(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Jle(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function oP(e){var t=e.children,n=e.width,r=e.height,i=e.viewBox,a=e.className,s=e.style,l=e.title,c=e.desc,f=Qle(e,Xle),p=i||{width:n,height:r,x:0,y:0},m=St("recharts-surface",a);return Z.createElement("svg",sP({},ot(f,!0,"svg"),{className:m,width:n,height:r,style:s,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height)}),Z.createElement("title",null,l),Z.createElement("desc",null,c),t)}var ece=["children","className"];function lP(){return lP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lP.apply(this,arguments)}function tce(e,t){if(e==null)return{};var n=nce(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function nce(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var qt=Z.forwardRef(function(e,t){var n=e.children,r=e.className,i=tce(e,ece),a=St("recharts-layer",r);return Z.createElement("g",lP({className:a},ot(i,!0),{ref:t}),n)}),Ha=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]},i1,RM;function rce(){if(RM)return i1;RM=1;function e(t,n,r){var i=-1,a=t.length;n<0&&(n=-n>a?0:a+n),r=r>a?a:r,r<0&&(r+=a),a=n>r?0:r-n>>>0,n>>>=0;for(var s=Array(a);++i<a;)s[i]=t[i+n];return s}return i1=e,i1}var a1,MM;function ice(){if(MM)return a1;MM=1;var e=rce();function t(n,r,i){var a=n.length;return i=i===void 0?a:i,!r&&i>=a?n:e(n,r,i)}return a1=t,a1}var s1,DM;function vq(){if(DM)return s1;DM=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=t+n+r,a="\\ufe0e\\ufe0f",s="\\u200d",l=RegExp("["+s+e+i+a+"]");function c(f){return l.test(f)}return s1=c,s1}var o1,IM;function ace(){if(IM)return o1;IM=1;function e(t){return t.split("")}return o1=e,o1}var l1,LM;function sce(){if(LM)return l1;LM=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=t+n+r,a="\\ufe0e\\ufe0f",s="["+e+"]",l="["+i+"]",c="\\ud83c[\\udffb-\\udfff]",f="(?:"+l+"|"+c+")",p="[^"+e+"]",m="(?:\\ud83c[\\udde6-\\uddff]){2}",v="[\\ud800-\\udbff][\\udc00-\\udfff]",x="\\u200d",_=f+"?",b="["+a+"]?",w="(?:"+x+"(?:"+[p,m,v].join("|")+")"+b+_+")*",k=b+_+w,E="(?:"+[p+l+"?",l,m,v,s].join("|")+")",P=RegExp(c+"(?="+c+")|"+E+k,"g");function C(O){return O.match(P)||[]}return l1=C,l1}var c1,$M;function oce(){if($M)return c1;$M=1;var e=ace(),t=vq(),n=sce();function r(i){return t(i)?n(i):e(i)}return c1=r,c1}var u1,BM;function lce(){if(BM)return u1;BM=1;var e=ice(),t=vq(),n=oce(),r=hq();function i(a){return function(s){s=r(s);var l=t(s)?n(s):void 0,c=l?l[0]:s.charAt(0),f=l?e(l,1).join(""):s.slice(1);return c[a]()+f}}return u1=i,u1}var d1,FM;function cce(){if(FM)return d1;FM=1;var e=lce(),t=e("toUpperCase");return d1=t,d1}var uce=cce();const tb=Ft(uce);function hn(e){return function(){return e}}const yq=Math.cos,hy=Math.sin,Qa=Math.sqrt,py=Math.PI,nb=2*py,cP=Math.PI,uP=2*cP,vc=1e-6,dce=uP-vc;function xq(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function fce(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return xq;const n=10**t;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class hce{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?xq:fce(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,a,s){this._append`C${+t},${+n},${+r},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(t,n,r,i,a){if(t=+t,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,l=this._y1,c=r-t,f=i-n,p=s-t,m=l-n,v=p*p+m*m;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(v>vc)if(!(Math.abs(m*c-f*p)>vc)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let x=r-s,_=i-l,b=c*c+f*f,w=x*x+_*_,k=Math.sqrt(b),E=Math.sqrt(v),P=a*Math.tan((cP-Math.acos((b+v-w)/(2*k*E)))/2),C=P/E,O=P/k;Math.abs(C-1)>vc&&this._append`L${t+C*p},${n+C*m}`,this._append`A${a},${a},0,0,${+(m*x>p*_)},${this._x1=t+O*c},${this._y1=n+O*f}`}}arc(t,n,r,i,a,s){if(t=+t,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),c=r*Math.sin(i),f=t+l,p=n+c,m=1^s,v=s?i-a:a-i;this._x1===null?this._append`M${f},${p}`:(Math.abs(this._x1-f)>vc||Math.abs(this._y1-p)>vc)&&this._append`L${f},${p}`,r&&(v<0&&(v=v%uP+uP),v>dce?this._append`A${r},${r},0,1,${m},${t-l},${n-c}A${r},${r},0,1,${m},${this._x1=f},${this._y1=p}`:v>vc&&this._append`A${r},${r},0,${+(v>=cP)},${m},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function tC(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new hce(t)}function nC(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function bq(e){this._context=e}bq.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function rb(e){return new bq(e)}function wq(e){return e[0]}function _q(e){return e[1]}function Sq(e,t){var n=hn(!0),r=null,i=rb,a=null,s=tC(l);e=typeof e=="function"?e:e===void 0?wq:hn(e),t=typeof t=="function"?t:t===void 0?_q:hn(t);function l(c){var f,p=(c=nC(c)).length,m,v=!1,x;for(r==null&&(a=i(x=s())),f=0;f<=p;++f)!(f<p&&n(m=c[f],f,c))===v&&((v=!v)?a.lineStart():a.lineEnd()),v&&a.point(+e(m,f,c),+t(m,f,c));if(x)return a=null,x+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:hn(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:hn(+c),l):t},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:hn(!!c),l):n},l.curve=function(c){return arguments.length?(i=c,r!=null&&(a=i(r)),l):i},l.context=function(c){return arguments.length?(c==null?r=a=null:a=i(r=c),l):r},l}function yv(e,t,n){var r=null,i=hn(!0),a=null,s=rb,l=null,c=tC(f);e=typeof e=="function"?e:e===void 0?wq:hn(+e),t=typeof t=="function"?t:hn(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?_q:hn(+n);function f(m){var v,x,_,b=(m=nC(m)).length,w,k=!1,E,P=new Array(b),C=new Array(b);for(a==null&&(l=s(E=c())),v=0;v<=b;++v){if(!(v<b&&i(w=m[v],v,m))===k)if(k=!k)x=v,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),_=v-1;_>=x;--_)l.point(P[_],C[_]);l.lineEnd(),l.areaEnd()}k&&(P[v]=+e(w,v,m),C[v]=+t(w,v,m),l.point(r?+r(w,v,m):P[v],n?+n(w,v,m):C[v]))}if(E)return l=null,E+""||null}function p(){return Sq().defined(i).curve(s).context(a)}return f.x=function(m){return arguments.length?(e=typeof m=="function"?m:hn(+m),r=null,f):e},f.x0=function(m){return arguments.length?(e=typeof m=="function"?m:hn(+m),f):e},f.x1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:hn(+m),f):r},f.y=function(m){return arguments.length?(t=typeof m=="function"?m:hn(+m),n=null,f):t},f.y0=function(m){return arguments.length?(t=typeof m=="function"?m:hn(+m),f):t},f.y1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:hn(+m),f):n},f.lineX0=f.lineY0=function(){return p().x(e).y(t)},f.lineY1=function(){return p().x(e).y(n)},f.lineX1=function(){return p().x(r).y(t)},f.defined=function(m){return arguments.length?(i=typeof m=="function"?m:hn(!!m),f):i},f.curve=function(m){return arguments.length?(s=m,a!=null&&(l=s(a)),f):s},f.context=function(m){return arguments.length?(m==null?a=l=null:l=s(a=m),f):a},f}class jq{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function pce(e){return new jq(e,!0)}function mce(e){return new jq(e,!1)}const rC={draw(e,t){const n=Qa(t/py);e.moveTo(n,0),e.arc(0,0,n,0,nb)}},gce={draw(e,t){const n=Qa(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},Nq=Qa(1/3),vce=Nq*2,yce={draw(e,t){const n=Qa(t/vce),r=n*Nq;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},xce={draw(e,t){const n=Qa(t),r=-n/2;e.rect(r,r,n,n)}},bce=.8908130915292852,Pq=hy(py/10)/hy(7*py/10),wce=hy(nb/10)*Pq,_ce=-yq(nb/10)*Pq,Sce={draw(e,t){const n=Qa(t*bce),r=wce*n,i=_ce*n;e.moveTo(0,-n),e.lineTo(r,i);for(let a=1;a<5;++a){const s=nb*a/5,l=yq(s),c=hy(s);e.lineTo(c*n,-l*n),e.lineTo(l*r-c*i,c*r+l*i)}e.closePath()}},f1=Qa(3),jce={draw(e,t){const n=-Qa(t/(f1*3));e.moveTo(0,n*2),e.lineTo(-f1*n,-n),e.lineTo(f1*n,-n),e.closePath()}},ca=-.5,ua=Qa(3)/2,dP=1/Qa(12),Nce=(dP/2+1)*3,Pce={draw(e,t){const n=Qa(t/Nce),r=n/2,i=n*dP,a=r,s=n*dP+n,l=-a,c=s;e.moveTo(r,i),e.lineTo(a,s),e.lineTo(l,c),e.lineTo(ca*r-ua*i,ua*r+ca*i),e.lineTo(ca*a-ua*s,ua*a+ca*s),e.lineTo(ca*l-ua*c,ua*l+ca*c),e.lineTo(ca*r+ua*i,ca*i-ua*r),e.lineTo(ca*a+ua*s,ca*s-ua*a),e.lineTo(ca*l+ua*c,ca*c-ua*l),e.closePath()}};function kce(e,t){let n=null,r=tC(i);e=typeof e=="function"?e:hn(e||rC),t=typeof t=="function"?t:hn(t===void 0?64:+t);function i(){let a;if(n||(n=a=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:hn(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:hn(+a),i):t},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function my(){}function gy(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function kq(e){this._context=e}kq.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:gy(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:gy(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Ece(e){return new kq(e)}function Eq(e){this._context=e}Eq.prototype={areaStart:my,areaEnd:my,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:gy(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Cce(e){return new Eq(e)}function Cq(e){this._context=e}Cq.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:gy(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Oce(e){return new Cq(e)}function Oq(e){this._context=e}Oq.prototype={areaStart:my,areaEnd:my,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Tce(e){return new Oq(e)}function zM(e){return e<0?-1:1}function qM(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),s=(n-e._y1)/(i||r<0&&-0),l=(a*i+s*r)/(r+i);return(zM(a)+zM(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(l))||0}function UM(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function h1(e,t,n){var r=e._x0,i=e._y0,a=e._x1,s=e._y1,l=(a-r)/3;e._context.bezierCurveTo(r+l,i+l*t,a-l,s-l*n,a,s)}function vy(e){this._context=e}vy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:h1(this,this._t0,UM(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,h1(this,UM(this,n=qM(this,e,t)),n);break;default:h1(this,this._t0,n=qM(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function Tq(e){this._context=new Aq(e)}(Tq.prototype=Object.create(vy.prototype)).point=function(e,t){vy.prototype.point.call(this,t,e)};function Aq(e){this._context=e}Aq.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}};function Ace(e){return new vy(e)}function Rce(e){return new Tq(e)}function Rq(e){this._context=e}Rq.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=WM(e),i=WM(t),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[s],t[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function WM(e){var t,n=e.length-1,r,i=new Array(n),a=new Array(n),s=new Array(n);for(i[0]=0,a[0]=2,s[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,a[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,a[n-1]=7,s[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/a[t-1],a[t]-=r,s[t]-=r*s[t-1];for(i[n-1]=s[n-1]/a[n-1],t=n-2;t>=0;--t)i[t]=(s[t]-i[t+1])/a[t];for(a[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function Mce(e){return new Rq(e)}function ib(e,t){this._context=e,this._t=t}ib.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function Dce(e){return new ib(e,.5)}function Ice(e){return new ib(e,0)}function Lce(e){return new ib(e,1)}function Dd(e,t){if((s=e.length)>1)for(var n=1,r,i,a=e[t[0]],s,l=a.length;n<s;++n)for(i=a,a=e[t[n]],r=0;r<l;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function fP(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function $ce(e,t){return e[t]}function Bce(e){const t=[];return t.key=e,t}function Fce(){var e=hn([]),t=fP,n=Dd,r=$ce;function i(a){var s=Array.from(e.apply(this,arguments),Bce),l,c=s.length,f=-1,p;for(const m of a)for(l=0,++f;l<c;++l)(s[l][f]=[0,+r(m,s[l].key,f,a)]).data=m;for(l=0,p=nC(t(s));l<c;++l)s[p[l]].index=l;return n(s,p),s}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:hn(Array.from(a)),i):e},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:hn(+a),i):r},i.order=function(a){return arguments.length?(t=a==null?fP:typeof a=="function"?a:hn(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(n=a??Dd,i):n},i}function zce(e,t){if((r=e.length)>0){for(var n,r,i=0,a=e[0].length,s;i<a;++i){for(s=n=0;n<r;++n)s+=e[n][i][1]||0;if(s)for(n=0;n<r;++n)e[n][i][1]/=s}Dd(e,t)}}function qce(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,a=r.length;n<a;++n){for(var s=0,l=0;s<i;++s)l+=e[s][n][1]||0;r[n][1]+=r[n][0]=-l/2}Dd(e,t)}}function Uce(e,t){if(!(!((s=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,a,s;r<a;++r){for(var l=0,c=0,f=0;l<s;++l){for(var p=e[t[l]],m=p[r][1]||0,v=p[r-1][1]||0,x=(m-v)/2,_=0;_<l;++_){var b=e[t[_]],w=b[r][1]||0,k=b[r-1][1]||0;x+=w-k}c+=m,f+=x*m}i[r-1][1]+=i[r-1][0]=n,c&&(n-=f/c)}i[r-1][1]+=i[r-1][0]=n,Dd(e,t)}}function _p(e){"@babel/helpers - typeof";return _p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_p(e)}var Wce=["type","size","sizeType"];function hP(){return hP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hP.apply(this,arguments)}function HM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function VM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?HM(Object(n),!0).forEach(function(r){Hce(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Hce(e,t,n){return t=Vce(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vce(e){var t=Kce(e,"string");return _p(t)=="symbol"?t:t+""}function Kce(e,t){if(_p(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(_p(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gce(e,t){if(e==null)return{};var n=Yce(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Yce(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var Mq={symbolCircle:rC,symbolCross:gce,symbolDiamond:yce,symbolSquare:xce,symbolStar:Sce,symbolTriangle:jce,symbolWye:Pce},Zce=Math.PI/180,Xce=function(t){var n="symbol".concat(tb(t));return Mq[n]||rC},Qce=function(t,n,r){if(n==="area")return t;switch(r){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var i=18*Zce;return 1.25*t*t*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},Jce=function(t,n){Mq["symbol".concat(tb(t))]=n},iC=function(t){var n=t.type,r=n===void 0?"circle":n,i=t.size,a=i===void 0?64:i,s=t.sizeType,l=s===void 0?"area":s,c=Gce(t,Wce),f=VM(VM({},c),{},{type:r,size:a,sizeType:l}),p=function(){var w=Xce(r),k=kce().type(w).size(Qce(a,l,r));return k()},m=f.className,v=f.cx,x=f.cy,_=ot(f,!0);return v===+v&&x===+x&&a===+a?Z.createElement("path",hP({},_,{className:St("recharts-symbols",m),transform:"translate(".concat(v,", ").concat(x,")"),d:p()})):null};iC.registerSymbol=Jce;function Id(e){"@babel/helpers - typeof";return Id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Id(e)}function pP(){return pP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pP.apply(this,arguments)}function KM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function eue(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KM(Object(n),!0).forEach(function(r){Sp(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nue(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Iq(r.key),r)}}function rue(e,t,n){return t&&nue(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function iue(e,t,n){return t=yy(t),aue(e,Dq()?Reflect.construct(t,n||[],yy(e).constructor):t.apply(e,n))}function aue(e,t){if(t&&(Id(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sue(e)}function sue(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Dq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Dq=function(){return!!e})()}function yy(e){return yy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},yy(e)}function oue(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mP(e,t)}function mP(e,t){return mP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},mP(e,t)}function Sp(e,t,n){return t=Iq(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Iq(e){var t=lue(e,"string");return Id(t)=="symbol"?t:t+""}function lue(e,t){if(Id(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Id(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var da=32,aC=(function(e){function t(){return tue(this,t),iue(this,t,arguments)}return oue(t,e),rue(t,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,a=da/2,s=da/6,l=da/3,c=r.inactive?i:r.color;if(r.type==="plainline")return Z.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:a,x2:da,y2:a,className:"recharts-legend-icon"});if(r.type==="line")return Z.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(a,"h").concat(l,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*l,",").concat(a,`
            H`).concat(da,"M").concat(2*l,",").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(l,",").concat(a),className:"recharts-legend-icon"});if(r.type==="rect")return Z.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(da/8,"h").concat(da,"v").concat(da*3/4,"h").concat(-da,"z"),className:"recharts-legend-icon"});if(Z.isValidElement(r.legendIcon)){var f=eue({},r);return delete f.legendIcon,Z.cloneElement(r.legendIcon,f)}return Z.createElement(iC,{fill:c,cx:a,cy:a,size:da,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,a=i.payload,s=i.iconSize,l=i.layout,c=i.formatter,f=i.inactiveColor,p={x:0,y:0,width:da,height:da},m={display:l==="horizontal"?"inline-block":"block",marginRight:10},v={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(x,_){var b=x.formatter||c,w=St(Sp(Sp({"recharts-legend-item":!0},"legend-item-".concat(_),!0),"inactive",x.inactive));if(x.type==="none")return null;var k=gt(x.value)?null:x.value;Ha(!gt(x.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var E=x.inactive?f:x.color;return Z.createElement("li",pP({className:w,style:m,key:"legend-item-".concat(_)},qc(r.props,x,_)),Z.createElement(oP,{width:s,height:s,viewBox:p,style:v},r.renderIcon(x)),Z.createElement("span",{className:"recharts-legend-item-text",style:{color:E}},b?b(k,x,_):k))})}},{key:"render",value:function(){var r=this.props,i=r.payload,a=r.layout,s=r.align;if(!i||!i.length)return null;var l={padding:0,margin:0,textAlign:a==="horizontal"?s:"left"};return Z.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])})(S.PureComponent);Sp(aC,"displayName","Legend");Sp(aC,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var p1,GM;function cue(){if(GM)return p1;GM=1;var e=Qx();function t(){this.__data__=new e,this.size=0}return p1=t,p1}var m1,YM;function uue(){if(YM)return m1;YM=1;function e(t){var n=this.__data__,r=n.delete(t);return this.size=n.size,r}return m1=e,m1}var g1,ZM;function due(){if(ZM)return g1;ZM=1;function e(t){return this.__data__.get(t)}return g1=e,g1}var v1,XM;function fue(){if(XM)return v1;XM=1;function e(t){return this.__data__.has(t)}return v1=e,v1}var y1,QM;function hue(){if(QM)return y1;QM=1;var e=Qx(),t=YE(),n=ZE(),r=200;function i(a,s){var l=this.__data__;if(l instanceof e){var c=l.__data__;if(!t||c.length<r-1)return c.push([a,s]),this.size=++l.size,this;l=this.__data__=new n(c)}return l.set(a,s),this.size=l.size,this}return y1=i,y1}var x1,JM;function Lq(){if(JM)return x1;JM=1;var e=Qx(),t=cue(),n=uue(),r=due(),i=fue(),a=hue();function s(l){var c=this.__data__=new e(l);this.size=c.size}return s.prototype.clear=t,s.prototype.delete=n,s.prototype.get=r,s.prototype.has=i,s.prototype.set=a,x1=s,x1}var b1,eD;function pue(){if(eD)return b1;eD=1;var e="__lodash_hash_undefined__";function t(n){return this.__data__.set(n,e),this}return b1=t,b1}var w1,tD;function mue(){if(tD)return w1;tD=1;function e(t){return this.__data__.has(t)}return w1=e,w1}var _1,nD;function $q(){if(nD)return _1;nD=1;var e=ZE(),t=pue(),n=mue();function r(i){var a=-1,s=i==null?0:i.length;for(this.__data__=new e;++a<s;)this.add(i[a])}return r.prototype.add=r.prototype.push=t,r.prototype.has=n,_1=r,_1}var S1,rD;function Bq(){if(rD)return S1;rD=1;function e(t,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(t[r],r,t))return!0;return!1}return S1=e,S1}var j1,iD;function Fq(){if(iD)return j1;iD=1;function e(t,n){return t.has(n)}return j1=e,j1}var N1,aD;function zq(){if(aD)return N1;aD=1;var e=$q(),t=Bq(),n=Fq(),r=1,i=2;function a(s,l,c,f,p,m){var v=c&r,x=s.length,_=l.length;if(x!=_&&!(v&&_>x))return!1;var b=m.get(s),w=m.get(l);if(b&&w)return b==l&&w==s;var k=-1,E=!0,P=c&i?new e:void 0;for(m.set(s,l),m.set(l,s);++k<x;){var C=s[k],O=l[k];if(f)var R=v?f(O,C,k,l,s,m):f(C,O,k,s,l,m);if(R!==void 0){if(R)continue;E=!1;break}if(P){if(!t(l,function(M,U){if(!n(P,U)&&(C===M||p(C,M,c,f,m)))return P.push(U)})){E=!1;break}}else if(!(C===O||p(C,O,c,f,m))){E=!1;break}}return m.delete(s),m.delete(l),E}return N1=a,N1}var P1,sD;function gue(){if(sD)return P1;sD=1;var e=Cs(),t=e.Uint8Array;return P1=t,P1}var k1,oD;function vue(){if(oD)return k1;oD=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(i,a){r[++n]=[a,i]}),r}return k1=e,k1}var E1,lD;function sC(){if(lD)return E1;lD=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(i){r[++n]=i}),r}return E1=e,E1}var C1,cD;function yue(){if(cD)return C1;cD=1;var e=ym(),t=gue(),n=GE(),r=zq(),i=vue(),a=sC(),s=1,l=2,c="[object Boolean]",f="[object Date]",p="[object Error]",m="[object Map]",v="[object Number]",x="[object RegExp]",_="[object Set]",b="[object String]",w="[object Symbol]",k="[object ArrayBuffer]",E="[object DataView]",P=e?e.prototype:void 0,C=P?P.valueOf:void 0;function O(R,M,U,F,H,B,$){switch(U){case E:if(R.byteLength!=M.byteLength||R.byteOffset!=M.byteOffset)return!1;R=R.buffer,M=M.buffer;case k:return!(R.byteLength!=M.byteLength||!B(new t(R),new t(M)));case c:case f:case v:return n(+R,+M);case p:return R.name==M.name&&R.message==M.message;case x:case b:return R==M+"";case m:var G=i;case _:var W=F&s;if(G||(G=a),R.size!=M.size&&!W)return!1;var V=$.get(R);if(V)return V==M;F|=l,$.set(R,M);var K=r(G(R),G(M),F,H,B,$);return $.delete(R),K;case w:if(C)return C.call(R)==C.call(M)}return!1}return C1=O,C1}var O1,uD;function qq(){if(uD)return O1;uD=1;function e(t,n){for(var r=-1,i=n.length,a=t.length;++r<i;)t[a+r]=n[r];return t}return O1=e,O1}var T1,dD;function xue(){if(dD)return T1;dD=1;var e=qq(),t=wi();function n(r,i,a){var s=i(r);return t(r)?s:e(s,a(r))}return T1=n,T1}var A1,fD;function bue(){if(fD)return A1;fD=1;function e(t,n){for(var r=-1,i=t==null?0:t.length,a=0,s=[];++r<i;){var l=t[r];n(l,r,t)&&(s[a++]=l)}return s}return A1=e,A1}var R1,hD;function wue(){if(hD)return R1;hD=1;function e(){return[]}return R1=e,R1}var M1,pD;function _ue(){if(pD)return M1;pD=1;var e=bue(),t=wue(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,a=i?function(s){return s==null?[]:(s=Object(s),e(i(s),function(l){return r.call(s,l)}))}:t;return M1=a,M1}var D1,mD;function Sue(){if(mD)return D1;mD=1;function e(t,n){for(var r=-1,i=Array(t);++r<t;)i[r]=n(r);return i}return D1=e,D1}var I1,gD;function jue(){if(gD)return I1;gD=1;var e=_o(),t=So(),n="[object Arguments]";function r(i){return t(i)&&e(i)==n}return I1=r,I1}var L1,vD;function oC(){if(vD)return L1;vD=1;var e=jue(),t=So(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,a=e((function(){return arguments})())?e:function(s){return t(s)&&r.call(s,"callee")&&!i.call(s,"callee")};return L1=a,L1}var zh={exports:{}},$1,yD;function Nue(){if(yD)return $1;yD=1;function e(){return!1}return $1=e,$1}zh.exports;var xD;function Uq(){return xD||(xD=1,(function(e,t){var n=Cs(),r=Nue(),i=t&&!t.nodeType&&t,a=i&&!0&&e&&!e.nodeType&&e,s=a&&a.exports===i,l=s?n.Buffer:void 0,c=l?l.isBuffer:void 0,f=c||r;e.exports=f})(zh,zh.exports)),zh.exports}var B1,bD;function lC(){if(bD)return B1;bD=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function n(r,i){var a=typeof r;return i=i??e,!!i&&(a=="number"||a!="symbol"&&t.test(r))&&r>-1&&r%1==0&&r<i}return B1=n,B1}var F1,wD;function cC(){if(wD)return F1;wD=1;var e=9007199254740991;function t(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=e}return F1=t,F1}var z1,_D;function Pue(){if(_D)return z1;_D=1;var e=_o(),t=cC(),n=So(),r="[object Arguments]",i="[object Array]",a="[object Boolean]",s="[object Date]",l="[object Error]",c="[object Function]",f="[object Map]",p="[object Number]",m="[object Object]",v="[object RegExp]",x="[object Set]",_="[object String]",b="[object WeakMap]",w="[object ArrayBuffer]",k="[object DataView]",E="[object Float32Array]",P="[object Float64Array]",C="[object Int8Array]",O="[object Int16Array]",R="[object Int32Array]",M="[object Uint8Array]",U="[object Uint8ClampedArray]",F="[object Uint16Array]",H="[object Uint32Array]",B={};B[E]=B[P]=B[C]=B[O]=B[R]=B[M]=B[U]=B[F]=B[H]=!0,B[r]=B[i]=B[w]=B[a]=B[k]=B[s]=B[l]=B[c]=B[f]=B[p]=B[m]=B[v]=B[x]=B[_]=B[b]=!1;function $(G){return n(G)&&t(G.length)&&!!B[e(G)]}return z1=$,z1}var q1,SD;function Wq(){if(SD)return q1;SD=1;function e(t){return function(n){return t(n)}}return q1=e,q1}var qh={exports:{}};qh.exports;var jD;function kue(){return jD||(jD=1,(function(e,t){var n=uq(),r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,a=i&&i.exports===r,s=a&&n.process,l=(function(){try{var c=i&&i.require&&i.require("util").types;return c||s&&s.binding&&s.binding("util")}catch{}})();e.exports=l})(qh,qh.exports)),qh.exports}var U1,ND;function Hq(){if(ND)return U1;ND=1;var e=Pue(),t=Wq(),n=kue(),r=n&&n.isTypedArray,i=r?t(r):e;return U1=i,U1}var W1,PD;function Eue(){if(PD)return W1;PD=1;var e=Sue(),t=oC(),n=wi(),r=Uq(),i=lC(),a=Hq(),s=Object.prototype,l=s.hasOwnProperty;function c(f,p){var m=n(f),v=!m&&t(f),x=!m&&!v&&r(f),_=!m&&!v&&!x&&a(f),b=m||v||x||_,w=b?e(f.length,String):[],k=w.length;for(var E in f)(p||l.call(f,E))&&!(b&&(E=="length"||x&&(E=="offset"||E=="parent")||_&&(E=="buffer"||E=="byteLength"||E=="byteOffset")||i(E,k)))&&w.push(E);return w}return W1=c,W1}var H1,kD;function Cue(){if(kD)return H1;kD=1;var e=Object.prototype;function t(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||e;return n===i}return H1=t,H1}var V1,ED;function Vq(){if(ED)return V1;ED=1;function e(t,n){return function(r){return t(n(r))}}return V1=e,V1}var K1,CD;function Oue(){if(CD)return K1;CD=1;var e=Vq(),t=e(Object.keys,Object);return K1=t,K1}var G1,OD;function Tue(){if(OD)return G1;OD=1;var e=Cue(),t=Oue(),n=Object.prototype,r=n.hasOwnProperty;function i(a){if(!e(a))return t(a);var s=[];for(var l in Object(a))r.call(a,l)&&l!="constructor"&&s.push(l);return s}return G1=i,G1}var Y1,TD;function bm(){if(TD)return Y1;TD=1;var e=KE(),t=cC();function n(r){return r!=null&&t(r.length)&&!e(r)}return Y1=n,Y1}var Z1,AD;function ab(){if(AD)return Z1;AD=1;var e=Eue(),t=Tue(),n=bm();function r(i){return n(i)?e(i):t(i)}return Z1=r,Z1}var X1,RD;function Aue(){if(RD)return X1;RD=1;var e=xue(),t=_ue(),n=ab();function r(i){return e(i,n,t)}return X1=r,X1}var Q1,MD;function Rue(){if(MD)return Q1;MD=1;var e=Aue(),t=1,n=Object.prototype,r=n.hasOwnProperty;function i(a,s,l,c,f,p){var m=l&t,v=e(a),x=v.length,_=e(s),b=_.length;if(x!=b&&!m)return!1;for(var w=x;w--;){var k=v[w];if(!(m?k in s:r.call(s,k)))return!1}var E=p.get(a),P=p.get(s);if(E&&P)return E==s&&P==a;var C=!0;p.set(a,s),p.set(s,a);for(var O=m;++w<x;){k=v[w];var R=a[k],M=s[k];if(c)var U=m?c(M,R,k,s,a,p):c(R,M,k,a,s,p);if(!(U===void 0?R===M||f(R,M,l,c,p):U)){C=!1;break}O||(O=k=="constructor")}if(C&&!O){var F=a.constructor,H=s.constructor;F!=H&&"constructor"in a&&"constructor"in s&&!(typeof F=="function"&&F instanceof F&&typeof H=="function"&&H instanceof H)&&(C=!1)}return p.delete(a),p.delete(s),C}return Q1=i,Q1}var J1,DD;function Mue(){if(DD)return J1;DD=1;var e=eu(),t=Cs(),n=e(t,"DataView");return J1=n,J1}var eS,ID;function Due(){if(ID)return eS;ID=1;var e=eu(),t=Cs(),n=e(t,"Promise");return eS=n,eS}var tS,LD;function Kq(){if(LD)return tS;LD=1;var e=eu(),t=Cs(),n=e(t,"Set");return tS=n,tS}var nS,$D;function Iue(){if($D)return nS;$D=1;var e=eu(),t=Cs(),n=e(t,"WeakMap");return nS=n,nS}var rS,BD;function Lue(){if(BD)return rS;BD=1;var e=Mue(),t=YE(),n=Due(),r=Kq(),i=Iue(),a=_o(),s=dq(),l="[object Map]",c="[object Object]",f="[object Promise]",p="[object Set]",m="[object WeakMap]",v="[object DataView]",x=s(e),_=s(t),b=s(n),w=s(r),k=s(i),E=a;return(e&&E(new e(new ArrayBuffer(1)))!=v||t&&E(new t)!=l||n&&E(n.resolve())!=f||r&&E(new r)!=p||i&&E(new i)!=m)&&(E=function(P){var C=a(P),O=C==c?P.constructor:void 0,R=O?s(O):"";if(R)switch(R){case x:return v;case _:return l;case b:return f;case w:return p;case k:return m}return C}),rS=E,rS}var iS,FD;function $ue(){if(FD)return iS;FD=1;var e=Lq(),t=zq(),n=yue(),r=Rue(),i=Lue(),a=wi(),s=Uq(),l=Hq(),c=1,f="[object Arguments]",p="[object Array]",m="[object Object]",v=Object.prototype,x=v.hasOwnProperty;function _(b,w,k,E,P,C){var O=a(b),R=a(w),M=O?p:i(b),U=R?p:i(w);M=M==f?m:M,U=U==f?m:U;var F=M==m,H=U==m,B=M==U;if(B&&s(b)){if(!s(w))return!1;O=!0,F=!1}if(B&&!F)return C||(C=new e),O||l(b)?t(b,w,k,E,P,C):n(b,w,M,k,E,P,C);if(!(k&c)){var $=F&&x.call(b,"__wrapped__"),G=H&&x.call(w,"__wrapped__");if($||G){var W=$?b.value():b,V=G?w.value():w;return C||(C=new e),P(W,V,k,E,C)}}return B?(C||(C=new e),r(b,w,k,E,P,C)):!1}return iS=_,iS}var aS,zD;function uC(){if(zD)return aS;zD=1;var e=$ue(),t=So();function n(r,i,a,s,l){return r===i?!0:r==null||i==null||!t(r)&&!t(i)?r!==r&&i!==i:e(r,i,a,s,n,l)}return aS=n,aS}var sS,qD;function Bue(){if(qD)return sS;qD=1;var e=Lq(),t=uC(),n=1,r=2;function i(a,s,l,c){var f=l.length,p=f,m=!c;if(a==null)return!p;for(a=Object(a);f--;){var v=l[f];if(m&&v[2]?v[1]!==a[v[0]]:!(v[0]in a))return!1}for(;++f<p;){v=l[f];var x=v[0],_=a[x],b=v[1];if(m&&v[2]){if(_===void 0&&!(x in a))return!1}else{var w=new e;if(c)var k=c(_,b,x,a,s,w);if(!(k===void 0?t(b,_,n|r,c,w):k))return!1}}return!0}return sS=i,sS}var oS,UD;function Gq(){if(UD)return oS;UD=1;var e=Tl();function t(n){return n===n&&!e(n)}return oS=t,oS}var lS,WD;function Fue(){if(WD)return lS;WD=1;var e=Gq(),t=ab();function n(r){for(var i=t(r),a=i.length;a--;){var s=i[a],l=r[s];i[a]=[s,l,e(l)]}return i}return lS=n,lS}var cS,HD;function Yq(){if(HD)return cS;HD=1;function e(t,n){return function(r){return r==null?!1:r[t]===n&&(n!==void 0||t in Object(r))}}return cS=e,cS}var uS,VD;function zue(){if(VD)return uS;VD=1;var e=Bue(),t=Fue(),n=Yq();function r(i){var a=t(i);return a.length==1&&a[0][2]?n(a[0][0],a[0][1]):function(s){return s===i||e(s,i,a)}}return uS=r,uS}var dS,KD;function que(){if(KD)return dS;KD=1;function e(t,n){return t!=null&&n in Object(t)}return dS=e,dS}var fS,GD;function Uue(){if(GD)return fS;GD=1;var e=pq(),t=oC(),n=wi(),r=lC(),i=cC(),a=eb();function s(l,c,f){c=e(c,l);for(var p=-1,m=c.length,v=!1;++p<m;){var x=a(c[p]);if(!(v=l!=null&&f(l,x)))break;l=l[x]}return v||++p!=m?v:(m=l==null?0:l.length,!!m&&i(m)&&r(x,m)&&(n(l)||t(l)))}return fS=s,fS}var hS,YD;function Wue(){if(YD)return hS;YD=1;var e=que(),t=Uue();function n(r,i){return r!=null&&t(r,i,e)}return hS=n,hS}var pS,ZD;function Hue(){if(ZD)return pS;ZD=1;var e=uC(),t=mq(),n=Wue(),r=VE(),i=Gq(),a=Yq(),s=eb(),l=1,c=2;function f(p,m){return r(p)&&i(m)?a(s(p),m):function(v){var x=t(v,p);return x===void 0&&x===m?n(v,p):e(m,x,l|c)}}return pS=f,pS}var mS,XD;function Pf(){if(XD)return mS;XD=1;function e(t){return t}return mS=e,mS}var gS,QD;function Vue(){if(QD)return gS;QD=1;function e(t){return function(n){return n?.[t]}}return gS=e,gS}var vS,JD;function Kue(){if(JD)return vS;JD=1;var e=QE();function t(n){return function(r){return e(r,n)}}return vS=t,vS}var yS,eI;function Gue(){if(eI)return yS;eI=1;var e=Vue(),t=Kue(),n=VE(),r=eb();function i(a){return n(a)?e(r(a)):t(a)}return yS=i,yS}var xS,tI;function Os(){if(tI)return xS;tI=1;var e=zue(),t=Hue(),n=Pf(),r=wi(),i=Gue();function a(s){return typeof s=="function"?s:s==null?n:typeof s=="object"?r(s)?t(s[0],s[1]):e(s):i(s)}return xS=a,xS}var bS,nI;function Zq(){if(nI)return bS;nI=1;function e(t,n,r,i){for(var a=t.length,s=r+(i?1:-1);i?s--:++s<a;)if(n(t[s],s,t))return s;return-1}return bS=e,bS}var wS,rI;function Yue(){if(rI)return wS;rI=1;function e(t){return t!==t}return wS=e,wS}var _S,iI;function Zue(){if(iI)return _S;iI=1;function e(t,n,r){for(var i=r-1,a=t.length;++i<a;)if(t[i]===n)return i;return-1}return _S=e,_S}var SS,aI;function Xue(){if(aI)return SS;aI=1;var e=Zq(),t=Yue(),n=Zue();function r(i,a,s){return a===a?n(i,a,s):e(i,t,s)}return SS=r,SS}var jS,sI;function Que(){if(sI)return jS;sI=1;var e=Xue();function t(n,r){var i=n==null?0:n.length;return!!i&&e(n,r,0)>-1}return jS=t,jS}var NS,oI;function Jue(){if(oI)return NS;oI=1;function e(t,n,r){for(var i=-1,a=t==null?0:t.length;++i<a;)if(r(n,t[i]))return!0;return!1}return NS=e,NS}var PS,lI;function ede(){if(lI)return PS;lI=1;function e(){}return PS=e,PS}var kS,cI;function tde(){if(cI)return kS;cI=1;var e=Kq(),t=ede(),n=sC(),r=1/0,i=e&&1/n(new e([,-0]))[1]==r?function(a){return new e(a)}:t;return kS=i,kS}var ES,uI;function nde(){if(uI)return ES;uI=1;var e=$q(),t=Que(),n=Jue(),r=Fq(),i=tde(),a=sC(),s=200;function l(c,f,p){var m=-1,v=t,x=c.length,_=!0,b=[],w=b;if(p)_=!1,v=n;else if(x>=s){var k=f?null:i(c);if(k)return a(k);_=!1,v=r,w=new e}else w=f?[]:b;e:for(;++m<x;){var E=c[m],P=f?f(E):E;if(E=p||E!==0?E:0,_&&P===P){for(var C=w.length;C--;)if(w[C]===P)continue e;f&&w.push(P),b.push(E)}else v(w,P,p)||(w!==b&&w.push(P),b.push(E))}return b}return ES=l,ES}var CS,dI;function rde(){if(dI)return CS;dI=1;var e=Os(),t=nde();function n(r,i){return r&&r.length?t(r,e(i,2)):[]}return CS=n,CS}var ide=rde();const fI=Ft(ide);function Xq(e,t,n){return t===!0?fI(e,n):gt(t)?fI(e,t):e}function Ld(e){"@babel/helpers - typeof";return Ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ld(e)}var ade=["ref"];function hI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function to(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hI(Object(n),!0).forEach(function(r){sb(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function sde(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pI(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Jq(r.key),r)}}function ode(e,t,n){return t&&pI(e.prototype,t),n&&pI(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function lde(e,t,n){return t=xy(t),cde(e,Qq()?Reflect.construct(t,n||[],xy(e).constructor):t.apply(e,n))}function cde(e,t){if(t&&(Ld(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ude(e)}function ude(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Qq=function(){return!!e})()}function xy(e){return xy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},xy(e)}function dde(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gP(e,t)}function gP(e,t){return gP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},gP(e,t)}function sb(e,t,n){return t=Jq(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jq(e){var t=fde(e,"string");return Ld(t)=="symbol"?t:t+""}function fde(e,t){if(Ld(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ld(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function hde(e,t){if(e==null)return{};var n=pde(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function pde(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function mde(e){return e.value}function gde(e,t){if(Z.isValidElement(e))return Z.cloneElement(e,t);if(typeof e=="function")return Z.createElement(e,t);t.ref;var n=hde(t,ade);return Z.createElement(aC,n)}var mI=1,Nd=(function(e){function t(){var n;sde(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=lde(this,t,[].concat(i)),sb(n,"lastBoundingBox",{width:-1,height:-1}),n}return dde(t,e),ode(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>mI||Math.abs(i.height-this.lastBoundingBox.height)>mI)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?to({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,a=i.layout,s=i.align,l=i.verticalAlign,c=i.margin,f=i.chartWidth,p=i.chartHeight,m,v;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(s==="center"&&a==="vertical"){var x=this.getBBoxSnapshot();m={left:((f||0)-x.width)/2}}else m=s==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(l==="middle"){var _=this.getBBoxSnapshot();v={top:((p||0)-_.height)/2}}else v=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return to(to({},m),v)}},{key:"render",value:function(){var r=this,i=this.props,a=i.content,s=i.width,l=i.height,c=i.wrapperStyle,f=i.payloadUniqBy,p=i.payload,m=to(to({position:"absolute",width:s||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return Z.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:function(x){r.wrapperNode=x}},gde(a,to(to({},this.props),{},{payload:Xq(p,f,mde)})))}}],[{key:"getWithHeight",value:function(r,i){var a=to(to({},this.defaultProps),r.props),s=a.layout;return s==="vertical"&&Ie(r.props.height)?{height:r.props.height}:s==="horizontal"?{width:r.props.width||i}:null}}])})(S.PureComponent);sb(Nd,"displayName","Legend");sb(Nd,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var OS,gI;function vde(){if(gI)return OS;gI=1;var e=ym(),t=oC(),n=wi(),r=e?e.isConcatSpreadable:void 0;function i(a){return n(a)||t(a)||!!(r&&a&&a[r])}return OS=i,OS}var TS,vI;function eU(){if(vI)return TS;vI=1;var e=qq(),t=vde();function n(r,i,a,s,l){var c=-1,f=r.length;for(a||(a=t),l||(l=[]);++c<f;){var p=r[c];i>0&&a(p)?i>1?n(p,i-1,a,s,l):e(l,p):s||(l[l.length]=p)}return l}return TS=n,TS}var AS,yI;function yde(){if(yI)return AS;yI=1;function e(t){return function(n,r,i){for(var a=-1,s=Object(n),l=i(n),c=l.length;c--;){var f=l[t?c:++a];if(r(s[f],f,s)===!1)break}return n}}return AS=e,AS}var RS,xI;function xde(){if(xI)return RS;xI=1;var e=yde(),t=e();return RS=t,RS}var MS,bI;function tU(){if(bI)return MS;bI=1;var e=xde(),t=ab();function n(r,i){return r&&e(r,i,t)}return MS=n,MS}var DS,wI;function bde(){if(wI)return DS;wI=1;var e=bm();function t(n,r){return function(i,a){if(i==null)return i;if(!e(i))return n(i,a);for(var s=i.length,l=r?s:-1,c=Object(i);(r?l--:++l<s)&&a(c[l],l,c)!==!1;);return i}}return DS=t,DS}var IS,_I;function dC(){if(_I)return IS;_I=1;var e=tU(),t=bde(),n=t(e);return IS=n,IS}var LS,SI;function nU(){if(SI)return LS;SI=1;var e=dC(),t=bm();function n(r,i){var a=-1,s=t(r)?Array(r.length):[];return e(r,function(l,c,f){s[++a]=i(l,c,f)}),s}return LS=n,LS}var $S,jI;function wde(){if(jI)return $S;jI=1;function e(t,n){var r=t.length;for(t.sort(n);r--;)t[r]=t[r].value;return t}return $S=e,$S}var BS,NI;function _de(){if(NI)return BS;NI=1;var e=Sf();function t(n,r){if(n!==r){var i=n!==void 0,a=n===null,s=n===n,l=e(n),c=r!==void 0,f=r===null,p=r===r,m=e(r);if(!f&&!m&&!l&&n>r||l&&c&&p&&!f&&!m||a&&c&&p||!i&&p||!s)return 1;if(!a&&!l&&!m&&n<r||m&&i&&s&&!a&&!l||f&&i&&s||!c&&s||!p)return-1}return 0}return BS=t,BS}var FS,PI;function Sde(){if(PI)return FS;PI=1;var e=_de();function t(n,r,i){for(var a=-1,s=n.criteria,l=r.criteria,c=s.length,f=i.length;++a<c;){var p=e(s[a],l[a]);if(p){if(a>=f)return p;var m=i[a];return p*(m=="desc"?-1:1)}}return n.index-r.index}return FS=t,FS}var zS,kI;function jde(){if(kI)return zS;kI=1;var e=XE(),t=QE(),n=Os(),r=nU(),i=wde(),a=Wq(),s=Sde(),l=Pf(),c=wi();function f(p,m,v){m.length?m=e(m,function(b){return c(b)?function(w){return t(w,b.length===1?b[0]:b)}:b}):m=[l];var x=-1;m=e(m,a(n));var _=r(p,function(b,w,k){var E=e(m,function(P){return P(b)});return{criteria:E,index:++x,value:b}});return i(_,function(b,w){return s(b,w,v)})}return zS=f,zS}var qS,EI;function Nde(){if(EI)return qS;EI=1;function e(t,n,r){switch(r.length){case 0:return t.call(n);case 1:return t.call(n,r[0]);case 2:return t.call(n,r[0],r[1]);case 3:return t.call(n,r[0],r[1],r[2])}return t.apply(n,r)}return qS=e,qS}var US,CI;function Pde(){if(CI)return US;CI=1;var e=Nde(),t=Math.max;function n(r,i,a){return i=t(i===void 0?r.length-1:i,0),function(){for(var s=arguments,l=-1,c=t(s.length-i,0),f=Array(c);++l<c;)f[l]=s[i+l];l=-1;for(var p=Array(i+1);++l<i;)p[l]=s[l];return p[i]=a(f),e(r,this,p)}}return US=n,US}var WS,OI;function kde(){if(OI)return WS;OI=1;function e(t){return function(){return t}}return WS=e,WS}var HS,TI;function rU(){if(TI)return HS;TI=1;var e=eu(),t=(function(){try{var n=e(Object,"defineProperty");return n({},"",{}),n}catch{}})();return HS=t,HS}var VS,AI;function Ede(){if(AI)return VS;AI=1;var e=kde(),t=rU(),n=Pf(),r=t?function(i,a){return t(i,"toString",{configurable:!0,enumerable:!1,value:e(a),writable:!0})}:n;return VS=r,VS}var KS,RI;function Cde(){if(RI)return KS;RI=1;var e=800,t=16,n=Date.now;function r(i){var a=0,s=0;return function(){var l=n(),c=t-(l-s);if(s=l,c>0){if(++a>=e)return arguments[0]}else a=0;return i.apply(void 0,arguments)}}return KS=r,KS}var GS,MI;function Ode(){if(MI)return GS;MI=1;var e=Ede(),t=Cde(),n=t(e);return GS=n,GS}var YS,DI;function Tde(){if(DI)return YS;DI=1;var e=Pf(),t=Pde(),n=Ode();function r(i,a){return n(t(i,a,e),i+"")}return YS=r,YS}var ZS,II;function ob(){if(II)return ZS;II=1;var e=GE(),t=bm(),n=lC(),r=Tl();function i(a,s,l){if(!r(l))return!1;var c=typeof s;return(c=="number"?t(l)&&n(s,l.length):c=="string"&&s in l)?e(l[s],a):!1}return ZS=i,ZS}var XS,LI;function Ade(){if(LI)return XS;LI=1;var e=eU(),t=jde(),n=Tde(),r=ob(),i=n(function(a,s){if(a==null)return[];var l=s.length;return l>1&&r(a,s[0],s[1])?s=[]:l>2&&r(s[0],s[1],s[2])&&(s=[s[0]]),t(a,e(s,1),[])});return XS=i,XS}var Rde=Ade();const fC=Ft(Rde);function jp(e){"@babel/helpers - typeof";return jp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jp(e)}function vP(){return vP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vP.apply(this,arguments)}function Mde(e,t){return $de(e)||Lde(e,t)||Ide(e,t)||Dde()}function Dde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ide(e,t){if(e){if(typeof e=="string")return $I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $I(e,t)}}function $I(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Lde(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,s,l=[],c=!0,f=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(p){f=!0,i=p}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function $de(e){if(Array.isArray(e))return e}function BI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function QS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?BI(Object(n),!0).forEach(function(r){Bde(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Bde(e,t,n){return t=Fde(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fde(e){var t=zde(e,"string");return jp(t)=="symbol"?t:t+""}function zde(e,t){if(jp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(jp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qde(e){return Array.isArray(e)&&hr(e[0])&&hr(e[1])?e.join(" ~ "):e}var Ude=function(t){var n=t.separator,r=n===void 0?" : ":n,i=t.contentStyle,a=i===void 0?{}:i,s=t.itemStyle,l=s===void 0?{}:s,c=t.labelStyle,f=c===void 0?{}:c,p=t.payload,m=t.formatter,v=t.itemSorter,x=t.wrapperClassName,_=t.labelClassName,b=t.label,w=t.labelFormatter,k=t.accessibilityLayer,E=k===void 0?!1:k,P=function(){if(p&&p.length){var $={padding:0,margin:0},G=(v?fC(p,v):p).map(function(W,V){if(W.type==="none")return null;var K=QS({display:"block",paddingTop:4,paddingBottom:4,color:W.color||"#000"},l),q=W.formatter||m||qde,D=W.value,Q=W.name,ne=D,J=Q;if(q&&ne!=null&&J!=null){var ee=q(D,Q,W,V,p);if(Array.isArray(ee)){var te=Mde(ee,2);ne=te[0],J=te[1]}else ne=ee}return Z.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(V),style:K},hr(J)?Z.createElement("span",{className:"recharts-tooltip-item-name"},J):null,hr(J)?Z.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,Z.createElement("span",{className:"recharts-tooltip-item-value"},ne),Z.createElement("span",{className:"recharts-tooltip-item-unit"},W.unit||""))});return Z.createElement("ul",{className:"recharts-tooltip-item-list",style:$},G)}return null},C=QS({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),O=QS({margin:0},f),R=!_t(b),M=R?b:"",U=St("recharts-default-tooltip",x),F=St("recharts-tooltip-label",_);R&&w&&p!==void 0&&p!==null&&(M=w(b,p));var H=E?{role:"status","aria-live":"assertive"}:{};return Z.createElement("div",vP({className:U,style:C},H),Z.createElement("p",{className:F,style:O},Z.isValidElement(M)?M:"".concat(M)),P())};function Np(e){"@babel/helpers - typeof";return Np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Np(e)}function xv(e,t,n){return t=Wde(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wde(e){var t=Hde(e,"string");return Np(t)=="symbol"?t:t+""}function Hde(e,t){if(Np(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Np(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ph="recharts-tooltip-wrapper",Vde={visibility:"hidden"};function Kde(e){var t=e.coordinate,n=e.translateX,r=e.translateY;return St(Ph,xv(xv(xv(xv({},"".concat(Ph,"-right"),Ie(n)&&t&&Ie(t.x)&&n>=t.x),"".concat(Ph,"-left"),Ie(n)&&t&&Ie(t.x)&&n<t.x),"".concat(Ph,"-bottom"),Ie(r)&&t&&Ie(t.y)&&r>=t.y),"".concat(Ph,"-top"),Ie(r)&&t&&Ie(t.y)&&r<t.y))}function FI(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.key,i=e.offsetTopLeft,a=e.position,s=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,f=e.viewBoxDimension;if(a&&Ie(a[r]))return a[r];var p=n[r]-l-i,m=n[r]+i;if(t[r])return s[r]?p:m;if(s[r]){var v=p,x=c[r];return v<x?Math.max(m,c[r]):Math.max(p,c[r])}var _=m+l,b=c[r]+f;return _>b?Math.max(p,c[r]):Math.max(m,c[r])}function Gde(e){var t=e.translateX,n=e.translateY,r=e.useTranslate3d;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function Yde(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.offsetTopLeft,i=e.position,a=e.reverseDirection,s=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,f,p,m;return s.height>0&&s.width>0&&n?(p=FI({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:c,viewBoxDimension:c.width}),m=FI({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:c,viewBoxDimension:c.height}),f=Gde({translateX:p,translateY:m,useTranslate3d:l})):f=Vde,{cssProperties:f,cssClasses:Kde({translateX:p,translateY:m,coordinate:n})}}function $d(e){"@babel/helpers - typeof";return $d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$d(e)}function zI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function qI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zI(Object(n),!0).forEach(function(r){xP(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Zde(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xde(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,aU(r.key),r)}}function Qde(e,t,n){return t&&Xde(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Jde(e,t,n){return t=by(t),efe(e,iU()?Reflect.construct(t,n||[],by(e).constructor):t.apply(e,n))}function efe(e,t){if(t&&($d(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tfe(e)}function tfe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iU=function(){return!!e})()}function by(e){return by=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},by(e)}function nfe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yP(e,t)}function yP(e,t){return yP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},yP(e,t)}function xP(e,t,n){return t=aU(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aU(e){var t=rfe(e,"string");return $d(t)=="symbol"?t:t+""}function rfe(e,t){if($d(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if($d(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var UI=1,ife=(function(e){function t(){var n;Zde(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Jde(this,t,[].concat(i)),xP(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),xP(n,"handleKeyDown",function(s){if(s.key==="Escape"){var l,c,f,p;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=n.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(f=(p=n.props.coordinate)===null||p===void 0?void 0:p.y)!==null&&f!==void 0?f:0}})}}),n}return nfe(t,e),Qde(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>UI||Math.abs(r.height-this.state.lastBoundingBox.height)>UI)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,f=i.children,p=i.coordinate,m=i.hasPayload,v=i.isAnimationActive,x=i.offset,_=i.position,b=i.reverseDirection,w=i.useTranslate3d,k=i.viewBox,E=i.wrapperStyle,P=Yde({allowEscapeViewBox:s,coordinate:p,offsetTopLeft:x,position:_,reverseDirection:b,tooltipBox:this.state.lastBoundingBox,useTranslate3d:w,viewBox:k}),C=P.cssClasses,O=P.cssProperties,R=qI(qI({transition:v&&a?"transform ".concat(l,"ms ").concat(c):void 0},O),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&m?"visible":"hidden",position:"absolute",top:0,left:0},E);return Z.createElement("div",{tabIndex:-1,className:C,style:R,ref:function(U){r.wrapperNode=U}},f)}}])})(S.PureComponent),afe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},tu={isSsr:afe()};function Bd(e){"@babel/helpers - typeof";return Bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bd(e)}function WI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function HI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WI(Object(n),!0).forEach(function(r){hC(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function sfe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ofe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,oU(r.key),r)}}function lfe(e,t,n){return t&&ofe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function cfe(e,t,n){return t=wy(t),ufe(e,sU()?Reflect.construct(t,n||[],wy(e).constructor):t.apply(e,n))}function ufe(e,t){if(t&&(Bd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dfe(e)}function dfe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sU=function(){return!!e})()}function wy(e){return wy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},wy(e)}function ffe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bP(e,t)}function bP(e,t){return bP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},bP(e,t)}function hC(e,t,n){return t=oU(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oU(e){var t=hfe(e,"string");return Bd(t)=="symbol"?t:t+""}function hfe(e,t){if(Bd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Bd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function pfe(e){return e.dataKey}function mfe(e,t){return Z.isValidElement(e)?Z.cloneElement(e,t):typeof e=="function"?Z.createElement(e,t):Z.createElement(Ude,t)}var ha=(function(e){function t(){return sfe(this,t),cfe(this,t,arguments)}return ffe(t,e),lfe(t,[{key:"render",value:function(){var r=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,f=i.content,p=i.coordinate,m=i.filterNull,v=i.isAnimationActive,x=i.offset,_=i.payload,b=i.payloadUniqBy,w=i.position,k=i.reverseDirection,E=i.useTranslate3d,P=i.viewBox,C=i.wrapperStyle,O=_??[];m&&O.length&&(O=Xq(_.filter(function(M){return M.value!=null&&(M.hide!==!0||r.props.includeHidden)}),b,pfe));var R=O.length>0;return Z.createElement(ife,{allowEscapeViewBox:s,animationDuration:l,animationEasing:c,isAnimationActive:v,active:a,coordinate:p,hasPayload:R,offset:x,position:w,reverseDirection:k,useTranslate3d:E,viewBox:P,wrapperStyle:C},mfe(f,HI(HI({},this.props),{},{payload:O})))}}])})(S.PureComponent);hC(ha,"displayName","Tooltip");hC(ha,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!tu.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var JS,VI;function gfe(){if(VI)return JS;VI=1;var e=Cs(),t=function(){return e.Date.now()};return JS=t,JS}var ej,KI;function vfe(){if(KI)return ej;KI=1;var e=/\s/;function t(n){for(var r=n.length;r--&&e.test(n.charAt(r)););return r}return ej=t,ej}var tj,GI;function yfe(){if(GI)return tj;GI=1;var e=vfe(),t=/^\s+/;function n(r){return r&&r.slice(0,e(r)+1).replace(t,"")}return tj=n,tj}var nj,YI;function lU(){if(YI)return nj;YI=1;var e=yfe(),t=Tl(),n=Sf(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,s=/^0o[0-7]+$/i,l=parseInt;function c(f){if(typeof f=="number")return f;if(n(f))return r;if(t(f)){var p=typeof f.valueOf=="function"?f.valueOf():f;f=t(p)?p+"":p}if(typeof f!="string")return f===0?f:+f;f=e(f);var m=a.test(f);return m||s.test(f)?l(f.slice(2),m?2:8):i.test(f)?r:+f}return nj=c,nj}var rj,ZI;function xfe(){if(ZI)return rj;ZI=1;var e=Tl(),t=gfe(),n=lU(),r="Expected a function",i=Math.max,a=Math.min;function s(l,c,f){var p,m,v,x,_,b,w=0,k=!1,E=!1,P=!0;if(typeof l!="function")throw new TypeError(r);c=n(c)||0,e(f)&&(k=!!f.leading,E="maxWait"in f,v=E?i(n(f.maxWait)||0,c):v,P="trailing"in f?!!f.trailing:P);function C(G){var W=p,V=m;return p=m=void 0,w=G,x=l.apply(V,W),x}function O(G){return w=G,_=setTimeout(U,c),k?C(G):x}function R(G){var W=G-b,V=G-w,K=c-W;return E?a(K,v-V):K}function M(G){var W=G-b,V=G-w;return b===void 0||W>=c||W<0||E&&V>=v}function U(){var G=t();if(M(G))return F(G);_=setTimeout(U,R(G))}function F(G){return _=void 0,P&&p?C(G):(p=m=void 0,x)}function H(){_!==void 0&&clearTimeout(_),w=0,p=b=m=_=void 0}function B(){return _===void 0?x:F(t())}function $(){var G=t(),W=M(G);if(p=arguments,m=this,b=G,W){if(_===void 0)return O(b);if(E)return clearTimeout(_),_=setTimeout(U,c),C(b)}return _===void 0&&(_=setTimeout(U,c)),x}return $.cancel=H,$.flush=B,$}return rj=s,rj}var ij,XI;function bfe(){if(XI)return ij;XI=1;var e=xfe(),t=Tl(),n="Expected a function";function r(i,a,s){var l=!0,c=!0;if(typeof i!="function")throw new TypeError(n);return t(s)&&(l="leading"in s?!!s.leading:l,c="trailing"in s?!!s.trailing:c),e(i,a,{leading:l,maxWait:a,trailing:c})}return ij=r,ij}var wfe=bfe();const cU=Ft(wfe);function Pp(e){"@babel/helpers - typeof";return Pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pp(e)}function QI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function bv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QI(Object(n),!0).forEach(function(r){_fe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _fe(e,t,n){return t=Sfe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sfe(e){var t=jfe(e,"string");return Pp(t)=="symbol"?t:t+""}function jfe(e,t){if(Pp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Pp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nfe(e,t){return Cfe(e)||Efe(e,t)||kfe(e,t)||Pfe()}function Pfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kfe(e,t){if(e){if(typeof e=="string")return JI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return JI(e,t)}}function JI(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Efe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,s,l=[],c=!0,f=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(p){f=!0,i=p}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function Cfe(e){if(Array.isArray(e))return e}var aj=S.forwardRef(function(e,t){var n=e.aspect,r=e.initialDimension,i=r===void 0?{width:-1,height:-1}:r,a=e.width,s=a===void 0?"100%":a,l=e.height,c=l===void 0?"100%":l,f=e.minWidth,p=f===void 0?0:f,m=e.minHeight,v=e.maxHeight,x=e.children,_=e.debounce,b=_===void 0?0:_,w=e.id,k=e.className,E=e.onResize,P=e.style,C=P===void 0?{}:P,O=S.useRef(null),R=S.useRef();R.current=E,S.useImperativeHandle(t,function(){return Object.defineProperty(O.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),O.current},configurable:!0})});var M=S.useState({containerWidth:i.width,containerHeight:i.height}),U=Nfe(M,2),F=U[0],H=U[1],B=S.useCallback(function(G,W){H(function(V){var K=Math.round(G),q=Math.round(W);return V.containerWidth===K&&V.containerHeight===q?V:{containerWidth:K,containerHeight:q}})},[]);S.useEffect(function(){var G=function(Q){var ne,J=Q[0].contentRect,ee=J.width,te=J.height;B(ee,te),(ne=R.current)===null||ne===void 0||ne.call(R,ee,te)};b>0&&(G=cU(G,b,{trailing:!0,leading:!1}));var W=new ResizeObserver(G),V=O.current.getBoundingClientRect(),K=V.width,q=V.height;return B(K,q),W.observe(O.current),function(){W.disconnect()}},[B,b]);var $=S.useMemo(function(){var G=F.containerWidth,W=F.containerHeight;if(G<0||W<0)return null;Ha(jc(s)||jc(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,c),Ha(!n||n>0,"The aspect(%s) must be greater than zero.",n);var V=jc(s)?G:s,K=jc(c)?W:c;n&&n>0&&(V?K=V/n:K&&(V=K*n),v&&K>v&&(K=v)),Ha(V>0||K>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,V,K,s,c,p,m,n);var q=!Array.isArray(x)&&fo(x.type).endsWith("Chart");return Z.Children.map(x,function(D){return Z.isValidElement(D)?S.cloneElement(D,bv({width:V,height:K},q?{style:bv({height:"100%",width:"100%",maxHeight:K,maxWidth:V},D.props.style)}:{})):D})},[n,x,c,v,m,p,F,s]);return Z.createElement("div",{id:w?"".concat(w):void 0,className:St("recharts-responsive-container",k),style:bv(bv({},C),{},{width:s,height:c,minWidth:p,minHeight:m,maxHeight:v}),ref:O},$)}),lb=function(t){return null};lb.displayName="Cell";function kp(e){"@babel/helpers - typeof";return kp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kp(e)}function eL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function wP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eL(Object(n),!0).forEach(function(r){Ofe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ofe(e,t,n){return t=Tfe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tfe(e){var t=Afe(e,"string");return kp(t)=="symbol"?t:t+""}function Afe(e,t){if(kp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(kp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var id={widthCache:{},cacheCount:0},Rfe=2e3,Mfe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},tL="recharts_measurement_span";function Dfe(e){var t=wP({},e);return Object.keys(t).forEach(function(n){t[n]||delete t[n]}),t}var Qh=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||tu.isSsr)return{width:0,height:0};var r=Dfe(n),i=JSON.stringify({text:t,copyStyle:r});if(id.widthCache[i])return id.widthCache[i];try{var a=document.getElementById(tL);a||(a=document.createElement("span"),a.setAttribute("id",tL),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var s=wP(wP({},Mfe),r);Object.assign(a.style,s),a.textContent="".concat(t);var l=a.getBoundingClientRect(),c={width:l.width,height:l.height};return id.widthCache[i]=c,++id.cacheCount>Rfe&&(id.cacheCount=0,id.widthCache={}),c}catch{return{width:0,height:0}}},Ife=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Ep(e){"@babel/helpers - typeof";return Ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ep(e)}function _y(e,t){return Ffe(e)||Bfe(e,t)||$fe(e,t)||Lfe()}function Lfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $fe(e,t){if(e){if(typeof e=="string")return nL(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nL(e,t)}}function nL(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Bfe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,s,l=[],c=!0,f=!1;try{if(a=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(p){f=!0,i=p}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function Ffe(e){if(Array.isArray(e))return e}function zfe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rL(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ufe(r.key),r)}}function qfe(e,t,n){return t&&rL(e.prototype,t),n&&rL(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ufe(e){var t=Wfe(e,"string");return Ep(t)=="symbol"?t:t+""}function Wfe(e,t){if(Ep(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ep(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var iL=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,aL=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Hfe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Vfe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,uU={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Kfe=Object.keys(uU),dd="NaN";function Gfe(e,t){return e*uU[t]}var wv=(function(){function e(t,n){zfe(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),n!==""&&!Hfe.test(n)&&(this.num=NaN,this.unit=""),Kfe.includes(n)&&(this.num=Gfe(t,n),this.unit="px")}return qfe(e,[{key:"add",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=Vfe.exec(n))!==null&&r!==void 0?r:[],a=_y(i,3),s=a[1],l=a[2];return new e(parseFloat(s),l??"")}}])})();function dU(e){if(e.includes(dd))return dd;for(var t=e;t.includes("*")||t.includes("/");){var n,r=(n=iL.exec(t))!==null&&n!==void 0?n:[],i=_y(r,4),a=i[1],s=i[2],l=i[3],c=wv.parse(a??""),f=wv.parse(l??""),p=s==="*"?c.multiply(f):c.divide(f);if(p.isNaN())return dd;t=t.replace(iL,p.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var m,v=(m=aL.exec(t))!==null&&m!==void 0?m:[],x=_y(v,4),_=x[1],b=x[2],w=x[3],k=wv.parse(_??""),E=wv.parse(w??""),P=b==="+"?k.add(E):k.subtract(E);if(P.isNaN())return dd;t=t.replace(aL,P.toString())}return t}var sL=/\(([^()]*)\)/;function Yfe(e){for(var t=e;t.includes("(");){var n=sL.exec(t),r=_y(n,2),i=r[1];t=t.replace(sL,dU(i))}return t}function Zfe(e){var t=e.replace(/\s+/g,"");return t=Yfe(t),t=dU(t),t}function Xfe(e){try{return Zfe(e)}catch{return dd}}function sj(e){var t=Xfe(e.slice(5,-1));return t===dd?"":t}var Qfe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Jfe=["dx","dy","angle","className","breakAll"];function _P(){return _P=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_P.apply(this,arguments)}function oL(e,t){if(e==null)return{};var n=ehe(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function ehe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function lL(e,t){return ihe(e)||rhe(e,t)||nhe(e,t)||the()}function the(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nhe(e,t){if(e){if(typeof e=="string")return cL(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cL(e,t)}}function cL(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function rhe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,s,l=[],c=!0,f=!1;try{if(a=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(p){f=!0,i=p}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function ihe(e){if(Array.isArray(e))return e}var fU=/[ \f\n\r\t\v\u2028\u2029]+/,hU=function(t){var n=t.children,r=t.breakAll,i=t.style;try{var a=[];_t(n)||(r?a=n.toString().split(""):a=n.toString().split(fU));var s=a.map(function(c){return{word:c,width:Qh(c,i).width}}),l=r?0:Qh("",i).width;return{wordsWithComputedWidth:s,spaceWidth:l}}catch{return null}},ahe=function(t,n,r,i,a){var s=t.maxLines,l=t.children,c=t.style,f=t.breakAll,p=Ie(s),m=l,v=function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return V.reduce(function(K,q){var D=q.word,Q=q.width,ne=K[K.length-1];if(ne&&(i==null||a||ne.width+Q+r<Number(i)))ne.words.push(D),ne.width+=Q+r;else{var J={words:[D],width:Q};K.push(J)}return K},[])},x=v(n),_=function(V){return V.reduce(function(K,q){return K.width>q.width?K:q})};if(!p)return x;for(var b="",w=function(V){var K=m.slice(0,V),q=hU({breakAll:f,style:c,children:K+b}).wordsWithComputedWidth,D=v(q),Q=D.length>s||_(D).width>Number(i);return[Q,D]},k=0,E=m.length-1,P=0,C;k<=E&&P<=m.length-1;){var O=Math.floor((k+E)/2),R=O-1,M=w(R),U=lL(M,2),F=U[0],H=U[1],B=w(O),$=lL(B,1),G=$[0];if(!F&&!G&&(k=O+1),F&&G&&(E=O-1),!F&&G){C=H;break}P++}return C||x},uL=function(t){var n=_t(t)?[]:t.toString().split(fU);return[{words:n}]},she=function(t){var n=t.width,r=t.scaleToFit,i=t.children,a=t.style,s=t.breakAll,l=t.maxLines;if((n||r)&&!tu.isSsr){var c,f,p=hU({breakAll:s,children:i,style:a});if(p){var m=p.wordsWithComputedWidth,v=p.spaceWidth;c=m,f=v}else return uL(i);return ahe({breakAll:s,children:i,maxLines:l,style:a},c,f,n,r)}return uL(i)},dL="#808080",Uc=function(t){var n=t.x,r=n===void 0?0:n,i=t.y,a=i===void 0?0:i,s=t.lineHeight,l=s===void 0?"1em":s,c=t.capHeight,f=c===void 0?"0.71em":c,p=t.scaleToFit,m=p===void 0?!1:p,v=t.textAnchor,x=v===void 0?"start":v,_=t.verticalAnchor,b=_===void 0?"end":_,w=t.fill,k=w===void 0?dL:w,E=oL(t,Qfe),P=S.useMemo(function(){return she({breakAll:E.breakAll,children:E.children,maxLines:E.maxLines,scaleToFit:m,style:E.style,width:E.width})},[E.breakAll,E.children,E.maxLines,m,E.style,E.width]),C=E.dx,O=E.dy,R=E.angle,M=E.className,U=E.breakAll,F=oL(E,Jfe);if(!hr(r)||!hr(a))return null;var H=r+(Ie(C)?C:0),B=a+(Ie(O)?O:0),$;switch(b){case"start":$=sj("calc(".concat(f,")"));break;case"middle":$=sj("calc(".concat((P.length-1)/2," * -").concat(l," + (").concat(f," / 2))"));break;default:$=sj("calc(".concat(P.length-1," * -").concat(l,")"));break}var G=[];if(m){var W=P[0].width,V=E.width;G.push("scale(".concat((Ie(V)?V/W:1)/W,")"))}return R&&G.push("rotate(".concat(R,", ").concat(H,", ").concat(B,")")),G.length&&(F.transform=G.join(" ")),Z.createElement("text",_P({},ot(F,!0),{x:H,y:B,className:St("recharts-text",M),textAnchor:x,fill:k.includes("url")?dL:k}),P.map(function(K,q){var D=K.words.join(U?"":" ");return Z.createElement("tspan",{x:H,dy:q===0?$:l,key:"".concat(D,"-").concat(q)},D)}))};function bl(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function ohe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function pC(e){let t,n,r;e.length!==2?(t=bl,n=(l,c)=>bl(e(l),c),r=(l,c)=>e(l)-c):(t=e===bl||e===ohe?e:lhe,n=e,r=e);function i(l,c,f=0,p=l.length){if(f<p){if(t(c,c)!==0)return p;do{const m=f+p>>>1;n(l[m],c)<0?f=m+1:p=m}while(f<p)}return f}function a(l,c,f=0,p=l.length){if(f<p){if(t(c,c)!==0)return p;do{const m=f+p>>>1;n(l[m],c)<=0?f=m+1:p=m}while(f<p)}return f}function s(l,c,f=0,p=l.length){const m=i(l,c,f,p-1);return m>f&&r(l[m-1],c)>-r(l[m],c)?m-1:m}return{left:i,center:s,right:a}}function lhe(){return 0}function pU(e){return e===null?NaN:+e}function*che(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const uhe=pC(bl),wm=uhe.right;pC(pU).center;class fL extends Map{constructor(t,n=hhe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(hL(this,t))}has(t){return super.has(hL(this,t))}set(t,n){return super.set(dhe(this,t),n)}delete(t){return super.delete(fhe(this,t))}}function hL({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function dhe({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function fhe({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function hhe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function phe(e=bl){if(e===bl)return mU;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function mU(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const mhe=Math.sqrt(50),ghe=Math.sqrt(10),vhe=Math.sqrt(2);function Sy(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=mhe?10:a>=ghe?5:a>=vhe?2:1;let l,c,f;return i<0?(f=Math.pow(10,-i)/s,l=Math.round(e*f),c=Math.round(t*f),l/f<e&&++l,c/f>t&&--c,f=-f):(f=Math.pow(10,i)*s,l=Math.round(e/f),c=Math.round(t/f),l*f<e&&++l,c*f>t&&--c),c<l&&.5<=n&&n<2?Sy(e,t,n*2):[l,c,f]}function SP(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,a,s]=r?Sy(t,e,n):Sy(e,t,n);if(!(a>=i))return[];const l=a-i+1,c=new Array(l);if(r)if(s<0)for(let f=0;f<l;++f)c[f]=(a-f)/-s;else for(let f=0;f<l;++f)c[f]=(a-f)*s;else if(s<0)for(let f=0;f<l;++f)c[f]=(i+f)/-s;else for(let f=0;f<l;++f)c[f]=(i+f)*s;return c}function jP(e,t,n){return t=+t,e=+e,n=+n,Sy(e,t,n)[2]}function NP(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?jP(t,e,n):jP(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function pL(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function mL(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function gU(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?mU:phe(i);r>n;){if(r-n>600){const c=r-n+1,f=t-n+1,p=Math.log(c),m=.5*Math.exp(2*p/3),v=.5*Math.sqrt(p*m*(c-m)/c)*(f-c/2<0?-1:1),x=Math.max(n,Math.floor(t-f*m/c+v)),_=Math.min(r,Math.floor(t+(c-f)*m/c+v));gU(e,t,x,_,i)}const a=e[t];let s=n,l=r;for(kh(e,n,t),i(e[r],a)>0&&kh(e,n,r);s<l;){for(kh(e,s,l),++s,--l;i(e[s],a)<0;)++s;for(;i(e[l],a)>0;)--l}i(e[n],a)===0?kh(e,n,l):(++l,kh(e,l,r)),l<=t&&(n=l+1),t<=l&&(r=l-1)}return e}function kh(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function yhe(e,t,n){if(e=Float64Array.from(che(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return mL(e);if(t>=1)return pL(e);var r,i=(r-1)*t,a=Math.floor(i),s=pL(gU(e,a).subarray(0,a+1)),l=mL(e.subarray(a+1));return s+(l-s)*(i-a)}}function xhe(e,t,n=pU){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),s=+n(e[a],a,e),l=+n(e[a+1],a+1,e);return s+(l-s)*(i-a)}}function bhe(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++r<i;)a[r]=e+r*n;return a}function _a(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function jo(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const PP=Symbol("implicit");function mC(){var e=new fL,t=[],n=[],r=PP;function i(a){let s=e.get(a);if(s===void 0){if(r!==PP)return r;e.set(a,s=t.push(a)-1)}return n[s%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new fL;for(const s of a)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return mC(t,n).unknown(r)},_a.apply(i,arguments),i}function Cp(){var e=mC().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,a,s,l=!1,c=0,f=0,p=.5;delete e.unknown;function m(){var v=t().length,x=i<r,_=x?i:r,b=x?r:i;a=(b-_)/Math.max(1,v-c+f*2),l&&(a=Math.floor(a)),_+=(b-_-a*(v-c))*p,s=a*(1-c),l&&(_=Math.round(_),s=Math.round(s));var w=bhe(v).map(function(k){return _+a*k});return n(x?w.reverse():w)}return e.domain=function(v){return arguments.length?(t(v),m()):t()},e.range=function(v){return arguments.length?([r,i]=v,r=+r,i=+i,m()):[r,i]},e.rangeRound=function(v){return[r,i]=v,r=+r,i=+i,l=!0,m()},e.bandwidth=function(){return s},e.step=function(){return a},e.round=function(v){return arguments.length?(l=!!v,m()):l},e.padding=function(v){return arguments.length?(c=Math.min(1,f=+v),m()):c},e.paddingInner=function(v){return arguments.length?(c=Math.min(1,v),m()):c},e.paddingOuter=function(v){return arguments.length?(f=+v,m()):f},e.align=function(v){return arguments.length?(p=Math.max(0,Math.min(1,v)),m()):p},e.copy=function(){return Cp(t(),[r,i]).round(l).paddingInner(c).paddingOuter(f).align(p)},_a.apply(m(),arguments)}function vU(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return vU(t())},e}function Jh(){return vU(Cp.apply(null,arguments).paddingInner(1))}function gC(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function yU(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function _m(){}var Op=.7,jy=1/Op,Pd="\\s*([+-]?\\d+)\\s*",Tp="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",_s="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",whe=/^#([0-9a-f]{3,8})$/,_he=new RegExp(`^rgb\\(${Pd},${Pd},${Pd}\\)$`),She=new RegExp(`^rgb\\(${_s},${_s},${_s}\\)$`),jhe=new RegExp(`^rgba\\(${Pd},${Pd},${Pd},${Tp}\\)$`),Nhe=new RegExp(`^rgba\\(${_s},${_s},${_s},${Tp}\\)$`),Phe=new RegExp(`^hsl\\(${Tp},${_s},${_s}\\)$`),khe=new RegExp(`^hsla\\(${Tp},${_s},${_s},${Tp}\\)$`),gL={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};gC(_m,Ap,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:vL,formatHex:vL,formatHex8:Ehe,formatHsl:Che,formatRgb:yL,toString:yL});function vL(){return this.rgb().formatHex()}function Ehe(){return this.rgb().formatHex8()}function Che(){return xU(this).formatHsl()}function yL(){return this.rgb().formatRgb()}function Ap(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=whe.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?xL(t):n===3?new bi(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?_v(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?_v(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=_he.exec(e))?new bi(t[1],t[2],t[3],1):(t=She.exec(e))?new bi(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=jhe.exec(e))?_v(t[1],t[2],t[3],t[4]):(t=Nhe.exec(e))?_v(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Phe.exec(e))?_L(t[1],t[2]/100,t[3]/100,1):(t=khe.exec(e))?_L(t[1],t[2]/100,t[3]/100,t[4]):gL.hasOwnProperty(e)?xL(gL[e]):e==="transparent"?new bi(NaN,NaN,NaN,0):null}function xL(e){return new bi(e>>16&255,e>>8&255,e&255,1)}function _v(e,t,n,r){return r<=0&&(e=t=n=NaN),new bi(e,t,n,r)}function Ohe(e){return e instanceof _m||(e=Ap(e)),e?(e=e.rgb(),new bi(e.r,e.g,e.b,e.opacity)):new bi}function kP(e,t,n,r){return arguments.length===1?Ohe(e):new bi(e,t,n,r??1)}function bi(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}gC(bi,kP,yU(_m,{brighter(e){return e=e==null?jy:Math.pow(jy,e),new bi(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Op:Math.pow(Op,e),new bi(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new bi(Ec(this.r),Ec(this.g),Ec(this.b),Ny(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:bL,formatHex:bL,formatHex8:The,formatRgb:wL,toString:wL}));function bL(){return`#${Nc(this.r)}${Nc(this.g)}${Nc(this.b)}`}function The(){return`#${Nc(this.r)}${Nc(this.g)}${Nc(this.b)}${Nc((isNaN(this.opacity)?1:this.opacity)*255)}`}function wL(){const e=Ny(this.opacity);return`${e===1?"rgb(":"rgba("}${Ec(this.r)}, ${Ec(this.g)}, ${Ec(this.b)}${e===1?")":`, ${e})`}`}function Ny(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ec(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Nc(e){return e=Ec(e),(e<16?"0":"")+e.toString(16)}function _L(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Ua(e,t,n,r)}function xU(e){if(e instanceof Ua)return new Ua(e.h,e.s,e.l,e.opacity);if(e instanceof _m||(e=Ap(e)),!e)return new Ua;if(e instanceof Ua)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),s=NaN,l=a-i,c=(a+i)/2;return l?(t===a?s=(n-r)/l+(n<r)*6:n===a?s=(r-t)/l+2:s=(t-n)/l+4,l/=c<.5?a+i:2-a-i,s*=60):l=c>0&&c<1?0:s,new Ua(s,l,c,e.opacity)}function Ahe(e,t,n,r){return arguments.length===1?xU(e):new Ua(e,t,n,r??1)}function Ua(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}gC(Ua,Ahe,yU(_m,{brighter(e){return e=e==null?jy:Math.pow(jy,e),new Ua(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Op:Math.pow(Op,e),new Ua(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new bi(oj(e>=240?e-240:e+120,i,r),oj(e,i,r),oj(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Ua(SL(this.h),Sv(this.s),Sv(this.l),Ny(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Ny(this.opacity);return`${e===1?"hsl(":"hsla("}${SL(this.h)}, ${Sv(this.s)*100}%, ${Sv(this.l)*100}%${e===1?")":`, ${e})`}`}}));function SL(e){return e=(e||0)%360,e<0?e+360:e}function Sv(e){return Math.max(0,Math.min(1,e||0))}function oj(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const vC=e=>()=>e;function Rhe(e,t){return function(n){return e+n*t}}function Mhe(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Dhe(e){return(e=+e)==1?bU:function(t,n){return n-t?Mhe(t,n,e):vC(isNaN(t)?n:t)}}function bU(e,t){var n=t-e;return n?Rhe(e,n):vC(isNaN(e)?t:e)}const jL=(function e(t){var n=Dhe(t);function r(i,a){var s=n((i=kP(i)).r,(a=kP(a)).r),l=n(i.g,a.g),c=n(i.b,a.b),f=bU(i.opacity,a.opacity);return function(p){return i.r=s(p),i.g=l(p),i.b=c(p),i.opacity=f(p),i+""}}return r.gamma=e,r})(1);function Ihe(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function Lhe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function $he(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),s;for(s=0;s<r;++s)i[s]=kf(e[s],t[s]);for(;s<n;++s)a[s]=t[s];return function(l){for(s=0;s<r;++s)a[s]=i[s](l);return a}}function Bhe(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Py(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Fhe(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=kf(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var EP=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,lj=new RegExp(EP.source,"g");function zhe(e){return function(){return e}}function qhe(e){return function(t){return e(t)+""}}function Uhe(e,t){var n=EP.lastIndex=lj.lastIndex=0,r,i,a,s=-1,l=[],c=[];for(e=e+"",t=t+"";(r=EP.exec(e))&&(i=lj.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),l[s]?l[s]+=a:l[++s]=a),(r=r[0])===(i=i[0])?l[s]?l[s]+=i:l[++s]=i:(l[++s]=null,c.push({i:s,x:Py(r,i)})),n=lj.lastIndex;return n<t.length&&(a=t.slice(n),l[s]?l[s]+=a:l[++s]=a),l.length<2?c[0]?qhe(c[0].x):zhe(t):(t=c.length,function(f){for(var p=0,m;p<t;++p)l[(m=c[p]).i]=m.x(f);return l.join("")})}function kf(e,t){var n=typeof t,r;return t==null||n==="boolean"?vC(t):(n==="number"?Py:n==="string"?(r=Ap(t))?(t=r,jL):Uhe:t instanceof Ap?jL:t instanceof Date?Bhe:Lhe(t)?Ihe:Array.isArray(t)?$he:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Fhe:Py)(e,t)}function yC(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Whe(e,t){t===void 0&&(t=e,e=kf);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(s){var l=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return a[l](s-l)}}function Hhe(e){return function(){return e}}function ky(e){return+e}var NL=[0,1];function ai(e){return e}function CP(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Hhe(isNaN(t)?NaN:.5)}function Vhe(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function Khe(e,t,n){var r=e[0],i=e[1],a=t[0],s=t[1];return i<r?(r=CP(i,r),a=n(s,a)):(r=CP(r,i),a=n(a,s)),function(l){return a(r(l))}}function Ghe(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)i[s]=CP(e[s],e[s+1]),a[s]=n(t[s],t[s+1]);return function(l){var c=wm(e,l,1,r)-1;return a[c](i[c](l))}}function Sm(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function cb(){var e=NL,t=NL,n=kf,r,i,a,s=ai,l,c,f;function p(){var v=Math.min(e.length,t.length);return s!==ai&&(s=Vhe(e[0],e[v-1])),l=v>2?Ghe:Khe,c=f=null,m}function m(v){return v==null||isNaN(v=+v)?a:(c||(c=l(e.map(r),t,n)))(r(s(v)))}return m.invert=function(v){return s(i((f||(f=l(t,e.map(r),Py)))(v)))},m.domain=function(v){return arguments.length?(e=Array.from(v,ky),p()):e.slice()},m.range=function(v){return arguments.length?(t=Array.from(v),p()):t.slice()},m.rangeRound=function(v){return t=Array.from(v),n=yC,p()},m.clamp=function(v){return arguments.length?(s=v?!0:ai,p()):s!==ai},m.interpolate=function(v){return arguments.length?(n=v,p()):n},m.unknown=function(v){return arguments.length?(a=v,m):a},function(v,x){return r=v,i=x,p()}}function xC(){return cb()(ai,ai)}function Yhe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Ey(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Fd(e){return e=Ey(Math.abs(e)),e?e[1]:NaN}function Zhe(e,t){return function(n,r){for(var i=n.length,a=[],s=0,l=e[0],c=0;i>0&&l>0&&(c+l+1>r&&(l=Math.max(1,r-c)),a.push(n.substring(i-=l,i+l)),!((c+=l+1)>r));)l=e[s=(s+1)%e.length];return a.reverse().join(t)}}function Xhe(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Qhe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Rp(e){if(!(t=Qhe.exec(e)))throw new Error("invalid format: "+e);var t;return new bC({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Rp.prototype=bC.prototype;function bC(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}bC.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Jhe(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var wU;function epe(e,t){var n=Ey(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(wU=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Ey(e,Math.max(0,t+a-1))[0]}function PL(e,t){var n=Ey(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const kL={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Yhe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>PL(e*100,t),r:PL,s:epe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function EL(e){return e}var CL=Array.prototype.map,OL=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function tpe(e){var t=e.grouping===void 0||e.thousands===void 0?EL:Zhe(CL.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?EL:Xhe(CL.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function f(m){m=Rp(m);var v=m.fill,x=m.align,_=m.sign,b=m.symbol,w=m.zero,k=m.width,E=m.comma,P=m.precision,C=m.trim,O=m.type;O==="n"?(E=!0,O="g"):kL[O]||(P===void 0&&(P=12),C=!0,O="g"),(w||v==="0"&&x==="=")&&(w=!0,v="0",x="=");var R=b==="$"?n:b==="#"&&/[boxX]/.test(O)?"0"+O.toLowerCase():"",M=b==="$"?r:/[%p]/.test(O)?s:"",U=kL[O],F=/[defgprs%]/.test(O);P=P===void 0?6:/[gprs]/.test(O)?Math.max(1,Math.min(21,P)):Math.max(0,Math.min(20,P));function H(B){var $=R,G=M,W,V,K;if(O==="c")G=U(B)+G,B="";else{B=+B;var q=B<0||1/B<0;if(B=isNaN(B)?c:U(Math.abs(B),P),C&&(B=Jhe(B)),q&&+B==0&&_!=="+"&&(q=!1),$=(q?_==="("?_:l:_==="-"||_==="("?"":_)+$,G=(O==="s"?OL[8+wU/3]:"")+G+(q&&_==="("?")":""),F){for(W=-1,V=B.length;++W<V;)if(K=B.charCodeAt(W),48>K||K>57){G=(K===46?i+B.slice(W+1):B.slice(W))+G,B=B.slice(0,W);break}}}E&&!w&&(B=t(B,1/0));var D=$.length+B.length+G.length,Q=D<k?new Array(k-D+1).join(v):"";switch(E&&w&&(B=t(Q+B,Q.length?k-G.length:1/0),Q=""),x){case"<":B=$+B+G+Q;break;case"=":B=$+Q+B+G;break;case"^":B=Q.slice(0,D=Q.length>>1)+$+B+G+Q.slice(D);break;default:B=Q+$+B+G;break}return a(B)}return H.toString=function(){return m+""},H}function p(m,v){var x=f((m=Rp(m),m.type="f",m)),_=Math.max(-8,Math.min(8,Math.floor(Fd(v)/3)))*3,b=Math.pow(10,-_),w=OL[8+_/3];return function(k){return x(b*k)+w}}return{format:f,formatPrefix:p}}var jv,wC,_U;npe({thousands:",",grouping:[3],currency:["$",""]});function npe(e){return jv=tpe(e),wC=jv.format,_U=jv.formatPrefix,jv}function rpe(e){return Math.max(0,-Fd(Math.abs(e)))}function ipe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Fd(t)/3)))*3-Fd(Math.abs(e)))}function ape(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Fd(t)-Fd(e))+1}function SU(e,t,n,r){var i=NP(e,t,n),a;switch(r=Rp(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=ipe(i,s))&&(r.precision=a),_U(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=ape(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=rpe(i))&&(r.precision=a-(r.type==="%")*2);break}}return wC(r)}function Al(e){var t=e.domain;return e.ticks=function(n){var r=t();return SP(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return SU(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,a=r.length-1,s=r[i],l=r[a],c,f,p=10;for(l<s&&(f=s,s=l,l=f,f=i,i=a,a=f);p-- >0;){if(f=jP(s,l,n),f===c)return r[i]=s,r[a]=l,t(r);if(f>0)s=Math.floor(s/f)*f,l=Math.ceil(l/f)*f;else if(f<0)s=Math.ceil(s*f)/f,l=Math.floor(l*f)/f;else break;c=f}return e},e}function Cy(){var e=xC();return e.copy=function(){return Sm(e,Cy())},_a.apply(e,arguments),Al(e)}function jU(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,ky),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return jU(e).unknown(t)},e=arguments.length?Array.from(e,ky):[0,1],Al(n)}function NU(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],a=e[r],s;return a<i&&(s=n,n=r,r=s,s=i,i=a,a=s),e[n]=t.floor(i),e[r]=t.ceil(a),e}function TL(e){return Math.log(e)}function AL(e){return Math.exp(e)}function spe(e){return-Math.log(-e)}function ope(e){return-Math.exp(-e)}function lpe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function cpe(e){return e===10?lpe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function upe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function RL(e){return(t,n)=>-e(-t,n)}function _C(e){const t=e(TL,AL),n=t.domain;let r=10,i,a;function s(){return i=upe(r),a=cpe(r),n()[0]<0?(i=RL(i),a=RL(a),e(spe,ope)):e(TL,AL),t}return t.base=function(l){return arguments.length?(r=+l,s()):r},t.domain=function(l){return arguments.length?(n(l),s()):n()},t.ticks=l=>{const c=n();let f=c[0],p=c[c.length-1];const m=p<f;m&&([f,p]=[p,f]);let v=i(f),x=i(p),_,b;const w=l==null?10:+l;let k=[];if(!(r%1)&&x-v<w){if(v=Math.floor(v),x=Math.ceil(x),f>0){for(;v<=x;++v)for(_=1;_<r;++_)if(b=v<0?_/a(-v):_*a(v),!(b<f)){if(b>p)break;k.push(b)}}else for(;v<=x;++v)for(_=r-1;_>=1;--_)if(b=v>0?_/a(-v):_*a(v),!(b<f)){if(b>p)break;k.push(b)}k.length*2<w&&(k=SP(f,p,w))}else k=SP(v,x,Math.min(x-v,w)).map(a);return m?k.reverse():k},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=Rp(c)).precision==null&&(c.trim=!0),c=wC(c)),l===1/0)return c;const f=Math.max(1,r*l/t.ticks().length);return p=>{let m=p/a(Math.round(i(p)));return m*r<r-.5&&(m*=r),m<=f?c(p):""}},t.nice=()=>n(NU(n(),{floor:l=>a(Math.floor(i(l))),ceil:l=>a(Math.ceil(i(l)))})),t}function PU(){const e=_C(cb()).domain([1,10]);return e.copy=()=>Sm(e,PU()).base(e.base()),_a.apply(e,arguments),e}function ML(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function DL(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function SC(e){var t=1,n=e(ML(t),DL(t));return n.constant=function(r){return arguments.length?e(ML(t=+r),DL(t)):t},Al(n)}function kU(){var e=SC(cb());return e.copy=function(){return Sm(e,kU()).constant(e.constant())},_a.apply(e,arguments)}function IL(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function dpe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function fpe(e){return e<0?-e*e:e*e}function jC(e){var t=e(ai,ai),n=1;function r(){return n===1?e(ai,ai):n===.5?e(dpe,fpe):e(IL(n),IL(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},Al(t)}function NC(){var e=jC(cb());return e.copy=function(){return Sm(e,NC()).exponent(e.exponent())},_a.apply(e,arguments),e}function hpe(){return NC.apply(null,arguments).exponent(.5)}function LL(e){return Math.sign(e)*e*e}function ppe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function EU(){var e=xC(),t=[0,1],n=!1,r;function i(a){var s=ppe(e(a));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(a){return e.invert(LL(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,ky)).map(LL)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return EU(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},_a.apply(i,arguments),Al(i)}function CU(){var e=[],t=[],n=[],r;function i(){var s=0,l=Math.max(1,t.length);for(n=new Array(l-1);++s<l;)n[s-1]=xhe(e,s/l);return a}function a(s){return s==null||isNaN(s=+s)?r:t[wm(n,s)]}return a.invertExtent=function(s){var l=t.indexOf(s);return l<0?[NaN,NaN]:[l>0?n[l-1]:e[0],l<n.length?n[l]:e[e.length-1]]},a.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let l of s)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(bl),i()},a.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return CU().domain(e).range(t).unknown(r)},_a.apply(a,arguments)}function OU(){var e=0,t=1,n=1,r=[.5],i=[0,1],a;function s(c){return c!=null&&c<=c?i[wm(r,c,0,n)]:a}function l(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*t-(c-n)*e)/(n+1);return s}return s.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},s.range=function(c){return arguments.length?(n=(i=Array.from(c)).length-1,l()):i.slice()},s.invertExtent=function(c){var f=i.indexOf(c);return f<0?[NaN,NaN]:f<1?[e,r[0]]:f>=n?[r[n-1],t]:[r[f-1],r[f]]},s.unknown=function(c){return arguments.length&&(a=c),s},s.thresholds=function(){return r.slice()},s.copy=function(){return OU().domain([e,t]).range(i).unknown(a)},_a.apply(Al(s),arguments)}function TU(){var e=[.5],t=[0,1],n,r=1;function i(a){return a!=null&&a<=a?t[wm(e,a,0,r)]:n}return i.domain=function(a){return arguments.length?(e=Array.from(a),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var s=t.indexOf(a);return[e[s-1],e[s]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return TU().domain(e).range(t).unknown(n)},_a.apply(i,arguments)}const cj=new Date,uj=new Date;function gr(e,t,n,r){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const s=i(a),l=i.ceil(a);return a-s<l-a?s:l},i.offset=(a,s)=>(t(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,l)=>{const c=[];if(a=i.ceil(a),l=l==null?1:Math.floor(l),!(a<s)||!(l>0))return c;let f;do c.push(f=new Date(+a)),t(a,l),e(a);while(f<a&&a<s);return c},i.filter=a=>gr(s=>{if(s>=s)for(;e(s),!a(s);)s.setTime(s-1)},(s,l)=>{if(s>=s)if(l<0)for(;++l<=0;)for(;t(s,-1),!a(s););else for(;--l>=0;)for(;t(s,1),!a(s););}),n&&(i.count=(a,s)=>(cj.setTime(+a),uj.setTime(+s),e(cj),e(uj),Math.floor(n(cj,uj))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?s=>r(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const Oy=gr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Oy.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?gr(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Oy);Oy.range;const oo=1e3,ga=oo*60,lo=ga*60,yo=lo*24,PC=yo*7,$L=yo*30,dj=yo*365,Pc=gr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*oo)},(e,t)=>(t-e)/oo,e=>e.getUTCSeconds());Pc.range;const kC=gr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*oo)},(e,t)=>{e.setTime(+e+t*ga)},(e,t)=>(t-e)/ga,e=>e.getMinutes());kC.range;const EC=gr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*ga)},(e,t)=>(t-e)/ga,e=>e.getUTCMinutes());EC.range;const CC=gr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*oo-e.getMinutes()*ga)},(e,t)=>{e.setTime(+e+t*lo)},(e,t)=>(t-e)/lo,e=>e.getHours());CC.range;const OC=gr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*lo)},(e,t)=>(t-e)/lo,e=>e.getUTCHours());OC.range;const jm=gr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ga)/yo,e=>e.getDate()-1);jm.range;const ub=gr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/yo,e=>e.getUTCDate()-1);ub.range;const AU=gr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/yo,e=>Math.floor(e/yo));AU.range;function nu(e){return gr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*ga)/PC)}const db=nu(0),Ty=nu(1),mpe=nu(2),gpe=nu(3),zd=nu(4),vpe=nu(5),ype=nu(6);db.range;Ty.range;mpe.range;gpe.range;zd.range;vpe.range;ype.range;function ru(e){return gr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/PC)}const fb=ru(0),Ay=ru(1),xpe=ru(2),bpe=ru(3),qd=ru(4),wpe=ru(5),_pe=ru(6);fb.range;Ay.range;xpe.range;bpe.range;qd.range;wpe.range;_pe.range;const TC=gr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());TC.range;const AC=gr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());AC.range;const xo=gr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());xo.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:gr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});xo.range;const bo=gr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());bo.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:gr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});bo.range;function RU(e,t,n,r,i,a){const s=[[Pc,1,oo],[Pc,5,5*oo],[Pc,15,15*oo],[Pc,30,30*oo],[a,1,ga],[a,5,5*ga],[a,15,15*ga],[a,30,30*ga],[i,1,lo],[i,3,3*lo],[i,6,6*lo],[i,12,12*lo],[r,1,yo],[r,2,2*yo],[n,1,PC],[t,1,$L],[t,3,3*$L],[e,1,dj]];function l(f,p,m){const v=p<f;v&&([f,p]=[p,f]);const x=m&&typeof m.range=="function"?m:c(f,p,m),_=x?x.range(f,+p+1):[];return v?_.reverse():_}function c(f,p,m){const v=Math.abs(p-f)/m,x=pC(([,,w])=>w).right(s,v);if(x===s.length)return e.every(NP(f/dj,p/dj,m));if(x===0)return Oy.every(Math.max(NP(f,p,m),1));const[_,b]=s[v/s[x-1][2]<s[x][2]/v?x-1:x];return _.every(b)}return[l,c]}const[Spe,jpe]=RU(bo,AC,fb,AU,OC,EC),[Npe,Ppe]=RU(xo,TC,db,jm,CC,kC);function fj(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function hj(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Eh(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function kpe(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,s=e.shortDays,l=e.months,c=e.shortMonths,f=Ch(i),p=Oh(i),m=Ch(a),v=Oh(a),x=Ch(s),_=Oh(s),b=Ch(l),w=Oh(l),k=Ch(c),E=Oh(c),P={a:q,A:D,b:Q,B:ne,c:null,d:WL,e:WL,f:Zpe,g:sme,G:lme,H:Kpe,I:Gpe,j:Ype,L:MU,m:Xpe,M:Qpe,p:J,q:ee,Q:KL,s:GL,S:Jpe,u:eme,U:tme,V:nme,w:rme,W:ime,x:null,X:null,y:ame,Y:ome,Z:cme,"%":VL},C={a:te,A:re,b:ie,B:se,c:null,d:HL,e:HL,f:hme,g:Sme,G:Nme,H:ume,I:dme,j:fme,L:IU,m:pme,M:mme,p:oe,q:be,Q:KL,s:GL,S:gme,u:vme,U:yme,V:xme,w:bme,W:wme,x:null,X:null,y:_me,Y:jme,Z:Pme,"%":VL},O={a:H,A:B,b:$,B:G,c:W,d:qL,e:qL,f:Upe,g:zL,G:FL,H:UL,I:UL,j:Bpe,L:qpe,m:$pe,M:Fpe,p:F,q:Lpe,Q:Hpe,s:Vpe,S:zpe,u:Ape,U:Rpe,V:Mpe,w:Tpe,W:Dpe,x:V,X:K,y:zL,Y:FL,Z:Ipe,"%":Wpe};P.x=R(n,P),P.X=R(r,P),P.c=R(t,P),C.x=R(n,C),C.X=R(r,C),C.c=R(t,C);function R(fe,xe){return function(ce){var ue=[],je=-1,Re=0,Xe=fe.length,Me,tt,Wt;for(ce instanceof Date||(ce=new Date(+ce));++je<Xe;)fe.charCodeAt(je)===37&&(ue.push(fe.slice(Re,je)),(tt=BL[Me=fe.charAt(++je)])!=null?Me=fe.charAt(++je):tt=Me==="e"?" ":"0",(Wt=xe[Me])&&(Me=Wt(ce,tt)),ue.push(Me),Re=je+1);return ue.push(fe.slice(Re,je)),ue.join("")}}function M(fe,xe){return function(ce){var ue=Eh(1900,void 0,1),je=U(ue,fe,ce+="",0),Re,Xe;if(je!=ce.length)return null;if("Q"in ue)return new Date(ue.Q);if("s"in ue)return new Date(ue.s*1e3+("L"in ue?ue.L:0));if(xe&&!("Z"in ue)&&(ue.Z=0),"p"in ue&&(ue.H=ue.H%12+ue.p*12),ue.m===void 0&&(ue.m="q"in ue?ue.q:0),"V"in ue){if(ue.V<1||ue.V>53)return null;"w"in ue||(ue.w=1),"Z"in ue?(Re=hj(Eh(ue.y,0,1)),Xe=Re.getUTCDay(),Re=Xe>4||Xe===0?Ay.ceil(Re):Ay(Re),Re=ub.offset(Re,(ue.V-1)*7),ue.y=Re.getUTCFullYear(),ue.m=Re.getUTCMonth(),ue.d=Re.getUTCDate()+(ue.w+6)%7):(Re=fj(Eh(ue.y,0,1)),Xe=Re.getDay(),Re=Xe>4||Xe===0?Ty.ceil(Re):Ty(Re),Re=jm.offset(Re,(ue.V-1)*7),ue.y=Re.getFullYear(),ue.m=Re.getMonth(),ue.d=Re.getDate()+(ue.w+6)%7)}else("W"in ue||"U"in ue)&&("w"in ue||(ue.w="u"in ue?ue.u%7:"W"in ue?1:0),Xe="Z"in ue?hj(Eh(ue.y,0,1)).getUTCDay():fj(Eh(ue.y,0,1)).getDay(),ue.m=0,ue.d="W"in ue?(ue.w+6)%7+ue.W*7-(Xe+5)%7:ue.w+ue.U*7-(Xe+6)%7);return"Z"in ue?(ue.H+=ue.Z/100|0,ue.M+=ue.Z%100,hj(ue)):fj(ue)}}function U(fe,xe,ce,ue){for(var je=0,Re=xe.length,Xe=ce.length,Me,tt;je<Re;){if(ue>=Xe)return-1;if(Me=xe.charCodeAt(je++),Me===37){if(Me=xe.charAt(je++),tt=O[Me in BL?xe.charAt(je++):Me],!tt||(ue=tt(fe,ce,ue))<0)return-1}else if(Me!=ce.charCodeAt(ue++))return-1}return ue}function F(fe,xe,ce){var ue=f.exec(xe.slice(ce));return ue?(fe.p=p.get(ue[0].toLowerCase()),ce+ue[0].length):-1}function H(fe,xe,ce){var ue=x.exec(xe.slice(ce));return ue?(fe.w=_.get(ue[0].toLowerCase()),ce+ue[0].length):-1}function B(fe,xe,ce){var ue=m.exec(xe.slice(ce));return ue?(fe.w=v.get(ue[0].toLowerCase()),ce+ue[0].length):-1}function $(fe,xe,ce){var ue=k.exec(xe.slice(ce));return ue?(fe.m=E.get(ue[0].toLowerCase()),ce+ue[0].length):-1}function G(fe,xe,ce){var ue=b.exec(xe.slice(ce));return ue?(fe.m=w.get(ue[0].toLowerCase()),ce+ue[0].length):-1}function W(fe,xe,ce){return U(fe,t,xe,ce)}function V(fe,xe,ce){return U(fe,n,xe,ce)}function K(fe,xe,ce){return U(fe,r,xe,ce)}function q(fe){return s[fe.getDay()]}function D(fe){return a[fe.getDay()]}function Q(fe){return c[fe.getMonth()]}function ne(fe){return l[fe.getMonth()]}function J(fe){return i[+(fe.getHours()>=12)]}function ee(fe){return 1+~~(fe.getMonth()/3)}function te(fe){return s[fe.getUTCDay()]}function re(fe){return a[fe.getUTCDay()]}function ie(fe){return c[fe.getUTCMonth()]}function se(fe){return l[fe.getUTCMonth()]}function oe(fe){return i[+(fe.getUTCHours()>=12)]}function be(fe){return 1+~~(fe.getUTCMonth()/3)}return{format:function(fe){var xe=R(fe+="",P);return xe.toString=function(){return fe},xe},parse:function(fe){var xe=M(fe+="",!1);return xe.toString=function(){return fe},xe},utcFormat:function(fe){var xe=R(fe+="",C);return xe.toString=function(){return fe},xe},utcParse:function(fe){var xe=M(fe+="",!0);return xe.toString=function(){return fe},xe}}}var BL={"-":"",_:" ",0:"0"},Sr=/^\s*\d+/,Epe=/^%/,Cpe=/[\\^$*+?|[\]().{}]/g;function Ut(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function Ope(e){return e.replace(Cpe,"\\$&")}function Ch(e){return new RegExp("^(?:"+e.map(Ope).join("|")+")","i")}function Oh(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function Tpe(e,t,n){var r=Sr.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Ape(e,t,n){var r=Sr.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function Rpe(e,t,n){var r=Sr.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function Mpe(e,t,n){var r=Sr.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function Dpe(e,t,n){var r=Sr.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function FL(e,t,n){var r=Sr.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function zL(e,t,n){var r=Sr.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Ipe(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Lpe(e,t,n){var r=Sr.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function $pe(e,t,n){var r=Sr.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function qL(e,t,n){var r=Sr.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function Bpe(e,t,n){var r=Sr.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function UL(e,t,n){var r=Sr.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function Fpe(e,t,n){var r=Sr.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function zpe(e,t,n){var r=Sr.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function qpe(e,t,n){var r=Sr.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function Upe(e,t,n){var r=Sr.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Wpe(e,t,n){var r=Epe.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function Hpe(e,t,n){var r=Sr.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function Vpe(e,t,n){var r=Sr.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function WL(e,t){return Ut(e.getDate(),t,2)}function Kpe(e,t){return Ut(e.getHours(),t,2)}function Gpe(e,t){return Ut(e.getHours()%12||12,t,2)}function Ype(e,t){return Ut(1+jm.count(xo(e),e),t,3)}function MU(e,t){return Ut(e.getMilliseconds(),t,3)}function Zpe(e,t){return MU(e,t)+"000"}function Xpe(e,t){return Ut(e.getMonth()+1,t,2)}function Qpe(e,t){return Ut(e.getMinutes(),t,2)}function Jpe(e,t){return Ut(e.getSeconds(),t,2)}function eme(e){var t=e.getDay();return t===0?7:t}function tme(e,t){return Ut(db.count(xo(e)-1,e),t,2)}function DU(e){var t=e.getDay();return t>=4||t===0?zd(e):zd.ceil(e)}function nme(e,t){return e=DU(e),Ut(zd.count(xo(e),e)+(xo(e).getDay()===4),t,2)}function rme(e){return e.getDay()}function ime(e,t){return Ut(Ty.count(xo(e)-1,e),t,2)}function ame(e,t){return Ut(e.getFullYear()%100,t,2)}function sme(e,t){return e=DU(e),Ut(e.getFullYear()%100,t,2)}function ome(e,t){return Ut(e.getFullYear()%1e4,t,4)}function lme(e,t){var n=e.getDay();return e=n>=4||n===0?zd(e):zd.ceil(e),Ut(e.getFullYear()%1e4,t,4)}function cme(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ut(t/60|0,"0",2)+Ut(t%60,"0",2)}function HL(e,t){return Ut(e.getUTCDate(),t,2)}function ume(e,t){return Ut(e.getUTCHours(),t,2)}function dme(e,t){return Ut(e.getUTCHours()%12||12,t,2)}function fme(e,t){return Ut(1+ub.count(bo(e),e),t,3)}function IU(e,t){return Ut(e.getUTCMilliseconds(),t,3)}function hme(e,t){return IU(e,t)+"000"}function pme(e,t){return Ut(e.getUTCMonth()+1,t,2)}function mme(e,t){return Ut(e.getUTCMinutes(),t,2)}function gme(e,t){return Ut(e.getUTCSeconds(),t,2)}function vme(e){var t=e.getUTCDay();return t===0?7:t}function yme(e,t){return Ut(fb.count(bo(e)-1,e),t,2)}function LU(e){var t=e.getUTCDay();return t>=4||t===0?qd(e):qd.ceil(e)}function xme(e,t){return e=LU(e),Ut(qd.count(bo(e),e)+(bo(e).getUTCDay()===4),t,2)}function bme(e){return e.getUTCDay()}function wme(e,t){return Ut(Ay.count(bo(e)-1,e),t,2)}function _me(e,t){return Ut(e.getUTCFullYear()%100,t,2)}function Sme(e,t){return e=LU(e),Ut(e.getUTCFullYear()%100,t,2)}function jme(e,t){return Ut(e.getUTCFullYear()%1e4,t,4)}function Nme(e,t){var n=e.getUTCDay();return e=n>=4||n===0?qd(e):qd.ceil(e),Ut(e.getUTCFullYear()%1e4,t,4)}function Pme(){return"+0000"}function VL(){return"%"}function KL(e){return+e}function GL(e){return Math.floor(+e/1e3)}var ad,$U,BU;kme({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function kme(e){return ad=kpe(e),$U=ad.format,ad.parse,BU=ad.utcFormat,ad.utcParse,ad}function Eme(e){return new Date(e)}function Cme(e){return e instanceof Date?+e:+new Date(+e)}function RC(e,t,n,r,i,a,s,l,c,f){var p=xC(),m=p.invert,v=p.domain,x=f(".%L"),_=f(":%S"),b=f("%I:%M"),w=f("%I %p"),k=f("%a %d"),E=f("%b %d"),P=f("%B"),C=f("%Y");function O(R){return(c(R)<R?x:l(R)<R?_:s(R)<R?b:a(R)<R?w:r(R)<R?i(R)<R?k:E:n(R)<R?P:C)(R)}return p.invert=function(R){return new Date(m(R))},p.domain=function(R){return arguments.length?v(Array.from(R,Cme)):v().map(Eme)},p.ticks=function(R){var M=v();return e(M[0],M[M.length-1],R??10)},p.tickFormat=function(R,M){return M==null?O:f(M)},p.nice=function(R){var M=v();return(!R||typeof R.range!="function")&&(R=t(M[0],M[M.length-1],R??10)),R?v(NU(M,R)):p},p.copy=function(){return Sm(p,RC(e,t,n,r,i,a,s,l,c,f))},p}function Ome(){return _a.apply(RC(Npe,Ppe,xo,TC,db,jm,CC,kC,Pc,$U).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Tme(){return _a.apply(RC(Spe,jpe,bo,AC,fb,ub,OC,EC,Pc,BU).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function hb(){var e=0,t=1,n,r,i,a,s=ai,l=!1,c;function f(m){return m==null||isNaN(m=+m)?c:s(i===0?.5:(m=(a(m)-n)*i,l?Math.max(0,Math.min(1,m)):m))}f.domain=function(m){return arguments.length?([e,t]=m,n=a(e=+e),r=a(t=+t),i=n===r?0:1/(r-n),f):[e,t]},f.clamp=function(m){return arguments.length?(l=!!m,f):l},f.interpolator=function(m){return arguments.length?(s=m,f):s};function p(m){return function(v){var x,_;return arguments.length?([x,_]=v,s=m(x,_),f):[s(0),s(1)]}}return f.range=p(kf),f.rangeRound=p(yC),f.unknown=function(m){return arguments.length?(c=m,f):c},function(m){return a=m,n=m(e),r=m(t),i=n===r?0:1/(r-n),f}}function Rl(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function FU(){var e=Al(hb()(ai));return e.copy=function(){return Rl(e,FU())},jo.apply(e,arguments)}function zU(){var e=_C(hb()).domain([1,10]);return e.copy=function(){return Rl(e,zU()).base(e.base())},jo.apply(e,arguments)}function qU(){var e=SC(hb());return e.copy=function(){return Rl(e,qU()).constant(e.constant())},jo.apply(e,arguments)}function MC(){var e=jC(hb());return e.copy=function(){return Rl(e,MC()).exponent(e.exponent())},jo.apply(e,arguments)}function Ame(){return MC.apply(null,arguments).exponent(.5)}function UU(){var e=[],t=ai;function n(r){if(r!=null&&!isNaN(r=+r))return t((wm(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(bl),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>yhe(e,a/r))},n.copy=function(){return UU(t).domain(e)},jo.apply(n,arguments)}function pb(){var e=0,t=.5,n=1,r=1,i,a,s,l,c,f=ai,p,m=!1,v;function x(b){return isNaN(b=+b)?v:(b=.5+((b=+p(b))-a)*(r*b<r*a?l:c),f(m?Math.max(0,Math.min(1,b)):b))}x.domain=function(b){return arguments.length?([e,t,n]=b,i=p(e=+e),a=p(t=+t),s=p(n=+n),l=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),r=a<i?-1:1,x):[e,t,n]},x.clamp=function(b){return arguments.length?(m=!!b,x):m},x.interpolator=function(b){return arguments.length?(f=b,x):f};function _(b){return function(w){var k,E,P;return arguments.length?([k,E,P]=w,f=Whe(b,[k,E,P]),x):[f(0),f(.5),f(1)]}}return x.range=_(kf),x.rangeRound=_(yC),x.unknown=function(b){return arguments.length?(v=b,x):v},function(b){return p=b,i=b(e),a=b(t),s=b(n),l=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),r=a<i?-1:1,x}}function WU(){var e=Al(pb()(ai));return e.copy=function(){return Rl(e,WU())},jo.apply(e,arguments)}function HU(){var e=_C(pb()).domain([.1,1,10]);return e.copy=function(){return Rl(e,HU()).base(e.base())},jo.apply(e,arguments)}function VU(){var e=SC(pb());return e.copy=function(){return Rl(e,VU()).constant(e.constant())},jo.apply(e,arguments)}function DC(){var e=jC(pb());return e.copy=function(){return Rl(e,DC()).exponent(e.exponent())},jo.apply(e,arguments)}function Rme(){return DC.apply(null,arguments).exponent(.5)}const YL=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Cp,scaleDiverging:WU,scaleDivergingLog:HU,scaleDivergingPow:DC,scaleDivergingSqrt:Rme,scaleDivergingSymlog:VU,scaleIdentity:jU,scaleImplicit:PP,scaleLinear:Cy,scaleLog:PU,scaleOrdinal:mC,scalePoint:Jh,scalePow:NC,scaleQuantile:CU,scaleQuantize:OU,scaleRadial:EU,scaleSequential:FU,scaleSequentialLog:zU,scaleSequentialPow:MC,scaleSequentialQuantile:UU,scaleSequentialSqrt:Ame,scaleSequentialSymlog:qU,scaleSqrt:hpe,scaleSymlog:kU,scaleThreshold:TU,scaleTime:Ome,scaleUtc:Tme,tickFormat:SU},Symbol.toStringTag,{value:"Module"}));var pj,ZL;function mb(){if(ZL)return pj;ZL=1;var e=Sf();function t(n,r,i){for(var a=-1,s=n.length;++a<s;){var l=n[a],c=r(l);if(c!=null&&(f===void 0?c===c&&!e(c):i(c,f)))var f=c,p=l}return p}return pj=t,pj}var mj,XL;function KU(){if(XL)return mj;XL=1;function e(t,n){return t>n}return mj=e,mj}var gj,QL;function Mme(){if(QL)return gj;QL=1;var e=mb(),t=KU(),n=Pf();function r(i){return i&&i.length?e(i,n,t):void 0}return gj=r,gj}var Dme=Mme();const gb=Ft(Dme);var vj,JL;function GU(){if(JL)return vj;JL=1;function e(t,n){return t<n}return vj=e,vj}var yj,e4;function Ime(){if(e4)return yj;e4=1;var e=mb(),t=GU(),n=Pf();function r(i){return i&&i.length?e(i,n,t):void 0}return yj=r,yj}var Lme=Ime();const vb=Ft(Lme);var xj,t4;function $me(){if(t4)return xj;t4=1;var e=XE(),t=Os(),n=nU(),r=wi();function i(a,s){var l=r(a)?e:n;return l(a,t(s,3))}return xj=i,xj}var bj,n4;function Bme(){if(n4)return bj;n4=1;var e=eU(),t=$me();function n(r,i){return e(t(r,i),1)}return bj=n,bj}var Fme=Bme();const zme=Ft(Fme);var wj,r4;function qme(){if(r4)return wj;r4=1;var e=uC();function t(n,r){return e(n,r)}return wj=t,wj}var Ume=qme();const Nm=Ft(Ume);var Ef=1e9,Wme={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},LC,_n=!0,xa="[DecimalError] ",Cc=xa+"Invalid argument: ",IC=xa+"Exponent out of range: ",Cf=Math.floor,yc=Math.pow,Hme=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ui,br=1e7,xn=7,YU=9007199254740991,Ry=Cf(YU/xn),We={};We.absoluteValue=We.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};We.comparedTo=We.cmp=function(e){var t,n,r,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(r=a.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};We.decimalPlaces=We.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*xn;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};We.dividedBy=We.div=function(e){return ho(this,new this.constructor(e))};We.dividedToIntegerBy=We.idiv=function(e){var t=this,n=t.constructor;return an(ho(t,new n(e),0,1),n.precision)};We.equals=We.eq=function(e){return!this.cmp(e)};We.exponent=function(){return Qn(this)};We.greaterThan=We.gt=function(e){return this.cmp(e)>0};We.greaterThanOrEqualTo=We.gte=function(e){return this.cmp(e)>=0};We.isInteger=We.isint=function(){return this.e>this.d.length-2};We.isNegative=We.isneg=function(){return this.s<0};We.isPositive=We.ispos=function(){return this.s>0};We.isZero=function(){return this.s===0};We.lessThan=We.lt=function(e){return this.cmp(e)<0};We.lessThanOrEqualTo=We.lte=function(e){return this.cmp(e)<1};We.logarithm=We.log=function(e){var t,n=this,r=n.constructor,i=r.precision,a=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(Ui))throw Error(xa+"NaN");if(n.s<1)throw Error(xa+(n.s?"NaN":"-Infinity"));return n.eq(Ui)?new r(0):(_n=!1,t=ho(Mp(n,a),Mp(e,a),a),_n=!0,an(t,i))};We.minus=We.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?QU(t,e):ZU(t,(e.s=-e.s,e))};We.modulo=We.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(xa+"NaN");return n.s?(_n=!1,t=ho(n,e,0,1).times(e),_n=!0,n.minus(t)):an(new r(n),i)};We.naturalExponential=We.exp=function(){return XU(this)};We.naturalLogarithm=We.ln=function(){return Mp(this)};We.negated=We.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};We.plus=We.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?ZU(t,e):QU(t,(e.s=-e.s,e))};We.precision=We.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Cc+e);if(t=Qn(i)+1,r=i.d.length-1,n=r*xn+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};We.squareRoot=We.sqrt=function(){var e,t,n,r,i,a,s,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(xa+"NaN")}for(e=Qn(l),_n=!1,i=Math.sqrt(+l),i==0||i==1/0?(t=xs(l.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Cf((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new c(t)):r=new c(i.toString()),n=c.precision,i=s=n+3;;)if(a=r,r=a.plus(ho(l,a,s+2)).times(.5),xs(a.d).slice(0,s)===(t=xs(r.d)).slice(0,s)){if(t=t.slice(s-3,s+1),i==s&&t=="4999"){if(an(a,n+1,0),a.times(a).eq(l)){r=a;break}}else if(t!="9999")break;s+=4}return _n=!0,an(r,n)};We.times=We.mul=function(e){var t,n,r,i,a,s,l,c,f,p=this,m=p.constructor,v=p.d,x=(e=new m(e)).d;if(!p.s||!e.s)return new m(0);for(e.s*=p.s,n=p.e+e.e,c=v.length,f=x.length,c<f&&(a=v,v=x,x=a,s=c,c=f,f=s),a=[],s=c+f,r=s;r--;)a.push(0);for(r=f;--r>=0;){for(t=0,i=c+r;i>r;)l=a[i]+x[r]*v[i-r-1]+t,a[i--]=l%br|0,t=l/br|0;a[i]=(a[i]+t)%br|0}for(;!a[--s];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,_n?an(e,m.precision):e};We.toDecimalPlaces=We.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(Ns(e,0,Ef),t===void 0?t=r.rounding:Ns(t,0,8),an(n,e+Qn(n)+1,t))};We.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=Wc(r,!0):(Ns(e,0,Ef),t===void 0?t=i.rounding:Ns(t,0,8),r=an(new i(r),e+1,t),n=Wc(r,!0,e+1)),n};We.toFixed=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?Wc(i):(Ns(e,0,Ef),t===void 0?t=a.rounding:Ns(t,0,8),r=an(new a(i),e+Qn(i)+1,t),n=Wc(r.abs(),!1,e+Qn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};We.toInteger=We.toint=function(){var e=this,t=e.constructor;return an(new t(e),Qn(e)+1,t.rounding)};We.toNumber=function(){return+this};We.toPower=We.pow=function(e){var t,n,r,i,a,s,l=this,c=l.constructor,f=12,p=+(e=new c(e));if(!e.s)return new c(Ui);if(l=new c(l),!l.s){if(e.s<1)throw Error(xa+"Infinity");return l}if(l.eq(Ui))return l;if(r=c.precision,e.eq(Ui))return an(l,r);if(t=e.e,n=e.d.length-1,s=t>=n,a=l.s,s){if((n=p<0?-p:p)<=YU){for(i=new c(Ui),t=Math.ceil(r/xn+4),_n=!1;n%2&&(i=i.times(l),a4(i.d,t)),n=Cf(n/2),n!==0;)l=l.times(l),a4(l.d,t);return _n=!0,e.s<0?new c(Ui).div(i):an(i,r)}}else if(a<0)throw Error(xa+"NaN");return a=a<0&&e.d[Math.max(t,n)]&1?-1:1,l.s=1,_n=!1,i=e.times(Mp(l,r+f)),_n=!0,i=XU(i),i.s=a,i};We.toPrecision=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?(n=Qn(i),r=Wc(i,n<=a.toExpNeg||n>=a.toExpPos)):(Ns(e,1,Ef),t===void 0?t=a.rounding:Ns(t,0,8),i=an(new a(i),e,t),n=Qn(i),r=Wc(i,e<=n||n<=a.toExpNeg,e)),r};We.toSignificantDigits=We.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(Ns(e,1,Ef),t===void 0?t=r.rounding:Ns(t,0,8)),an(new r(n),e,t)};We.toString=We.valueOf=We.val=We.toJSON=We[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Qn(e),n=e.constructor;return Wc(e,t<=n.toExpNeg||t>=n.toExpPos)};function ZU(e,t){var n,r,i,a,s,l,c,f,p=e.constructor,m=p.precision;if(!e.s||!t.s)return t.s||(t=new p(e)),_n?an(t,m):t;if(c=e.d,f=t.d,s=e.e,i=t.e,c=c.slice(),a=s-i,a){for(a<0?(r=c,a=-a,l=f.length):(r=f,i=s,l=c.length),s=Math.ceil(m/xn),l=s>l?s+1:l+1,a>l&&(a=l,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(l=c.length,a=f.length,l-a<0&&(a=l,r=f,f=c,c=r),n=0;a;)n=(c[--a]=c[a]+f[a]+n)/br|0,c[a]%=br;for(n&&(c.unshift(n),++i),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=i,_n?an(t,m):t}function Ns(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Cc+e)}function xs(e){var t,n,r,i=e.length-1,a="",s=e[0];if(i>0){for(a+=s,t=1;t<i;t++)r=e[t]+"",n=xn-r.length,n&&(a+=dl(n)),a+=r;s=e[t],r=s+"",n=xn-r.length,n&&(a+=dl(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var ho=(function(){function e(r,i){var a,s=0,l=r.length;for(r=r.slice();l--;)a=r[l]*i+s,r[l]=a%br|0,s=a/br|0;return s&&r.unshift(s),r}function t(r,i,a,s){var l,c;if(a!=s)c=a>s?1:-1;else for(l=c=0;l<a;l++)if(r[l]!=i[l]){c=r[l]>i[l]?1:-1;break}return c}function n(r,i,a){for(var s=0;a--;)r[a]-=s,s=r[a]<i[a]?1:0,r[a]=s*br+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,s){var l,c,f,p,m,v,x,_,b,w,k,E,P,C,O,R,M,U,F=r.constructor,H=r.s==i.s?1:-1,B=r.d,$=i.d;if(!r.s)return new F(r);if(!i.s)throw Error(xa+"Division by zero");for(c=r.e-i.e,M=$.length,O=B.length,x=new F(H),_=x.d=[],f=0;$[f]==(B[f]||0);)++f;if($[f]>(B[f]||0)&&--c,a==null?E=a=F.precision:s?E=a+(Qn(r)-Qn(i))+1:E=a,E<0)return new F(0);if(E=E/xn+2|0,f=0,M==1)for(p=0,$=$[0],E++;(f<O||p)&&E--;f++)P=p*br+(B[f]||0),_[f]=P/$|0,p=P%$|0;else{for(p=br/($[0]+1)|0,p>1&&($=e($,p),B=e(B,p),M=$.length,O=B.length),C=M,b=B.slice(0,M),w=b.length;w<M;)b[w++]=0;U=$.slice(),U.unshift(0),R=$[0],$[1]>=br/2&&++R;do p=0,l=t($,b,M,w),l<0?(k=b[0],M!=w&&(k=k*br+(b[1]||0)),p=k/R|0,p>1?(p>=br&&(p=br-1),m=e($,p),v=m.length,w=b.length,l=t(m,b,v,w),l==1&&(p--,n(m,M<v?U:$,v))):(p==0&&(l=p=1),m=$.slice()),v=m.length,v<w&&m.unshift(0),n(b,m,w),l==-1&&(w=b.length,l=t($,b,M,w),l<1&&(p++,n(b,M<w?U:$,w))),w=b.length):l===0&&(p++,b=[0]),_[f++]=p,l&&b[0]?b[w++]=B[C]||0:(b=[B[C]],w=1);while((C++<O||b[0]!==void 0)&&E--)}return _[0]||_.shift(),x.e=c,an(x,s?a+Qn(x)+1:a)}})();function XU(e,t){var n,r,i,a,s,l,c=0,f=0,p=e.constructor,m=p.precision;if(Qn(e)>16)throw Error(IC+Qn(e));if(!e.s)return new p(Ui);for(_n=!1,l=m,s=new p(.03125);e.abs().gte(.1);)e=e.times(s),f+=5;for(r=Math.log(yc(2,f))/Math.LN10*2+5|0,l+=r,n=i=a=new p(Ui),p.precision=l;;){if(i=an(i.times(e),l),n=n.times(++c),s=a.plus(ho(i,n,l)),xs(s.d).slice(0,l)===xs(a.d).slice(0,l)){for(;f--;)a=an(a.times(a),l);return p.precision=m,t==null?(_n=!0,an(a,m)):a}a=s}}function Qn(e){for(var t=e.e*xn,n=e.d[0];n>=10;n/=10)t++;return t}function _j(e,t,n){if(t>e.LN10.sd())throw _n=!0,n&&(e.precision=n),Error(xa+"LN10 precision limit exceeded");return an(new e(e.LN10),t)}function dl(e){for(var t="";e--;)t+="0";return t}function Mp(e,t){var n,r,i,a,s,l,c,f,p,m=1,v=10,x=e,_=x.d,b=x.constructor,w=b.precision;if(x.s<1)throw Error(xa+(x.s?"NaN":"-Infinity"));if(x.eq(Ui))return new b(0);if(t==null?(_n=!1,f=w):f=t,x.eq(10))return t==null&&(_n=!0),_j(b,f);if(f+=v,b.precision=f,n=xs(_),r=n.charAt(0),a=Qn(x),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)x=x.times(e),n=xs(x.d),r=n.charAt(0),m++;a=Qn(x),r>1?(x=new b("0."+n),a++):x=new b(r+"."+n.slice(1))}else return c=_j(b,f+2,w).times(a+""),x=Mp(new b(r+"."+n.slice(1)),f-v).plus(c),b.precision=w,t==null?(_n=!0,an(x,w)):x;for(l=s=x=ho(x.minus(Ui),x.plus(Ui),f),p=an(x.times(x),f),i=3;;){if(s=an(s.times(p),f),c=l.plus(ho(s,new b(i),f)),xs(c.d).slice(0,f)===xs(l.d).slice(0,f))return l=l.times(2),a!==0&&(l=l.plus(_j(b,f+2,w).times(a+""))),l=ho(l,new b(m),f),b.precision=w,t==null?(_n=!0,an(l,w)):l;l=c,i+=2}}function i4(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=Cf(n/xn),e.d=[],r=(n+1)%xn,n<0&&(r+=xn),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=xn;r<i;)e.d.push(+t.slice(r,r+=xn));t=t.slice(r),r=xn-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),_n&&(e.e>Ry||e.e<-Ry))throw Error(IC+n)}else e.s=0,e.e=0,e.d=[0];return e}function an(e,t,n){var r,i,a,s,l,c,f,p,m=e.d;for(s=1,a=m[0];a>=10;a/=10)s++;if(r=t-s,r<0)r+=xn,i=t,f=m[p=0];else{if(p=Math.ceil((r+1)/xn),a=m.length,p>=a)return e;for(f=a=m[p],s=1;a>=10;a/=10)s++;r%=xn,i=r-xn+s}if(n!==void 0&&(a=yc(10,s-i-1),l=f/a%10|0,c=t<0||m[p+1]!==void 0||f%a,c=n<4?(l||c)&&(n==0||n==(e.s<0?3:2)):l>5||l==5&&(n==4||c||n==6&&(r>0?i>0?f/yc(10,s-i):0:m[p-1])%10&1||n==(e.s<0?8:7))),t<1||!m[0])return c?(a=Qn(e),m.length=1,t=t-a-1,m[0]=yc(10,(xn-t%xn)%xn),e.e=Cf(-t/xn)||0):(m.length=1,m[0]=e.e=e.s=0),e;if(r==0?(m.length=p,a=1,p--):(m.length=p+1,a=yc(10,xn-r),m[p]=i>0?(f/yc(10,s-i)%yc(10,i)|0)*a:0),c)for(;;)if(p==0){(m[0]+=a)==br&&(m[0]=1,++e.e);break}else{if(m[p]+=a,m[p]!=br)break;m[p--]=0,a=1}for(r=m.length;m[--r]===0;)m.pop();if(_n&&(e.e>Ry||e.e<-Ry))throw Error(IC+Qn(e));return e}function QU(e,t){var n,r,i,a,s,l,c,f,p,m,v=e.constructor,x=v.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new v(e),_n?an(t,x):t;if(c=e.d,m=t.d,r=t.e,f=e.e,c=c.slice(),s=f-r,s){for(p=s<0,p?(n=c,s=-s,l=m.length):(n=m,r=f,l=c.length),i=Math.max(Math.ceil(x/xn),l)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=c.length,l=m.length,p=i<l,p&&(l=i),i=0;i<l;i++)if(c[i]!=m[i]){p=c[i]<m[i];break}s=0}for(p&&(n=c,c=m,m=n,t.s=-t.s),l=c.length,i=m.length-l;i>0;--i)c[l++]=0;for(i=m.length;i>s;){if(c[--i]<m[i]){for(a=i;a&&c[--a]===0;)c[a]=br-1;--c[a],c[i]+=br}c[i]-=m[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(t.d=c,t.e=r,_n?an(t,x):t):new v(0)}function Wc(e,t,n){var r,i=Qn(e),a=xs(e.d),s=a.length;return t?(n&&(r=n-s)>0?a=a.charAt(0)+"."+a.slice(1)+dl(r):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+dl(-i-1)+a,n&&(r=n-s)>0&&(a+=dl(r))):i>=s?(a+=dl(i+1-s),n&&(r=n-i-1)>0&&(a=a+"."+dl(r))):((r=i+1)<s&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(a+="."),a+=dl(r))),e.s<0?"-"+a:a}function a4(e,t){if(e.length>t)return e.length=t,!0}function JU(e){var t,n,r;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Cc+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return i4(s,a.toString())}else if(typeof a!="string")throw Error(Cc+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,Hme.test(a))i4(s,a);else throw Error(Cc+a)}if(i.prototype=We,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=JU,i.config=i.set=Vme,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function Vme(e){if(!e||typeof e!="object")throw Error(xa+"Object expected");var t,n,r,i=["precision",1,Ef,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(Cf(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(Cc+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Cc+n+": "+r);return this}var LC=JU(Wme);Ui=new LC(1);const tn=LC;function Kme(e){return Xme(e)||Zme(e)||Yme(e)||Gme()}function Gme(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yme(e,t){if(e){if(typeof e=="string")return OP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return OP(e,t)}}function Zme(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Xme(e){if(Array.isArray(e))return OP(e)}function OP(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Qme=function(t){return t},eW={},tW=function(t){return t===eW},s4=function(t){return function n(){return arguments.length===0||arguments.length===1&&tW(arguments.length<=0?void 0:arguments[0])?n:t.apply(void 0,arguments)}},Jme=function e(t,n){return t===1?n:s4(function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var s=i.filter(function(l){return l!==eW}).length;return s>=t?n.apply(void 0,i):e(t-s,s4(function(){for(var l=arguments.length,c=new Array(l),f=0;f<l;f++)c[f]=arguments[f];var p=i.map(function(m){return tW(m)?c.shift():m});return n.apply(void 0,Kme(p).concat(c))}))})},yb=function(t){return Jme(t.length,t)},TP=function(t,n){for(var r=[],i=t;i<n;++i)r[i-t]=i;return r},ege=yb(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(n){return t[n]}).map(e)}),tge=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return Qme;var i=n.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce(function(l,c){return c(l)},a.apply(void 0,arguments))}},AP=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},nW=function(t){var n=null,r=null;return function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return n&&a.every(function(l,c){return l===n[c]})||(n=a,r=t.apply(void 0,a)),r}};function nge(e){var t;return e===0?t=1:t=Math.floor(new tn(e).abs().log(10).toNumber())+1,t}function rge(e,t,n){for(var r=new tn(e),i=0,a=[];r.lt(t)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var ige=yb(function(e,t,n){var r=+e,i=+t;return r+n*(i-r)}),age=yb(function(e,t,n){var r=t-+e;return r=r||1/0,(n-e)/r}),sge=yb(function(e,t,n){var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});const xb={rangeStep:rge,getDigitCount:nge,interpolateNumber:ige,uninterpolateNumber:age,uninterpolateTruncation:sge};function RP(e){return cge(e)||lge(e)||rW(e)||oge()}function oge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lge(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function cge(e){if(Array.isArray(e))return MP(e)}function Dp(e,t){return fge(e)||dge(e,t)||rW(e,t)||uge()}function uge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rW(e,t){if(e){if(typeof e=="string")return MP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MP(e,t)}}function MP(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function dge(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],r=!0,i=!1,a=void 0;try{for(var s=e[Symbol.iterator](),l;!(r=(l=s.next()).done)&&(n.push(l.value),!(t&&n.length===t));r=!0);}catch(c){i=!0,a=c}finally{try{!r&&s.return!=null&&s.return()}finally{if(i)throw a}}return n}}function fge(e){if(Array.isArray(e))return e}function iW(e){var t=Dp(e,2),n=t[0],r=t[1],i=n,a=r;return n>r&&(i=r,a=n),[i,a]}function aW(e,t,n){if(e.lte(0))return new tn(0);var r=xb.getDigitCount(e.toNumber()),i=new tn(10).pow(r),a=e.div(i),s=r!==1?.05:.1,l=new tn(Math.ceil(a.div(s).toNumber())).add(n).mul(s),c=l.mul(i);return t?c:new tn(Math.ceil(c))}function hge(e,t,n){var r=1,i=new tn(e);if(!i.isint()&&n){var a=Math.abs(e);a<1?(r=new tn(10).pow(xb.getDigitCount(e)-1),i=new tn(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new tn(Math.floor(e)))}else e===0?i=new tn(Math.floor((t-1)/2)):n||(i=new tn(Math.floor(e)));var s=Math.floor((t-1)/2),l=tge(ege(function(c){return i.add(new tn(c-s).mul(r)).toNumber()}),TP);return l(0,t)}function sW(e,t,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new tn(0),tickMin:new tn(0),tickMax:new tn(0)};var a=aW(new tn(t).sub(e).div(n-1),r,i),s;e<=0&&t>=0?s=new tn(0):(s=new tn(e).add(t).div(2),s=s.sub(new tn(s).mod(a)));var l=Math.ceil(s.sub(e).div(a).toNumber()),c=Math.ceil(new tn(t).sub(s).div(a).toNumber()),f=l+c+1;return f>n?sW(e,t,n,r,i+1):(f<n&&(c=t>0?c+(n-f):c,l=t>0?l:l+(n-f)),{step:a,tickMin:s.sub(new tn(l).mul(a)),tickMax:s.add(new tn(c).mul(a))})}function pge(e){var t=Dp(e,2),n=t[0],r=t[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),l=iW([n,r]),c=Dp(l,2),f=c[0],p=c[1];if(f===-1/0||p===1/0){var m=p===1/0?[f].concat(RP(TP(0,i-1).map(function(){return 1/0}))):[].concat(RP(TP(0,i-1).map(function(){return-1/0})),[p]);return n>r?AP(m):m}if(f===p)return hge(f,i,a);var v=sW(f,p,s,a),x=v.step,_=v.tickMin,b=v.tickMax,w=xb.rangeStep(_,b.add(new tn(.1).mul(x)),x);return n>r?AP(w):w}function mge(e,t){var n=Dp(e,2),r=n[0],i=n[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=iW([r,i]),l=Dp(s,2),c=l[0],f=l[1];if(c===-1/0||f===1/0)return[r,i];if(c===f)return[c];var p=Math.max(t,2),m=aW(new tn(f).sub(c).div(p-1),a,0),v=[].concat(RP(xb.rangeStep(new tn(c),new tn(f).sub(new tn(.99).mul(m)),m)),[f]);return r>i?AP(v):v}var gge=nW(pge),vge=nW(mge),yge="Invariant failed";function Hc(e,t){throw new Error(yge)}var xge=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Ud(e){"@babel/helpers - typeof";return Ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ud(e)}function My(){return My=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},My.apply(this,arguments)}function bge(e,t){return jge(e)||Sge(e,t)||_ge(e,t)||wge()}function wge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _ge(e,t){if(e){if(typeof e=="string")return o4(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o4(e,t)}}function o4(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Sge(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,s,l=[],c=!0,f=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(p){f=!0,i=p}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function jge(e){if(Array.isArray(e))return e}function Nge(e,t){if(e==null)return{};var n=Pge(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Pge(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function kge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ege(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,cW(r.key),r)}}function Cge(e,t,n){return t&&Ege(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Oge(e,t,n){return t=Dy(t),Tge(e,oW()?Reflect.construct(t,n||[],Dy(e).constructor):t.apply(e,n))}function Tge(e,t){if(t&&(Ud(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Age(e)}function Age(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oW=function(){return!!e})()}function Dy(e){return Dy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Dy(e)}function Rge(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&DP(e,t)}function DP(e,t){return DP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},DP(e,t)}function lW(e,t,n){return t=cW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cW(e){var t=Mge(e,"string");return Ud(t)=="symbol"?t:t+""}function Mge(e,t){if(Ud(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ud(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Pm=(function(e){function t(){return kge(this,t),Oge(this,t,arguments)}return Rge(t,e),Cge(t,[{key:"render",value:function(){var r=this.props,i=r.offset,a=r.layout,s=r.width,l=r.dataKey,c=r.data,f=r.dataPointFormatter,p=r.xAxis,m=r.yAxis,v=Nge(r,xge),x=ot(v,!1);this.props.direction==="x"&&p.type!=="number"&&Hc();var _=c.map(function(b){var w=f(b,l),k=w.x,E=w.y,P=w.value,C=w.errorVal;if(!C)return null;var O=[],R,M;if(Array.isArray(C)){var U=bge(C,2);R=U[0],M=U[1]}else R=M=C;if(a==="vertical"){var F=p.scale,H=E+i,B=H+s,$=H-s,G=F(P-R),W=F(P+M);O.push({x1:W,y1:B,x2:W,y2:$}),O.push({x1:G,y1:H,x2:W,y2:H}),O.push({x1:G,y1:B,x2:G,y2:$})}else if(a==="horizontal"){var V=m.scale,K=k+i,q=K-s,D=K+s,Q=V(P-R),ne=V(P+M);O.push({x1:q,y1:ne,x2:D,y2:ne}),O.push({x1:K,y1:Q,x2:K,y2:ne}),O.push({x1:q,y1:Q,x2:D,y2:Q})}return Z.createElement(qt,My({className:"recharts-errorBar",key:"bar-".concat(O.map(function(J){return"".concat(J.x1,"-").concat(J.x2,"-").concat(J.y1,"-").concat(J.y2)}))},x),O.map(function(J){return Z.createElement("line",My({},J,{key:"line-".concat(J.x1,"-").concat(J.x2,"-").concat(J.y1,"-").concat(J.y2)}))}))});return Z.createElement(qt,{className:"recharts-errorBars"},_)}}])})(Z.Component);lW(Pm,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});lW(Pm,"displayName","ErrorBar");function Ip(e){"@babel/helpers - typeof";return Ip=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ip(e)}function l4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function uc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?l4(Object(n),!0).forEach(function(r){Dge(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Dge(e,t,n){return t=Ige(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ige(e){var t=Lge(e,"string");return Ip(t)=="symbol"?t:t+""}function Lge(e,t){if(Ip(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ip(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uW=function(t){var n=t.children,r=t.formattedGraphicalItems,i=t.legendWidth,a=t.legendContent,s=$i(n,Nd);if(!s)return null;var l=Nd.defaultProps,c=l!==void 0?uc(uc({},l),s.props):{},f;return s.props&&s.props.payload?f=s.props&&s.props.payload:a==="children"?f=(r||[]).reduce(function(p,m){var v=m.item,x=m.props,_=x.sectors||x.data||[];return p.concat(_.map(function(b){return{type:s.props.iconType||v.props.legendType,value:b.name,color:b.fill,payload:b}}))},[]):f=(r||[]).map(function(p){var m=p.item,v=m.type.defaultProps,x=v!==void 0?uc(uc({},v),m.props):{},_=x.dataKey,b=x.name,w=x.legendType,k=x.hide;return{inactive:k,dataKey:_,type:c.iconType||w||"square",color:$C(m),value:b||_,payload:x}}),uc(uc(uc({},c),Nd.getWithHeight(s,i)),{},{payload:f,item:s})};function Lp(e){"@babel/helpers - typeof";return Lp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lp(e)}function c4(e){return zge(e)||Fge(e)||Bge(e)||$ge()}function $ge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bge(e,t){if(e){if(typeof e=="string")return IP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return IP(e,t)}}function Fge(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function zge(e){if(Array.isArray(e))return IP(e)}function IP(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Dn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?u4(Object(n),!0).forEach(function(r){kd(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kd(e,t,n){return t=qge(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qge(e){var t=Uge(e,"string");return Lp(t)=="symbol"?t:t+""}function Uge(e,t){if(Lp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Lp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dr(e,t,n){return _t(e)||_t(t)?n:hr(t)?Vi(e,t,n):gt(t)?t(e):n}function ep(e,t,n,r){var i=zme(e,function(l){return dr(l,t)});if(n==="number"){var a=i.filter(function(l){return Ie(l)||parseFloat(l)});return a.length?[vb(a),gb(a)]:[1/0,-1/0]}var s=r?i.filter(function(l){return!_t(l)}):i;return s.map(function(l){return hr(l)||l instanceof Date?l:""})}var Wge=function(t){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,s=-1,l=(n=r?.length)!==null&&n!==void 0?n:0;if(l<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var c=a.range,f=0;f<l;f++){var p=f>0?i[f-1].coordinate:i[l-1].coordinate,m=i[f].coordinate,v=f>=l-1?i[0].coordinate:i[f+1].coordinate,x=void 0;if(ri(m-p)!==ri(v-m)){var _=[];if(ri(v-m)===ri(c[1]-c[0])){x=v;var b=m+c[1]-c[0];_[0]=Math.min(b,(b+p)/2),_[1]=Math.max(b,(b+p)/2)}else{x=p;var w=v+c[1]-c[0];_[0]=Math.min(m,(w+m)/2),_[1]=Math.max(m,(w+m)/2)}var k=[Math.min(m,(x+m)/2),Math.max(m,(x+m)/2)];if(t>k[0]&&t<=k[1]||t>=_[0]&&t<=_[1]){s=i[f].index;break}}else{var E=Math.min(p,v),P=Math.max(p,v);if(t>(E+m)/2&&t<=(P+m)/2){s=i[f].index;break}}}else for(var C=0;C<l;C++)if(C===0&&t<=(r[C].coordinate+r[C+1].coordinate)/2||C>0&&C<l-1&&t>(r[C].coordinate+r[C-1].coordinate)/2&&t<=(r[C].coordinate+r[C+1].coordinate)/2||C===l-1&&t>(r[C].coordinate+r[C-1].coordinate)/2){s=r[C].index;break}return s},$C=function(t){var n,r=t,i=r.type.displayName,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Dn(Dn({},t.type.defaultProps),t.props):t.props,s=a.stroke,l=a.fill,c;switch(i){case"Line":c=s;break;case"Area":case"Radar":c=s&&s!=="none"?s:l;break;default:c=l;break}return c},Hge=function(t){var n=t.barSize,r=t.totalSize,i=t.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var s={},l=Object.keys(a),c=0,f=l.length;c<f;c++)for(var p=a[l[c]].stackGroups,m=Object.keys(p),v=0,x=m.length;v<x;v++){var _=p[m[v]],b=_.items,w=_.cateAxisId,k=b.filter(function(M){return fo(M.type).indexOf("Bar")>=0});if(k&&k.length){var E=k[0].type.defaultProps,P=E!==void 0?Dn(Dn({},E),k[0].props):k[0].props,C=P.barSize,O=P[w];s[O]||(s[O]=[]);var R=_t(C)?n:C;s[O].push({item:k[0],stackList:k.slice(1),barSize:_t(R)?void 0:ii(R,r,0)})}}return s},Vge=function(t){var n=t.barGap,r=t.barCategoryGap,i=t.bandSize,a=t.sizeList,s=a===void 0?[]:a,l=t.maxBarSize,c=s.length;if(c<1)return null;var f=ii(n,i,0,!0),p,m=[];if(s[0].barSize===+s[0].barSize){var v=!1,x=i/c,_=s.reduce(function(C,O){return C+O.barSize||0},0);_+=(c-1)*f,_>=i&&(_-=(c-1)*f,f=0),_>=i&&x>0&&(v=!0,x*=.9,_=c*x);var b=(i-_)/2>>0,w={offset:b-f,size:0};p=s.reduce(function(C,O){var R={item:O.item,position:{offset:w.offset+w.size+f,size:v?x:O.barSize}},M=[].concat(c4(C),[R]);return w=M[M.length-1].position,O.stackList&&O.stackList.length&&O.stackList.forEach(function(U){M.push({item:U,position:w})}),M},m)}else{var k=ii(r,i,0,!0);i-2*k-(c-1)*f<=0&&(f=0);var E=(i-2*k-(c-1)*f)/c;E>1&&(E>>=0);var P=l===+l?Math.min(E,l):E;p=s.reduce(function(C,O,R){var M=[].concat(c4(C),[{item:O.item,position:{offset:k+(E+f)*R+(E-P)/2,size:P}}]);return O.stackList&&O.stackList.length&&O.stackList.forEach(function(U){M.push({item:U,position:M[M.length-1].position})}),M},m)}return p},Kge=function(t,n,r,i){var a=r.children,s=r.width,l=r.margin,c=s-(l.left||0)-(l.right||0),f=uW({children:a,legendWidth:c});if(f){var p=i||{},m=p.width,v=p.height,x=f.align,_=f.verticalAlign,b=f.layout;if((b==="vertical"||b==="horizontal"&&_==="middle")&&x!=="center"&&Ie(t[x]))return Dn(Dn({},t),{},kd({},x,t[x]+(m||0)));if((b==="horizontal"||b==="vertical"&&x==="center")&&_!=="middle"&&Ie(t[_]))return Dn(Dn({},t),{},kd({},_,t[_]+(v||0)))}return t},Gge=function(t,n,r){return _t(n)?!0:t==="horizontal"?n==="yAxis":t==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},dW=function(t,n,r,i,a){var s=n.props.children,l=Ki(s,Pm).filter(function(f){return Gge(i,a,f.props.direction)});if(l&&l.length){var c=l.map(function(f){return f.props.dataKey});return t.reduce(function(f,p){var m=dr(p,r);if(_t(m))return f;var v=Array.isArray(m)?[vb(m),gb(m)]:[m,m],x=c.reduce(function(_,b){var w=dr(p,b,0),k=v[0]-Math.abs(Array.isArray(w)?w[0]:w),E=v[1]+Math.abs(Array.isArray(w)?w[1]:w);return[Math.min(k,_[0]),Math.max(E,_[1])]},[1/0,-1/0]);return[Math.min(x[0],f[0]),Math.max(x[1],f[1])]},[1/0,-1/0])}return null},Yge=function(t,n,r,i,a){var s=n.map(function(l){return dW(t,l,r,a,i)}).filter(function(l){return!_t(l)});return s&&s.length?s.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},fW=function(t,n,r,i,a){var s=n.map(function(c){var f=c.props.dataKey;return r==="number"&&f&&dW(t,c,f,i)||ep(t,f,r,a)});if(r==="number")return s.reduce(function(c,f){return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);var l={};return s.reduce(function(c,f){for(var p=0,m=f.length;p<m;p++)l[f[p]]||(l[f[p]]=!0,c.push(f[p]));return c},[])},hW=function(t,n){return t==="horizontal"&&n==="xAxis"||t==="vertical"&&n==="yAxis"||t==="centric"&&n==="angleAxis"||t==="radial"&&n==="radiusAxis"},pW=function(t,n,r,i){if(i)return t.map(function(c){return c.coordinate});var a,s,l=t.map(function(c){return c.coordinate===n&&(a=!0),c.coordinate===r&&(s=!0),c.coordinate});return a||l.push(n),s||l.push(r),l},co=function(t,n,r){if(!t)return null;var i=t.scale,a=t.duplicateDomain,s=t.type,l=t.range,c=t.realScaleType==="scaleBand"?i.bandwidth()/2:2,f=(n||r)&&s==="category"&&i.bandwidth?i.bandwidth()/c:0;if(f=t.axisType==="angleAxis"&&l?.length>=2?ri(l[0]-l[1])*2*f:f,n&&(t.ticks||t.niceTicks)){var p=(t.ticks||t.niceTicks).map(function(m){var v=a?a.indexOf(m):m;return{coordinate:i(v)+f,value:m,offset:f}});return p.filter(function(m){return!xm(m.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(m,v){return{coordinate:i(m)+f,value:m,index:v,offset:f}}):i.ticks&&!r?i.ticks(t.tickCount).map(function(m){return{coordinate:i(m)+f,value:m,offset:f}}):i.domain().map(function(m,v){return{coordinate:i(m)+f,value:a?a[m]:m,index:v,offset:f}})},Sj=new WeakMap,Nv=function(t,n){if(typeof n!="function")return t;Sj.has(t)||Sj.set(t,new WeakMap);var r=Sj.get(t);if(r.has(n))return r.get(n);var i=function(){t.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},mW=function(t,n,r){var i=t.scale,a=t.type,s=t.layout,l=t.axisType;if(i==="auto")return s==="radial"&&l==="radiusAxis"?{scale:Cp(),realScaleType:"band"}:s==="radial"&&l==="angleAxis"?{scale:Cy(),realScaleType:"linear"}:a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Jh(),realScaleType:"point"}:a==="category"?{scale:Cp(),realScaleType:"band"}:{scale:Cy(),realScaleType:"linear"};if(zc(i)){var c="scale".concat(tb(i));return{scale:(YL[c]||Jh)(),realScaleType:YL[c]?c:"point"}}return gt(i)?{scale:i}:{scale:Jh(),realScaleType:"point"}},d4=1e-4,gW=function(t){var n=t.domain();if(!(!n||n.length<=2)){var r=n.length,i=t.range(),a=Math.min(i[0],i[1])-d4,s=Math.max(i[0],i[1])+d4,l=t(n[0]),c=t(n[r-1]);(l<a||l>s||c<a||c>s)&&t.domain([n[0],n[r-1]])}},Zge=function(t,n){if(!t)return null;for(var r=0,i=t.length;r<i;r++)if(t[r].item===n)return t[r].position;return null},Xge=function(t,n){if(!n||n.length!==2||!Ie(n[0])||!Ie(n[1]))return t;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),a=[t[0],t[1]];return(!Ie(t[0])||t[0]<r)&&(a[0]=r),(!Ie(t[1])||t[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<r&&(a[1]=r),a},Qge=function(t){var n=t.length;if(!(n<=0))for(var r=0,i=t[0].length;r<i;++r)for(var a=0,s=0,l=0;l<n;++l){var c=xm(t[l][r][1])?t[l][r][0]:t[l][r][1];c>=0?(t[l][r][0]=a,t[l][r][1]=a+c,a=t[l][r][1]):(t[l][r][0]=s,t[l][r][1]=s+c,s=t[l][r][1])}},Jge=function(t){var n=t.length;if(!(n<=0))for(var r=0,i=t[0].length;r<i;++r)for(var a=0,s=0;s<n;++s){var l=xm(t[s][r][1])?t[s][r][0]:t[s][r][1];l>=0?(t[s][r][0]=a,t[s][r][1]=a+l,a=t[s][r][1]):(t[s][r][0]=0,t[s][r][1]=0)}},eve={sign:Qge,expand:zce,none:Dd,silhouette:qce,wiggle:Uce,positive:Jge},tve=function(t,n,r){var i=n.map(function(l){return l.props.dataKey}),a=eve[r],s=Fce().keys(i).value(function(l,c){return+dr(l,c,0)}).order(fP).offset(a);return s(t)},nve=function(t,n,r,i,a,s){if(!t)return null;var l=s?n.reverse():n,c={},f=l.reduce(function(m,v){var x,_=(x=v.type)!==null&&x!==void 0&&x.defaultProps?Dn(Dn({},v.type.defaultProps),v.props):v.props,b=_.stackId,w=_.hide;if(w)return m;var k=_[r],E=m[k]||{hasStack:!1,stackGroups:{}};if(hr(b)){var P=E.stackGroups[b]||{numericAxisId:r,cateAxisId:i,items:[]};P.items.push(v),E.hasStack=!0,E.stackGroups[b]=P}else E.stackGroups[Nf("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[v]};return Dn(Dn({},m),{},kd({},k,E))},c),p={};return Object.keys(f).reduce(function(m,v){var x=f[v];if(x.hasStack){var _={};x.stackGroups=Object.keys(x.stackGroups).reduce(function(b,w){var k=x.stackGroups[w];return Dn(Dn({},b),{},kd({},w,{numericAxisId:r,cateAxisId:i,items:k.items,stackedData:tve(t,k.items,a)}))},_)}return Dn(Dn({},m),{},kd({},v,x))},p)},vW=function(t,n){var r=n.realScaleType,i=n.type,a=n.tickCount,s=n.originalDomain,l=n.allowDecimals,c=r||n.scale;if(c!=="auto"&&c!=="linear")return null;if(a&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var f=t.domain();if(!f.length)return null;var p=gge(f,a,l);return t.domain([vb(p),gb(p)]),{niceTicks:p}}if(a&&i==="number"){var m=t.domain(),v=vge(m,a,l);return{niceTicks:v}}return null};function f4(e){var t=e.axis,n=e.ticks,r=e.bandSize,i=e.entry,a=e.index,s=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!_t(i[t.dataKey])){var l=dy(n,"value",i[t.dataKey]);if(l)return l.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var c=dr(i,_t(s)?t.dataKey:s);return _t(c)?null:t.scale(c)}var h4=function(t){var n=t.axis,r=t.ticks,i=t.offset,a=t.bandSize,s=t.entry,l=t.index;if(n.type==="category")return r[l]?r[l].coordinate+i:null;var c=dr(s,n.dataKey,n.domain[l]);return _t(c)?null:n.scale(c)-a/2+i},rve=function(t){var n=t.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return i<=0&&a>=0?0:a<0?a:i}return r[0]},ive=function(t,n){var r,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Dn(Dn({},t.type.defaultProps),t.props):t.props,a=i.stackId;if(hr(a)){var s=n[a];if(s){var l=s.items.indexOf(t);return l>=0?s.stackedData[l]:null}}return null},ave=function(t){return t.reduce(function(n,r){return[vb(r.concat([n[0]]).filter(Ie)),gb(r.concat([n[1]]).filter(Ie))]},[1/0,-1/0])},yW=function(t,n,r){return Object.keys(t).reduce(function(i,a){var s=t[a],l=s.stackedData,c=l.reduce(function(f,p){var m=ave(p.slice(n,r+1));return[Math.min(f[0],m[0]),Math.max(f[1],m[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},p4=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,m4=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,LP=function(t,n,r){if(gt(t))return t(n,r);if(!Array.isArray(t))return n;var i=[];if(Ie(t[0]))i[0]=r?t[0]:Math.min(t[0],n[0]);else if(p4.test(t[0])){var a=+p4.exec(t[0])[1];i[0]=n[0]-a}else gt(t[0])?i[0]=t[0](n[0]):i[0]=n[0];if(Ie(t[1]))i[1]=r?t[1]:Math.max(t[1],n[1]);else if(m4.test(t[1])){var s=+m4.exec(t[1])[1];i[1]=n[1]+s}else gt(t[1])?i[1]=t[1](n[1]):i[1]=n[1];return i},Iy=function(t,n,r){if(t&&t.scale&&t.scale.bandwidth){var i=t.scale.bandwidth();if(!r||i>0)return i}if(t&&n&&n.length>=2){for(var a=fC(n,function(m){return m.coordinate}),s=1/0,l=1,c=a.length;l<c;l++){var f=a[l],p=a[l-1];s=Math.min((f.coordinate||0)-(p.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0},g4=function(t,n,r){return!t||!t.length||Nm(t,Vi(r,"type.defaultProps.domain"))?n:t},xW=function(t,n){var r=t.type.defaultProps?Dn(Dn({},t.type.defaultProps),t.props):t.props,i=r.dataKey,a=r.name,s=r.unit,l=r.formatter,c=r.tooltipType,f=r.chartType,p=r.hide;return Dn(Dn({},ot(t,!1)),{},{dataKey:i,unit:s,formatter:l,name:a||i,color:$C(t),value:dr(n,i),type:c,payload:n,chartType:f,hide:p})};function $p(e){"@babel/helpers - typeof";return $p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$p(e)}function v4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function io(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?v4(Object(n),!0).forEach(function(r){bW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bW(e,t,n){return t=sve(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sve(e){var t=ove(e,"string");return $p(t)=="symbol"?t:t+""}function ove(e,t){if($p(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if($p(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lve(e,t){return fve(e)||dve(e,t)||uve(e,t)||cve()}function cve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uve(e,t){if(e){if(typeof e=="string")return y4(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y4(e,t)}}function y4(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function dve(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,s,l=[],c=!0,f=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(p){f=!0,i=p}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function fve(e){if(Array.isArray(e))return e}var Ly=Math.PI/180,hve=function(t){return t*180/Math.PI},pn=function(t,n,r,i){return{x:t+Math.cos(-Ly*i)*r,y:n+Math.sin(-Ly*i)*r}},wW=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},pve=function(t,n,r,i,a){var s=t.width,l=t.height,c=t.startAngle,f=t.endAngle,p=ii(t.cx,s,s/2),m=ii(t.cy,l,l/2),v=wW(s,l,r),x=ii(t.innerRadius,v,0),_=ii(t.outerRadius,v,v*.8),b=Object.keys(n);return b.reduce(function(w,k){var E=n[k],P=E.domain,C=E.reversed,O;if(_t(E.range))i==="angleAxis"?O=[c,f]:i==="radiusAxis"&&(O=[x,_]),C&&(O=[O[1],O[0]]);else{O=E.range;var R=O,M=lve(R,2);c=M[0],f=M[1]}var U=mW(E,a),F=U.realScaleType,H=U.scale;H.domain(P).range(O),gW(H);var B=vW(H,io(io({},E),{},{realScaleType:F})),$=io(io(io({},E),B),{},{range:O,radius:_,realScaleType:F,scale:H,cx:p,cy:m,innerRadius:x,outerRadius:_,startAngle:c,endAngle:f});return io(io({},w),{},bW({},k,$))},{})},mve=function(t,n){var r=t.x,i=t.y,a=n.x,s=n.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(i-s,2))},gve=function(t,n){var r=t.x,i=t.y,a=n.cx,s=n.cy,l=mve({x:r,y:i},{x:a,y:s});if(l<=0)return{radius:l};var c=(r-a)/l,f=Math.acos(c);return i>s&&(f=2*Math.PI-f),{radius:l,angle:hve(f),angleInRadian:f}},vve=function(t){var n=t.startAngle,r=t.endAngle,i=Math.floor(n/360),a=Math.floor(r/360),s=Math.min(i,a);return{startAngle:n-s*360,endAngle:r-s*360}},yve=function(t,n){var r=n.startAngle,i=n.endAngle,a=Math.floor(r/360),s=Math.floor(i/360),l=Math.min(a,s);return t+l*360},x4=function(t,n){var r=t.x,i=t.y,a=gve({x:r,y:i},n),s=a.radius,l=a.angle,c=n.innerRadius,f=n.outerRadius;if(s<c||s>f)return!1;if(s===0)return!0;var p=vve(n),m=p.startAngle,v=p.endAngle,x=l,_;if(m<=v){for(;x>v;)x-=360;for(;x<m;)x+=360;_=x>=m&&x<=v}else{for(;x>m;)x-=360;for(;x<v;)x+=360;_=x>=v&&x<=m}return _?io(io({},n),{},{radius:s,angle:yve(x,n)}):null},_W=function(t){return!S.isValidElement(t)&&!gt(t)&&typeof t!="boolean"?t.className:""};function Bp(e){"@babel/helpers - typeof";return Bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bp(e)}var xve=["offset"];function bve(e){return jve(e)||Sve(e)||_ve(e)||wve()}function wve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _ve(e,t){if(e){if(typeof e=="string")return $P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $P(e,t)}}function Sve(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function jve(e){if(Array.isArray(e))return $P(e)}function $P(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Nve(e,t){if(e==null)return{};var n=Pve(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Pve(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function b4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ar(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?b4(Object(n),!0).forEach(function(r){kve(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kve(e,t,n){return t=Eve(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Eve(e){var t=Cve(e,"string");return Bp(t)=="symbol"?t:t+""}function Cve(e,t){if(Bp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Bp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fp(){return Fp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fp.apply(this,arguments)}var Ove=function(t){var n=t.value,r=t.formatter,i=_t(t.children)?n:t.children;return gt(r)?r(i):i},Tve=function(t,n){var r=ri(n-t),i=Math.min(Math.abs(n-t),360);return r*i},Ave=function(t,n,r){var i=t.position,a=t.viewBox,s=t.offset,l=t.className,c=a,f=c.cx,p=c.cy,m=c.innerRadius,v=c.outerRadius,x=c.startAngle,_=c.endAngle,b=c.clockWise,w=(m+v)/2,k=Tve(x,_),E=k>=0?1:-1,P,C;i==="insideStart"?(P=x+E*s,C=b):i==="insideEnd"?(P=_-E*s,C=!b):i==="end"&&(P=_+E*s,C=b),C=k<=0?C:!C;var O=pn(f,p,w,P),R=pn(f,p,w,P+(C?1:-1)*359),M="M".concat(O.x,",").concat(O.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(C?0:1,`,
    `).concat(R.x,",").concat(R.y),U=_t(t.id)?Nf("recharts-radial-line-"):t.id;return Z.createElement("text",Fp({},r,{dominantBaseline:"central",className:St("recharts-radial-bar-label",l)}),Z.createElement("defs",null,Z.createElement("path",{id:U,d:M})),Z.createElement("textPath",{xlinkHref:"#".concat(U)},n))},Rve=function(t){var n=t.viewBox,r=t.offset,i=t.position,a=n,s=a.cx,l=a.cy,c=a.innerRadius,f=a.outerRadius,p=a.startAngle,m=a.endAngle,v=(p+m)/2;if(i==="outside"){var x=pn(s,l,f+r,v),_=x.x,b=x.y;return{x:_,y:b,textAnchor:_>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"end"};var w=(c+f)/2,k=pn(s,l,w,v),E=k.x,P=k.y;return{x:E,y:P,textAnchor:"middle",verticalAnchor:"middle"}},Mve=function(t){var n=t.viewBox,r=t.parentViewBox,i=t.offset,a=t.position,s=n,l=s.x,c=s.y,f=s.width,p=s.height,m=p>=0?1:-1,v=m*i,x=m>0?"end":"start",_=m>0?"start":"end",b=f>=0?1:-1,w=b*i,k=b>0?"end":"start",E=b>0?"start":"end";if(a==="top"){var P={x:l+f/2,y:c-m*i,textAnchor:"middle",verticalAnchor:x};return ar(ar({},P),r?{height:Math.max(c-r.y,0),width:f}:{})}if(a==="bottom"){var C={x:l+f/2,y:c+p+v,textAnchor:"middle",verticalAnchor:_};return ar(ar({},C),r?{height:Math.max(r.y+r.height-(c+p),0),width:f}:{})}if(a==="left"){var O={x:l-w,y:c+p/2,textAnchor:k,verticalAnchor:"middle"};return ar(ar({},O),r?{width:Math.max(O.x-r.x,0),height:p}:{})}if(a==="right"){var R={x:l+f+w,y:c+p/2,textAnchor:E,verticalAnchor:"middle"};return ar(ar({},R),r?{width:Math.max(r.x+r.width-R.x,0),height:p}:{})}var M=r?{width:f,height:p}:{};return a==="insideLeft"?ar({x:l+w,y:c+p/2,textAnchor:E,verticalAnchor:"middle"},M):a==="insideRight"?ar({x:l+f-w,y:c+p/2,textAnchor:k,verticalAnchor:"middle"},M):a==="insideTop"?ar({x:l+f/2,y:c+v,textAnchor:"middle",verticalAnchor:_},M):a==="insideBottom"?ar({x:l+f/2,y:c+p-v,textAnchor:"middle",verticalAnchor:x},M):a==="insideTopLeft"?ar({x:l+w,y:c+v,textAnchor:E,verticalAnchor:_},M):a==="insideTopRight"?ar({x:l+f-w,y:c+v,textAnchor:k,verticalAnchor:_},M):a==="insideBottomLeft"?ar({x:l+w,y:c+p-v,textAnchor:E,verticalAnchor:x},M):a==="insideBottomRight"?ar({x:l+f-w,y:c+p-v,textAnchor:k,verticalAnchor:x},M):jf(a)&&(Ie(a.x)||jc(a.x))&&(Ie(a.y)||jc(a.y))?ar({x:l+ii(a.x,f),y:c+ii(a.y,p),textAnchor:"end",verticalAnchor:"end"},M):ar({x:l+f/2,y:c+p/2,textAnchor:"middle",verticalAnchor:"middle"},M)},Dve=function(t){return"cx"in t&&Ie(t.cx)};function wr(e){var t=e.offset,n=t===void 0?5:t,r=Nve(e,xve),i=ar({offset:n},r),a=i.viewBox,s=i.position,l=i.value,c=i.children,f=i.content,p=i.className,m=p===void 0?"":p,v=i.textBreakAll;if(!a||_t(l)&&_t(c)&&!S.isValidElement(f)&&!gt(f))return null;if(S.isValidElement(f))return S.cloneElement(f,i);var x;if(gt(f)){if(x=S.createElement(f,i),S.isValidElement(x))return x}else x=Ove(i);var _=Dve(a),b=ot(i,!0);if(_&&(s==="insideStart"||s==="insideEnd"||s==="end"))return Ave(i,x,b);var w=_?Rve(i):Mve(i);return Z.createElement(Uc,Fp({className:St("recharts-label",m)},b,w,{breakAll:v}),x)}wr.displayName="Label";var SW=function(t){var n=t.cx,r=t.cy,i=t.angle,a=t.startAngle,s=t.endAngle,l=t.r,c=t.radius,f=t.innerRadius,p=t.outerRadius,m=t.x,v=t.y,x=t.top,_=t.left,b=t.width,w=t.height,k=t.clockWise,E=t.labelViewBox;if(E)return E;if(Ie(b)&&Ie(w)){if(Ie(m)&&Ie(v))return{x:m,y:v,width:b,height:w};if(Ie(x)&&Ie(_))return{x,y:_,width:b,height:w}}return Ie(m)&&Ie(v)?{x:m,y:v,width:0,height:0}:Ie(n)&&Ie(r)?{cx:n,cy:r,startAngle:a||i||0,endAngle:s||i||0,innerRadius:f||0,outerRadius:p||c||l||0,clockWise:k}:t.viewBox?t.viewBox:{}},Ive=function(t,n){return t?t===!0?Z.createElement(wr,{key:"label-implicit",viewBox:n}):hr(t)?Z.createElement(wr,{key:"label-implicit",viewBox:n,value:t}):S.isValidElement(t)?t.type===wr?S.cloneElement(t,{key:"label-implicit",viewBox:n}):Z.createElement(wr,{key:"label-implicit",content:t,viewBox:n}):gt(t)?Z.createElement(wr,{key:"label-implicit",content:t,viewBox:n}):jf(t)?Z.createElement(wr,Fp({viewBox:n},t,{key:"label-implicit"})):null:null},Lve=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var i=t.children,a=SW(t),s=Ki(i,wr).map(function(c,f){return S.cloneElement(c,{viewBox:n||a,key:"label-".concat(f)})});if(!r)return s;var l=Ive(t.label,n||a);return[l].concat(bve(s))};wr.parseViewBox=SW;wr.renderCallByParent=Lve;var jj,w4;function $ve(){if(w4)return jj;w4=1;function e(t){var n=t==null?0:t.length;return n?t[n-1]:void 0}return jj=e,jj}var Bve=$ve();const Fve=Ft(Bve);function zp(e){"@babel/helpers - typeof";return zp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zp(e)}var zve=["valueAccessor"],qve=["data","dataKey","clockWise","id","textBreakAll"];function Uve(e){return Kve(e)||Vve(e)||Hve(e)||Wve()}function Wve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hve(e,t){if(e){if(typeof e=="string")return BP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return BP(e,t)}}function Vve(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Kve(e){if(Array.isArray(e))return BP(e)}function BP(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $y(){return $y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$y.apply(this,arguments)}function _4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function S4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_4(Object(n),!0).forEach(function(r){Gve(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Gve(e,t,n){return t=Yve(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yve(e){var t=Zve(e,"string");return zp(t)=="symbol"?t:t+""}function Zve(e,t){if(zp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(zp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function j4(e,t){if(e==null)return{};var n=Xve(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Xve(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var Qve=function(t){return Array.isArray(t.value)?Fve(t.value):t.value};function po(e){var t=e.valueAccessor,n=t===void 0?Qve:t,r=j4(e,zve),i=r.data,a=r.dataKey,s=r.clockWise,l=r.id,c=r.textBreakAll,f=j4(r,qve);return!i||!i.length?null:Z.createElement(qt,{className:"recharts-label-list"},i.map(function(p,m){var v=_t(a)?n(p,m):dr(p&&p.payload,a),x=_t(l)?{}:{id:"".concat(l,"-").concat(m)};return Z.createElement(wr,$y({},ot(p,!0),f,x,{parentViewBox:p.parentViewBox,value:v,textBreakAll:c,viewBox:wr.parseViewBox(_t(s)?p:S4(S4({},p),{},{clockWise:s})),key:"label-".concat(m),index:m}))}))}po.displayName="LabelList";function Jve(e,t){return e?e===!0?Z.createElement(po,{key:"labelList-implicit",data:t}):Z.isValidElement(e)||gt(e)?Z.createElement(po,{key:"labelList-implicit",data:t,content:e}):jf(e)?Z.createElement(po,$y({data:t},e,{key:"labelList-implicit"})):null:null}function eye(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var r=e.children,i=Ki(r,po).map(function(s,l){return S.cloneElement(s,{data:t,key:"labelList-".concat(l)})});if(!n)return i;var a=Jve(e.label,t);return[a].concat(Uve(i))}po.renderCallByParent=eye;function qp(e){"@babel/helpers - typeof";return qp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qp(e)}function FP(){return FP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},FP.apply(this,arguments)}function N4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function P4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?N4(Object(n),!0).forEach(function(r){tye(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tye(e,t,n){return t=nye(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nye(e){var t=rye(e,"string");return qp(t)=="symbol"?t:t+""}function rye(e,t){if(qp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(qp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var iye=function(t,n){var r=ri(n-t),i=Math.min(Math.abs(n-t),359.999);return r*i},Pv=function(t){var n=t.cx,r=t.cy,i=t.radius,a=t.angle,s=t.sign,l=t.isExternal,c=t.cornerRadius,f=t.cornerIsExternal,p=c*(l?1:-1)+i,m=Math.asin(c/p)/Ly,v=f?a:a+s*m,x=pn(n,r,p,v),_=pn(n,r,i,v),b=f?a-s*m:a,w=pn(n,r,p*Math.cos(m*Ly),b);return{center:x,circleTangency:_,lineTangency:w,theta:m}},jW=function(t){var n=t.cx,r=t.cy,i=t.innerRadius,a=t.outerRadius,s=t.startAngle,l=t.endAngle,c=iye(s,l),f=s+c,p=pn(n,r,a,s),m=pn(n,r,a,f),v="M ".concat(p.x,",").concat(p.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(s>f),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(i>0){var x=pn(n,r,i,s),_=pn(n,r,i,f);v+="L ".concat(_.x,",").concat(_.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(s<=f),`,
            `).concat(x.x,",").concat(x.y," Z")}else v+="L ".concat(n,",").concat(r," Z");return v},aye=function(t){var n=t.cx,r=t.cy,i=t.innerRadius,a=t.outerRadius,s=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,f=t.startAngle,p=t.endAngle,m=ri(p-f),v=Pv({cx:n,cy:r,radius:a,angle:f,sign:m,cornerRadius:s,cornerIsExternal:c}),x=v.circleTangency,_=v.lineTangency,b=v.theta,w=Pv({cx:n,cy:r,radius:a,angle:p,sign:-m,cornerRadius:s,cornerIsExternal:c}),k=w.circleTangency,E=w.lineTangency,P=w.theta,C=c?Math.abs(f-p):Math.abs(f-p)-b-P;if(C<0)return l?"M ".concat(_.x,",").concat(_.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):jW({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:f,endAngle:p});var O="M ".concat(_.x,",").concat(_.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(C>180),",").concat(+(m<0),",").concat(k.x,",").concat(k.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(E.x,",").concat(E.y,`
  `);if(i>0){var R=Pv({cx:n,cy:r,radius:i,angle:f,sign:m,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),M=R.circleTangency,U=R.lineTangency,F=R.theta,H=Pv({cx:n,cy:r,radius:i,angle:p,sign:-m,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),B=H.circleTangency,$=H.lineTangency,G=H.theta,W=c?Math.abs(f-p):Math.abs(f-p)-F-G;if(W<0&&s===0)return"".concat(O,"L").concat(n,",").concat(r,"Z");O+="L".concat($.x,",").concat($.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(B.x,",").concat(B.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(W>180),",").concat(+(m>0),",").concat(M.x,",").concat(M.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(U.x,",").concat(U.y,"Z")}else O+="L".concat(n,",").concat(r,"Z");return O},sye={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},NW=function(t){var n=P4(P4({},sye),t),r=n.cx,i=n.cy,a=n.innerRadius,s=n.outerRadius,l=n.cornerRadius,c=n.forceCornerRadius,f=n.cornerIsExternal,p=n.startAngle,m=n.endAngle,v=n.className;if(s<a||p===m)return null;var x=St("recharts-sector",v),_=s-a,b=ii(l,_,0,!0),w;return b>0&&Math.abs(p-m)<360?w=aye({cx:r,cy:i,innerRadius:a,outerRadius:s,cornerRadius:Math.min(b,_/2),forceCornerRadius:c,cornerIsExternal:f,startAngle:p,endAngle:m}):w=jW({cx:r,cy:i,innerRadius:a,outerRadius:s,startAngle:p,endAngle:m}),Z.createElement("path",FP({},ot(n,!0),{className:x,d:w,role:"img"}))};function Up(e){"@babel/helpers - typeof";return Up=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Up(e)}function zP(){return zP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zP.apply(this,arguments)}function k4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function E4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?k4(Object(n),!0).forEach(function(r){oye(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function oye(e,t,n){return t=lye(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lye(e){var t=cye(e,"string");return Up(t)=="symbol"?t:t+""}function cye(e,t){if(Up(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Up(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var C4={curveBasisClosed:Cce,curveBasisOpen:Oce,curveBasis:Ece,curveBumpX:pce,curveBumpY:mce,curveLinearClosed:Tce,curveLinear:rb,curveMonotoneX:Ace,curveMonotoneY:Rce,curveNatural:Mce,curveStep:Dce,curveStepAfter:Lce,curveStepBefore:Ice},kv=function(t){return t.x===+t.x&&t.y===+t.y},Th=function(t){return t.x},Ah=function(t){return t.y},uye=function(t,n){if(gt(t))return t;var r="curve".concat(tb(t));return(r==="curveMonotone"||r==="curveBump")&&n?C4["".concat(r).concat(n==="vertical"?"Y":"X")]:C4[r]||rb},dye=function(t){var n=t.type,r=n===void 0?"linear":n,i=t.points,a=i===void 0?[]:i,s=t.baseLine,l=t.layout,c=t.connectNulls,f=c===void 0?!1:c,p=uye(r,l),m=f?a.filter(function(b){return kv(b)}):a,v;if(Array.isArray(s)){var x=f?s.filter(function(b){return kv(b)}):s,_=m.map(function(b,w){return E4(E4({},b),{},{base:x[w]})});return l==="vertical"?v=yv().y(Ah).x1(Th).x0(function(b){return b.base.x}):v=yv().x(Th).y1(Ah).y0(function(b){return b.base.y}),v.defined(kv).curve(p),v(_)}return l==="vertical"&&Ie(s)?v=yv().y(Ah).x1(Th).x0(s):Ie(s)?v=yv().x(Th).y1(Ah).y0(s):v=Sq().x(Th).y(Ah),v.defined(kv).curve(p),v(m)},By=function(t){var n=t.className,r=t.points,i=t.path,a=t.pathRef;if((!r||!r.length)&&!i)return null;var s=r&&r.length?dye(t):i;return S.createElement("path",zP({},ot(t,!1),fy(t),{className:St("recharts-curve",n),d:s,ref:a}))},fye=FE();const Gt=Ft(fye);var hye=Object.getOwnPropertyNames,pye=Object.getOwnPropertySymbols,mye=Object.prototype.hasOwnProperty;function O4(e,t){return function(r,i,a){return e(r,i,a)&&t(r,i,a)}}function Ev(e){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return e(n,r,i);var a=i.cache,s=a.get(n),l=a.get(r);if(s&&l)return s===r&&l===n;a.set(n,r),a.set(r,n);var c=e(n,r,i);return a.delete(n),a.delete(r),c}}function T4(e){return hye(e).concat(pye(e))}var gye=Object.hasOwn||(function(e,t){return mye.call(e,t)});function iu(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var vye="__v",yye="__o",xye="_owner",A4=Object.getOwnPropertyDescriptor,R4=Object.keys;function bye(e,t,n){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;return!0}function wye(e,t){return iu(e.getTime(),t.getTime())}function _ye(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function Sye(e,t){return e===t}function M4(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var i=new Array(r),a=e.entries(),s,l,c=0;(s=a.next())&&!s.done;){for(var f=t.entries(),p=!1,m=0;(l=f.next())&&!l.done;){if(i[m]){m++;continue}var v=s.value,x=l.value;if(n.equals(v[0],x[0],c,m,e,t,n)&&n.equals(v[1],x[1],v[0],x[0],e,t,n)){p=i[m]=!0;break}m++}if(!p)return!1;c++}return!0}var jye=iu;function Nye(e,t,n){var r=R4(e),i=r.length;if(R4(t).length!==i)return!1;for(;i-- >0;)if(!PW(e,t,n,r[i]))return!1;return!0}function Rh(e,t,n){var r=T4(e),i=r.length;if(T4(t).length!==i)return!1;for(var a,s,l;i-- >0;)if(a=r[i],!PW(e,t,n,a)||(s=A4(e,a),l=A4(t,a),(s||l)&&(!s||!l||s.configurable!==l.configurable||s.enumerable!==l.enumerable||s.writable!==l.writable)))return!1;return!0}function Pye(e,t){return iu(e.valueOf(),t.valueOf())}function kye(e,t){return e.source===t.source&&e.flags===t.flags}function D4(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var i=new Array(r),a=e.values(),s,l;(s=a.next())&&!s.done;){for(var c=t.values(),f=!1,p=0;(l=c.next())&&!l.done;){if(!i[p]&&n.equals(s.value,l.value,s.value,l.value,e,t,n)){f=i[p]=!0;break}p++}if(!f)return!1}return!0}function Eye(e,t){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}function Cye(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function PW(e,t,n,r){return(r===xye||r===yye||r===vye)&&(e.$$typeof||t.$$typeof)?!0:gye(t,r)&&n.equals(e[r],t[r],r,r,e,t,n)}var Oye="[object Arguments]",Tye="[object Boolean]",Aye="[object Date]",Rye="[object Error]",Mye="[object Map]",Dye="[object Number]",Iye="[object Object]",Lye="[object RegExp]",$ye="[object Set]",Bye="[object String]",Fye="[object URL]",zye=Array.isArray,I4=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,L4=Object.assign,qye=Object.prototype.toString.call.bind(Object.prototype.toString);function Uye(e){var t=e.areArraysEqual,n=e.areDatesEqual,r=e.areErrorsEqual,i=e.areFunctionsEqual,a=e.areMapsEqual,s=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,f=e.areRegExpsEqual,p=e.areSetsEqual,m=e.areTypedArraysEqual,v=e.areUrlsEqual;return function(_,b,w){if(_===b)return!0;if(_==null||b==null)return!1;var k=typeof _;if(k!==typeof b)return!1;if(k!=="object")return k==="number"?s(_,b,w):k==="function"?i(_,b,w):!1;var E=_.constructor;if(E!==b.constructor)return!1;if(E===Object)return l(_,b,w);if(zye(_))return t(_,b,w);if(I4!=null&&I4(_))return m(_,b,w);if(E===Date)return n(_,b,w);if(E===RegExp)return f(_,b,w);if(E===Map)return a(_,b,w);if(E===Set)return p(_,b,w);var P=qye(_);return P===Aye?n(_,b,w):P===Lye?f(_,b,w):P===Mye?a(_,b,w):P===$ye?p(_,b,w):P===Iye?typeof _.then!="function"&&typeof b.then!="function"&&l(_,b,w):P===Fye?v(_,b,w):P===Rye?r(_,b,w):P===Oye?l(_,b,w):P===Tye||P===Dye||P===Bye?c(_,b,w):!1}}function Wye(e){var t=e.circular,n=e.createCustomConfig,r=e.strict,i={areArraysEqual:r?Rh:bye,areDatesEqual:wye,areErrorsEqual:_ye,areFunctionsEqual:Sye,areMapsEqual:r?O4(M4,Rh):M4,areNumbersEqual:jye,areObjectsEqual:r?Rh:Nye,arePrimitiveWrappersEqual:Pye,areRegExpsEqual:kye,areSetsEqual:r?O4(D4,Rh):D4,areTypedArraysEqual:r?Rh:Eye,areUrlsEqual:Cye};if(n&&(i=L4({},i,n(i))),t){var a=Ev(i.areArraysEqual),s=Ev(i.areMapsEqual),l=Ev(i.areObjectsEqual),c=Ev(i.areSetsEqual);i=L4({},i,{areArraysEqual:a,areMapsEqual:s,areObjectsEqual:l,areSetsEqual:c})}return i}function Hye(e){return function(t,n,r,i,a,s,l){return e(t,n,l)}}function Vye(e){var t=e.circular,n=e.comparator,r=e.createState,i=e.equals,a=e.strict;if(r)return function(c,f){var p=r(),m=p.cache,v=m===void 0?t?new WeakMap:void 0:m,x=p.meta;return n(c,f,{cache:v,equals:i,meta:x,strict:a})};if(t)return function(c,f){return n(c,f,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var s={cache:void 0,equals:i,meta:void 0,strict:a};return function(c,f){return n(c,f,s)}}var Kye=Ml();Ml({strict:!0});Ml({circular:!0});Ml({circular:!0,strict:!0});Ml({createInternalComparator:function(){return iu}});Ml({strict:!0,createInternalComparator:function(){return iu}});Ml({circular:!0,createInternalComparator:function(){return iu}});Ml({circular:!0,createInternalComparator:function(){return iu},strict:!0});function Ml(e){e===void 0&&(e={});var t=e.circular,n=t===void 0?!1:t,r=e.createInternalComparator,i=e.createState,a=e.strict,s=a===void 0?!1:a,l=Wye(e),c=Uye(l),f=r?r(c):Hye(c);return Vye({circular:n,comparator:c,createState:i,equals:f,strict:s})}function Gye(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function $4(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(a){n<0&&(n=a),a-n>t?(e(a),n=-1):Gye(i)};requestAnimationFrame(r)}function qP(e){"@babel/helpers - typeof";return qP=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qP(e)}function Yye(e){return Jye(e)||Qye(e)||Xye(e)||Zye()}function Zye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xye(e,t){if(e){if(typeof e=="string")return B4(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return B4(e,t)}}function B4(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Qye(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Jye(e){if(Array.isArray(e))return e}function exe(){var e={},t=function(){return null},n=!1,r=function i(a){if(!n){if(Array.isArray(a)){if(!a.length)return;var s=a,l=Yye(s),c=l[0],f=l.slice(1);if(typeof c=="number"){$4(i.bind(null,f),c);return}i(c),$4(i.bind(null,f));return}qP(a)==="object"&&(e=a,t(e)),typeof a=="function"&&a()}};return{stop:function(){n=!0},start:function(a){n=!1,r(a)},subscribe:function(a){return t=a,function(){t=function(){return null}}}}}function Wp(e){"@babel/helpers - typeof";return Wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wp(e)}function F4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function z4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?F4(Object(n),!0).forEach(function(r){kW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kW(e,t,n){return t=txe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function txe(e){var t=nxe(e,"string");return Wp(t)==="symbol"?t:String(t)}function nxe(e,t){if(Wp(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Wp(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rxe=function(t,n){return[Object.keys(t),Object.keys(n)].reduce(function(r,i){return r.filter(function(a){return i.includes(a)})})},ixe=function(t){return t},axe=function(t){return t.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},tp=function(t,n){return Object.keys(n).reduce(function(r,i){return z4(z4({},r),{},kW({},i,t(i,n[i])))},{})},q4=function(t,n,r){return t.map(function(i){return"".concat(axe(i)," ").concat(n,"ms ").concat(r)}).join(",")};function sxe(e,t){return cxe(e)||lxe(e,t)||EW(e,t)||oxe()}function oxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lxe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,s,l=[],c=!0,f=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(p){f=!0,i=p}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function cxe(e){if(Array.isArray(e))return e}function uxe(e){return hxe(e)||fxe(e)||EW(e)||dxe()}function dxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EW(e,t){if(e){if(typeof e=="string")return UP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return UP(e,t)}}function fxe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function hxe(e){if(Array.isArray(e))return UP(e)}function UP(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Fy=1e-4,CW=function(t,n){return[0,3*t,3*n-6*t,3*t-3*n+1]},OW=function(t,n){return t.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},U4=function(t,n){return function(r){var i=CW(t,n);return OW(i,r)}},pxe=function(t,n){return function(r){var i=CW(t,n),a=[].concat(uxe(i.map(function(s,l){return s*l}).slice(1)),[0]);return OW(a,r)}},W4=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n[0],a=n[1],s=n[2],l=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,a=0,s=1,l=1;break;case"ease":i=.25,a=.1,s=.25,l=1;break;case"ease-in":i=.42,a=0,s=1,l=1;break;case"ease-out":i=.42,a=0,s=.58,l=1;break;case"ease-in-out":i=0,a=0,s=.58,l=1;break;default:{var c=n[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var f=c[1].split(")")[0].split(",").map(function(w){return parseFloat(w)}),p=sxe(f,4);i=p[0],a=p[1],s=p[2],l=p[3]}}}var m=U4(i,s),v=U4(a,l),x=pxe(i,s),_=function(k){return k>1?1:k<0?0:k},b=function(k){for(var E=k>1?1:k,P=E,C=0;C<8;++C){var O=m(P)-E,R=x(P);if(Math.abs(O-E)<Fy||R<Fy)return v(P);P=_(P-O/R)}return v(P)};return b.isStepper=!1,b},mxe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.stiff,r=n===void 0?100:n,i=t.damping,a=i===void 0?8:i,s=t.dt,l=s===void 0?17:s,c=function(p,m,v){var x=-(p-m)*r,_=v*a,b=v+(x-_)*l/1e3,w=v*l/1e3+p;return Math.abs(w-m)<Fy&&Math.abs(b)<Fy?[m,0]:[w,b]};return c.isStepper=!0,c.dt=l,c},gxe=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return W4(i);case"spring":return mxe();default:if(i.split("(")[0]==="cubic-bezier")return W4(i)}return typeof i=="function"?i:null};function Hp(e){"@babel/helpers - typeof";return Hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hp(e)}function H4(e){return xxe(e)||yxe(e)||TW(e)||vxe()}function vxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yxe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function xxe(e){if(Array.isArray(e))return HP(e)}function V4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Cr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?V4(Object(n),!0).forEach(function(r){WP(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function WP(e,t,n){return t=bxe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bxe(e){var t=wxe(e,"string");return Hp(t)==="symbol"?t:String(t)}function wxe(e,t){if(Hp(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Hp(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _xe(e,t){return Nxe(e)||jxe(e,t)||TW(e,t)||Sxe()}function Sxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TW(e,t){if(e){if(typeof e=="string")return HP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return HP(e,t)}}function HP(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function jxe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,s,l=[],c=!0,f=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(p){f=!0,i=p}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function Nxe(e){if(Array.isArray(e))return e}var zy=function(t,n,r){return t+(n-t)*r},VP=function(t){var n=t.from,r=t.to;return n!==r},Pxe=function e(t,n,r){var i=tp(function(a,s){if(VP(s)){var l=t(s.from,s.to,s.velocity),c=_xe(l,2),f=c[0],p=c[1];return Cr(Cr({},s),{},{from:f,velocity:p})}return s},n);return r<1?tp(function(a,s){return VP(s)?Cr(Cr({},s),{},{velocity:zy(s.velocity,i[a].velocity,r),from:zy(s.from,i[a].from,r)}):s},n):e(t,i,r-1)};const kxe=(function(e,t,n,r,i){var a=rxe(e,t),s=a.reduce(function(w,k){return Cr(Cr({},w),{},WP({},k,[e[k],t[k]]))},{}),l=a.reduce(function(w,k){return Cr(Cr({},w),{},WP({},k,{from:e[k],velocity:0,to:t[k]}))},{}),c=-1,f,p,m=function(){return null},v=function(){return tp(function(k,E){return E.from},l)},x=function(){return!Object.values(l).filter(VP).length},_=function(k){f||(f=k);var E=k-f,P=E/n.dt;l=Pxe(n,l,P),i(Cr(Cr(Cr({},e),t),v())),f=k,x()||(c=requestAnimationFrame(m))},b=function(k){p||(p=k);var E=(k-p)/r,P=tp(function(O,R){return zy.apply(void 0,H4(R).concat([n(E)]))},s);if(i(Cr(Cr(Cr({},e),t),P)),E<1)c=requestAnimationFrame(m);else{var C=tp(function(O,R){return zy.apply(void 0,H4(R).concat([n(1)]))},s);i(Cr(Cr(Cr({},e),t),C))}};return m=n.isStepper?_:b,function(){return requestAnimationFrame(m),function(){cancelAnimationFrame(c)}}});function Wd(e){"@babel/helpers - typeof";return Wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wd(e)}var Exe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Cxe(e,t){if(e==null)return{};var n=Oxe(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Oxe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function Nj(e){return Mxe(e)||Rxe(e)||Axe(e)||Txe()}function Txe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Axe(e,t){if(e){if(typeof e=="string")return KP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return KP(e,t)}}function Rxe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Mxe(e){if(Array.isArray(e))return KP(e)}function KP(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function K4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ia(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?K4(Object(n),!0).forEach(function(r){Uh(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Uh(e,t,n){return t=AW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dxe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ixe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,AW(r.key),r)}}function Lxe(e,t,n){return t&&Ixe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function AW(e){var t=$xe(e,"string");return Wd(t)==="symbol"?t:String(t)}function $xe(e,t){if(Wd(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Wd(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bxe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&GP(e,t)}function GP(e,t){return GP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},GP(e,t)}function Fxe(e){var t=zxe();return function(){var r=qy(e),i;if(t){var a=qy(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return YP(this,i)}}function YP(e,t){if(t&&(Wd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZP(e)}function ZP(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zxe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function qy(e){return qy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},qy(e)}var Ps=(function(e){Bxe(n,e);var t=Fxe(n);function n(r,i){var a;Dxe(this,n),a=t.call(this,r,i);var s=a.props,l=s.isActive,c=s.attributeName,f=s.from,p=s.to,m=s.steps,v=s.children,x=s.duration;if(a.handleStyleChange=a.handleStyleChange.bind(ZP(a)),a.changeStyle=a.changeStyle.bind(ZP(a)),!l||x<=0)return a.state={style:{}},typeof v=="function"&&(a.state={style:p}),YP(a);if(m&&m.length)a.state={style:m[0].style};else if(f){if(typeof v=="function")return a.state={style:f},YP(a);a.state={style:c?Uh({},c,f):f}}else a.state={style:{}};return a}return Lxe(n,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,s=i.canBegin;this.mounted=!0,!(!a||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,s=a.isActive,l=a.canBegin,c=a.attributeName,f=a.shouldReAnimate,p=a.to,m=a.from,v=this.state.style;if(l){if(!s){var x={style:c?Uh({},c,p):p};this.state&&v&&(c&&v[c]!==p||!c&&v!==p)&&this.setState(x);return}if(!(Kye(i.to,p)&&i.canBegin&&i.isActive)){var _=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var b=_||f?m:i.to;if(this.state&&v){var w={style:c?Uh({},c,b):b};(c&&v[c]!==b||!c&&v!==b)&&this.setState(w)}this.runAnimation(Ia(Ia({},this.props),{},{from:b,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,s=i.from,l=i.to,c=i.duration,f=i.easing,p=i.begin,m=i.onAnimationEnd,v=i.onAnimationStart,x=kxe(s,l,gxe(f),c,this.changeStyle),_=function(){a.stopJSAnimation=x()};this.manager.start([v,p,_,c,m])}},{key:"runStepAnimation",value:function(i){var a=this,s=i.steps,l=i.begin,c=i.onAnimationStart,f=s[0],p=f.style,m=f.duration,v=m===void 0?0:m,x=function(b,w,k){if(k===0)return b;var E=w.duration,P=w.easing,C=P===void 0?"ease":P,O=w.style,R=w.properties,M=w.onAnimationEnd,U=k>0?s[k-1]:w,F=R||Object.keys(O);if(typeof C=="function"||C==="spring")return[].concat(Nj(b),[a.runJSAnimation.bind(a,{from:U.style,to:O,duration:E,easing:C}),E]);var H=q4(F,E,C),B=Ia(Ia(Ia({},U.style),O),{},{transition:H});return[].concat(Nj(b),[B,E,M]).filter(ixe)};return this.manager.start([c].concat(Nj(s.reduce(x,[p,Math.max(v,l)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=exe());var a=i.begin,s=i.duration,l=i.attributeName,c=i.to,f=i.easing,p=i.onAnimationStart,m=i.onAnimationEnd,v=i.steps,x=i.children,_=this.manager;if(this.unSubscribe=_.subscribe(this.handleStyleChange),typeof f=="function"||typeof x=="function"||f==="spring"){this.runJSAnimation(i);return}if(v.length>1){this.runStepAnimation(i);return}var b=l?Uh({},l,c):c,w=q4(Object.keys(b),s,f);_.start([p,a,Ia(Ia({},b),{},{transition:w}),s,m])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var l=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=Cxe(i,Exe),f=S.Children.count(a),p=this.state.style;if(typeof a=="function")return a(p);if(!l||f===0||s<=0)return a;var m=function(x){var _=x.props,b=_.style,w=b===void 0?{}:b,k=_.className,E=S.cloneElement(x,Ia(Ia({},c),{},{style:Ia(Ia({},w),p),className:k}));return E};return f===1?m(S.Children.only(a)):Z.createElement("div",null,S.Children.map(a,function(v){return m(v)}))}}]),n})(S.PureComponent);Ps.displayName="Animate";Ps.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Ps.propTypes={from:Gt.oneOfType([Gt.object,Gt.string]),to:Gt.oneOfType([Gt.object,Gt.string]),attributeName:Gt.string,duration:Gt.number,begin:Gt.number,easing:Gt.oneOfType([Gt.string,Gt.func]),steps:Gt.arrayOf(Gt.shape({duration:Gt.number.isRequired,style:Gt.object.isRequired,easing:Gt.oneOfType([Gt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Gt.func]),properties:Gt.arrayOf("string"),onAnimationEnd:Gt.func})),children:Gt.oneOfType([Gt.node,Gt.func]),isActive:Gt.bool,canBegin:Gt.bool,onAnimationEnd:Gt.func,shouldReAnimate:Gt.bool,onAnimationStart:Gt.func,onAnimationReStart:Gt.func};function Vp(e){"@babel/helpers - typeof";return Vp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vp(e)}function Uy(){return Uy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Uy.apply(this,arguments)}function qxe(e,t){return Vxe(e)||Hxe(e,t)||Wxe(e,t)||Uxe()}function Uxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wxe(e,t){if(e){if(typeof e=="string")return G4(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return G4(e,t)}}function G4(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Hxe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,s,l=[],c=!0,f=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(p){f=!0,i=p}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function Vxe(e){if(Array.isArray(e))return e}function Y4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Z4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Y4(Object(n),!0).forEach(function(r){Kxe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Kxe(e,t,n){return t=Gxe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gxe(e){var t=Yxe(e,"string");return Vp(t)=="symbol"?t:t+""}function Yxe(e,t){if(Vp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Vp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var X4=function(t,n,r,i,a){var s=Math.min(Math.abs(r)/2,Math.abs(i)/2),l=i>=0?1:-1,c=r>=0?1:-1,f=i>=0&&r>=0||i<0&&r<0?1:0,p;if(s>0&&a instanceof Array){for(var m=[0,0,0,0],v=0,x=4;v<x;v++)m[v]=a[v]>s?s:a[v];p="M".concat(t,",").concat(n+l*m[0]),m[0]>0&&(p+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(f,",").concat(t+c*m[0],",").concat(n)),p+="L ".concat(t+r-c*m[1],",").concat(n),m[1]>0&&(p+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(f,`,
        `).concat(t+r,",").concat(n+l*m[1])),p+="L ".concat(t+r,",").concat(n+i-l*m[2]),m[2]>0&&(p+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(f,`,
        `).concat(t+r-c*m[2],",").concat(n+i)),p+="L ".concat(t+c*m[3],",").concat(n+i),m[3]>0&&(p+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(f,`,
        `).concat(t,",").concat(n+i-l*m[3])),p+="Z"}else if(s>0&&a===+a&&a>0){var _=Math.min(s,a);p="M ".concat(t,",").concat(n+l*_,`
            A `).concat(_,",").concat(_,",0,0,").concat(f,",").concat(t+c*_,",").concat(n,`
            L `).concat(t+r-c*_,",").concat(n,`
            A `).concat(_,",").concat(_,",0,0,").concat(f,",").concat(t+r,",").concat(n+l*_,`
            L `).concat(t+r,",").concat(n+i-l*_,`
            A `).concat(_,",").concat(_,",0,0,").concat(f,",").concat(t+r-c*_,",").concat(n+i,`
            L `).concat(t+c*_,",").concat(n+i,`
            A `).concat(_,",").concat(_,",0,0,").concat(f,",").concat(t,",").concat(n+i-l*_," Z")}else p="M ".concat(t,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return p},Zxe=function(t,n){if(!t||!n)return!1;var r=t.x,i=t.y,a=n.x,s=n.y,l=n.width,c=n.height;if(Math.abs(l)>0&&Math.abs(c)>0){var f=Math.min(a,a+l),p=Math.max(a,a+l),m=Math.min(s,s+c),v=Math.max(s,s+c);return r>=f&&r<=p&&i>=m&&i<=v}return!1},Xxe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},BC=function(t){var n=Z4(Z4({},Xxe),t),r=S.useRef(),i=S.useState(-1),a=qxe(i,2),s=a[0],l=a[1];S.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var C=r.current.getTotalLength();C&&l(C)}catch{}},[]);var c=n.x,f=n.y,p=n.width,m=n.height,v=n.radius,x=n.className,_=n.animationEasing,b=n.animationDuration,w=n.animationBegin,k=n.isAnimationActive,E=n.isUpdateAnimationActive;if(c!==+c||f!==+f||p!==+p||m!==+m||p===0||m===0)return null;var P=St("recharts-rectangle",x);return E?Z.createElement(Ps,{canBegin:s>0,from:{width:p,height:m,x:c,y:f},to:{width:p,height:m,x:c,y:f},duration:b,animationEasing:_,isActive:E},function(C){var O=C.width,R=C.height,M=C.x,U=C.y;return Z.createElement(Ps,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:b,isActive:k,easing:_},Z.createElement("path",Uy({},ot(n,!0),{className:P,d:X4(M,U,O,R,v),ref:r})))}):Z.createElement("path",Uy({},ot(n,!0),{className:P,d:X4(c,f,p,m,v)}))},Qxe=["points","className","baseLinePoints","connectNulls"];function fd(){return fd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fd.apply(this,arguments)}function Jxe(e,t){if(e==null)return{};var n=ebe(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function ebe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Q4(e){return ibe(e)||rbe(e)||nbe(e)||tbe()}function tbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nbe(e,t){if(e){if(typeof e=="string")return XP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return XP(e,t)}}function rbe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ibe(e){if(Array.isArray(e))return XP(e)}function XP(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var J4=function(t){return t&&t.x===+t.x&&t.y===+t.y},abe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return t.forEach(function(r){J4(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),J4(t[0])&&n[n.length-1].push(t[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},np=function(t,n){var r=abe(t);n&&(r=[r.reduce(function(a,s){return[].concat(Q4(a),Q4(s))},[])]);var i=r.map(function(a){return a.reduce(function(s,l,c){return"".concat(s).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},sbe=function(t,n,r){var i=np(t,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(np(n.reverse(),r).slice(1))},obe=function(t){var n=t.points,r=t.className,i=t.baseLinePoints,a=t.connectNulls,s=Jxe(t,Qxe);if(!n||!n.length)return null;var l=St("recharts-polygon",r);if(i&&i.length){var c=s.stroke&&s.stroke!=="none",f=sbe(n,i,a);return Z.createElement("g",{className:l},Z.createElement("path",fd({},ot(s,!0),{fill:f.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:f})),c?Z.createElement("path",fd({},ot(s,!0),{fill:"none",d:np(n,a)})):null,c?Z.createElement("path",fd({},ot(s,!0),{fill:"none",d:np(i,a)})):null)}var p=np(n,a);return Z.createElement("path",fd({},ot(s,!0),{fill:p.slice(-1)==="Z"?s.fill:"none",className:l,d:p}))};function QP(){return QP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},QP.apply(this,arguments)}var bb=function(t){var n=t.cx,r=t.cy,i=t.r,a=t.className,s=St("recharts-dot",a);return n===+n&&r===+r&&i===+i?S.createElement("circle",QP({},ot(t,!1),fy(t),{className:s,cx:n,cy:r,r:i})):null};function Kp(e){"@babel/helpers - typeof";return Kp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kp(e)}var lbe=["x","y","top","left","width","height","className"];function JP(){return JP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},JP.apply(this,arguments)}function e$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function cbe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?e$(Object(n),!0).forEach(function(r){ube(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):e$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ube(e,t,n){return t=dbe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dbe(e){var t=fbe(e,"string");return Kp(t)=="symbol"?t:t+""}function fbe(e,t){if(Kp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Kp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hbe(e,t){if(e==null)return{};var n=pbe(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function pbe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var mbe=function(t,n,r,i,a,s){return"M".concat(t,",").concat(a,"v").concat(i,"M").concat(s,",").concat(n,"h").concat(r)},gbe=function(t){var n=t.x,r=n===void 0?0:n,i=t.y,a=i===void 0?0:i,s=t.top,l=s===void 0?0:s,c=t.left,f=c===void 0?0:c,p=t.width,m=p===void 0?0:p,v=t.height,x=v===void 0?0:v,_=t.className,b=hbe(t,lbe),w=cbe({x:r,y:a,top:l,left:f,width:m,height:x},b);return!Ie(r)||!Ie(a)||!Ie(m)||!Ie(x)||!Ie(l)||!Ie(f)?null:Z.createElement("path",JP({},ot(w,!0),{className:St("recharts-cross",_),d:mbe(r,a,m,x,l,f)}))},Pj,t$;function vbe(){if(t$)return Pj;t$=1;var e=mb(),t=KU(),n=Os();function r(i,a){return i&&i.length?e(i,n(a,2),t):void 0}return Pj=r,Pj}var ybe=vbe();const xbe=Ft(ybe);var kj,n$;function bbe(){if(n$)return kj;n$=1;var e=mb(),t=Os(),n=GU();function r(i,a){return i&&i.length?e(i,t(a,2),n):void 0}return kj=r,kj}var wbe=bbe();const _be=Ft(wbe);var Sbe=["cx","cy","angle","ticks","axisLine"],jbe=["ticks","tick","angle","tickFormatter","stroke"];function Hd(e){"@babel/helpers - typeof";return Hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hd(e)}function rp(){return rp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rp.apply(this,arguments)}function r$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function dc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?r$(Object(n),!0).forEach(function(r){wb(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function i$(e,t){if(e==null)return{};var n=Nbe(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Nbe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Pbe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a$(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,MW(r.key),r)}}function kbe(e,t,n){return t&&a$(e.prototype,t),n&&a$(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ebe(e,t,n){return t=Wy(t),Cbe(e,RW()?Reflect.construct(t,n||[],Wy(e).constructor):t.apply(e,n))}function Cbe(e,t){if(t&&(Hd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Obe(e)}function Obe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function RW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RW=function(){return!!e})()}function Wy(e){return Wy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Wy(e)}function Tbe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ek(e,t)}function ek(e,t){return ek=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ek(e,t)}function wb(e,t,n){return t=MW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MW(e){var t=Abe(e,"string");return Hd(t)=="symbol"?t:t+""}function Abe(e,t){if(Hd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Hd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var _b=(function(e){function t(){return Pbe(this,t),Ebe(this,t,arguments)}return Tbe(t,e),kbe(t,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,a=this.props,s=a.angle,l=a.cx,c=a.cy;return pn(l,c,i,s)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,a=r.cy,s=r.angle,l=r.ticks,c=xbe(l,function(p){return p.coordinate||0}),f=_be(l,function(p){return p.coordinate||0});return{cx:i,cy:a,startAngle:s,endAngle:s,innerRadius:f.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,a=r.cy,s=r.angle,l=r.ticks,c=r.axisLine,f=i$(r,Sbe),p=l.reduce(function(_,b){return[Math.min(_[0],b.coordinate),Math.max(_[1],b.coordinate)]},[1/0,-1/0]),m=pn(i,a,p[0],s),v=pn(i,a,p[1],s),x=dc(dc(dc({},ot(f,!1)),{},{fill:"none"},ot(c,!1)),{},{x1:m.x,y1:m.y,x2:v.x,y2:v.y});return Z.createElement("line",rp({className:"recharts-polar-radius-axis-line"},x))}},{key:"renderTicks",value:function(){var r=this,i=this.props,a=i.ticks,s=i.tick,l=i.angle,c=i.tickFormatter,f=i.stroke,p=i$(i,jbe),m=this.getTickTextAnchor(),v=ot(p,!1),x=ot(s,!1),_=a.map(function(b,w){var k=r.getTickValueCoord(b),E=dc(dc(dc(dc({textAnchor:m,transform:"rotate(".concat(90-l,", ").concat(k.x,", ").concat(k.y,")")},v),{},{stroke:"none",fill:f},x),{},{index:w},k),{},{payload:b});return Z.createElement(qt,rp({className:St("recharts-polar-radius-axis-tick",_W(s)),key:"tick-".concat(b.coordinate)},qc(r.props,b,w)),t.renderTickItem(s,E,c?c(b.value,w):b.value))});return Z.createElement(qt,{className:"recharts-polar-radius-axis-ticks"},_)}},{key:"render",value:function(){var r=this.props,i=r.ticks,a=r.axisLine,s=r.tick;return!i||!i.length?null:Z.createElement(qt,{className:St("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),s&&this.renderTicks(),wr.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,a){var s;return Z.isValidElement(r)?s=Z.cloneElement(r,i):gt(r)?s=r(i):s=Z.createElement(Uc,rp({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),s}}])})(S.PureComponent);wb(_b,"displayName","PolarRadiusAxis");wb(_b,"axisType","radiusAxis");wb(_b,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Vd(e){"@babel/helpers - typeof";return Vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vd(e)}function _c(){return _c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_c.apply(this,arguments)}function s$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function fc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?s$(Object(n),!0).forEach(function(r){Sb(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Rbe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o$(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,IW(r.key),r)}}function Mbe(e,t,n){return t&&o$(e.prototype,t),n&&o$(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Dbe(e,t,n){return t=Hy(t),Ibe(e,DW()?Reflect.construct(t,n||[],Hy(e).constructor):t.apply(e,n))}function Ibe(e,t){if(t&&(Vd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lbe(e)}function Lbe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function DW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DW=function(){return!!e})()}function Hy(e){return Hy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Hy(e)}function $be(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tk(e,t)}function tk(e,t){return tk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},tk(e,t)}function Sb(e,t,n){return t=IW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function IW(e){var t=Bbe(e,"string");return Vd(t)=="symbol"?t:t+""}function Bbe(e,t){if(Vd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Vd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Fbe=Math.PI/180,l$=1e-5,jb=(function(e){function t(){return Rbe(this,t),Dbe(this,t,arguments)}return $be(t,e),Mbe(t,[{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.cx,s=i.cy,l=i.radius,c=i.orientation,f=i.tickSize,p=f||8,m=pn(a,s,l,r.coordinate),v=pn(a,s,l+(c==="inner"?-1:1)*p,r.coordinate);return{x1:m.x,y1:m.y,x2:v.x,y2:v.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,a=Math.cos(-r.coordinate*Fbe),s;return a>l$?s=i==="outer"?"start":"end":a<-l$?s=i==="outer"?"end":"start":s="middle",s}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,a=r.cy,s=r.radius,l=r.axisLine,c=r.axisLineType,f=fc(fc({},ot(this.props,!1)),{},{fill:"none"},ot(l,!1));if(c==="circle")return Z.createElement(bb,_c({className:"recharts-polar-angle-axis-line"},f,{cx:i,cy:a,r:s}));var p=this.props.ticks,m=p.map(function(v){return pn(i,a,s,v.coordinate)});return Z.createElement(obe,_c({className:"recharts-polar-angle-axis-line"},f,{points:m}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,a=i.ticks,s=i.tick,l=i.tickLine,c=i.tickFormatter,f=i.stroke,p=ot(this.props,!1),m=ot(s,!1),v=fc(fc({},p),{},{fill:"none"},ot(l,!1)),x=a.map(function(_,b){var w=r.getTickLineCoord(_),k=r.getTickTextAnchor(_),E=fc(fc(fc({textAnchor:k},p),{},{stroke:"none",fill:f},m),{},{index:b,payload:_,x:w.x2,y:w.y2});return Z.createElement(qt,_c({className:St("recharts-polar-angle-axis-tick",_W(s)),key:"tick-".concat(_.coordinate)},qc(r.props,_,b)),l&&Z.createElement("line",_c({className:"recharts-polar-angle-axis-tick-line"},v,w)),s&&t.renderTickItem(s,E,c?c(_.value,b):_.value))});return Z.createElement(qt,{className:"recharts-polar-angle-axis-ticks"},x)}},{key:"render",value:function(){var r=this.props,i=r.ticks,a=r.radius,s=r.axisLine;return a<=0||!i||!i.length?null:Z.createElement(qt,{className:St("recharts-polar-angle-axis",this.props.className)},s&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,a){var s;return Z.isValidElement(r)?s=Z.cloneElement(r,i):gt(r)?s=r(i):s=Z.createElement(Uc,_c({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),s}}])})(S.PureComponent);Sb(jb,"displayName","PolarAngleAxis");Sb(jb,"axisType","angleAxis");Sb(jb,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Ej,c$;function zbe(){if(c$)return Ej;c$=1;var e=Vq(),t=e(Object.getPrototypeOf,Object);return Ej=t,Ej}var Cj,u$;function qbe(){if(u$)return Cj;u$=1;var e=_o(),t=zbe(),n=So(),r="[object Object]",i=Function.prototype,a=Object.prototype,s=i.toString,l=a.hasOwnProperty,c=s.call(Object);function f(p){if(!n(p)||e(p)!=r)return!1;var m=t(p);if(m===null)return!0;var v=l.call(m,"constructor")&&m.constructor;return typeof v=="function"&&v instanceof v&&s.call(v)==c}return Cj=f,Cj}var Ube=qbe();const Wbe=Ft(Ube);var Oj,d$;function Hbe(){if(d$)return Oj;d$=1;var e=_o(),t=So(),n="[object Boolean]";function r(i){return i===!0||i===!1||t(i)&&e(i)==n}return Oj=r,Oj}var Vbe=Hbe();const Kbe=Ft(Vbe);function Gp(e){"@babel/helpers - typeof";return Gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gp(e)}function Vy(){return Vy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vy.apply(this,arguments)}function Gbe(e,t){return Qbe(e)||Xbe(e,t)||Zbe(e,t)||Ybe()}function Ybe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zbe(e,t){if(e){if(typeof e=="string")return f$(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f$(e,t)}}function f$(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Xbe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,s,l=[],c=!0,f=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(p){f=!0,i=p}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function Qbe(e){if(Array.isArray(e))return e}function h$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function p$(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?h$(Object(n),!0).forEach(function(r){Jbe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Jbe(e,t,n){return t=e0e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function e0e(e){var t=t0e(e,"string");return Gp(t)=="symbol"?t:t+""}function t0e(e,t){if(Gp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Gp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var m$=function(t,n,r,i,a){var s=r-i,l;return l="M ".concat(t,",").concat(n),l+="L ".concat(t+r,",").concat(n),l+="L ".concat(t+r-s/2,",").concat(n+a),l+="L ".concat(t+r-s/2-i,",").concat(n+a),l+="L ".concat(t,",").concat(n," Z"),l},n0e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},r0e=function(t){var n=p$(p$({},n0e),t),r=S.useRef(),i=S.useState(-1),a=Gbe(i,2),s=a[0],l=a[1];S.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var P=r.current.getTotalLength();P&&l(P)}catch{}},[]);var c=n.x,f=n.y,p=n.upperWidth,m=n.lowerWidth,v=n.height,x=n.className,_=n.animationEasing,b=n.animationDuration,w=n.animationBegin,k=n.isUpdateAnimationActive;if(c!==+c||f!==+f||p!==+p||m!==+m||v!==+v||p===0&&m===0||v===0)return null;var E=St("recharts-trapezoid",x);return k?Z.createElement(Ps,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:v,x:c,y:f},to:{upperWidth:p,lowerWidth:m,height:v,x:c,y:f},duration:b,animationEasing:_,isActive:k},function(P){var C=P.upperWidth,O=P.lowerWidth,R=P.height,M=P.x,U=P.y;return Z.createElement(Ps,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:b,easing:_},Z.createElement("path",Vy({},ot(n,!0),{className:E,d:m$(M,U,C,O,R),ref:r})))}):Z.createElement("g",null,Z.createElement("path",Vy({},ot(n,!0),{className:E,d:m$(c,f,p,m,v)})))},i0e=["option","shapeType","propTransformer","activeClassName","isActive"];function Yp(e){"@babel/helpers - typeof";return Yp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yp(e)}function a0e(e,t){if(e==null)return{};var n=s0e(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function s0e(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function g$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ky(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?g$(Object(n),!0).forEach(function(r){o0e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function o0e(e,t,n){return t=l0e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l0e(e){var t=c0e(e,"string");return Yp(t)=="symbol"?t:t+""}function c0e(e,t){if(Yp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Yp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function u0e(e,t){return Ky(Ky({},t),e)}function d0e(e,t){return e==="symbols"}function v$(e){var t=e.shapeType,n=e.elementProps;switch(t){case"rectangle":return Z.createElement(BC,n);case"trapezoid":return Z.createElement(r0e,n);case"sector":return Z.createElement(NW,n);case"symbols":if(d0e(t))return Z.createElement(iC,n);break;default:return null}}function f0e(e){return S.isValidElement(e)?e.props:e}function LW(e){var t=e.option,n=e.shapeType,r=e.propTransformer,i=r===void 0?u0e:r,a=e.activeClassName,s=a===void 0?"recharts-active-shape":a,l=e.isActive,c=a0e(e,i0e),f;if(S.isValidElement(t))f=S.cloneElement(t,Ky(Ky({},c),f0e(t)));else if(gt(t))f=t(c);else if(Wbe(t)&&!Kbe(t)){var p=i(t,c);f=Z.createElement(v$,{shapeType:n,elementProps:p})}else{var m=c;f=Z.createElement(v$,{shapeType:n,elementProps:m})}return l?Z.createElement(qt,{className:s},f):f}function Nb(e,t){return t!=null&&"trapezoids"in e.props}function Pb(e,t){return t!=null&&"sectors"in e.props}function Zp(e,t){return t!=null&&"points"in e.props}function h0e(e,t){var n,r,i=e.x===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.x)||e.x===t.x,a=e.y===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.y)||e.y===t.y;return i&&a}function p0e(e,t){var n=e.endAngle===t.endAngle,r=e.startAngle===t.startAngle;return n&&r}function m0e(e,t){var n=e.x===t.x,r=e.y===t.y,i=e.z===t.z;return n&&r&&i}function g0e(e,t){var n;return Nb(e,t)?n=h0e:Pb(e,t)?n=p0e:Zp(e,t)&&(n=m0e),n}function v0e(e,t){var n;return Nb(e,t)?n="trapezoids":Pb(e,t)?n="sectors":Zp(e,t)&&(n="points"),n}function y0e(e,t){if(Nb(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(Pb(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Zp(e,t)?t.payload:{}}function x0e(e){var t=e.activeTooltipItem,n=e.graphicalItem,r=e.itemData,i=v0e(n,t),a=y0e(n,t),s=r.filter(function(c,f){var p=Nm(a,c),m=n.props[i].filter(function(_){var b=g0e(n,t);return b(_,t)}),v=n.props[i].indexOf(m[m.length-1]),x=f===v;return p&&x}),l=r.indexOf(s[s.length-1]);return l}var Bv;function Kd(e){"@babel/helpers - typeof";return Kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kd(e)}function hd(){return hd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hd.apply(this,arguments)}function y$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function fn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?y$(Object(n),!0).forEach(function(r){ma(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function b0e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x$(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,BW(r.key),r)}}function w0e(e,t,n){return t&&x$(e.prototype,t),n&&x$(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _0e(e,t,n){return t=Gy(t),S0e(e,$W()?Reflect.construct(t,n||[],Gy(e).constructor):t.apply(e,n))}function S0e(e,t){if(t&&(Kd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return j0e(e)}function j0e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $W(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($W=function(){return!!e})()}function Gy(e){return Gy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Gy(e)}function N0e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nk(e,t)}function nk(e,t){return nk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},nk(e,t)}function ma(e,t,n){return t=BW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function BW(e){var t=P0e(e,"string");return Kd(t)=="symbol"?t:t+""}function P0e(e,t){if(Kd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Kd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var No=(function(e){function t(n){var r;return b0e(this,t),r=_0e(this,t,[n]),ma(r,"pieRef",null),ma(r,"sectorRefs",[]),ma(r,"id",Nf("recharts-pie-")),ma(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),gt(i)&&i()}),ma(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),gt(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return N0e(t,e),w0e(t,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.label,l=a.labelLine,c=a.dataKey,f=a.valueKey,p=ot(this.props,!1),m=ot(s,!1),v=ot(l,!1),x=s&&s.offsetRadius||20,_=r.map(function(b,w){var k=(b.startAngle+b.endAngle)/2,E=pn(b.cx,b.cy,b.outerRadius+x,k),P=fn(fn(fn(fn({},p),b),{},{stroke:"none"},m),{},{index:w,textAnchor:t.getTextAnchor(E.x,b.cx)},E),C=fn(fn(fn(fn({},p),b),{},{fill:"none",stroke:b.fill},v),{},{index:w,points:[pn(b.cx,b.cy,b.outerRadius,k),E]}),O=c;return _t(c)&&_t(f)?O="value":_t(c)&&(O=f),Z.createElement(qt,{key:"label-".concat(b.startAngle,"-").concat(b.endAngle,"-").concat(b.midAngle,"-").concat(w)},l&&t.renderLabelLineItem(l,C,"line"),t.renderLabelItem(s,P,dr(b,O)))});return Z.createElement(qt,{className:"recharts-pie-labels"},_)}},{key:"renderSectorsStatically",value:function(r){var i=this,a=this.props,s=a.activeShape,l=a.blendStroke,c=a.inactiveShape;return r.map(function(f,p){if(f?.startAngle===0&&f?.endAngle===0&&r.length!==1)return null;var m=i.isActiveIndex(p),v=c&&i.hasActiveIndex()?c:null,x=m?s:v,_=fn(fn({},f),{},{stroke:l?f.fill:f.stroke,tabIndex:-1});return Z.createElement(qt,hd({ref:function(w){w&&!i.sectorRefs.includes(w)&&i.sectorRefs.push(w)},tabIndex:-1,className:"recharts-pie-sector"},qc(i.props,f,p),{key:"sector-".concat(f?.startAngle,"-").concat(f?.endAngle,"-").concat(f.midAngle,"-").concat(p)}),Z.createElement(LW,hd({option:x,isActive:m,shapeType:"sector"},_)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,a=i.sectors,s=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,f=i.animationEasing,p=i.animationId,m=this.state,v=m.prevSectors,x=m.prevIsAnimationActive;return Z.createElement(Ps,{begin:l,duration:c,isActive:s,easing:f,from:{t:0},to:{t:1},key:"pie-".concat(p,"-").concat(x),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(_){var b=_.t,w=[],k=a&&a[0],E=k.startAngle;return a.forEach(function(P,C){var O=v&&v[C],R=C>0?Vi(P,"paddingAngle",0):0;if(O){var M=Fi(O.endAngle-O.startAngle,P.endAngle-P.startAngle),U=fn(fn({},P),{},{startAngle:E+R,endAngle:E+M(b)+R});w.push(U),E=U.endAngle}else{var F=P.endAngle,H=P.startAngle,B=Fi(0,F-H),$=B(b),G=fn(fn({},P),{},{startAngle:E+R,endAngle:E+$+R});w.push(G),E=G.endAngle}}),Z.createElement(qt,null,r.renderSectorsStatically(w))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var s=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"ArrowRight":{var l=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[l].focus(),i.setState({sectorToFocus:l});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,a=r.isAnimationActive,s=this.state.prevSectors;return a&&i&&i.length&&(!s||!Nm(s,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,a=i.hide,s=i.sectors,l=i.className,c=i.label,f=i.cx,p=i.cy,m=i.innerRadius,v=i.outerRadius,x=i.isAnimationActive,_=this.state.isAnimationFinished;if(a||!s||!s.length||!Ie(f)||!Ie(p)||!Ie(m)||!Ie(v))return null;var b=St("recharts-pie",l);return Z.createElement(qt,{tabIndex:this.props.rootTabIndex,className:b,ref:function(k){r.pieRef=k}},this.renderSectors(),c&&this.renderLabels(s),wr.renderCallByParent(this.props,null,!1),(!x||_)&&po.renderCallByParent(this.props,s,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,a){if(Z.isValidElement(r))return Z.cloneElement(r,i);if(gt(r))return r(i);var s=St("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return Z.createElement(By,hd({},i,{key:a,type:"linear",className:s}))}},{key:"renderLabelItem",value:function(r,i,a){if(Z.isValidElement(r))return Z.cloneElement(r,i);var s=a;if(gt(r)&&(s=r(i),Z.isValidElement(s)))return s;var l=St("recharts-pie-label-text",typeof r!="boolean"&&!gt(r)?r.className:"");return Z.createElement(Uc,hd({},i,{alignmentBaseline:"middle",className:l}),s)}}])})(S.PureComponent);Bv=No;ma(No,"displayName","Pie");ma(No,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!tu.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});ma(No,"parseDeltaAngle",function(e,t){var n=ri(t-e),r=Math.min(Math.abs(t-e),360);return n*r});ma(No,"getRealPieData",function(e){var t=e.data,n=e.children,r=ot(e,!1),i=Ki(n,lb);return t&&t.length?t.map(function(a,s){return fn(fn(fn({payload:a},r),a),i&&i[s]&&i[s].props)}):i&&i.length?i.map(function(a){return fn(fn({},r),a.props)}):[]});ma(No,"parseCoordinateOfPie",function(e,t){var n=t.top,r=t.left,i=t.width,a=t.height,s=wW(i,a),l=r+ii(e.cx,i,i/2),c=n+ii(e.cy,a,a/2),f=ii(e.innerRadius,s,0),p=ii(e.outerRadius,s,s*.8),m=e.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:l,cy:c,innerRadius:f,outerRadius:p,maxRadius:m}});ma(No,"getComposedData",function(e){var t=e.item,n=e.offset,r=t.type.defaultProps!==void 0?fn(fn({},t.type.defaultProps),t.props):t.props,i=Bv.getRealPieData(r);if(!i||!i.length)return null;var a=r.cornerRadius,s=r.startAngle,l=r.endAngle,c=r.paddingAngle,f=r.dataKey,p=r.nameKey,m=r.valueKey,v=r.tooltipType,x=Math.abs(r.minAngle),_=Bv.parseCoordinateOfPie(r,n),b=Bv.parseDeltaAngle(s,l),w=Math.abs(b),k=f;_t(f)&&_t(m)?(Ha(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),k="value"):_t(f)&&(Ha(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),k=m);var E=i.filter(function(U){return dr(U,k,0)!==0}).length,P=(w>=360?E:E-1)*c,C=w-E*x-P,O=i.reduce(function(U,F){var H=dr(F,k,0);return U+(Ie(H)?H:0)},0),R;if(O>0){var M;R=i.map(function(U,F){var H=dr(U,k,0),B=dr(U,p,F),$=(Ie(H)?H:0)/O,G;F?G=M.endAngle+ri(b)*c*(H!==0?1:0):G=s;var W=G+ri(b)*((H!==0?x:0)+$*C),V=(G+W)/2,K=(_.innerRadius+_.outerRadius)/2,q=[{name:B,value:H,payload:U,dataKey:k,type:v}],D=pn(_.cx,_.cy,K,V);return M=fn(fn(fn({percent:$,cornerRadius:a,name:B,tooltipPayload:q,midAngle:V,middleRadius:K,tooltipPosition:D},U),_),{},{value:dr(U,k),startAngle:G,endAngle:W,payload:U,paddingAngle:ri(b)*c}),M})}return fn(fn({},_),{},{sectors:R,data:i})});var Tj,b$;function k0e(){if(b$)return Tj;b$=1;var e=Math.ceil,t=Math.max;function n(r,i,a,s){for(var l=-1,c=t(e((i-r)/(a||1)),0),f=Array(c);c--;)f[s?c:++l]=r,r+=a;return f}return Tj=n,Tj}var Aj,w$;function FW(){if(w$)return Aj;w$=1;var e=lU(),t=1/0,n=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=e(i),i===t||i===-t){var a=i<0?-1:1;return a*n}return i===i?i:0}return Aj=r,Aj}var Rj,_$;function E0e(){if(_$)return Rj;_$=1;var e=k0e(),t=ob(),n=FW();function r(i){return function(a,s,l){return l&&typeof l!="number"&&t(a,s,l)&&(s=l=void 0),a=n(a),s===void 0?(s=a,a=0):s=n(s),l=l===void 0?a<s?1:-1:n(l),e(a,s,l,i)}}return Rj=r,Rj}var Mj,S$;function C0e(){if(S$)return Mj;S$=1;var e=E0e(),t=e();return Mj=t,Mj}var O0e=C0e();const Yy=Ft(O0e);function Xp(e){"@babel/helpers - typeof";return Xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xp(e)}function j$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function N$(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?j$(Object(n),!0).forEach(function(r){zW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zW(e,t,n){return t=T0e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T0e(e){var t=A0e(e,"string");return Xp(t)=="symbol"?t:t+""}function A0e(e,t){if(Xp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Xp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var R0e=["Webkit","Moz","O","ms"],M0e=function(t,n){var r=t.replace(/(\w)/,function(a){return a.toUpperCase()}),i=R0e.reduce(function(a,s){return N$(N$({},a),{},zW({},s+r,n))},{});return i[t]=n,i};function Gd(e){"@babel/helpers - typeof";return Gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gd(e)}function Zy(){return Zy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zy.apply(this,arguments)}function P$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Dj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?P$(Object(n),!0).forEach(function(r){Li(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function D0e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k$(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,UW(r.key),r)}}function I0e(e,t,n){return t&&k$(e.prototype,t),n&&k$(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function L0e(e,t,n){return t=Xy(t),$0e(e,qW()?Reflect.construct(t,n||[],Xy(e).constructor):t.apply(e,n))}function $0e(e,t){if(t&&(Gd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return B0e(e)}function B0e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qW=function(){return!!e})()}function Xy(e){return Xy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Xy(e)}function F0e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rk(e,t)}function rk(e,t){return rk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},rk(e,t)}function Li(e,t,n){return t=UW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function UW(e){var t=z0e(e,"string");return Gd(t)=="symbol"?t:t+""}function z0e(e,t){if(Gd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Gd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var q0e=function(t){var n=t.data,r=t.startIndex,i=t.endIndex,a=t.x,s=t.width,l=t.travellerWidth;if(!n||!n.length)return{};var c=n.length,f=Jh().domain(Yy(0,c)).range([a,a+s-l]),p=f.domain().map(function(m){return f(m)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:f(r),endX:f(i),scale:f,scaleValues:p}},E$=function(t){return t.changedTouches&&!!t.changedTouches.length},Yd=(function(e){function t(n){var r;return D0e(this,t),r=L0e(this,t,[n]),Li(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Li(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Li(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,a=i.endIndex,s=i.onDragEnd,l=i.startIndex;s?.({endIndex:a,startIndex:l})}),r.detachDragEndListener()}),Li(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Li(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Li(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Li(r,"handleSlideDragStart",function(i){var a=E$(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return F0e(t,e),I0e(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,a=r.endX,s=this.state.scaleValues,l=this.props,c=l.gap,f=l.data,p=f.length-1,m=Math.min(i,a),v=Math.max(i,a),x=t.getIndexInRange(s,m),_=t.getIndexInRange(s,v);return{startIndex:x-x%c,endIndex:_===p?p:_-_%c}}},{key:"getTextOfTick",value:function(r){var i=this.props,a=i.data,s=i.tickFormatter,l=i.dataKey,c=dr(a[r],l,r);return gt(s)?s(c,r):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,a=i.slideMoveStartX,s=i.startX,l=i.endX,c=this.props,f=c.x,p=c.width,m=c.travellerWidth,v=c.startIndex,x=c.endIndex,_=c.onChange,b=r.pageX-a;b>0?b=Math.min(b,f+p-m-l,f+p-m-s):b<0&&(b=Math.max(b,f-s,f-l));var w=this.getIndex({startX:s+b,endX:l+b});(w.startIndex!==v||w.endIndex!==x)&&_&&_(w),this.setState({startX:s+b,endX:l+b,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var a=E$(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,a=i.brushMoveStartX,s=i.movingTravellerId,l=i.endX,c=i.startX,f=this.state[s],p=this.props,m=p.x,v=p.width,x=p.travellerWidth,_=p.onChange,b=p.gap,w=p.data,k={startX:this.state.startX,endX:this.state.endX},E=r.pageX-a;E>0?E=Math.min(E,m+v-x-f):E<0&&(E=Math.max(E,m-f)),k[s]=f+E;var P=this.getIndex(k),C=P.startIndex,O=P.endIndex,R=function(){var U=w.length-1;return s==="startX"&&(l>c?C%b===0:O%b===0)||l<c&&O===U||s==="endX"&&(l>c?O%b===0:C%b===0)||l>c&&O===U};this.setState(Li(Li({},s,f+E),"brushMoveStartX",r.pageX),function(){_&&R()&&_(P)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var a=this,s=this.state,l=s.scaleValues,c=s.startX,f=s.endX,p=this.state[i],m=l.indexOf(p);if(m!==-1){var v=m+r;if(!(v===-1||v>=l.length)){var x=l[v];i==="startX"&&x>=f||i==="endX"&&x<=c||this.setState(Li({},i,x),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,a=r.y,s=r.width,l=r.height,c=r.fill,f=r.stroke;return Z.createElement("rect",{stroke:f,fill:c,x:i,y:a,width:s,height:l})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,a=r.y,s=r.width,l=r.height,c=r.data,f=r.children,p=r.padding,m=S.Children.only(f);return m?Z.cloneElement(m,{x:i,y:a,width:s,height:l,margin:p,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(r,i){var a,s,l=this,c=this.props,f=c.y,p=c.travellerWidth,m=c.height,v=c.traveller,x=c.ariaLabel,_=c.data,b=c.startIndex,w=c.endIndex,k=Math.max(r,this.props.x),E=Dj(Dj({},ot(this.props,!1)),{},{x:k,y:f,width:p,height:m}),P=x||"Min value: ".concat((a=_[b])===null||a===void 0?void 0:a.name,", Max value: ").concat((s=_[w])===null||s===void 0?void 0:s.name);return Z.createElement(qt,{tabIndex:0,role:"slider","aria-label":P,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(O){["ArrowLeft","ArrowRight"].includes(O.key)&&(O.preventDefault(),O.stopPropagation(),l.handleTravellerMoveKeyboard(O.key==="ArrowRight"?1:-1,i))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(v,E))}},{key:"renderSlide",value:function(r,i){var a=this.props,s=a.y,l=a.height,c=a.stroke,f=a.travellerWidth,p=Math.min(r,i)+f,m=Math.max(Math.abs(i-r)-f,0);return Z.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:p,y:s,width:m,height:l})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,a=r.endIndex,s=r.y,l=r.height,c=r.travellerWidth,f=r.stroke,p=this.state,m=p.startX,v=p.endX,x=5,_={pointerEvents:"none",fill:f};return Z.createElement(qt,{className:"recharts-brush-texts"},Z.createElement(Uc,Zy({textAnchor:"end",verticalAnchor:"middle",x:Math.min(m,v)-x,y:s+l/2},_),this.getTextOfTick(i)),Z.createElement(Uc,Zy({textAnchor:"start",verticalAnchor:"middle",x:Math.max(m,v)+c+x,y:s+l/2},_),this.getTextOfTick(a)))}},{key:"render",value:function(){var r=this.props,i=r.data,a=r.className,s=r.children,l=r.x,c=r.y,f=r.width,p=r.height,m=r.alwaysShowText,v=this.state,x=v.startX,_=v.endX,b=v.isTextActive,w=v.isSlideMoving,k=v.isTravellerMoving,E=v.isTravellerFocused;if(!i||!i.length||!Ie(l)||!Ie(c)||!Ie(f)||!Ie(p)||f<=0||p<=0)return null;var P=St("recharts-brush",a),C=Z.Children.count(s)===1,O=M0e("userSelect","none");return Z.createElement(qt,{className:P,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:O},this.renderBackground(),C&&this.renderPanorama(),this.renderSlide(x,_),this.renderTravellerLayer(x,"startX"),this.renderTravellerLayer(_,"endX"),(b||w||k||E||m)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,a=r.y,s=r.width,l=r.height,c=r.stroke,f=Math.floor(a+l/2)-1;return Z.createElement(Z.Fragment,null,Z.createElement("rect",{x:i,y:a,width:s,height:l,fill:c,stroke:"none"}),Z.createElement("line",{x1:i+1,y1:f,x2:i+s-1,y2:f,fill:"none",stroke:"#fff"}),Z.createElement("line",{x1:i+1,y1:f+2,x2:i+s-1,y2:f+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var a;return Z.isValidElement(r)?a=Z.cloneElement(r,i):gt(r)?a=r(i):a=t.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(r,i){var a=r.data,s=r.width,l=r.x,c=r.travellerWidth,f=r.updateId,p=r.startIndex,m=r.endIndex;if(a!==i.prevData||f!==i.prevUpdateId)return Dj({prevData:a,prevTravellerWidth:c,prevUpdateId:f,prevX:l,prevWidth:s},a&&a.length?q0e({data:a,width:s,x:l,travellerWidth:c,startIndex:p,endIndex:m}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||l!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([l,l+s-c]);var v=i.scale.domain().map(function(x){return i.scale(x)});return{prevData:a,prevTravellerWidth:c,prevUpdateId:f,prevX:l,prevWidth:s,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:v}}return null}},{key:"getIndexInRange",value:function(r,i){for(var a=r.length,s=0,l=a-1;l-s>1;){var c=Math.floor((s+l)/2);r[c]>i?l=c:s=c}return i>=r[l]?l:s}}])})(S.PureComponent);Li(Yd,"displayName","Brush");Li(Yd,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Ij,C$;function U0e(){if(C$)return Ij;C$=1;var e=dC();function t(n,r){var i;return e(n,function(a,s,l){return i=r(a,s,l),!i}),!!i}return Ij=t,Ij}var Lj,O$;function W0e(){if(O$)return Lj;O$=1;var e=Bq(),t=Os(),n=U0e(),r=wi(),i=ob();function a(s,l,c){var f=r(s)?e:n;return c&&i(s,l,c)&&(l=void 0),f(s,t(l,3))}return Lj=a,Lj}var H0e=W0e();const V0e=Ft(H0e);var Ss=function(t,n){var r=t.alwaysShow,i=t.ifOverflow;return r&&(i="extendDomain"),i===n},$j,T$;function K0e(){if(T$)return $j;T$=1;var e=rU();function t(n,r,i){r=="__proto__"&&e?e(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return $j=t,$j}var Bj,A$;function G0e(){if(A$)return Bj;A$=1;var e=K0e(),t=tU(),n=Os();function r(i,a){var s={};return a=n(a,3),t(i,function(l,c,f){e(s,c,a(l,c,f))}),s}return Bj=r,Bj}var Y0e=G0e();const Z0e=Ft(Y0e);var Fj,R$;function X0e(){if(R$)return Fj;R$=1;function e(t,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(!n(t[r],r,t))return!1;return!0}return Fj=e,Fj}var zj,M$;function Q0e(){if(M$)return zj;M$=1;var e=dC();function t(n,r){var i=!0;return e(n,function(a,s,l){return i=!!r(a,s,l),i}),i}return zj=t,zj}var qj,D$;function J0e(){if(D$)return qj;D$=1;var e=X0e(),t=Q0e(),n=Os(),r=wi(),i=ob();function a(s,l,c){var f=r(s)?e:t;return c&&i(s,l,c)&&(l=void 0),f(s,n(l,3))}return qj=a,qj}var ewe=J0e();const WW=Ft(ewe);var twe=["x","y"];function Qp(e){"@babel/helpers - typeof";return Qp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qp(e)}function ik(){return ik=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ik.apply(this,arguments)}function I$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Mh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?I$(Object(n),!0).forEach(function(r){nwe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nwe(e,t,n){return t=rwe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rwe(e){var t=iwe(e,"string");return Qp(t)=="symbol"?t:t+""}function iwe(e,t){if(Qp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Qp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function awe(e,t){if(e==null)return{};var n=swe(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function swe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function owe(e,t){var n=e.x,r=e.y,i=awe(e,twe),a="".concat(n),s=parseInt(a,10),l="".concat(r),c=parseInt(l,10),f="".concat(t.height||i.height),p=parseInt(f,10),m="".concat(t.width||i.width),v=parseInt(m,10);return Mh(Mh(Mh(Mh(Mh({},t),i),s?{x:s}:{}),c?{y:c}:{}),{},{height:p,width:v,name:t.name,radius:t.radius})}function L$(e){return Z.createElement(LW,ik({shapeType:"rectangle",propTransformer:owe,activeClassName:"recharts-active-bar"},e))}var lwe=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof t=="number")return t;var a=Ie(r)||Dle(r);return a?t(r,i):(a||Hc(),n)}},cwe=["value","background"],HW;function Zd(e){"@babel/helpers - typeof";return Zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zd(e)}function uwe(e,t){if(e==null)return{};var n=dwe(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function dwe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Qy(){return Qy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qy.apply(this,arguments)}function $$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Hn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$$(Object(n),!0).forEach(function(r){ml(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fwe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function B$(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,KW(r.key),r)}}function hwe(e,t,n){return t&&B$(e.prototype,t),n&&B$(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function pwe(e,t,n){return t=Jy(t),mwe(e,VW()?Reflect.construct(t,n||[],Jy(e).constructor):t.apply(e,n))}function mwe(e,t){if(t&&(Zd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gwe(e)}function gwe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function VW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VW=function(){return!!e})()}function Jy(e){return Jy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Jy(e)}function vwe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ak(e,t)}function ak(e,t){return ak=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ak(e,t)}function ml(e,t,n){return t=KW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KW(e){var t=ywe(e,"string");return Zd(t)=="symbol"?t:t+""}function ywe(e,t){if(Zd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Zd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var au=(function(e){function t(){var n;fwe(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=pwe(this,t,[].concat(i)),ml(n,"state",{isAnimationFinished:!1}),ml(n,"id",Nf("recharts-bar-")),ml(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),s&&s()}),ml(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),s&&s()}),n}return vwe(t,e),hwe(t,[{key:"renderRectanglesStatically",value:function(r){var i=this,a=this.props,s=a.shape,l=a.dataKey,c=a.activeIndex,f=a.activeBar,p=ot(this.props,!1);return r&&r.map(function(m,v){var x=v===c,_=x?f:s,b=Hn(Hn(Hn({},p),m),{},{isActive:x,option:_,index:v,dataKey:l,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return Z.createElement(qt,Qy({className:"recharts-bar-rectangle"},qc(i.props,m,v),{key:"rectangle-".concat(m?.x,"-").concat(m?.y,"-").concat(m?.value,"-").concat(v)}),Z.createElement(L$,b))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,a=i.data,s=i.layout,l=i.isAnimationActive,c=i.animationBegin,f=i.animationDuration,p=i.animationEasing,m=i.animationId,v=this.state.prevData;return Z.createElement(Ps,{begin:c,duration:f,isActive:l,easing:p,from:{t:0},to:{t:1},key:"bar-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(x){var _=x.t,b=a.map(function(w,k){var E=v&&v[k];if(E){var P=Fi(E.x,w.x),C=Fi(E.y,w.y),O=Fi(E.width,w.width),R=Fi(E.height,w.height);return Hn(Hn({},w),{},{x:P(_),y:C(_),width:O(_),height:R(_)})}if(s==="horizontal"){var M=Fi(0,w.height),U=M(_);return Hn(Hn({},w),{},{y:w.y+w.height-U,height:U})}var F=Fi(0,w.width),H=F(_);return Hn(Hn({},w),{},{width:H})});return Z.createElement(qt,null,r.renderRectanglesStatically(b))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,a=r.isAnimationActive,s=this.state.prevData;return a&&i&&i.length&&(!s||!Nm(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,a=i.data,s=i.dataKey,l=i.activeIndex,c=ot(this.props.background,!1);return a.map(function(f,p){f.value;var m=f.background,v=uwe(f,cwe);if(!m)return null;var x=Hn(Hn(Hn(Hn(Hn({},v),{},{fill:"#eee"},m),c),qc(r.props,f,p)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:s,index:p,className:"recharts-bar-background-rectangle"});return Z.createElement(L$,Qy({key:"background-bar-".concat(p),option:r.props.background,isActive:p===l},x))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.data,l=a.xAxis,c=a.yAxis,f=a.layout,p=a.children,m=Ki(p,Pm);if(!m)return null;var v=f==="vertical"?s[0].height/2:s[0].width/2,x=function(w,k){var E=Array.isArray(w.value)?w.value[1]:w.value;return{x:w.x,y:w.y,value:E,errorVal:dr(w,k)}},_={clipPath:r?"url(#clipPath-".concat(i,")"):null};return Z.createElement(qt,_,m.map(function(b){return Z.cloneElement(b,{key:"error-bar-".concat(i,"-").concat(b.props.dataKey),data:s,xAxis:l,yAxis:c,layout:f,offset:v,dataPointFormatter:x})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,a=r.data,s=r.className,l=r.xAxis,c=r.yAxis,f=r.left,p=r.top,m=r.width,v=r.height,x=r.isAnimationActive,_=r.background,b=r.id;if(i||!a||!a.length)return null;var w=this.state.isAnimationFinished,k=St("recharts-bar",s),E=l&&l.allowDataOverflow,P=c&&c.allowDataOverflow,C=E||P,O=_t(b)?this.id:b;return Z.createElement(qt,{className:k},E||P?Z.createElement("defs",null,Z.createElement("clipPath",{id:"clipPath-".concat(O)},Z.createElement("rect",{x:E?f:f-m/2,y:P?p:p-v/2,width:E?m:m*2,height:P?v:v*2}))):null,Z.createElement(qt,{className:"recharts-bar-rectangles",clipPath:C?"url(#clipPath-".concat(O,")"):null},_?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(C,O),(!x||w)&&po.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])})(S.PureComponent);HW=au;ml(au,"displayName","Bar");ml(au,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!tu.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});ml(au,"getComposedData",function(e){var t=e.props,n=e.item,r=e.barPosition,i=e.bandSize,a=e.xAxis,s=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,f=e.stackedData,p=e.dataStartIndex,m=e.displayedData,v=e.offset,x=Zge(r,n);if(!x)return null;var _=t.layout,b=n.type.defaultProps,w=b!==void 0?Hn(Hn({},b),n.props):n.props,k=w.dataKey,E=w.children,P=w.minPointSize,C=_==="horizontal"?s:a,O=f?C.scale.domain():null,R=rve({numericAxis:C}),M=Ki(E,lb),U=m.map(function(F,H){var B,$,G,W,V,K;f?B=Xge(f[p+H],O):(B=dr(F,k),Array.isArray(B)||(B=[R,B]));var q=lwe(P,HW.defaultProps.minPointSize)(B[1],H);if(_==="horizontal"){var D,Q=[s.scale(B[0]),s.scale(B[1])],ne=Q[0],J=Q[1];$=h4({axis:a,ticks:l,bandSize:i,offset:x.offset,entry:F,index:H}),G=(D=J??ne)!==null&&D!==void 0?D:void 0,W=x.size;var ee=ne-J;if(V=Number.isNaN(ee)?0:ee,K={x:$,y:s.y,width:W,height:s.height},Math.abs(q)>0&&Math.abs(V)<Math.abs(q)){var te=ri(V||q)*(Math.abs(q)-Math.abs(V));G-=te,V+=te}}else{var re=[a.scale(B[0]),a.scale(B[1])],ie=re[0],se=re[1];if($=ie,G=h4({axis:s,ticks:c,bandSize:i,offset:x.offset,entry:F,index:H}),W=se-ie,V=x.size,K={x:a.x,y:G,width:a.width,height:V},Math.abs(q)>0&&Math.abs(W)<Math.abs(q)){var oe=ri(W||q)*(Math.abs(q)-Math.abs(W));W+=oe}}return Hn(Hn(Hn({},F),{},{x:$,y:G,width:W,height:V,value:f?B:B[1],payload:F,background:K},M&&M[H]&&M[H].props),{},{tooltipPayload:[xW(n,F)],tooltipPosition:{x:$+W/2,y:G+V/2}})});return Hn({data:U,layout:_},v)});function Jp(e){"@babel/helpers - typeof";return Jp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jp(e)}function xwe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function F$(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,GW(r.key),r)}}function bwe(e,t,n){return t&&F$(e.prototype,t),n&&F$(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function z$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function za(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?z$(Object(n),!0).forEach(function(r){kb(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kb(e,t,n){return t=GW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GW(e){var t=wwe(e,"string");return Jp(t)=="symbol"?t:t+""}function wwe(e,t){if(Jp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Jp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var YW=function(t,n,r,i,a){var s=t.width,l=t.height,c=t.layout,f=t.children,p=Object.keys(n),m={left:r.left,leftMirror:r.left,right:s-r.right,rightMirror:s-r.right,top:r.top,topMirror:r.top,bottom:l-r.bottom,bottomMirror:l-r.bottom},v=!!$i(f,au);return p.reduce(function(x,_){var b=n[_],w=b.orientation,k=b.domain,E=b.padding,P=E===void 0?{}:E,C=b.mirror,O=b.reversed,R="".concat(w).concat(C?"Mirror":""),M,U,F,H,B;if(b.type==="number"&&(b.padding==="gap"||b.padding==="no-gap")){var $=k[1]-k[0],G=1/0,W=b.categoricalDomain.sort($le);if(W.forEach(function(re,ie){ie>0&&(G=Math.min((re||0)-(W[ie-1]||0),G))}),Number.isFinite(G)){var V=G/$,K=b.layout==="vertical"?r.height:r.width;if(b.padding==="gap"&&(M=V*K/2),b.padding==="no-gap"){var q=ii(t.barCategoryGap,V*K),D=V*K/2;M=D-q-(D-q)/K*q}}}i==="xAxis"?U=[r.left+(P.left||0)+(M||0),r.left+r.width-(P.right||0)-(M||0)]:i==="yAxis"?U=c==="horizontal"?[r.top+r.height-(P.bottom||0),r.top+(P.top||0)]:[r.top+(P.top||0)+(M||0),r.top+r.height-(P.bottom||0)-(M||0)]:U=b.range,O&&(U=[U[1],U[0]]);var Q=mW(b,a,v),ne=Q.scale,J=Q.realScaleType;ne.domain(k).range(U),gW(ne);var ee=vW(ne,za(za({},b),{},{realScaleType:J}));i==="xAxis"?(B=w==="top"&&!C||w==="bottom"&&C,F=r.left,H=m[R]-B*b.height):i==="yAxis"&&(B=w==="left"&&!C||w==="right"&&C,F=m[R]-B*b.width,H=r.top);var te=za(za(za({},b),ee),{},{realScaleType:J,x:F,y:H,scale:ne,width:i==="xAxis"?r.width:b.width,height:i==="yAxis"?r.height:b.height});return te.bandSize=Iy(te,ee),!b.hide&&i==="xAxis"?m[R]+=(B?-1:1)*te.height:b.hide||(m[R]+=(B?-1:1)*te.width),za(za({},x),{},kb({},_,te))},{})},ZW=function(t,n){var r=t.x,i=t.y,a=n.x,s=n.y;return{x:Math.min(r,a),y:Math.min(i,s),width:Math.abs(a-r),height:Math.abs(s-i)}},_we=function(t){var n=t.x1,r=t.y1,i=t.x2,a=t.y2;return ZW({x:n,y:r},{x:i,y:a})},XW=(function(){function e(t){xwe(this,e),this.scale=t}return bwe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,a=r.position;if(n!==void 0){if(a)switch(a){case"start":return this.scale(n);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+s}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(n)+l}default:return this.scale(n)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+c}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],a=r[r.length-1];return i<=a?n>=i&&n<=a:n>=a&&n<=i}}],[{key:"create",value:function(n){return new e(n)}}])})();kb(XW,"EPS",1e-4);var FC=function(t){var n=Object.keys(t).reduce(function(r,i){return za(za({},r),{},kb({},i,XW.create(t[i])))},{});return za(za({},n),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.bandAware,l=a.position;return Z0e(i,function(c,f){return n[f].apply(c,{bandAware:s,position:l})})},isInRange:function(i){return WW(i,function(a,s){return n[s].isInRange(a)})}})};function Swe(e){return(e%180+180)%180}var jwe=function(t){var n=t.width,r=t.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Swe(i),s=a*Math.PI/180,l=Math.atan(r/n),c=s>l&&s<Math.PI-l?r/Math.sin(s):n/Math.cos(s);return Math.abs(c)},Uj,q$;function Nwe(){if(q$)return Uj;q$=1;var e=Os(),t=bm(),n=ab();function r(i){return function(a,s,l){var c=Object(a);if(!t(a)){var f=e(s,3);a=n(a),s=function(m){return f(c[m],m,c)}}var p=i(a,s,l);return p>-1?c[f?a[p]:p]:void 0}}return Uj=r,Uj}var Wj,U$;function Pwe(){if(U$)return Wj;U$=1;var e=FW();function t(n){var r=e(n),i=r%1;return r===r?i?r-i:r:0}return Wj=t,Wj}var Hj,W$;function kwe(){if(W$)return Hj;W$=1;var e=Zq(),t=Os(),n=Pwe(),r=Math.max;function i(a,s,l){var c=a==null?0:a.length;if(!c)return-1;var f=l==null?0:n(l);return f<0&&(f=r(c+f,0)),e(a,t(s,3),f)}return Hj=i,Hj}var Vj,H$;function Ewe(){if(H$)return Vj;H$=1;var e=Nwe(),t=kwe(),n=e(t);return Vj=n,Vj}var Cwe=Ewe();const Owe=Ft(Cwe);var Twe=fq();const Awe=Ft(Twe);var Rwe=Awe(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),zC=S.createContext(void 0),qC=S.createContext(void 0),QW=S.createContext(void 0),JW=S.createContext({}),eH=S.createContext(void 0),tH=S.createContext(0),nH=S.createContext(0),V$=function(t){var n=t.state,r=n.xAxisMap,i=n.yAxisMap,a=n.offset,s=t.clipPathId,l=t.children,c=t.width,f=t.height,p=Rwe(a);return Z.createElement(zC.Provider,{value:r},Z.createElement(qC.Provider,{value:i},Z.createElement(JW.Provider,{value:a},Z.createElement(QW.Provider,{value:p},Z.createElement(eH.Provider,{value:s},Z.createElement(tH.Provider,{value:f},Z.createElement(nH.Provider,{value:c},l)))))))},Mwe=function(){return S.useContext(eH)},rH=function(t){var n=S.useContext(zC);n==null&&Hc();var r=n[t];return r==null&&Hc(),r},Dwe=function(){var t=S.useContext(zC);return hl(t)},Iwe=function(){var t=S.useContext(qC),n=Owe(t,function(r){return WW(r.domain,Number.isFinite)});return n||hl(t)},iH=function(t){var n=S.useContext(qC);n==null&&Hc();var r=n[t];return r==null&&Hc(),r},Lwe=function(){var t=S.useContext(QW);return t},$we=function(){return S.useContext(JW)},UC=function(){return S.useContext(nH)},WC=function(){return S.useContext(tH)};function Xd(e){"@babel/helpers - typeof";return Xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xd(e)}function Bwe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fwe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,sH(r.key),r)}}function zwe(e,t,n){return t&&Fwe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function qwe(e,t,n){return t=ex(t),Uwe(e,aH()?Reflect.construct(t,n||[],ex(e).constructor):t.apply(e,n))}function Uwe(e,t){if(t&&(Xd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wwe(e)}function Wwe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aH=function(){return!!e})()}function ex(e){return ex=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ex(e)}function Hwe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sk(e,t)}function sk(e,t){return sk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},sk(e,t)}function K$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function G$(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?K$(Object(n),!0).forEach(function(r){HC(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function HC(e,t,n){return t=sH(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sH(e){var t=Vwe(e,"string");return Xd(t)=="symbol"?t:t+""}function Vwe(e,t){if(Xd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Xd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Kwe(e,t){return Xwe(e)||Zwe(e,t)||Ywe(e,t)||Gwe()}function Gwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ywe(e,t){if(e){if(typeof e=="string")return Y$(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Y$(e,t)}}function Y$(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Zwe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,s,l=[],c=!0,f=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(p){f=!0,i=p}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function Xwe(e){if(Array.isArray(e))return e}function ok(){return ok=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ok.apply(this,arguments)}var Qwe=function(t,n){var r;return Z.isValidElement(t)?r=Z.cloneElement(t,n):gt(t)?r=t(n):r=Z.createElement("line",ok({},n,{className:"recharts-reference-line-line"})),r},Jwe=function(t,n,r,i,a,s,l,c,f){var p=a.x,m=a.y,v=a.width,x=a.height;if(r){var _=f.y,b=t.y.apply(_,{position:s});if(Ss(f,"discard")&&!t.y.isInRange(b))return null;var w=[{x:p+v,y:b},{x:p,y:b}];return c==="left"?w.reverse():w}if(n){var k=f.x,E=t.x.apply(k,{position:s});if(Ss(f,"discard")&&!t.x.isInRange(E))return null;var P=[{x:E,y:m+x},{x:E,y:m}];return l==="top"?P.reverse():P}if(i){var C=f.segment,O=C.map(function(R){return t.apply(R,{position:s})});return Ss(f,"discard")&&V0e(O,function(R){return!t.isInRange(R)})?null:O}return null};function e_e(e){var t=e.x,n=e.y,r=e.segment,i=e.xAxisId,a=e.yAxisId,s=e.shape,l=e.className,c=e.alwaysShow,f=Mwe(),p=rH(i),m=iH(a),v=Lwe();if(!f||!v)return null;Ha(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var x=FC({x:p.scale,y:m.scale}),_=hr(t),b=hr(n),w=r&&r.length===2,k=Jwe(x,_,b,w,v,e.position,p.orientation,m.orientation,e);if(!k)return null;var E=Kwe(k,2),P=E[0],C=P.x,O=P.y,R=E[1],M=R.x,U=R.y,F=Ss(e,"hidden")?"url(#".concat(f,")"):void 0,H=G$(G$({clipPath:F},ot(e,!0)),{},{x1:C,y1:O,x2:M,y2:U});return Z.createElement(qt,{className:St("recharts-reference-line",l)},Qwe(s,H),wr.renderCallByParent(e,_we({x1:C,y1:O,x2:M,y2:U})))}var VC=(function(e){function t(){return Bwe(this,t),qwe(this,t,arguments)}return Hwe(t,e),zwe(t,[{key:"render",value:function(){return Z.createElement(e_e,this.props)}}])})(Z.Component);HC(VC,"displayName","ReferenceLine");HC(VC,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function lk(){return lk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lk.apply(this,arguments)}function Qd(e){"@babel/helpers - typeof";return Qd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qd(e)}function Z$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function X$(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Z$(Object(n),!0).forEach(function(r){Eb(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function t_e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n_e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,lH(r.key),r)}}function r_e(e,t,n){return t&&n_e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function i_e(e,t,n){return t=tx(t),a_e(e,oH()?Reflect.construct(t,n||[],tx(e).constructor):t.apply(e,n))}function a_e(e,t){if(t&&(Qd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return s_e(e)}function s_e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oH=function(){return!!e})()}function tx(e){return tx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},tx(e)}function o_e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ck(e,t)}function ck(e,t){return ck=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ck(e,t)}function Eb(e,t,n){return t=lH(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lH(e){var t=l_e(e,"string");return Qd(t)=="symbol"?t:t+""}function l_e(e,t){if(Qd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Qd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var c_e=function(t){var n=t.x,r=t.y,i=t.xAxis,a=t.yAxis,s=FC({x:i.scale,y:a.scale}),l=s.apply({x:n,y:r},{bandAware:!0});return Ss(t,"discard")&&!s.isInRange(l)?null:l},Cb=(function(e){function t(){return t_e(this,t),i_e(this,t,arguments)}return o_e(t,e),r_e(t,[{key:"render",value:function(){var r=this.props,i=r.x,a=r.y,s=r.r,l=r.alwaysShow,c=r.clipPathId,f=hr(i),p=hr(a);if(Ha(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!f||!p)return null;var m=c_e(this.props);if(!m)return null;var v=m.x,x=m.y,_=this.props,b=_.shape,w=_.className,k=Ss(this.props,"hidden")?"url(#".concat(c,")"):void 0,E=X$(X$({clipPath:k},ot(this.props,!0)),{},{cx:v,cy:x});return Z.createElement(qt,{className:St("recharts-reference-dot",w)},t.renderDot(b,E),wr.renderCallByParent(this.props,{x:v-s,y:x-s,width:2*s,height:2*s}))}}])})(Z.Component);Eb(Cb,"displayName","ReferenceDot");Eb(Cb,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Eb(Cb,"renderDot",function(e,t){var n;return Z.isValidElement(e)?n=Z.cloneElement(e,t):gt(e)?n=e(t):n=Z.createElement(bb,lk({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),n});function uk(){return uk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uk.apply(this,arguments)}function Jd(e){"@babel/helpers - typeof";return Jd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jd(e)}function Q$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function J$(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Q$(Object(n),!0).forEach(function(r){Ob(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function u_e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d_e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,uH(r.key),r)}}function f_e(e,t,n){return t&&d_e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function h_e(e,t,n){return t=nx(t),p_e(e,cH()?Reflect.construct(t,n||[],nx(e).constructor):t.apply(e,n))}function p_e(e,t){if(t&&(Jd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return m_e(e)}function m_e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cH=function(){return!!e})()}function nx(e){return nx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},nx(e)}function g_e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dk(e,t)}function dk(e,t){return dk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},dk(e,t)}function Ob(e,t,n){return t=uH(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uH(e){var t=v_e(e,"string");return Jd(t)=="symbol"?t:t+""}function v_e(e,t){if(Jd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Jd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var y_e=function(t,n,r,i,a){var s=a.x1,l=a.x2,c=a.y1,f=a.y2,p=a.xAxis,m=a.yAxis;if(!p||!m)return null;var v=FC({x:p.scale,y:m.scale}),x={x:t?v.x.apply(s,{position:"start"}):v.x.rangeMin,y:r?v.y.apply(c,{position:"start"}):v.y.rangeMin},_={x:n?v.x.apply(l,{position:"end"}):v.x.rangeMax,y:i?v.y.apply(f,{position:"end"}):v.y.rangeMax};return Ss(a,"discard")&&(!v.isInRange(x)||!v.isInRange(_))?null:ZW(x,_)},Tb=(function(e){function t(){return u_e(this,t),h_e(this,t,arguments)}return g_e(t,e),f_e(t,[{key:"render",value:function(){var r=this.props,i=r.x1,a=r.x2,s=r.y1,l=r.y2,c=r.className,f=r.alwaysShow,p=r.clipPathId;Ha(f===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=hr(i),v=hr(a),x=hr(s),_=hr(l),b=this.props.shape;if(!m&&!v&&!x&&!_&&!b)return null;var w=y_e(m,v,x,_,this.props);if(!w&&!b)return null;var k=Ss(this.props,"hidden")?"url(#".concat(p,")"):void 0;return Z.createElement(qt,{className:St("recharts-reference-area",c)},t.renderRect(b,J$(J$({clipPath:k},ot(this.props,!0)),w)),wr.renderCallByParent(this.props,w))}}])})(Z.Component);Ob(Tb,"displayName","ReferenceArea");Ob(Tb,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Ob(Tb,"renderRect",function(e,t){var n;return Z.isValidElement(e)?n=Z.cloneElement(e,t):gt(e)?n=e(t):n=Z.createElement(BC,uk({},t,{className:"recharts-reference-area-rect"})),n});function dH(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var r=[],i=0;i<e.length;i+=t)r.push(e[i]);return r}function x_e(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return jwe(r,n)}function b_e(e,t,n){var r=n==="width",i=e.x,a=e.y,s=e.width,l=e.height;return t===1?{start:r?i:a,end:r?i+s:a+l}:{start:r?i+s:a+l,end:r?i:a}}function rx(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var a=n();return e*(t-e*a/2-r)>=0&&e*(t+e*a/2-i)<=0}function w_e(e,t){return dH(e,t+1)}function __e(e,t,n,r,i){for(var a=(r||[]).slice(),s=t.start,l=t.end,c=0,f=1,p=s,m=function(){var _=r?.[c];if(_===void 0)return{v:dH(r,f)};var b=c,w,k=function(){return w===void 0&&(w=n(_,b)),w},E=_.coordinate,P=c===0||rx(e,E,k,p,l);P||(c=0,p=s,f+=1),P&&(p=E+e*(k()/2+i),c+=f)},v;f<=a.length;)if(v=m(),v)return v.v;return[]}function em(e){"@babel/helpers - typeof";return em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},em(e)}function eB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Hr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eB(Object(n),!0).forEach(function(r){S_e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eB(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function S_e(e,t,n){return t=j_e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j_e(e){var t=N_e(e,"string");return em(t)=="symbol"?t:t+""}function N_e(e,t){if(em(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(em(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function P_e(e,t,n,r,i){for(var a=(r||[]).slice(),s=a.length,l=t.start,c=t.end,f=function(v){var x=a[v],_,b=function(){return _===void 0&&(_=n(x,v)),_};if(v===s-1){var w=e*(x.coordinate+e*b()/2-c);a[v]=x=Hr(Hr({},x),{},{tickCoord:w>0?x.coordinate-w*e:x.coordinate})}else a[v]=x=Hr(Hr({},x),{},{tickCoord:x.coordinate});var k=rx(e,x.tickCoord,b,l,c);k&&(c=x.tickCoord-e*(b()/2+i),a[v]=Hr(Hr({},x),{},{isShow:!0}))},p=s-1;p>=0;p--)f(p);return a}function k_e(e,t,n,r,i,a){var s=(r||[]).slice(),l=s.length,c=t.start,f=t.end;if(a){var p=r[l-1],m=n(p,l-1),v=e*(p.coordinate+e*m/2-f);s[l-1]=p=Hr(Hr({},p),{},{tickCoord:v>0?p.coordinate-v*e:p.coordinate});var x=rx(e,p.tickCoord,function(){return m},c,f);x&&(f=p.tickCoord-e*(m/2+i),s[l-1]=Hr(Hr({},p),{},{isShow:!0}))}for(var _=a?l-1:l,b=function(E){var P=s[E],C,O=function(){return C===void 0&&(C=n(P,E)),C};if(E===0){var R=e*(P.coordinate-e*O()/2-c);s[E]=P=Hr(Hr({},P),{},{tickCoord:R<0?P.coordinate-R*e:P.coordinate})}else s[E]=P=Hr(Hr({},P),{},{tickCoord:P.coordinate});var M=rx(e,P.tickCoord,O,c,f);M&&(c=P.tickCoord+e*(O()/2+i),s[E]=Hr(Hr({},P),{},{isShow:!0}))},w=0;w<_;w++)b(w);return s}function KC(e,t,n){var r=e.tick,i=e.ticks,a=e.viewBox,s=e.minTickGap,l=e.orientation,c=e.interval,f=e.tickFormatter,p=e.unit,m=e.angle;if(!i||!i.length||!r)return[];if(Ie(c)||tu.isSsr)return w_e(i,typeof c=="number"&&Ie(c)?c:0);var v=[],x=l==="top"||l==="bottom"?"width":"height",_=p&&x==="width"?Qh(p,{fontSize:t,letterSpacing:n}):{width:0,height:0},b=function(P,C){var O=gt(f)?f(P.value,C):P.value;return x==="width"?x_e(Qh(O,{fontSize:t,letterSpacing:n}),_,m):Qh(O,{fontSize:t,letterSpacing:n})[x]},w=i.length>=2?ri(i[1].coordinate-i[0].coordinate):1,k=b_e(a,w,x);return c==="equidistantPreserveStart"?__e(w,k,b,i,s):(c==="preserveStart"||c==="preserveStartEnd"?v=k_e(w,k,b,i,s,c==="preserveStartEnd"):v=P_e(w,k,b,i,s),v.filter(function(E){return E.isShow}))}var E_e=["viewBox"],C_e=["viewBox"],O_e=["ticks"];function ef(e){"@babel/helpers - typeof";return ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ef(e)}function pd(){return pd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pd.apply(this,arguments)}function tB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ir(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tB(Object(n),!0).forEach(function(r){GC(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tB(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Kj(e,t){if(e==null)return{};var n=T_e(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function T_e(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function A_e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nB(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,hH(r.key),r)}}function R_e(e,t,n){return t&&nB(e.prototype,t),n&&nB(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function M_e(e,t,n){return t=ix(t),D_e(e,fH()?Reflect.construct(t,n||[],ix(e).constructor):t.apply(e,n))}function D_e(e,t){if(t&&(ef(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return I_e(e)}function I_e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fH=function(){return!!e})()}function ix(e){return ix=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ix(e)}function L_e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fk(e,t)}function fk(e,t){return fk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},fk(e,t)}function GC(e,t,n){return t=hH(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hH(e){var t=$_e(e,"string");return ef(t)=="symbol"?t:t+""}function $_e(e,t){if(ef(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ef(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Of=(function(e){function t(n){var r;return A_e(this,t),r=M_e(this,t,[n]),r.state={fontSize:"",letterSpacing:""},r}return L_e(t,e),R_e(t,[{key:"shouldComponentUpdate",value:function(r,i){var a=r.viewBox,s=Kj(r,E_e),l=this.props,c=l.viewBox,f=Kj(l,C_e);return!jd(a,c)||!jd(s,f)||!jd(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.x,s=i.y,l=i.width,c=i.height,f=i.orientation,p=i.tickSize,m=i.mirror,v=i.tickMargin,x,_,b,w,k,E,P=m?-1:1,C=r.tickSize||p,O=Ie(r.tickCoord)?r.tickCoord:r.coordinate;switch(f){case"top":x=_=r.coordinate,w=s+ +!m*c,b=w-P*C,E=b-P*v,k=O;break;case"left":b=w=r.coordinate,_=a+ +!m*l,x=_-P*C,k=x-P*v,E=O;break;case"right":b=w=r.coordinate,_=a+ +m*l,x=_+P*C,k=x+P*v,E=O;break;default:x=_=r.coordinate,w=s+ +m*c,b=w+P*C,E=b+P*v,k=O;break}return{line:{x1:x,y1:b,x2:_,y2:w},tick:{x:k,y:E}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,s;switch(i){case"left":s=a?"start":"end";break;case"right":s=a?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=a?"start":"end";break;default:s=a?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,a=r.y,s=r.width,l=r.height,c=r.orientation,f=r.mirror,p=r.axisLine,m=ir(ir(ir({},ot(this.props,!1)),ot(p,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var v=+(c==="top"&&!f||c==="bottom"&&f);m=ir(ir({},m),{},{x1:i,y1:a+v*l,x2:i+s,y2:a+v*l})}else{var x=+(c==="left"&&!f||c==="right"&&f);m=ir(ir({},m),{},{x1:i+x*s,y1:a,x2:i+x*s,y2:a+l})}return Z.createElement("line",pd({},m,{className:St("recharts-cartesian-axis-line",Vi(p,"className"))}))}},{key:"renderTicks",value:function(r,i,a){var s=this,l=this.props,c=l.tickLine,f=l.stroke,p=l.tick,m=l.tickFormatter,v=l.unit,x=KC(ir(ir({},this.props),{},{ticks:r}),i,a),_=this.getTickTextAnchor(),b=this.getTickVerticalAnchor(),w=ot(this.props,!1),k=ot(p,!1),E=ir(ir({},w),{},{fill:"none"},ot(c,!1)),P=x.map(function(C,O){var R=s.getTickLineCoord(C),M=R.line,U=R.tick,F=ir(ir(ir(ir({textAnchor:_,verticalAnchor:b},w),{},{stroke:"none",fill:f},k),U),{},{index:O,payload:C,visibleTicksCount:x.length,tickFormatter:m});return Z.createElement(qt,pd({className:"recharts-cartesian-axis-tick",key:"tick-".concat(C.value,"-").concat(C.coordinate,"-").concat(C.tickCoord)},qc(s.props,C,O)),c&&Z.createElement("line",pd({},E,M,{className:St("recharts-cartesian-axis-tick-line",Vi(c,"className"))})),p&&t.renderTickItem(p,F,"".concat(gt(m)?m(C.value,O):C.value).concat(v||"")))});return Z.createElement("g",{className:"recharts-cartesian-axis-ticks"},P)}},{key:"render",value:function(){var r=this,i=this.props,a=i.axisLine,s=i.width,l=i.height,c=i.ticksGenerator,f=i.className,p=i.hide;if(p)return null;var m=this.props,v=m.ticks,x=Kj(m,O_e),_=v;return gt(c)&&(_=v&&v.length>0?c(this.props):c(x)),s<=0||l<=0||!_||!_.length?null:Z.createElement(qt,{className:St("recharts-cartesian-axis",f),ref:function(w){r.layerReference=w}},a&&this.renderAxisLine(),this.renderTicks(_,this.state.fontSize,this.state.letterSpacing),wr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,a){var s,l=St(i.className,"recharts-cartesian-axis-tick-value");return Z.isValidElement(r)?s=Z.cloneElement(r,ir(ir({},i),{},{className:l})):gt(r)?s=r(ir(ir({},i),{},{className:l})):s=Z.createElement(Uc,pd({},i,{className:"recharts-cartesian-axis-tick-value"}),a),s}}])})(S.Component);GC(Of,"displayName","CartesianAxis");GC(Of,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var B_e=["x1","y1","x2","y2","key"],F_e=["offset"];function Vc(e){"@babel/helpers - typeof";return Vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vc(e)}function rB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Vr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rB(Object(n),!0).forEach(function(r){z_e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rB(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function z_e(e,t,n){return t=q_e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function q_e(e){var t=U_e(e,"string");return Vc(t)=="symbol"?t:t+""}function U_e(e,t){if(Vc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Vc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kc(){return kc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kc.apply(this,arguments)}function iB(e,t){if(e==null)return{};var n=W_e(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function W_e(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var H_e=function(t){var n=t.fill;if(!n||n==="none")return null;var r=t.fillOpacity,i=t.x,a=t.y,s=t.width,l=t.height,c=t.ry;return Z.createElement("rect",{x:i,y:a,ry:c,width:s,height:l,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function pH(e,t){var n;if(Z.isValidElement(e))n=Z.cloneElement(e,t);else if(gt(e))n=e(t);else{var r=t.x1,i=t.y1,a=t.x2,s=t.y2,l=t.key,c=iB(t,B_e),f=ot(c,!1);f.offset;var p=iB(f,F_e);n=Z.createElement("line",kc({},p,{x1:r,y1:i,x2:a,y2:s,fill:"none",key:l}))}return n}function V_e(e){var t=e.x,n=e.width,r=e.horizontal,i=r===void 0?!0:r,a=e.horizontalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(l,c){var f=Vr(Vr({},e),{},{x1:t,y1:l,x2:t+n,y2:l,key:"line-".concat(c),index:c});return pH(i,f)});return Z.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function K_e(e){var t=e.y,n=e.height,r=e.vertical,i=r===void 0?!0:r,a=e.verticalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(l,c){var f=Vr(Vr({},e),{},{x1:l,y1:t,x2:l,y2:t+n,key:"line-".concat(c),index:c});return pH(i,f)});return Z.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function G_e(e){var t=e.horizontalFill,n=e.fillOpacity,r=e.x,i=e.y,a=e.width,s=e.height,l=e.horizontalPoints,c=e.horizontal,f=c===void 0?!0:c;if(!f||!t||!t.length)return null;var p=l.map(function(v){return Math.round(v+i-i)}).sort(function(v,x){return v-x});i!==p[0]&&p.unshift(0);var m=p.map(function(v,x){var _=!p[x+1],b=_?i+s-v:p[x+1]-v;if(b<=0)return null;var w=x%t.length;return Z.createElement("rect",{key:"react-".concat(x),y:v,x:r,height:b,width:a,stroke:"none",fill:t[w],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return Z.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function Y_e(e){var t=e.vertical,n=t===void 0?!0:t,r=e.verticalFill,i=e.fillOpacity,a=e.x,s=e.y,l=e.width,c=e.height,f=e.verticalPoints;if(!n||!r||!r.length)return null;var p=f.map(function(v){return Math.round(v+a-a)}).sort(function(v,x){return v-x});a!==p[0]&&p.unshift(0);var m=p.map(function(v,x){var _=!p[x+1],b=_?a+l-v:p[x+1]-v;if(b<=0)return null;var w=x%r.length;return Z.createElement("rect",{key:"react-".concat(x),x:v,y:s,width:b,height:c,stroke:"none",fill:r[w],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return Z.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var Z_e=function(t,n){var r=t.xAxis,i=t.width,a=t.height,s=t.offset;return pW(KC(Vr(Vr(Vr({},Of.defaultProps),r),{},{ticks:co(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.left,s.left+s.width,n)},X_e=function(t,n){var r=t.yAxis,i=t.width,a=t.height,s=t.offset;return pW(KC(Vr(Vr(Vr({},Of.defaultProps),r),{},{ticks:co(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.top,s.top+s.height,n)},sd={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function hk(e){var t,n,r,i,a,s,l=UC(),c=WC(),f=$we(),p=Vr(Vr({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:sd.stroke,fill:(n=e.fill)!==null&&n!==void 0?n:sd.fill,horizontal:(r=e.horizontal)!==null&&r!==void 0?r:sd.horizontal,horizontalFill:(i=e.horizontalFill)!==null&&i!==void 0?i:sd.horizontalFill,vertical:(a=e.vertical)!==null&&a!==void 0?a:sd.vertical,verticalFill:(s=e.verticalFill)!==null&&s!==void 0?s:sd.verticalFill,x:Ie(e.x)?e.x:f.left,y:Ie(e.y)?e.y:f.top,width:Ie(e.width)?e.width:f.width,height:Ie(e.height)?e.height:f.height}),m=p.x,v=p.y,x=p.width,_=p.height,b=p.syncWithTicks,w=p.horizontalValues,k=p.verticalValues,E=Dwe(),P=Iwe();if(!Ie(x)||x<=0||!Ie(_)||_<=0||!Ie(m)||m!==+m||!Ie(v)||v!==+v)return null;var C=p.verticalCoordinatesGenerator||Z_e,O=p.horizontalCoordinatesGenerator||X_e,R=p.horizontalPoints,M=p.verticalPoints;if((!R||!R.length)&&gt(O)){var U=w&&w.length,F=O({yAxis:P?Vr(Vr({},P),{},{ticks:U?w:P.ticks}):void 0,width:l,height:c,offset:f},U?!0:b);Ha(Array.isArray(F),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Vc(F),"]")),Array.isArray(F)&&(R=F)}if((!M||!M.length)&&gt(C)){var H=k&&k.length,B=C({xAxis:E?Vr(Vr({},E),{},{ticks:H?k:E.ticks}):void 0,width:l,height:c,offset:f},H?!0:b);Ha(Array.isArray(B),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Vc(B),"]")),Array.isArray(B)&&(M=B)}return Z.createElement("g",{className:"recharts-cartesian-grid"},Z.createElement(H_e,{fill:p.fill,fillOpacity:p.fillOpacity,x:p.x,y:p.y,width:p.width,height:p.height,ry:p.ry}),Z.createElement(V_e,kc({},p,{offset:f,horizontalPoints:R,xAxis:E,yAxis:P})),Z.createElement(K_e,kc({},p,{offset:f,verticalPoints:M,xAxis:E,yAxis:P})),Z.createElement(G_e,kc({},p,{horizontalPoints:R})),Z.createElement(Y_e,kc({},p,{verticalPoints:M})))}hk.displayName="CartesianGrid";var Q_e=["type","layout","connectNulls","ref"],J_e=["key"];function tf(e){"@babel/helpers - typeof";return tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tf(e)}function aB(e,t){if(e==null)return{};var n=e1e(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function e1e(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function ip(){return ip=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ip.apply(this,arguments)}function sB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ii(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sB(Object(n),!0).forEach(function(r){qa(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sB(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function od(e){return i1e(e)||r1e(e)||n1e(e)||t1e()}function t1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function n1e(e,t){if(e){if(typeof e=="string")return pk(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pk(e,t)}}function r1e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function i1e(e){if(Array.isArray(e))return pk(e)}function pk(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oB(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,gH(r.key),r)}}function s1e(e,t,n){return t&&oB(e.prototype,t),n&&oB(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function o1e(e,t,n){return t=ax(t),l1e(e,mH()?Reflect.construct(t,n||[],ax(e).constructor):t.apply(e,n))}function l1e(e,t){if(t&&(tf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return c1e(e)}function c1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mH=function(){return!!e})()}function ax(e){return ax=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ax(e)}function u1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mk(e,t)}function mk(e,t){return mk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},mk(e,t)}function qa(e,t,n){return t=gH(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gH(e){var t=d1e(e,"string");return tf(t)=="symbol"?t:t+""}function d1e(e,t){if(tf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(tf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var km=(function(e){function t(){var n;a1e(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=o1e(this,t,[].concat(i)),qa(n,"state",{isAnimationFinished:!0,totalLength:0}),qa(n,"generateSimpleStrokeDasharray",function(s,l){return"".concat(l,"px ").concat(s-l,"px")}),qa(n,"getStrokeDasharray",function(s,l,c){var f=c.reduce(function(k,E){return k+E});if(!f)return n.generateSimpleStrokeDasharray(l,s);for(var p=Math.floor(s/f),m=s%f,v=l-s,x=[],_=0,b=0;_<c.length;b+=c[_],++_)if(b+c[_]>m){x=[].concat(od(c.slice(0,_)),[m-b]);break}var w=x.length%2===0?[0,v]:[v];return[].concat(od(t.repeat(c,p)),od(x),w).map(function(k){return"".concat(k,"px")}).join(", ")}),qa(n,"id",Nf("recharts-line-")),qa(n,"pathRef",function(s){n.mainCurve=s}),qa(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),qa(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return u1e(t,e),s1e(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.points,l=a.xAxis,c=a.yAxis,f=a.layout,p=a.children,m=Ki(p,Pm);if(!m)return null;var v=function(b,w){return{x:b.x,y:b.y,value:b.value,errorVal:dr(b.payload,w)}},x={clipPath:r?"url(#clipPath-".concat(i,")"):null};return Z.createElement(qt,x,m.map(function(_){return Z.cloneElement(_,{key:"bar-".concat(_.props.dataKey),data:s,xAxis:l,yAxis:c,layout:f,dataPointFormatter:v})}))}},{key:"renderDots",value:function(r,i,a){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,f=l.points,p=l.dataKey,m=ot(this.props,!1),v=ot(c,!0),x=f.map(function(b,w){var k=Ii(Ii(Ii({key:"dot-".concat(w),r:3},m),v),{},{index:w,cx:b.x,cy:b.y,value:b.value,dataKey:p,payload:b.payload,points:f});return t.renderDotItem(c,k)}),_={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return Z.createElement(qt,ip({className:"recharts-line-dots",key:"dots"},_),x)}},{key:"renderCurveStatically",value:function(r,i,a,s){var l=this.props,c=l.type,f=l.layout,p=l.connectNulls;l.ref;var m=aB(l,Q_e),v=Ii(Ii(Ii({},ot(m,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:r},s),{},{type:c,layout:f,connectNulls:p});return Z.createElement(By,ip({},v,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var a=this,s=this.props,l=s.points,c=s.strokeDasharray,f=s.isAnimationActive,p=s.animationBegin,m=s.animationDuration,v=s.animationEasing,x=s.animationId,_=s.animateNewValues,b=s.width,w=s.height,k=this.state,E=k.prevPoints,P=k.totalLength;return Z.createElement(Ps,{begin:p,duration:m,isActive:f,easing:v,from:{t:0},to:{t:1},key:"line-".concat(x),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(C){var O=C.t;if(E){var R=E.length/l.length,M=l.map(function($,G){var W=Math.floor(G*R);if(E[W]){var V=E[W],K=Fi(V.x,$.x),q=Fi(V.y,$.y);return Ii(Ii({},$),{},{x:K(O),y:q(O)})}if(_){var D=Fi(b*2,$.x),Q=Fi(w/2,$.y);return Ii(Ii({},$),{},{x:D(O),y:Q(O)})}return Ii(Ii({},$),{},{x:$.x,y:$.y})});return a.renderCurveStatically(M,r,i)}var U=Fi(0,P),F=U(O),H;if(c){var B="".concat(c).split(/[,\s]+/gim).map(function($){return parseFloat($)});H=a.getStrokeDasharray(F,P,B)}else H=a.generateSimpleStrokeDasharray(P,F);return a.renderCurveStatically(l,r,i,{strokeDasharray:H})})}},{key:"renderCurve",value:function(r,i){var a=this.props,s=a.points,l=a.isAnimationActive,c=this.state,f=c.prevPoints,p=c.totalLength;return l&&s&&s.length&&(!f&&p>0||!Nm(f,s))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(s,r,i)}},{key:"render",value:function(){var r,i=this.props,a=i.hide,s=i.dot,l=i.points,c=i.className,f=i.xAxis,p=i.yAxis,m=i.top,v=i.left,x=i.width,_=i.height,b=i.isAnimationActive,w=i.id;if(a||!l||!l.length)return null;var k=this.state.isAnimationFinished,E=l.length===1,P=St("recharts-line",c),C=f&&f.allowDataOverflow,O=p&&p.allowDataOverflow,R=C||O,M=_t(w)?this.id:w,U=(r=ot(s,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},F=U.r,H=F===void 0?3:F,B=U.strokeWidth,$=B===void 0?2:B,G=Kle(s)?s:{},W=G.clipDot,V=W===void 0?!0:W,K=H*2+$;return Z.createElement(qt,{className:P},C||O?Z.createElement("defs",null,Z.createElement("clipPath",{id:"clipPath-".concat(M)},Z.createElement("rect",{x:C?v:v-x/2,y:O?m:m-_/2,width:C?x:x*2,height:O?_:_*2})),!V&&Z.createElement("clipPath",{id:"clipPath-dots-".concat(M)},Z.createElement("rect",{x:v-K/2,y:m-K/2,width:x+K,height:_+K}))):null,!E&&this.renderCurve(R,M),this.renderErrorBar(R,M),(E||s)&&this.renderDots(R,V,M),(!b||k)&&po.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var a=r.length%2!==0?[].concat(od(r),[0]):r,s=[],l=0;l<i;++l)s=[].concat(od(s),od(a));return s}},{key:"renderDotItem",value:function(r,i){var a;if(Z.isValidElement(r))a=Z.cloneElement(r,i);else if(gt(r))a=r(i);else{var s=i.key,l=aB(i,J_e),c=St("recharts-line-dot",typeof r!="boolean"?r.className:"");a=Z.createElement(bb,ip({key:s},l,{className:c}))}return a}}])})(S.PureComponent);qa(km,"displayName","Line");qa(km,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!tu.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});qa(km,"getComposedData",function(e){var t=e.props,n=e.xAxis,r=e.yAxis,i=e.xAxisTicks,a=e.yAxisTicks,s=e.dataKey,l=e.bandSize,c=e.displayedData,f=e.offset,p=t.layout,m=c.map(function(v,x){var _=dr(v,s);return p==="horizontal"?{x:f4({axis:n,ticks:i,bandSize:l,entry:v,index:x}),y:_t(_)?null:r.scale(_),value:_,payload:v}:{x:_t(_)?null:n.scale(_),y:f4({axis:r,ticks:a,bandSize:l,entry:v,index:x}),value:_,payload:v}});return Ii({points:m,layout:p},f)});function nf(e){"@babel/helpers - typeof";return nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nf(e)}function f1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h1e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,xH(r.key),r)}}function p1e(e,t,n){return t&&h1e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function m1e(e,t,n){return t=sx(t),g1e(e,vH()?Reflect.construct(t,n||[],sx(e).constructor):t.apply(e,n))}function g1e(e,t){if(t&&(nf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return v1e(e)}function v1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vH=function(){return!!e})()}function sx(e){return sx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},sx(e)}function y1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gk(e,t)}function gk(e,t){return gk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},gk(e,t)}function yH(e,t,n){return t=xH(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xH(e){var t=x1e(e,"string");return nf(t)=="symbol"?t:t+""}function x1e(e,t){if(nf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(nf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function vk(){return vk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vk.apply(this,arguments)}function b1e(e){var t=e.xAxisId,n=UC(),r=WC(),i=rH(t);return i==null?null:S.createElement(Of,vk({},i,{className:St("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(s){return co(s,!0)}}))}var rf=(function(e){function t(){return f1e(this,t),m1e(this,t,arguments)}return y1e(t,e),p1e(t,[{key:"render",value:function(){return S.createElement(b1e,this.props)}}])})(S.Component);yH(rf,"displayName","XAxis");yH(rf,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function af(e){"@babel/helpers - typeof";return af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},af(e)}function w1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _1e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_H(r.key),r)}}function S1e(e,t,n){return t&&_1e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function j1e(e,t,n){return t=ox(t),N1e(e,bH()?Reflect.construct(t,n||[],ox(e).constructor):t.apply(e,n))}function N1e(e,t){if(t&&(af(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return P1e(e)}function P1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bH=function(){return!!e})()}function ox(e){return ox=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ox(e)}function k1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yk(e,t)}function yk(e,t){return yk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},yk(e,t)}function wH(e,t,n){return t=_H(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _H(e){var t=E1e(e,"string");return af(t)=="symbol"?t:t+""}function E1e(e,t){if(af(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(af(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function xk(){return xk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xk.apply(this,arguments)}var C1e=function(t){var n=t.yAxisId,r=UC(),i=WC(),a=iH(n);return a==null?null:S.createElement(Of,xk({},a,{className:St("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(l){return co(l,!0)}}))},sf=(function(e){function t(){return w1e(this,t),j1e(this,t,arguments)}return k1e(t,e),S1e(t,[{key:"render",value:function(){return S.createElement(C1e,this.props)}}])})(S.Component);wH(sf,"displayName","YAxis");wH(sf,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function lB(e){return R1e(e)||A1e(e)||T1e(e)||O1e()}function O1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function T1e(e,t){if(e){if(typeof e=="string")return bk(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bk(e,t)}}function A1e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function R1e(e){if(Array.isArray(e))return bk(e)}function bk(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var wk=function(t,n,r,i,a){var s=Ki(t,VC),l=Ki(t,Cb),c=[].concat(lB(s),lB(l)),f=Ki(t,Tb),p="".concat(i,"Id"),m=i[0],v=n;if(c.length&&(v=c.reduce(function(b,w){if(w.props[p]===r&&Ss(w.props,"extendDomain")&&Ie(w.props[m])){var k=w.props[m];return[Math.min(b[0],k),Math.max(b[1],k)]}return b},v)),f.length){var x="".concat(m,"1"),_="".concat(m,"2");v=f.reduce(function(b,w){if(w.props[p]===r&&Ss(w.props,"extendDomain")&&Ie(w.props[x])&&Ie(w.props[_])){var k=w.props[x],E=w.props[_];return[Math.min(b[0],k,E),Math.max(b[1],k,E)]}return b},v)}return a&&a.length&&(v=a.reduce(function(b,w){return Ie(w)?[Math.min(b[0],w),Math.max(b[1],w)]:b},v)),v},Gj={exports:{}},cB;function M1e(){return cB||(cB=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,f,p){this.fn=c,this.context=f,this.once=p||!1}function a(c,f,p,m,v){if(typeof p!="function")throw new TypeError("The listener must be a function");var x=new i(p,m||c,v),_=n?n+f:f;return c._events[_]?c._events[_].fn?c._events[_]=[c._events[_],x]:c._events[_].push(x):(c._events[_]=x,c._eventsCount++),c}function s(c,f){--c._eventsCount===0?c._events=new r:delete c._events[f]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var f=[],p,m;if(this._eventsCount===0)return f;for(m in p=this._events)t.call(p,m)&&f.push(n?m.slice(1):m);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(p)):f},l.prototype.listeners=function(f){var p=n?n+f:f,m=this._events[p];if(!m)return[];if(m.fn)return[m.fn];for(var v=0,x=m.length,_=new Array(x);v<x;v++)_[v]=m[v].fn;return _},l.prototype.listenerCount=function(f){var p=n?n+f:f,m=this._events[p];return m?m.fn?1:m.length:0},l.prototype.emit=function(f,p,m,v,x,_){var b=n?n+f:f;if(!this._events[b])return!1;var w=this._events[b],k=arguments.length,E,P;if(w.fn){switch(w.once&&this.removeListener(f,w.fn,void 0,!0),k){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,p),!0;case 3:return w.fn.call(w.context,p,m),!0;case 4:return w.fn.call(w.context,p,m,v),!0;case 5:return w.fn.call(w.context,p,m,v,x),!0;case 6:return w.fn.call(w.context,p,m,v,x,_),!0}for(P=1,E=new Array(k-1);P<k;P++)E[P-1]=arguments[P];w.fn.apply(w.context,E)}else{var C=w.length,O;for(P=0;P<C;P++)switch(w[P].once&&this.removeListener(f,w[P].fn,void 0,!0),k){case 1:w[P].fn.call(w[P].context);break;case 2:w[P].fn.call(w[P].context,p);break;case 3:w[P].fn.call(w[P].context,p,m);break;case 4:w[P].fn.call(w[P].context,p,m,v);break;default:if(!E)for(O=1,E=new Array(k-1);O<k;O++)E[O-1]=arguments[O];w[P].fn.apply(w[P].context,E)}}return!0},l.prototype.on=function(f,p,m){return a(this,f,p,m,!1)},l.prototype.once=function(f,p,m){return a(this,f,p,m,!0)},l.prototype.removeListener=function(f,p,m,v){var x=n?n+f:f;if(!this._events[x])return this;if(!p)return s(this,x),this;var _=this._events[x];if(_.fn)_.fn===p&&(!v||_.once)&&(!m||_.context===m)&&s(this,x);else{for(var b=0,w=[],k=_.length;b<k;b++)(_[b].fn!==p||v&&!_[b].once||m&&_[b].context!==m)&&w.push(_[b]);w.length?this._events[x]=w.length===1?w[0]:w:s(this,x)}return this},l.prototype.removeAllListeners=function(f){var p;return f?(p=n?n+f:f,this._events[p]&&s(this,p)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,e.exports=l})(Gj)),Gj.exports}var D1e=M1e();const I1e=Ft(D1e);var Yj=new I1e,Zj="recharts.syncMouseEvents";function tm(e){"@babel/helpers - typeof";return tm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tm(e)}function L1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $1e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,SH(r.key),r)}}function B1e(e,t,n){return t&&$1e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Xj(e,t,n){return t=SH(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function SH(e){var t=F1e(e,"string");return tm(t)=="symbol"?t:t+""}function F1e(e,t){if(tm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(tm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var z1e=(function(){function e(){L1e(this,e),Xj(this,"activeIndex",0),Xj(this,"coordinateList",[]),Xj(this,"layout","horizontal")}return B1e(e,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,a=i===void 0?null:i,s=n.container,l=s===void 0?null:s,c=n.layout,f=c===void 0?null:c,p=n.offset,m=p===void 0?null:p,v=n.mouseHandlerCallback,x=v===void 0?null:v;this.coordinateList=(r=a??this.coordinateList)!==null&&r!==void 0?r:[],this.container=l??this.container,this.layout=f??this.layout,this.offset=m??this.offset,this.mouseHandlerCallback=x??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,s=i.y,l=i.height,c=this.coordinateList[this.activeIndex].coordinate,f=((n=window)===null||n===void 0?void 0:n.scrollX)||0,p=((r=window)===null||r===void 0?void 0:r.scrollY)||0,m=a+c+f,v=s+this.offset.top+l/2+p;this.mouseHandlerCallback({pageX:m,pageY:v})}}}])})();function q1e(e,t,n){if(n==="number"&&t===!0&&Array.isArray(e)){var r=e?.[0],i=e?.[1];if(r&&i&&Ie(r)&&Ie(i))return!0}return!1}function U1e(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function jH(e){var t=e.cx,n=e.cy,r=e.radius,i=e.startAngle,a=e.endAngle,s=pn(t,n,r,i),l=pn(t,n,r,a);return{points:[s,l],cx:t,cy:n,radius:r,startAngle:i,endAngle:a}}function W1e(e,t,n){var r,i,a,s;if(e==="horizontal")r=t.x,a=r,i=n.top,s=n.top+n.height;else if(e==="vertical")i=t.y,s=i,r=n.left,a=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,f=t.innerRadius,p=t.outerRadius,m=t.angle,v=pn(l,c,f,m),x=pn(l,c,p,m);r=v.x,i=v.y,a=x.x,s=x.y}else return jH(t);return[{x:r,y:i},{x:a,y:s}]}function nm(e){"@babel/helpers - typeof";return nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nm(e)}function uB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Cv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uB(Object(n),!0).forEach(function(r){H1e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uB(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function H1e(e,t,n){return t=V1e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function V1e(e){var t=K1e(e,"string");return nm(t)=="symbol"?t:t+""}function K1e(e,t){if(nm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(nm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function G1e(e){var t,n,r=e.element,i=e.tooltipEventType,a=e.isActive,s=e.activeCoordinate,l=e.activePayload,c=e.offset,f=e.activeTooltipIndex,p=e.tooltipAxisBandSize,m=e.layout,v=e.chartName,x=(t=r.props.cursor)!==null&&t!==void 0?t:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!x||!a||!s||v!=="ScatterChart"&&i!=="axis")return null;var _,b=By;if(v==="ScatterChart")_=s,b=gbe;else if(v==="BarChart")_=U1e(m,s,c,p),b=BC;else if(m==="radial"){var w=jH(s),k=w.cx,E=w.cy,P=w.radius,C=w.startAngle,O=w.endAngle;_={cx:k,cy:E,startAngle:C,endAngle:O,innerRadius:P,outerRadius:P},b=NW}else _={points:W1e(m,s,c)},b=By;var R=Cv(Cv(Cv(Cv({stroke:"#ccc",pointerEvents:"none"},c),_),ot(x,!1)),{},{payload:l,payloadIndex:f,className:St("recharts-tooltip-cursor",x.className)});return S.isValidElement(x)?S.cloneElement(x,R):S.createElement(b,R)}var Y1e=["item"],Z1e=["children","className","width","height","style","compact","title","desc"];function of(e){"@babel/helpers - typeof";return of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},of(e)}function md(){return md=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},md.apply(this,arguments)}function dB(e,t){return J1e(e)||Q1e(e,t)||PH(e,t)||X1e()}function X1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Q1e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,s,l=[],c=!0,f=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(p){f=!0,i=p}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function J1e(e){if(Array.isArray(e))return e}function fB(e,t){if(e==null)return{};var n=eSe(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function eSe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function tSe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nSe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,kH(r.key),r)}}function rSe(e,t,n){return t&&nSe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function iSe(e,t,n){return t=lx(t),aSe(e,NH()?Reflect.construct(t,n||[],lx(e).constructor):t.apply(e,n))}function aSe(e,t){if(t&&(of(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sSe(e)}function sSe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function NH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NH=function(){return!!e})()}function lx(e){return lx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},lx(e)}function oSe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_k(e,t)}function _k(e,t){return _k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},_k(e,t)}function lf(e){return uSe(e)||cSe(e)||PH(e)||lSe()}function lSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PH(e,t){if(e){if(typeof e=="string")return Sk(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Sk(e,t)}}function cSe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function uSe(e){if(Array.isArray(e))return Sk(e)}function Sk(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function hB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ne(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hB(Object(n),!0).forEach(function(r){lt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hB(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lt(e,t,n){return t=kH(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kH(e){var t=dSe(e,"string");return of(t)=="symbol"?t:t+""}function dSe(e,t){if(of(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(of(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fSe={xAxis:["bottom","top"],yAxis:["left","right"]},hSe={width:"100%",height:"100%"},EH={x:0,y:0};function Ov(e){return e}var pSe=function(t,n){return n==="horizontal"?t.x:n==="vertical"?t.y:n==="centric"?t.angle:t.radius},mSe=function(t,n,r,i){var a=n.find(function(p){return p&&p.index===r});if(a){if(t==="horizontal")return{x:a.coordinate,y:i.y};if(t==="vertical")return{x:i.x,y:a.coordinate};if(t==="centric"){var s=a.coordinate,l=i.radius;return Ne(Ne(Ne({},i),pn(i.cx,i.cy,l,s)),{},{angle:s,radius:l})}var c=a.coordinate,f=i.angle;return Ne(Ne(Ne({},i),pn(i.cx,i.cy,c,f)),{},{angle:f,radius:c})}return EH},Ab=function(t,n){var r=n.graphicalItems,i=n.dataStartIndex,a=n.dataEndIndex,s=(r??[]).reduce(function(l,c){var f=c.props.data;return f&&f.length?[].concat(lf(l),lf(f)):l},[]);return s.length>0?s:t&&t.length&&Ie(i)&&Ie(a)?t.slice(i,a+1):[]};function CH(e){return e==="number"?[0,"auto"]:void 0}var jk=function(t,n,r,i){var a=t.graphicalItems,s=t.tooltipAxis,l=Ab(n,t);return r<0||!a||!a.length||r>=l.length?null:a.reduce(function(c,f){var p,m=(p=f.props.data)!==null&&p!==void 0?p:n;m&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=r&&(m=m.slice(t.dataStartIndex,t.dataEndIndex+1));var v;if(s.dataKey&&!s.allowDuplicatedCategory){var x=m===void 0?l:m;v=dy(x,s.dataKey,i)}else v=m&&m[r]||l[r];return v?[].concat(lf(c),[xW(f,v)]):c},[])},pB=function(t,n,r,i){var a=i||{x:t.chartX,y:t.chartY},s=pSe(a,r),l=t.orderedTooltipTicks,c=t.tooltipAxis,f=t.tooltipTicks,p=Wge(s,l,f,c);if(p>=0&&f){var m=f[p]&&f[p].value,v=jk(t,n,p,m),x=mSe(r,l,p,a);return{activeTooltipIndex:p,activeLabel:m,activePayload:v,activeCoordinate:x}}return null},gSe=function(t,n){var r=n.axes,i=n.graphicalItems,a=n.axisType,s=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,f=n.dataEndIndex,p=t.layout,m=t.children,v=t.stackOffset,x=hW(p,a);return r.reduce(function(_,b){var w,k=b.type.defaultProps!==void 0?Ne(Ne({},b.type.defaultProps),b.props):b.props,E=k.type,P=k.dataKey,C=k.allowDataOverflow,O=k.allowDuplicatedCategory,R=k.scale,M=k.ticks,U=k.includeHidden,F=k[s];if(_[F])return _;var H=Ab(t.data,{graphicalItems:i.filter(function(ee){var te,re=s in ee.props?ee.props[s]:(te=ee.type.defaultProps)===null||te===void 0?void 0:te[s];return re===F}),dataStartIndex:c,dataEndIndex:f}),B=H.length,$,G,W;q1e(k.domain,C,E)&&($=LP(k.domain,null,C),x&&(E==="number"||R!=="auto")&&(W=ep(H,P,"category")));var V=CH(E);if(!$||$.length===0){var K,q=(K=k.domain)!==null&&K!==void 0?K:V;if(P){if($=ep(H,P,E),E==="category"&&x){var D=Lle($);O&&D?(G=$,$=Yy(0,B)):O||($=g4(q,$,b).reduce(function(ee,te){return ee.indexOf(te)>=0?ee:[].concat(lf(ee),[te])},[]))}else if(E==="category")O?$=$.filter(function(ee){return ee!==""&&!_t(ee)}):$=g4(q,$,b).reduce(function(ee,te){return ee.indexOf(te)>=0||te===""||_t(te)?ee:[].concat(lf(ee),[te])},[]);else if(E==="number"){var Q=Yge(H,i.filter(function(ee){var te,re,ie=s in ee.props?ee.props[s]:(te=ee.type.defaultProps)===null||te===void 0?void 0:te[s],se="hide"in ee.props?ee.props.hide:(re=ee.type.defaultProps)===null||re===void 0?void 0:re.hide;return ie===F&&(U||!se)}),P,a,p);Q&&($=Q)}x&&(E==="number"||R!=="auto")&&(W=ep(H,P,"category"))}else x?$=Yy(0,B):l&&l[F]&&l[F].hasStack&&E==="number"?$=v==="expand"?[0,1]:yW(l[F].stackGroups,c,f):$=fW(H,i.filter(function(ee){var te=s in ee.props?ee.props[s]:ee.type.defaultProps[s],re="hide"in ee.props?ee.props.hide:ee.type.defaultProps.hide;return te===F&&(U||!re)}),E,p,!0);if(E==="number")$=wk(m,$,F,a,M),q&&($=LP(q,$,C));else if(E==="category"&&q){var ne=q,J=$.every(function(ee){return ne.indexOf(ee)>=0});J&&($=ne)}}return Ne(Ne({},_),{},lt({},F,Ne(Ne({},k),{},{axisType:a,domain:$,categoricalDomain:W,duplicateDomain:G,originalDomain:(w=k.domain)!==null&&w!==void 0?w:V,isCategorical:x,layout:p})))},{})},vSe=function(t,n){var r=n.graphicalItems,i=n.Axis,a=n.axisType,s=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,f=n.dataEndIndex,p=t.layout,m=t.children,v=Ab(t.data,{graphicalItems:r,dataStartIndex:c,dataEndIndex:f}),x=v.length,_=hW(p,a),b=-1;return r.reduce(function(w,k){var E=k.type.defaultProps!==void 0?Ne(Ne({},k.type.defaultProps),k.props):k.props,P=E[s],C=CH("number");if(!w[P]){b++;var O;return _?O=Yy(0,x):l&&l[P]&&l[P].hasStack?(O=yW(l[P].stackGroups,c,f),O=wk(m,O,P,a)):(O=LP(C,fW(v,r.filter(function(R){var M,U,F=s in R.props?R.props[s]:(M=R.type.defaultProps)===null||M===void 0?void 0:M[s],H="hide"in R.props?R.props.hide:(U=R.type.defaultProps)===null||U===void 0?void 0:U.hide;return F===P&&!H}),"number",p),i.defaultProps.allowDataOverflow),O=wk(m,O,P,a)),Ne(Ne({},w),{},lt({},P,Ne(Ne({axisType:a},i.defaultProps),{},{hide:!0,orientation:Vi(fSe,"".concat(a,".").concat(b%2),null),domain:O,originalDomain:C,isCategorical:_,layout:p})))}return w},{})},ySe=function(t,n){var r=n.axisType,i=r===void 0?"xAxis":r,a=n.AxisComp,s=n.graphicalItems,l=n.stackGroups,c=n.dataStartIndex,f=n.dataEndIndex,p=t.children,m="".concat(i,"Id"),v=Ki(p,a),x={};return v&&v.length?x=gSe(t,{axes:v,graphicalItems:s,axisType:i,axisIdKey:m,stackGroups:l,dataStartIndex:c,dataEndIndex:f}):s&&s.length&&(x=vSe(t,{Axis:a,graphicalItems:s,axisType:i,axisIdKey:m,stackGroups:l,dataStartIndex:c,dataEndIndex:f})),x},xSe=function(t){var n=hl(t),r=co(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:fC(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Iy(n,r)}},mB=function(t){var n=t.children,r=t.defaultShowTooltip,i=$i(n,Yd),a=0,s=0;return t.data&&t.data.length!==0&&(s=t.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!r}},bSe=function(t){return!t||!t.length?!1:t.some(function(n){var r=fo(n&&n.type);return r&&r.indexOf("Bar")>=0})},gB=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},wSe=function(t,n){var r=t.props,i=t.graphicalItems,a=t.xAxisMap,s=a===void 0?{}:a,l=t.yAxisMap,c=l===void 0?{}:l,f=r.width,p=r.height,m=r.children,v=r.margin||{},x=$i(m,Yd),_=$i(m,Nd),b=Object.keys(c).reduce(function(O,R){var M=c[R],U=M.orientation;return!M.mirror&&!M.hide?Ne(Ne({},O),{},lt({},U,O[U]+M.width)):O},{left:v.left||0,right:v.right||0}),w=Object.keys(s).reduce(function(O,R){var M=s[R],U=M.orientation;return!M.mirror&&!M.hide?Ne(Ne({},O),{},lt({},U,Vi(O,"".concat(U))+M.height)):O},{top:v.top||0,bottom:v.bottom||0}),k=Ne(Ne({},w),b),E=k.bottom;x&&(k.bottom+=x.props.height||Yd.defaultProps.height),_&&n&&(k=Kge(k,i,r,n));var P=f-k.left-k.right,C=p-k.top-k.bottom;return Ne(Ne({brushBottom:E},k),{},{width:Math.max(P,0),height:Math.max(C,0)})},_Se=function(t,n){if(n==="xAxis")return t[n].width;if(n==="yAxis")return t[n].height},YC=function(t){var n=t.chartName,r=t.GraphicalChild,i=t.defaultTooltipEventType,a=i===void 0?"axis":i,s=t.validateTooltipEventTypes,l=s===void 0?["axis"]:s,c=t.axisComponents,f=t.legendContent,p=t.formatAxisMap,m=t.defaultProps,v=function(k,E){var P=E.graphicalItems,C=E.stackGroups,O=E.offset,R=E.updateId,M=E.dataStartIndex,U=E.dataEndIndex,F=k.barSize,H=k.layout,B=k.barGap,$=k.barCategoryGap,G=k.maxBarSize,W=gB(H),V=W.numericAxisName,K=W.cateAxisName,q=bSe(P),D=[];return P.forEach(function(Q,ne){var J=Ab(k.data,{graphicalItems:[Q],dataStartIndex:M,dataEndIndex:U}),ee=Q.type.defaultProps!==void 0?Ne(Ne({},Q.type.defaultProps),Q.props):Q.props,te=ee.dataKey,re=ee.maxBarSize,ie=ee["".concat(V,"Id")],se=ee["".concat(K,"Id")],oe={},be=c.reduce(function(It,it){var Et=E["".concat(it.axisType,"Map")],jr=ee["".concat(it.axisType,"Id")];Et&&Et[jr]||it.axisType==="zAxis"||Hc();var pe=Et[jr];return Ne(Ne({},It),{},lt(lt({},it.axisType,pe),"".concat(it.axisType,"Ticks"),co(pe)))},oe),fe=be[K],xe=be["".concat(K,"Ticks")],ce=C&&C[ie]&&C[ie].hasStack&&ive(Q,C[ie].stackGroups),ue=fo(Q.type).indexOf("Bar")>=0,je=Iy(fe,xe),Re=[],Xe=q&&Hge({barSize:F,stackGroups:C,totalSize:_Se(be,K)});if(ue){var Me,tt,Wt=_t(re)?G:re,Ht=(Me=(tt=Iy(fe,xe,!0))!==null&&tt!==void 0?tt:Wt)!==null&&Me!==void 0?Me:0;Re=Vge({barGap:B,barCategoryGap:$,bandSize:Ht!==je?Ht:je,sizeList:Xe[se],maxBarSize:Wt}),Ht!==je&&(Re=Re.map(function(It){return Ne(Ne({},It),{},{position:Ne(Ne({},It.position),{},{offset:It.position.offset-Ht/2})})}))}var Mt=Q&&Q.type&&Q.type.getComposedData;Mt&&D.push({props:Ne(Ne({},Mt(Ne(Ne({},be),{},{displayedData:J,props:k,dataKey:te,item:Q,bandSize:je,barPosition:Re,offset:O,stackedData:ce,layout:H,dataStartIndex:M,dataEndIndex:U}))),{},lt(lt(lt({key:Q.key||"item-".concat(ne)},V,be[V]),K,be[K]),"animationId",R)),childIndex:Zle(Q,k.children),item:Q})}),D},x=function(k,E){var P=k.props,C=k.dataStartIndex,O=k.dataEndIndex,R=k.updateId;if(!OM({props:P}))return null;var M=P.children,U=P.layout,F=P.stackOffset,H=P.data,B=P.reverseStackOrder,$=gB(U),G=$.numericAxisName,W=$.cateAxisName,V=Ki(M,r),K=nve(H,V,"".concat(G,"Id"),"".concat(W,"Id"),F,B),q=c.reduce(function(ee,te){var re="".concat(te.axisType,"Map");return Ne(Ne({},ee),{},lt({},re,ySe(P,Ne(Ne({},te),{},{graphicalItems:V,stackGroups:te.axisType===G&&K,dataStartIndex:C,dataEndIndex:O}))))},{}),D=wSe(Ne(Ne({},q),{},{props:P,graphicalItems:V}),E?.legendBBox);Object.keys(q).forEach(function(ee){q[ee]=p(P,q[ee],D,ee.replace("Map",""),n)});var Q=q["".concat(W,"Map")],ne=xSe(Q),J=v(P,Ne(Ne({},q),{},{dataStartIndex:C,dataEndIndex:O,updateId:R,graphicalItems:V,stackGroups:K,offset:D}));return Ne(Ne({formattedGraphicalItems:J,graphicalItems:V,offset:D,stackGroups:K},ne),q)},_=(function(w){function k(E){var P,C,O;return tSe(this,k),O=iSe(this,k,[E]),lt(O,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),lt(O,"accessibilityManager",new z1e),lt(O,"handleLegendBBoxUpdate",function(R){if(R){var M=O.state,U=M.dataStartIndex,F=M.dataEndIndex,H=M.updateId;O.setState(Ne({legendBBox:R},x({props:O.props,dataStartIndex:U,dataEndIndex:F,updateId:H},Ne(Ne({},O.state),{},{legendBBox:R}))))}}),lt(O,"handleReceiveSyncEvent",function(R,M,U){if(O.props.syncId===R){if(U===O.eventEmitterSymbol&&typeof O.props.syncMethod!="function")return;O.applySyncEvent(M)}}),lt(O,"handleBrushChange",function(R){var M=R.startIndex,U=R.endIndex;if(M!==O.state.dataStartIndex||U!==O.state.dataEndIndex){var F=O.state.updateId;O.setState(function(){return Ne({dataStartIndex:M,dataEndIndex:U},x({props:O.props,dataStartIndex:M,dataEndIndex:U,updateId:F},O.state))}),O.triggerSyncEvent({dataStartIndex:M,dataEndIndex:U})}}),lt(O,"handleMouseEnter",function(R){var M=O.getMouseInfo(R);if(M){var U=Ne(Ne({},M),{},{isTooltipActive:!0});O.setState(U),O.triggerSyncEvent(U);var F=O.props.onMouseEnter;gt(F)&&F(U,R)}}),lt(O,"triggeredAfterMouseMove",function(R){var M=O.getMouseInfo(R),U=M?Ne(Ne({},M),{},{isTooltipActive:!0}):{isTooltipActive:!1};O.setState(U),O.triggerSyncEvent(U);var F=O.props.onMouseMove;gt(F)&&F(U,R)}),lt(O,"handleItemMouseEnter",function(R){O.setState(function(){return{isTooltipActive:!0,activeItem:R,activePayload:R.tooltipPayload,activeCoordinate:R.tooltipPosition||{x:R.cx,y:R.cy}}})}),lt(O,"handleItemMouseLeave",function(){O.setState(function(){return{isTooltipActive:!1}})}),lt(O,"handleMouseMove",function(R){R.persist(),O.throttleTriggeredAfterMouseMove(R)}),lt(O,"handleMouseLeave",function(R){O.throttleTriggeredAfterMouseMove.cancel();var M={isTooltipActive:!1};O.setState(M),O.triggerSyncEvent(M);var U=O.props.onMouseLeave;gt(U)&&U(M,R)}),lt(O,"handleOuterEvent",function(R){var M=Yle(R),U=Vi(O.props,"".concat(M));if(M&&gt(U)){var F,H;/.*touch.*/i.test(M)?H=O.getMouseInfo(R.changedTouches[0]):H=O.getMouseInfo(R),U((F=H)!==null&&F!==void 0?F:{},R)}}),lt(O,"handleClick",function(R){var M=O.getMouseInfo(R);if(M){var U=Ne(Ne({},M),{},{isTooltipActive:!0});O.setState(U),O.triggerSyncEvent(U);var F=O.props.onClick;gt(F)&&F(U,R)}}),lt(O,"handleMouseDown",function(R){var M=O.props.onMouseDown;if(gt(M)){var U=O.getMouseInfo(R);M(U,R)}}),lt(O,"handleMouseUp",function(R){var M=O.props.onMouseUp;if(gt(M)){var U=O.getMouseInfo(R);M(U,R)}}),lt(O,"handleTouchMove",function(R){R.changedTouches!=null&&R.changedTouches.length>0&&O.throttleTriggeredAfterMouseMove(R.changedTouches[0])}),lt(O,"handleTouchStart",function(R){R.changedTouches!=null&&R.changedTouches.length>0&&O.handleMouseDown(R.changedTouches[0])}),lt(O,"handleTouchEnd",function(R){R.changedTouches!=null&&R.changedTouches.length>0&&O.handleMouseUp(R.changedTouches[0])}),lt(O,"handleDoubleClick",function(R){var M=O.props.onDoubleClick;if(gt(M)){var U=O.getMouseInfo(R);M(U,R)}}),lt(O,"handleContextMenu",function(R){var M=O.props.onContextMenu;if(gt(M)){var U=O.getMouseInfo(R);M(U,R)}}),lt(O,"triggerSyncEvent",function(R){O.props.syncId!==void 0&&Yj.emit(Zj,O.props.syncId,R,O.eventEmitterSymbol)}),lt(O,"applySyncEvent",function(R){var M=O.props,U=M.layout,F=M.syncMethod,H=O.state.updateId,B=R.dataStartIndex,$=R.dataEndIndex;if(R.dataStartIndex!==void 0||R.dataEndIndex!==void 0)O.setState(Ne({dataStartIndex:B,dataEndIndex:$},x({props:O.props,dataStartIndex:B,dataEndIndex:$,updateId:H},O.state)));else if(R.activeTooltipIndex!==void 0){var G=R.chartX,W=R.chartY,V=R.activeTooltipIndex,K=O.state,q=K.offset,D=K.tooltipTicks;if(!q)return;if(typeof F=="function")V=F(D,R);else if(F==="value"){V=-1;for(var Q=0;Q<D.length;Q++)if(D[Q].value===R.activeLabel){V=Q;break}}var ne=Ne(Ne({},q),{},{x:q.left,y:q.top}),J=Math.min(G,ne.x+ne.width),ee=Math.min(W,ne.y+ne.height),te=D[V]&&D[V].value,re=jk(O.state,O.props.data,V),ie=D[V]?{x:U==="horizontal"?D[V].coordinate:J,y:U==="horizontal"?ee:D[V].coordinate}:EH;O.setState(Ne(Ne({},R),{},{activeLabel:te,activeCoordinate:ie,activePayload:re,activeTooltipIndex:V}))}else O.setState(R)}),lt(O,"renderCursor",function(R){var M,U=O.state,F=U.isTooltipActive,H=U.activeCoordinate,B=U.activePayload,$=U.offset,G=U.activeTooltipIndex,W=U.tooltipAxisBandSize,V=O.getTooltipEventType(),K=(M=R.props.active)!==null&&M!==void 0?M:F,q=O.props.layout,D=R.key||"_recharts-cursor";return Z.createElement(G1e,{key:D,activeCoordinate:H,activePayload:B,activeTooltipIndex:G,chartName:n,element:R,isActive:K,layout:q,offset:$,tooltipAxisBandSize:W,tooltipEventType:V})}),lt(O,"renderPolarAxis",function(R,M,U){var F=Vi(R,"type.axisType"),H=Vi(O.state,"".concat(F,"Map")),B=R.type.defaultProps,$=B!==void 0?Ne(Ne({},B),R.props):R.props,G=H&&H[$["".concat(F,"Id")]];return S.cloneElement(R,Ne(Ne({},G),{},{className:St(F,G.className),key:R.key||"".concat(M,"-").concat(U),ticks:co(G,!0)}))}),lt(O,"renderPolarGrid",function(R){var M=R.props,U=M.radialLines,F=M.polarAngles,H=M.polarRadius,B=O.state,$=B.radiusAxisMap,G=B.angleAxisMap,W=hl($),V=hl(G),K=V.cx,q=V.cy,D=V.innerRadius,Q=V.outerRadius;return S.cloneElement(R,{polarAngles:Array.isArray(F)?F:co(V,!0).map(function(ne){return ne.coordinate}),polarRadius:Array.isArray(H)?H:co(W,!0).map(function(ne){return ne.coordinate}),cx:K,cy:q,innerRadius:D,outerRadius:Q,key:R.key||"polar-grid",radialLines:U})}),lt(O,"renderLegend",function(){var R=O.state.formattedGraphicalItems,M=O.props,U=M.children,F=M.width,H=M.height,B=O.props.margin||{},$=F-(B.left||0)-(B.right||0),G=uW({children:U,formattedGraphicalItems:R,legendWidth:$,legendContent:f});if(!G)return null;var W=G.item,V=fB(G,Y1e);return S.cloneElement(W,Ne(Ne({},V),{},{chartWidth:F,chartHeight:H,margin:B,onBBoxUpdate:O.handleLegendBBoxUpdate}))}),lt(O,"renderTooltip",function(){var R,M=O.props,U=M.children,F=M.accessibilityLayer,H=$i(U,ha);if(!H)return null;var B=O.state,$=B.isTooltipActive,G=B.activeCoordinate,W=B.activePayload,V=B.activeLabel,K=B.offset,q=(R=H.props.active)!==null&&R!==void 0?R:$;return S.cloneElement(H,{viewBox:Ne(Ne({},K),{},{x:K.left,y:K.top}),active:q,label:V,payload:q?W:[],coordinate:G,accessibilityLayer:F})}),lt(O,"renderBrush",function(R){var M=O.props,U=M.margin,F=M.data,H=O.state,B=H.offset,$=H.dataStartIndex,G=H.dataEndIndex,W=H.updateId;return S.cloneElement(R,{key:R.key||"_recharts-brush",onChange:Nv(O.handleBrushChange,R.props.onChange),data:F,x:Ie(R.props.x)?R.props.x:B.left,y:Ie(R.props.y)?R.props.y:B.top+B.height+B.brushBottom-(U.bottom||0),width:Ie(R.props.width)?R.props.width:B.width,startIndex:$,endIndex:G,updateId:"brush-".concat(W)})}),lt(O,"renderReferenceElement",function(R,M,U){if(!R)return null;var F=O,H=F.clipPathId,B=O.state,$=B.xAxisMap,G=B.yAxisMap,W=B.offset,V=R.type.defaultProps||{},K=R.props,q=K.xAxisId,D=q===void 0?V.xAxisId:q,Q=K.yAxisId,ne=Q===void 0?V.yAxisId:Q;return S.cloneElement(R,{key:R.key||"".concat(M,"-").concat(U),xAxis:$[D],yAxis:G[ne],viewBox:{x:W.left,y:W.top,width:W.width,height:W.height},clipPathId:H})}),lt(O,"renderActivePoints",function(R){var M=R.item,U=R.activePoint,F=R.basePoint,H=R.childIndex,B=R.isRange,$=[],G=M.props.key,W=M.item.type.defaultProps!==void 0?Ne(Ne({},M.item.type.defaultProps),M.item.props):M.item.props,V=W.activeDot,K=W.dataKey,q=Ne(Ne({index:H,dataKey:K,cx:U.x,cy:U.y,r:4,fill:$C(M.item),strokeWidth:2,stroke:"#fff",payload:U.payload,value:U.value},ot(V,!1)),fy(V));return $.push(k.renderActiveDot(V,q,"".concat(G,"-activePoint-").concat(H))),F?$.push(k.renderActiveDot(V,Ne(Ne({},q),{},{cx:F.x,cy:F.y}),"".concat(G,"-basePoint-").concat(H))):B&&$.push(null),$}),lt(O,"renderGraphicChild",function(R,M,U){var F=O.filterFormatItem(R,M,U);if(!F)return null;var H=O.getTooltipEventType(),B=O.state,$=B.isTooltipActive,G=B.tooltipAxis,W=B.activeTooltipIndex,V=B.activeLabel,K=O.props.children,q=$i(K,ha),D=F.props,Q=D.points,ne=D.isRange,J=D.baseLine,ee=F.item.type.defaultProps!==void 0?Ne(Ne({},F.item.type.defaultProps),F.item.props):F.item.props,te=ee.activeDot,re=ee.hide,ie=ee.activeBar,se=ee.activeShape,oe=!!(!re&&$&&q&&(te||ie||se)),be={};H!=="axis"&&q&&q.props.trigger==="click"?be={onClick:Nv(O.handleItemMouseEnter,R.props.onClick)}:H!=="axis"&&(be={onMouseLeave:Nv(O.handleItemMouseLeave,R.props.onMouseLeave),onMouseEnter:Nv(O.handleItemMouseEnter,R.props.onMouseEnter)});var fe=S.cloneElement(R,Ne(Ne({},F.props),be));function xe(it){return typeof G.dataKey=="function"?G.dataKey(it.payload):null}if(oe)if(W>=0){var ce,ue;if(G.dataKey&&!G.allowDuplicatedCategory){var je=typeof G.dataKey=="function"?xe:"payload.".concat(G.dataKey.toString());ce=dy(Q,je,V),ue=ne&&J&&dy(J,je,V)}else ce=Q?.[W],ue=ne&&J&&J[W];if(se||ie){var Re=R.props.activeIndex!==void 0?R.props.activeIndex:W;return[S.cloneElement(R,Ne(Ne(Ne({},F.props),be),{},{activeIndex:Re})),null,null]}if(!_t(ce))return[fe].concat(lf(O.renderActivePoints({item:F,activePoint:ce,basePoint:ue,childIndex:W,isRange:ne})))}else{var Xe,Me=(Xe=O.getItemByXY(O.state.activeCoordinate))!==null&&Xe!==void 0?Xe:{graphicalItem:fe},tt=Me.graphicalItem,Wt=tt.item,Ht=Wt===void 0?R:Wt,Mt=tt.childIndex,It=Ne(Ne(Ne({},F.props),be),{},{activeIndex:Mt});return[S.cloneElement(Ht,It),null,null]}return ne?[fe,null,null]:[fe,null]}),lt(O,"renderCustomized",function(R,M,U){return S.cloneElement(R,Ne(Ne({key:"recharts-customized-".concat(U)},O.props),O.state))}),lt(O,"renderMap",{CartesianGrid:{handler:Ov,once:!0},ReferenceArea:{handler:O.renderReferenceElement},ReferenceLine:{handler:Ov},ReferenceDot:{handler:O.renderReferenceElement},XAxis:{handler:Ov},YAxis:{handler:Ov},Brush:{handler:O.renderBrush,once:!0},Bar:{handler:O.renderGraphicChild},Line:{handler:O.renderGraphicChild},Area:{handler:O.renderGraphicChild},Radar:{handler:O.renderGraphicChild},RadialBar:{handler:O.renderGraphicChild},Scatter:{handler:O.renderGraphicChild},Pie:{handler:O.renderGraphicChild},Funnel:{handler:O.renderGraphicChild},Tooltip:{handler:O.renderCursor,once:!0},PolarGrid:{handler:O.renderPolarGrid,once:!0},PolarAngleAxis:{handler:O.renderPolarAxis},PolarRadiusAxis:{handler:O.renderPolarAxis},Customized:{handler:O.renderCustomized}}),O.clipPathId="".concat((P=E.id)!==null&&P!==void 0?P:Nf("recharts"),"-clip"),O.throttleTriggeredAfterMouseMove=cU(O.triggeredAfterMouseMove,(C=E.throttleDelay)!==null&&C!==void 0?C:1e3/60),O.state={},O}return oSe(k,w),rSe(k,[{key:"componentDidMount",value:function(){var P,C;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(P=this.props.margin.left)!==null&&P!==void 0?P:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var P=this.props,C=P.children,O=P.data,R=P.height,M=P.layout,U=$i(C,ha);if(U){var F=U.props.defaultIndex;if(!(typeof F!="number"||F<0||F>this.state.tooltipTicks.length-1)){var H=this.state.tooltipTicks[F]&&this.state.tooltipTicks[F].value,B=jk(this.state,O,F,H),$=this.state.tooltipTicks[F].coordinate,G=(this.state.offset.top+R)/2,W=M==="horizontal",V=W?{x:$,y:G}:{y:$,x:G},K=this.state.formattedGraphicalItems.find(function(D){var Q=D.item;return Q.type.name==="Scatter"});K&&(V=Ne(Ne({},V),K.props.points[F].tooltipPosition),B=K.props.points[F].tooltipPayload);var q={activeTooltipIndex:F,isTooltipActive:!0,activeLabel:H,activePayload:B,activeCoordinate:V};this.setState(q),this.renderCursor(U),this.accessibilityManager.setIndex(F)}}}},{key:"getSnapshotBeforeUpdate",value:function(P,C){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==C.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==P.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==P.margin){var O,R;this.accessibilityManager.setDetails({offset:{left:(O=this.props.margin.left)!==null&&O!==void 0?O:0,top:(R=this.props.margin.top)!==null&&R!==void 0?R:0}})}return null}},{key:"componentDidUpdate",value:function(P){aP([$i(P.children,ha)],[$i(this.props.children,ha)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var P=$i(this.props.children,ha);if(P&&typeof P.props.shared=="boolean"){var C=P.props.shared?"axis":"item";return l.indexOf(C)>=0?C:a}return a}},{key:"getMouseInfo",value:function(P){if(!this.container)return null;var C=this.container,O=C.getBoundingClientRect(),R=Ife(O),M={chartX:Math.round(P.pageX-R.left),chartY:Math.round(P.pageY-R.top)},U=O.width/C.offsetWidth||1,F=this.inRange(M.chartX,M.chartY,U);if(!F)return null;var H=this.state,B=H.xAxisMap,$=H.yAxisMap,G=this.getTooltipEventType(),W=pB(this.state,this.props.data,this.props.layout,F);if(G!=="axis"&&B&&$){var V=hl(B).scale,K=hl($).scale,q=V&&V.invert?V.invert(M.chartX):null,D=K&&K.invert?K.invert(M.chartY):null;return Ne(Ne({},M),{},{xValue:q,yValue:D},W)}return W?Ne(Ne({},M),W):null}},{key:"inRange",value:function(P,C){var O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,R=this.props.layout,M=P/O,U=C/O;if(R==="horizontal"||R==="vertical"){var F=this.state.offset,H=M>=F.left&&M<=F.left+F.width&&U>=F.top&&U<=F.top+F.height;return H?{x:M,y:U}:null}var B=this.state,$=B.angleAxisMap,G=B.radiusAxisMap;if($&&G){var W=hl($);return x4({x:M,y:U},W)}return null}},{key:"parseEventsOfWrapper",value:function(){var P=this.props.children,C=this.getTooltipEventType(),O=$i(P,ha),R={};O&&C==="axis"&&(O.props.trigger==="click"?R={onClick:this.handleClick}:R={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var M=fy(this.props,this.handleOuterEvent);return Ne(Ne({},M),R)}},{key:"addListener",value:function(){Yj.on(Zj,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Yj.removeListener(Zj,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(P,C,O){for(var R=this.state.formattedGraphicalItems,M=0,U=R.length;M<U;M++){var F=R[M];if(F.item===P||F.props.key===P.key||C===fo(F.item.type)&&O===F.childIndex)return F}return null}},{key:"renderClipPath",value:function(){var P=this.clipPathId,C=this.state.offset,O=C.left,R=C.top,M=C.height,U=C.width;return Z.createElement("defs",null,Z.createElement("clipPath",{id:P},Z.createElement("rect",{x:O,y:R,height:M,width:U})))}},{key:"getXScales",value:function(){var P=this.state.xAxisMap;return P?Object.entries(P).reduce(function(C,O){var R=dB(O,2),M=R[0],U=R[1];return Ne(Ne({},C),{},lt({},M,U.scale))},{}):null}},{key:"getYScales",value:function(){var P=this.state.yAxisMap;return P?Object.entries(P).reduce(function(C,O){var R=dB(O,2),M=R[0],U=R[1];return Ne(Ne({},C),{},lt({},M,U.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(P){var C;return(C=this.state.xAxisMap)===null||C===void 0||(C=C[P])===null||C===void 0?void 0:C.scale}},{key:"getYScaleByAxisId",value:function(P){var C;return(C=this.state.yAxisMap)===null||C===void 0||(C=C[P])===null||C===void 0?void 0:C.scale}},{key:"getItemByXY",value:function(P){var C=this.state,O=C.formattedGraphicalItems,R=C.activeItem;if(O&&O.length)for(var M=0,U=O.length;M<U;M++){var F=O[M],H=F.props,B=F.item,$=B.type.defaultProps!==void 0?Ne(Ne({},B.type.defaultProps),B.props):B.props,G=fo(B.type);if(G==="Bar"){var W=(H.data||[]).find(function(D){return Zxe(P,D)});if(W)return{graphicalItem:F,payload:W}}else if(G==="RadialBar"){var V=(H.data||[]).find(function(D){return x4(P,D)});if(V)return{graphicalItem:F,payload:V}}else if(Nb(F,R)||Pb(F,R)||Zp(F,R)){var K=x0e({graphicalItem:F,activeTooltipItem:R,itemData:$.data}),q=$.activeIndex===void 0?K:$.activeIndex;return{graphicalItem:Ne(Ne({},F),{},{childIndex:q}),payload:Zp(F,R)?$.data[K]:F.props.data[K]}}}return null}},{key:"render",value:function(){var P=this;if(!OM(this))return null;var C=this.props,O=C.children,R=C.className,M=C.width,U=C.height,F=C.style,H=C.compact,B=C.title,$=C.desc,G=fB(C,Z1e),W=ot(G,!1);if(H)return Z.createElement(V$,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Z.createElement(oP,md({},W,{width:M,height:U,title:B,desc:$}),this.renderClipPath(),AM(O,this.renderMap)));if(this.props.accessibilityLayer){var V,K;W.tabIndex=(V=this.props.tabIndex)!==null&&V!==void 0?V:0,W.role=(K=this.props.role)!==null&&K!==void 0?K:"application",W.onKeyDown=function(D){P.accessibilityManager.keyboardEvent(D)},W.onFocus=function(){P.accessibilityManager.focus()}}var q=this.parseEventsOfWrapper();return Z.createElement(V$,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Z.createElement("div",md({className:St("recharts-wrapper",R),style:Ne({position:"relative",cursor:"default",width:M,height:U},F)},q,{ref:function(Q){P.container=Q}}),Z.createElement(oP,md({},W,{width:M,height:U,title:B,desc:$,style:hSe}),this.renderClipPath(),AM(O,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(S.Component);lt(_,"displayName",n),lt(_,"defaultProps",Ne({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},m)),lt(_,"getDerivedStateFromProps",function(w,k){var E=w.dataKey,P=w.data,C=w.children,O=w.width,R=w.height,M=w.layout,U=w.stackOffset,F=w.margin,H=k.dataStartIndex,B=k.dataEndIndex;if(k.updateId===void 0){var $=mB(w);return Ne(Ne(Ne({},$),{},{updateId:0},x(Ne(Ne({props:w},$),{},{updateId:0}),k)),{},{prevDataKey:E,prevData:P,prevWidth:O,prevHeight:R,prevLayout:M,prevStackOffset:U,prevMargin:F,prevChildren:C})}if(E!==k.prevDataKey||P!==k.prevData||O!==k.prevWidth||R!==k.prevHeight||M!==k.prevLayout||U!==k.prevStackOffset||!jd(F,k.prevMargin)){var G=mB(w),W={chartX:k.chartX,chartY:k.chartY,isTooltipActive:k.isTooltipActive},V=Ne(Ne({},pB(k,P,M)),{},{updateId:k.updateId+1}),K=Ne(Ne(Ne({},G),W),V);return Ne(Ne(Ne({},K),x(Ne({props:w},K),k)),{},{prevDataKey:E,prevData:P,prevWidth:O,prevHeight:R,prevLayout:M,prevStackOffset:U,prevMargin:F,prevChildren:C})}if(!aP(C,k.prevChildren)){var q,D,Q,ne,J=$i(C,Yd),ee=J&&(q=(D=J.props)===null||D===void 0?void 0:D.startIndex)!==null&&q!==void 0?q:H,te=J&&(Q=(ne=J.props)===null||ne===void 0?void 0:ne.endIndex)!==null&&Q!==void 0?Q:B,re=ee!==H||te!==B,ie=!_t(P),se=ie&&!re?k.updateId:k.updateId+1;return Ne(Ne({updateId:se},x(Ne(Ne({props:w},k),{},{updateId:se,dataStartIndex:ee,dataEndIndex:te}),k)),{},{prevChildren:C,dataStartIndex:ee,dataEndIndex:te})}return null}),lt(_,"renderActiveDot",function(w,k,E){var P;return S.isValidElement(w)?P=S.cloneElement(w,k):gt(w)?P=w(k):P=Z.createElement(bb,k),Z.createElement(qt,{className:"recharts-active-dot",key:E},P)});var b=S.forwardRef(function(k,E){return Z.createElement(_,md({},k,{ref:E}))});return b.displayName=_.displayName,b},SSe=YC({chartName:"LineChart",GraphicalChild:km,axisComponents:[{axisType:"xAxis",AxisComp:rf},{axisType:"yAxis",AxisComp:sf}],formatAxisMap:YW}),jSe=YC({chartName:"BarChart",GraphicalChild:au,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:rf},{axisType:"yAxis",AxisComp:sf}],formatAxisMap:YW}),NSe=YC({chartName:"PieChart",GraphicalChild:No,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:jb},{axisType:"radiusAxis",AxisComp:_b}],formatAxisMap:pve,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const PSe=()=>{const{t:e,i18n:t}=Pt(),{user:n,signOut:r,loading:i}=mr(),a=pr(),s=t.language==="de"?qn:Cn,[l,c]=S.useState(!0),[f,p]=S.useState({totalRevenue:0,totalAppointments:0,completedAppointments:0,cancelledAppointments:0,averageBookingValue:0,topServices:[],dailyRevenue:[],employeeStats:[]});S.useEffect(()=>{!i&&!n?a("/login"):n&&m()},[n,i,a]);const m=async()=>{if(n){c(!0);try{const x=new Date,_=Yr(x),b=gm(x),{data:w}=await ye.from("appointments").select(`
          *,
          service:services(name, price)
        `).gte("start_time",_.toISOString()).lte("start_time",b.toISOString());if(!w){c(!1);return}const k=w.filter(B=>B.status==="completed"),E=w.filter(B=>B.status==="cancelled"),P=k.reduce((B,$)=>B+($.price||$.service?.price||0),0),C=k.length>0?P/k.length:0,O=new Map;w.forEach(B=>{const $=B.service?.name||"Unknown",G=O.get($)||{count:0,revenue:0};O.set($,{count:G.count+1,revenue:G.revenue+(B.price||B.service?.price||0)})});const R=Array.from(O.entries()).map(([B,$])=>({name:B,...$})).sort((B,$)=>$.revenue-B.revenue).slice(0,5),U=GN({start:_,end:b}).map(B=>{const $=w.filter(W=>Le(new Date(W.start_time),"yyyy-MM-dd")===Le(B,"yyyy-MM-dd")),G=$.filter(W=>W.status==="completed");return{date:Le(B,"d",{locale:s}),revenue:G.reduce((W,V)=>W+(V.price||V.service?.price||0),0),appointments:$.length}}),F=new Map;w.forEach(B=>{const $=B.employee_id||"Unassigned",G=F.get($)||{appointments:0,revenue:0};F.set($,{appointments:G.appointments+1,revenue:B.status==="completed"?G.revenue+(B.price||B.service?.price||0):G.revenue})});const H=Array.from(F.entries()).map(([B,$])=>({name:B.slice(0,8)+"...",...$})).sort((B,$)=>$.revenue-B.revenue);p({totalRevenue:P,totalAppointments:w.length,completedAppointments:k.length,cancelledAppointments:E.length,averageBookingValue:C,topServices:R,dailyRevenue:U,employeeStats:H})}catch(x){console.error("Error fetching report data:",x)}finally{c(!1)}}},v=["hsl(var(--primary))","hsl(var(--sage))","hsl(var(--gold))","hsl(var(--rose))","hsl(var(--muted-foreground))"];return i||l?o.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx("header",{className:"sticky top-0 z-50 bg-card border-b border-border",children:o.jsxs("div",{className:"container mx-auto px-4 h-16 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(Se,{variant:"ghost",size:"icon",onClick:()=>a(-1),children:o.jsx(ff,{className:"w-5 h-5"})}),o.jsxs(Rt,{to:"/",className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-10 h-10 gradient-primary rounded-xl flex items-center justify-center",children:o.jsx(Qt,{className:"w-5 h-5 text-primary-foreground"})}),o.jsxs("span",{className:"text-lg font-display font-bold text-foreground",children:["Salon",o.jsx("span",{className:"text-primary",children:"Manager"})]})]})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(Rr,{}),o.jsx(Mr,{}),o.jsxs(Se,{variant:"ghost",size:"sm",onClick:r,children:[o.jsx(wo,{className:"w-4 h-4 mr-2"}),e("nav.logout")]})]})]})}),o.jsxs("main",{className:"container mx-auto px-4 py-6",children:[o.jsxs("h1",{className:"text-2xl font-display font-bold text-foreground mb-6",children:[e("nav.reports")," - ",Le(new Date,"MMMM yyyy",{locale:s})]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[o.jsx(Je,{className:"border-border",children:o.jsx(et,{className:"pt-6",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center",children:o.jsx(i3,{className:"w-5 h-5 text-primary"})}),o.jsxs("div",{children:[o.jsxs("p",{className:"text-2xl font-bold text-foreground",children:["",f.totalRevenue.toFixed(0)]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:e("reports.totalRevenue")})]})]})})}),o.jsx(Je,{className:"border-border",children:o.jsx(et,{className:"pt-6",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-lg bg-sage/10 flex items-center justify-center",children:o.jsx(wn,{className:"w-5 h-5 text-sage"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-2xl font-bold text-foreground",children:f.totalAppointments}),o.jsx("p",{className:"text-xs text-muted-foreground",children:e("reports.totalAppointments")})]})]})})}),o.jsx(Je,{className:"border-border",children:o.jsx(et,{className:"pt-6",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-lg bg-gold/10 flex items-center justify-center",children:o.jsx(l3,{className:"w-5 h-5 text-gold"})}),o.jsxs("div",{children:[o.jsxs("p",{className:"text-2xl font-bold text-foreground",children:["",f.averageBookingValue.toFixed(0)]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:e("reports.avgBooking")})]})]})})}),o.jsx(Je,{className:"border-border",children:o.jsx(et,{className:"pt-6",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-lg bg-rose/10 flex items-center justify-center",children:o.jsx(px,{className:"w-5 h-5 text-rose"})}),o.jsxs("div",{children:[o.jsxs("p",{className:"text-2xl font-bold text-foreground",children:[f.totalAppointments>0?Math.round(f.completedAppointments/f.totalAppointments*100):0,"%"]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:e("reports.completionRate")})]})]})})})]}),o.jsxs(vm,{defaultValue:"revenue",children:[o.jsxs(_f,{className:"mb-6",children:[o.jsx(Bn,{value:"revenue",children:e("reports.revenue")}),o.jsx(Bn,{value:"services",children:e("reports.services")}),o.jsx(Bn,{value:"employees",children:e("reports.employees")})]}),o.jsx(Fn,{value:"revenue",children:o.jsxs(Je,{className:"border-border",children:[o.jsx(nn,{children:o.jsx(rn,{children:e("reports.dailyRevenue")})}),o.jsx(et,{children:o.jsx("div",{className:"h-[300px]",children:o.jsx(aj,{width:"100%",height:"100%",children:o.jsxs(SSe,{data:f.dailyRevenue,children:[o.jsx(hk,{strokeDasharray:"3 3",stroke:"hsl(var(--border))"}),o.jsx(rf,{dataKey:"date",stroke:"hsl(var(--muted-foreground))"}),o.jsx(sf,{stroke:"hsl(var(--muted-foreground))"}),o.jsx(ha,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px"}}),o.jsx(km,{type:"monotone",dataKey:"revenue",stroke:"hsl(var(--primary))",strokeWidth:2,dot:{fill:"hsl(var(--primary))"}})]})})})})]})}),o.jsx(Fn,{value:"services",children:o.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[o.jsxs(Je,{className:"border-border",children:[o.jsx(nn,{children:o.jsx(rn,{children:e("reports.topServices")})}),o.jsx(et,{children:o.jsx("div",{className:"h-[300px]",children:o.jsx(aj,{width:"100%",height:"100%",children:o.jsxs(NSe,{children:[o.jsx(No,{data:f.topServices,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:5,dataKey:"revenue",label:({name:x,percent:_})=>`${x} (${(_*100).toFixed(0)}%)`,children:f.topServices.map((x,_)=>o.jsx(lb,{fill:v[_%v.length]},`cell-${_}`))}),o.jsx(ha,{})]})})})})]}),o.jsxs(Je,{className:"border-border",children:[o.jsx(nn,{children:o.jsx(rn,{children:e("reports.serviceBreakdown")})}),o.jsx(et,{children:o.jsx("div",{className:"space-y-4",children:f.topServices.map((x,_)=>o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:v[_%v.length]}}),o.jsx("span",{className:"text-foreground",children:x.name})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("p",{className:"font-medium text-foreground",children:["",x.revenue.toFixed(0)]}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[x.count," ",e("reports.bookings")]})]})]},_))})})]})]})}),o.jsx(Fn,{value:"employees",children:o.jsxs(Je,{className:"border-border",children:[o.jsx(nn,{children:o.jsx(rn,{children:e("reports.employeePerformance")})}),o.jsx(et,{children:o.jsx("div",{className:"h-[300px]",children:o.jsx(aj,{width:"100%",height:"100%",children:o.jsxs(jSe,{data:f.employeeStats,children:[o.jsx(hk,{strokeDasharray:"3 3",stroke:"hsl(var(--border))"}),o.jsx(rf,{dataKey:"name",stroke:"hsl(var(--muted-foreground))"}),o.jsx(sf,{stroke:"hsl(var(--muted-foreground))"}),o.jsx(ha,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px"}}),o.jsx(au,{dataKey:"revenue",fill:"hsl(var(--primary))",radius:[4,4,0,0]})]})})})})]})})]})]})]})},Qj=[{value:1,labelDe:"Montag",labelEn:"Monday"},{value:2,labelDe:"Dienstag",labelEn:"Tuesday"},{value:3,labelDe:"Mittwoch",labelEn:"Wednesday"},{value:4,labelDe:"Donnerstag",labelEn:"Thursday"},{value:5,labelDe:"Freitag",labelEn:"Friday"},{value:6,labelDe:"Samstag",labelEn:"Saturday"},{value:0,labelDe:"Sonntag",labelEn:"Sunday"}],kSe=()=>{const{t:e,i18n:t}=Pt(),{user:n,signOut:r,loading:i}=mr(),a=pr(),{toast:s}=jl(),[l,c]=S.useState([]),[f,p]=S.useState([]),[m,v]=S.useState(!0),[x,_]=S.useState(!1),[b,w]=S.useState(null),[k,E]=S.useState(""),[P,C]=S.useState({employee_id:"",day_of_week:"1",start_time:"09:00",end_time:"17:00",is_recurring:!0,specific_date:""});S.useEffect(()=>{!i&&!n?a("/login"):n&&O()},[n,i,a]);const O=async()=>{if(n){v(!0);try{const{data:$}=await ye.from("employees").select("id, position, user_id").eq("is_active",!0);p($||[]);const{data:G}=await ye.from("work_schedules").select("*").order("day_of_week",{ascending:!0});c(G||[])}catch($){console.error("Error fetching data:",$)}finally{v(!1)}}},R=async()=>{if(!P.employee_id)return;const{data:$,error:G}=await ye.from("work_schedules").insert({employee_id:P.employee_id,day_of_week:parseInt(P.day_of_week),start_time:P.start_time,end_time:P.end_time,is_recurring:P.is_recurring,specific_date:P.is_recurring?null:P.specific_date||null}).select().single();G?s({title:e("common.error"),description:G.message,variant:"destructive"}):(s({title:e("common.success"),description:e("schedule.created")}),c([...l,$]),F(),_(!1))},M=async()=>{if(!b)return;const{data:$,error:G}=await ye.from("work_schedules").update({day_of_week:parseInt(P.day_of_week),start_time:P.start_time,end_time:P.end_time,is_recurring:P.is_recurring,specific_date:P.is_recurring?null:P.specific_date||null}).eq("id",b.id).select().single();G?s({title:e("common.error"),description:G.message,variant:"destructive"}):(s({title:e("common.success"),description:e("schedule.updated")}),c(l.map(W=>W.id===b.id?$:W)),F(),w(null))},U=async $=>{const{error:G}=await ye.from("work_schedules").delete().eq("id",$);G?s({title:e("common.error"),description:G.message,variant:"destructive"}):(s({title:e("common.success"),description:e("schedule.deleted")}),c(l.filter(W=>W.id!==$)))},F=()=>{C({employee_id:"",day_of_week:"1",start_time:"09:00",end_time:"17:00",is_recurring:!0,specific_date:""})},H=$=>{w($),C({employee_id:$.employee_id,day_of_week:$.day_of_week.toString(),start_time:$.start_time,end_time:$.end_time,is_recurring:$.is_recurring??!0,specific_date:$.specific_date||""})},B=k?l.filter($=>$.employee_id===k):l;return i||m?o.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx("header",{className:"sticky top-0 z-50 bg-card border-b border-border",children:o.jsxs("div",{className:"container mx-auto px-4 h-16 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(Se,{variant:"ghost",size:"icon",onClick:()=>a(-1),children:o.jsx(ff,{className:"w-5 h-5"})}),o.jsxs(Rt,{to:"/",className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-10 h-10 gradient-primary rounded-xl flex items-center justify-center",children:o.jsx(Qt,{className:"w-5 h-5 text-primary-foreground"})}),o.jsxs("span",{className:"text-lg font-display font-bold text-foreground",children:["Salon",o.jsx("span",{className:"text-primary",children:"Manager"})]})]})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(Rr,{}),o.jsx(Mr,{}),o.jsxs(Se,{variant:"ghost",size:"sm",onClick:r,children:[o.jsx(wo,{className:"w-4 h-4 mr-2"}),e("nav.logout")]})]})]})}),o.jsxs("main",{className:"container mx-auto px-4 py-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h1",{className:"text-2xl font-display font-bold text-foreground",children:e("schedule.title")}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs(ao,{value:k,onValueChange:E,children:[o.jsx(vs,{className:"w-[200px]",children:o.jsx(so,{placeholder:e("schedule.allEmployees")})}),o.jsxs(ys,{children:[o.jsx(Zt,{value:"",children:e("schedule.allEmployees")}),f.map($=>o.jsx(Zt,{value:$.id,children:$.position||$.id.slice(0,8)},$.id))]})]}),o.jsxs(fr,{open:x,onOpenChange:_,children:[o.jsx(wp,{asChild:!0,children:o.jsxs(Se,{onClick:F,children:[o.jsx(Od,{className:"w-4 h-4 mr-2"}),e("schedule.addSchedule")]})}),o.jsxs(Gn,{children:[o.jsx(Yn,{children:o.jsx(Zn,{children:e("schedule.addSchedule")})}),o.jsxs("div",{className:"space-y-4 pt-4",children:[o.jsxs("div",{children:[o.jsx(Pe,{children:e("staff.title")}),o.jsxs(ao,{value:P.employee_id,onValueChange:$=>C({...P,employee_id:$}),children:[o.jsx(vs,{children:o.jsx(so,{placeholder:e("schedule.selectEmployee")})}),o.jsx(ys,{children:f.map($=>o.jsx(Zt,{value:$.id,children:$.position||$.id.slice(0,8)},$.id))})]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(Pe,{children:e("schedule.recurring")}),o.jsx(cy,{checked:P.is_recurring,onCheckedChange:$=>C({...P,is_recurring:$})})]}),P.is_recurring?o.jsxs("div",{children:[o.jsx(Pe,{children:e("schedule.dayOfWeek")}),o.jsxs(ao,{value:P.day_of_week,onValueChange:$=>C({...P,day_of_week:$}),children:[o.jsx(vs,{children:o.jsx(so,{})}),o.jsx(ys,{children:Qj.map($=>o.jsx(Zt,{value:$.value.toString(),children:t.language==="de"?$.labelDe:$.labelEn},$.value))})]})]}):o.jsxs("div",{children:[o.jsx(Pe,{children:e("schedule.specificDate")}),o.jsx(ke,{type:"date",value:P.specific_date,onChange:$=>C({...P,specific_date:$.target.value})})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(Pe,{children:e("schedule.startTime")}),o.jsx(ke,{type:"time",value:P.start_time,onChange:$=>C({...P,start_time:$.target.value})})]}),o.jsxs("div",{children:[o.jsx(Pe,{children:e("schedule.endTime")}),o.jsx(ke,{type:"time",value:P.end_time,onChange:$=>C({...P,end_time:$.target.value})})]})]}),o.jsx(Se,{onClick:R,className:"w-full",children:e("common.create")})]})]})]})]})]}),o.jsx("div",{className:"grid md:grid-cols-7 gap-4",children:Qj.map($=>{const G=B.filter(W=>W.day_of_week===$.value);return o.jsxs(Je,{className:"border-border",children:[o.jsx(nn,{className:"pb-2",children:o.jsx(rn,{className:"text-sm font-medium",children:t.language==="de"?$.labelDe:$.labelEn})}),o.jsx(et,{className:"space-y-2",children:G.length===0?o.jsx("p",{className:"text-xs text-muted-foreground text-center py-4",children:e("schedule.noSchedule")}):G.map(W=>{const V=f.find(K=>K.id===W.employee_id);return o.jsxs("div",{className:"p-2 rounded-lg bg-primary/10 border border-primary/20",children:[o.jsxs("div",{className:"flex items-center justify-between mb-1",children:[o.jsx("span",{className:"text-xs font-medium text-foreground",children:V?.position||W.employee_id.slice(0,8)}),o.jsxs("div",{className:"flex gap-1",children:[o.jsx(Se,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>H(W),children:o.jsx(Cd,{className:"w-3 h-3"})}),o.jsx(Se,{variant:"ghost",size:"icon",className:"h-6 w-6 text-rose",onClick:()=>U(W.id),children:o.jsx(uo,{className:"w-3 h-3"})})]})]}),o.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[o.jsx(ba,{className:"w-3 h-3"}),W.start_time.slice(0,5)," - ",W.end_time.slice(0,5)]})]},W.id)})})]},$.value)})}),o.jsx(fr,{open:!!b,onOpenChange:$=>!$&&w(null),children:o.jsxs(Gn,{children:[o.jsx(Yn,{children:o.jsx(Zn,{children:e("schedule.editSchedule")})}),o.jsxs("div",{className:"space-y-4 pt-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(Pe,{children:e("schedule.recurring")}),o.jsx(cy,{checked:P.is_recurring,onCheckedChange:$=>C({...P,is_recurring:$})})]}),P.is_recurring?o.jsxs("div",{children:[o.jsx(Pe,{children:e("schedule.dayOfWeek")}),o.jsxs(ao,{value:P.day_of_week,onValueChange:$=>C({...P,day_of_week:$}),children:[o.jsx(vs,{children:o.jsx(so,{})}),o.jsx(ys,{children:Qj.map($=>o.jsx(Zt,{value:$.value.toString(),children:t.language==="de"?$.labelDe:$.labelEn},$.value))})]})]}):o.jsxs("div",{children:[o.jsx(Pe,{children:e("schedule.specificDate")}),o.jsx(ke,{type:"date",value:P.specific_date,onChange:$=>C({...P,specific_date:$.target.value})})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(Pe,{children:e("schedule.startTime")}),o.jsx(ke,{type:"time",value:P.start_time,onChange:$=>C({...P,start_time:$.target.value})})]}),o.jsxs("div",{children:[o.jsx(Pe,{children:e("schedule.endTime")}),o.jsx(ke,{type:"time",value:P.end_time,onChange:$=>C({...P,end_time:$.target.value})})]})]}),o.jsx(Se,{onClick:M,className:"w-full",children:e("common.save")})]})]})})]})]})},ESe=()=>{const{t:e,i18n:t}=Pt(),{user:n,signOut:r,loading:i}=mr(),a=pr(),{toast:s}=jl(),l=t.language==="de"?qn:Cn,[c,f]=S.useState([]),[p,m]=S.useState(!0),[v,x]=S.useState(null),[_,b]=S.useState(!1),[w,k]=S.useState(null),[E,P]=S.useState({start_date:"",end_date:"",reason:""});S.useEffect(()=>{!i&&!n?a("/login"):n&&C()},[n,i,a]);const C=async()=>{if(n){m(!0);try{const{data:W}=await ye.from("salons").select("id").or(`owner_id.eq.${n.id},is_active.eq.true`).limit(1).maybeSingle();if(W){x(W.id);const{data:V}=await ye.from("salon_closures").select("*").eq("salon_id",W.id).order("start_date",{ascending:!0});f(V||[])}}catch(W){console.error("Error fetching data:",W)}finally{m(!1)}}},O=async()=>{if(!v||!E.start_date||!E.end_date)return;const{data:W,error:V}=await ye.from("salon_closures").insert({salon_id:v,start_date:E.start_date,end_date:E.end_date,reason:E.reason||null}).select().single();V?s({title:e("common.error"),description:V.message,variant:"destructive"}):(s({title:e("common.success"),description:e("closures.created")}),f([...c,W].sort((K,q)=>new Date(K.start_date).getTime()-new Date(q.start_date).getTime())),U(),b(!1))},R=async()=>{if(!w)return;const{data:W,error:V}=await ye.from("salon_closures").update({start_date:E.start_date,end_date:E.end_date,reason:E.reason||null}).eq("id",w.id).select().single();V?s({title:e("common.error"),description:V.message,variant:"destructive"}):(s({title:e("common.success"),description:e("closures.updated")}),f(c.map(K=>K.id===w.id?W:K)),U(),k(null))},M=async W=>{const{error:V}=await ye.from("salon_closures").delete().eq("id",W);V?s({title:e("common.error"),description:V.message,variant:"destructive"}):(s({title:e("common.success"),description:e("closures.deleted")}),f(c.filter(K=>K.id!==W)))},U=()=>{P({start_date:"",end_date:"",reason:""})},F=W=>{k(W),P({start_date:W.start_date,end_date:W.end_date,reason:W.reason||""})},H=W=>{const V=new Date,K=new Date(W.start_date),q=new Date(W.end_date);return Wie(q)?"past":Uie(K)?"upcoming":Vie(V,{start:K,end:q})?"active":"unknown"},B=c.filter(W=>H(W)==="upcoming"),$=c.filter(W=>H(W)==="active"),G=c.filter(W=>H(W)==="past");return i||p?o.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx("header",{className:"sticky top-0 z-50 bg-card border-b border-border",children:o.jsxs("div",{className:"container mx-auto px-4 h-16 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(Se,{variant:"ghost",size:"icon",onClick:()=>a(-1),children:o.jsx(ff,{className:"w-5 h-5"})}),o.jsxs(Rt,{to:"/",className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-10 h-10 gradient-primary rounded-xl flex items-center justify-center",children:o.jsx(Qt,{className:"w-5 h-5 text-primary-foreground"})}),o.jsxs("span",{className:"text-lg font-display font-bold text-foreground",children:["Salon",o.jsx("span",{className:"text-primary",children:"Manager"})]})]})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(Rr,{}),o.jsx(Mr,{}),o.jsxs(Se,{variant:"ghost",size:"sm",onClick:r,children:[o.jsx(wo,{className:"w-4 h-4 mr-2"}),e("nav.logout")]})]})]})}),o.jsxs("main",{className:"container mx-auto px-4 py-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h1",{className:"text-2xl font-display font-bold text-foreground",children:e("closures.title")}),o.jsxs(fr,{open:_,onOpenChange:b,children:[o.jsx(wp,{asChild:!0,children:o.jsxs(Se,{onClick:U,children:[o.jsx(Od,{className:"w-4 h-4 mr-2"}),e("closures.addClosure")]})}),o.jsxs(Gn,{children:[o.jsx(Yn,{children:o.jsx(Zn,{children:e("closures.addClosure")})}),o.jsxs("div",{className:"space-y-4 pt-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(Pe,{children:e("dashboard.startDate")}),o.jsx(ke,{type:"date",value:E.start_date,onChange:W=>P({...E,start_date:W.target.value})})]}),o.jsxs("div",{children:[o.jsx(Pe,{children:e("dashboard.endDate")}),o.jsx(ke,{type:"date",value:E.end_date,onChange:W=>P({...E,end_date:W.target.value})})]})]}),o.jsxs("div",{children:[o.jsx(Pe,{children:e("closures.reason")}),o.jsx(Wi,{value:E.reason,onChange:W=>P({...E,reason:W.target.value}),placeholder:e("closures.reasonPlaceholder"),rows:3})]}),o.jsx(Se,{onClick:O,className:"w-full",children:e("common.create")})]})]})]})]}),$.length>0&&o.jsxs("div",{className:"mb-8",children:[o.jsxs("h2",{className:"text-lg font-semibold text-rose mb-4 flex items-center gap-2",children:[o.jsx(C9,{className:"w-5 h-5"}),e("closures.currentlyClosed")]}),o.jsx("div",{className:"grid gap-4",children:$.map(W=>o.jsx(Je,{className:"border-rose bg-rose/5",children:o.jsx(et,{className:"py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs("p",{className:"font-medium text-foreground",children:[Le(new Date(W.start_date),"d. MMMM yyyy",{locale:l})," - ",Le(new Date(W.end_date),"d. MMMM yyyy",{locale:l})]}),W.reason&&o.jsx("p",{className:"text-sm text-muted-foreground",children:W.reason})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(Se,{variant:"ghost",size:"icon",onClick:()=>F(W),children:o.jsx(Cd,{className:"w-4 h-4"})}),o.jsx(Se,{variant:"ghost",size:"icon",onClick:()=>M(W.id),children:o.jsx(uo,{className:"w-4 h-4 text-rose"})})]})]})})},W.id))})]}),o.jsxs("div",{className:"mb-8",children:[o.jsx("h2",{className:"text-lg font-semibold text-foreground mb-4",children:e("closures.upcoming")}),B.length===0?o.jsx(Je,{className:"border-border",children:o.jsx(et,{className:"py-8 text-center text-muted-foreground",children:e("closures.noUpcoming")})}):o.jsx("div",{className:"grid gap-4",children:B.map(W=>o.jsx(Je,{className:"border-border",children:o.jsx(et,{className:"py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs("p",{className:"font-medium text-foreground",children:[Le(new Date(W.start_date),"d. MMMM yyyy",{locale:l})," - ",Le(new Date(W.end_date),"d. MMMM yyyy",{locale:l})]}),W.reason&&o.jsx("p",{className:"text-sm text-muted-foreground",children:W.reason})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(Se,{variant:"ghost",size:"icon",onClick:()=>F(W),children:o.jsx(Cd,{className:"w-4 h-4"})}),o.jsx(Se,{variant:"ghost",size:"icon",onClick:()=>M(W.id),children:o.jsx(uo,{className:"w-4 h-4 text-rose"})})]})]})})},W.id))})]}),G.length>0&&o.jsxs("div",{children:[o.jsx("h2",{className:"text-lg font-semibold text-muted-foreground mb-4",children:e("closures.past")}),o.jsx("div",{className:"grid gap-4 opacity-60",children:G.slice(0,5).map(W=>o.jsx(Je,{className:"border-border",children:o.jsx(et,{className:"py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs("p",{className:"font-medium text-foreground",children:[Le(new Date(W.start_date),"d. MMMM yyyy",{locale:l})," - ",Le(new Date(W.end_date),"d. MMMM yyyy",{locale:l})]}),W.reason&&o.jsx("p",{className:"text-sm text-muted-foreground",children:W.reason})]}),o.jsx(Se,{variant:"ghost",size:"icon",onClick:()=>M(W.id),children:o.jsx(uo,{className:"w-4 h-4 text-rose"})})]})})},W.id))})]}),o.jsx(fr,{open:!!w,onOpenChange:W=>!W&&k(null),children:o.jsxs(Gn,{children:[o.jsx(Yn,{children:o.jsx(Zn,{children:e("closures.editClosure")})}),o.jsxs("div",{className:"space-y-4 pt-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(Pe,{children:e("dashboard.startDate")}),o.jsx(ke,{type:"date",value:E.start_date,onChange:W=>P({...E,start_date:W.target.value})})]}),o.jsxs("div",{children:[o.jsx(Pe,{children:e("dashboard.endDate")}),o.jsx(ke,{type:"date",value:E.end_date,onChange:W=>P({...E,end_date:W.target.value})})]})]}),o.jsxs("div",{children:[o.jsx(Pe,{children:e("closures.reason")}),o.jsx(Wi,{value:E.reason,onChange:W=>P({...E,reason:W.target.value}),rows:3})]}),o.jsx(Se,{onClick:R,className:"w-full",children:e("common.save")})]})]})})]})]})};var ht=function(){return ht=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},ht.apply(this,arguments)};function CSe(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function OH(e,t,n){for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}function Em(e){return e.mode==="multiple"}function Cm(e){return e.mode==="range"}function Rb(e){return e.mode==="single"}var OSe={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function TSe(e,t){return Le(e,"LLLL y",t)}function ASe(e,t){return Le(e,"d",t)}function RSe(e,t){return Le(e,"LLLL",t)}function MSe(e){return"".concat(e)}function DSe(e,t){return Le(e,"cccccc",t)}function ISe(e,t){return Le(e,"yyyy",t)}var LSe=Object.freeze({__proto__:null,formatCaption:TSe,formatDay:ASe,formatMonthCaption:RSe,formatWeekNumber:MSe,formatWeekdayName:DSe,formatYearCaption:ISe}),$Se=function(e,t,n){return Le(e,"do MMMM (EEEE)",n)},BSe=function(){return"Month: "},FSe=function(){return"Go to next month"},zSe=function(){return"Go to previous month"},qSe=function(e,t){return Le(e,"cccc",t)},USe=function(e){return"Week n. ".concat(e)},WSe=function(){return"Year: "},HSe=Object.freeze({__proto__:null,labelDay:$Se,labelMonthDropdown:BSe,labelNext:FSe,labelPrevious:zSe,labelWeekNumber:USe,labelWeekday:qSe,labelYearDropdown:WSe});function VSe(){var e="buttons",t=OSe,n=Cn,r={},i={},a=1,s={},l=new Date;return{captionLayout:e,classNames:t,formatters:LSe,labels:HSe,locale:n,modifiersClassNames:r,modifiers:i,numberOfMonths:a,styles:s,today:l,mode:"default"}}function KSe(e){var t=e.fromYear,n=e.toYear,r=e.fromMonth,i=e.toMonth,a=e.fromDate,s=e.toDate;return r?a=Yr(r):t&&(a=new Date(t,0,1)),i?s=gm(i):n&&(s=new Date(n,11,31)),{fromDate:a?Ic(a):void 0,toDate:s?Ic(s):void 0}}var TH=S.createContext(void 0);function GSe(e){var t,n=e.initialProps,r=VSe(),i=KSe(n),a=i.fromDate,s=i.toDate,l=(t=n.captionLayout)!==null&&t!==void 0?t:r.captionLayout;l!=="buttons"&&(!a||!s)&&(l="buttons");var c;(Rb(n)||Em(n)||Cm(n))&&(c=n.onSelect);var f=ht(ht(ht({},r),n),{captionLayout:l,classNames:ht(ht({},r.classNames),n.classNames),components:ht({},n.components),formatters:ht(ht({},r.formatters),n.formatters),fromDate:a,labels:ht(ht({},r.labels),n.labels),mode:n.mode||r.mode,modifiers:ht(ht({},r.modifiers),n.modifiers),modifiersClassNames:ht(ht({},r.modifiersClassNames),n.modifiersClassNames),onSelect:c,styles:ht(ht({},r.styles),n.styles),toDate:s});return o.jsx(TH.Provider,{value:f,children:e.children})}function mn(){var e=S.useContext(TH);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function AH(e){var t=mn(),n=t.locale,r=t.classNames,i=t.styles,a=t.formatters.formatCaption;return o.jsx("div",{className:r.caption_label,style:i.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:a(e.displayMonth,{locale:n})})}function YSe(e){return o.jsx("svg",ht({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:o.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function RH(e){var t,n,r=e.onChange,i=e.value,a=e.children,s=e.caption,l=e.className,c=e.style,f=mn(),p=(n=(t=f.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&n!==void 0?n:YSe;return o.jsxs("div",{className:l,style:c,children:[o.jsx("span",{className:f.classNames.vhidden,children:e["aria-label"]}),o.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:f.classNames.dropdown,style:f.styles.dropdown,value:i,onChange:r,children:a}),o.jsxs("div",{className:f.classNames.caption_label,style:f.styles.caption_label,"aria-hidden":"true",children:[s,o.jsx(p,{className:f.classNames.dropdown_icon,style:f.styles.dropdown_icon})]})]})}function ZSe(e){var t,n=mn(),r=n.fromDate,i=n.toDate,a=n.styles,s=n.locale,l=n.formatters.formatMonthCaption,c=n.classNames,f=n.components,p=n.labels.labelMonthDropdown;if(!r)return o.jsx(o.Fragment,{});if(!i)return o.jsx(o.Fragment,{});var m=[];if(Hie(r,i))for(var v=Yr(r),x=r.getMonth();x<=i.getMonth();x++)m.push(Fw(v,x));else for(var v=Yr(new Date),x=0;x<=11;x++)m.push(Fw(v,x));var _=function(w){var k=Number(w.target.value),E=Fw(Yr(e.displayMonth),k);e.onChange(E)},b=(t=f?.Dropdown)!==null&&t!==void 0?t:RH;return o.jsx(b,{name:"months","aria-label":p(),className:c.dropdown_month,style:a.dropdown_month,onChange:_,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:s}),children:m.map(function(w){return o.jsx("option",{value:w.getMonth(),children:l(w,{locale:s})},w.getMonth())})})}function XSe(e){var t,n=e.displayMonth,r=mn(),i=r.fromDate,a=r.toDate,s=r.locale,l=r.styles,c=r.classNames,f=r.components,p=r.formatters.formatYearCaption,m=r.labels.labelYearDropdown,v=[];if(!i)return o.jsx(o.Fragment,{});if(!a)return o.jsx(o.Fragment,{});for(var x=i.getFullYear(),_=a.getFullYear(),b=x;b<=_;b++)v.push(tR(Mz(new Date),b));var w=function(E){var P=tR(Yr(n),Number(E.target.value));e.onChange(P)},k=(t=f?.Dropdown)!==null&&t!==void 0?t:RH;return o.jsx(k,{name:"years","aria-label":m(),className:c.dropdown_year,style:l.dropdown_year,onChange:w,value:n.getFullYear(),caption:p(n,{locale:s}),children:v.map(function(E){return o.jsx("option",{value:E.getFullYear(),children:p(E,{locale:s})},E.getFullYear())})})}function QSe(e,t){var n=S.useState(e),r=n[0],i=n[1],a=t===void 0?r:t;return[a,i]}function JSe(e){var t=e.month,n=e.defaultMonth,r=e.today,i=t||n||r||new Date,a=e.toDate,s=e.fromDate,l=e.numberOfMonths,c=l===void 0?1:l;if(a&&xp(a,i)<0){var f=-1*(c-1);i=Gi(a,f)}return s&&xp(i,s)<0&&(i=s),Yr(i)}function eje(){var e=mn(),t=JSe(e),n=QSe(t,e.month),r=n[0],i=n[1],a=function(s){var l;if(!e.disableNavigation){var c=Yr(s);i(c),(l=e.onMonthChange)===null||l===void 0||l.call(e,c)}};return[r,a]}function tje(e,t){for(var n=t.reverseMonths,r=t.numberOfMonths,i=Yr(e),a=Yr(Gi(i,r)),s=xp(a,i),l=[],c=0;c<s;c++){var f=Gi(i,c);l.push(f)}return n&&(l=l.reverse()),l}function nje(e,t){if(!t.disableNavigation){var n=t.toDate,r=t.pagedNavigation,i=t.numberOfMonths,a=i===void 0?1:i,s=r?a:1,l=Yr(e);if(!n)return Gi(l,s);var c=xp(n,e);if(!(c<a))return Gi(l,s)}}function rje(e,t){if(!t.disableNavigation){var n=t.fromDate,r=t.pagedNavigation,i=t.numberOfMonths,a=i===void 0?1:i,s=r?a:1,l=Yr(e);if(!n)return Gi(l,-s);var c=xp(l,n);if(!(c<=0))return Gi(l,-s)}}var MH=S.createContext(void 0);function ije(e){var t=mn(),n=eje(),r=n[0],i=n[1],a=tje(r,t),s=nje(r,t),l=rje(r,t),c=function(m){return a.some(function(v){return Bx(m,v)})},f=function(m,v){c(m)||(v&&ul(m,v)?i(Gi(m,1+t.numberOfMonths*-1)):i(m))},p={currentMonth:r,displayMonths:a,goToMonth:i,goToDate:f,previousMonth:l,nextMonth:s,isDateDisplayed:c};return o.jsx(MH.Provider,{value:p,children:e.children})}function Om(){var e=S.useContext(MH);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function vB(e){var t,n=mn(),r=n.classNames,i=n.styles,a=n.components,s=Om().goToMonth,l=function(p){s(Gi(p,e.displayIndex?-e.displayIndex:0))},c=(t=a?.CaptionLabel)!==null&&t!==void 0?t:AH,f=o.jsx(c,{id:e.id,displayMonth:e.displayMonth});return o.jsxs("div",{className:r.caption_dropdowns,style:i.caption_dropdowns,children:[o.jsx("div",{className:r.vhidden,children:f}),o.jsx(ZSe,{onChange:l,displayMonth:e.displayMonth}),o.jsx(XSe,{onChange:l,displayMonth:e.displayMonth})]})}function aje(e){return o.jsx("svg",ht({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:o.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function sje(e){return o.jsx("svg",ht({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:o.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var cx=S.forwardRef(function(e,t){var n=mn(),r=n.classNames,i=n.styles,a=[r.button_reset,r.button];e.className&&a.push(e.className);var s=a.join(" "),l=ht(ht({},i.button_reset),i.button);return e.style&&Object.assign(l,e.style),o.jsx("button",ht({},e,{ref:t,type:"button",className:s,style:l}))});function oje(e){var t,n,r=mn(),i=r.dir,a=r.locale,s=r.classNames,l=r.styles,c=r.labels,f=c.labelPrevious,p=c.labelNext,m=r.components;if(!e.nextMonth&&!e.previousMonth)return o.jsx(o.Fragment,{});var v=f(e.previousMonth,{locale:a}),x=[s.nav_button,s.nav_button_previous].join(" "),_=p(e.nextMonth,{locale:a}),b=[s.nav_button,s.nav_button_next].join(" "),w=(t=m?.IconRight)!==null&&t!==void 0?t:sje,k=(n=m?.IconLeft)!==null&&n!==void 0?n:aje;return o.jsxs("div",{className:s.nav,style:l.nav,children:[!e.hidePrevious&&o.jsx(cx,{name:"previous-month","aria-label":v,className:x,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:i==="rtl"?o.jsx(w,{className:s.nav_icon,style:l.nav_icon}):o.jsx(k,{className:s.nav_icon,style:l.nav_icon})}),!e.hideNext&&o.jsx(cx,{name:"next-month","aria-label":_,className:b,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:i==="rtl"?o.jsx(k,{className:s.nav_icon,style:l.nav_icon}):o.jsx(w,{className:s.nav_icon,style:l.nav_icon})})]})}function yB(e){var t=mn().numberOfMonths,n=Om(),r=n.previousMonth,i=n.nextMonth,a=n.goToMonth,s=n.displayMonths,l=s.findIndex(function(_){return Bx(e.displayMonth,_)}),c=l===0,f=l===s.length-1,p=t>1&&(c||!f),m=t>1&&(f||!c),v=function(){r&&a(r)},x=function(){i&&a(i)};return o.jsx(oje,{displayMonth:e.displayMonth,hideNext:p,hidePrevious:m,nextMonth:i,previousMonth:r,onPreviousClick:v,onNextClick:x})}function lje(e){var t,n=mn(),r=n.classNames,i=n.disableNavigation,a=n.styles,s=n.captionLayout,l=n.components,c=(t=l?.CaptionLabel)!==null&&t!==void 0?t:AH,f;return i?f=o.jsx(c,{id:e.id,displayMonth:e.displayMonth}):s==="dropdown"?f=o.jsx(vB,{displayMonth:e.displayMonth,id:e.id}):s==="dropdown-buttons"?f=o.jsxs(o.Fragment,{children:[o.jsx(vB,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),o.jsx(yB,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):f=o.jsxs(o.Fragment,{children:[o.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),o.jsx(yB,{displayMonth:e.displayMonth,id:e.id})]}),o.jsx("div",{className:r.caption,style:a.caption,children:f})}function cje(e){var t=mn(),n=t.footer,r=t.styles,i=t.classNames.tfoot;return n?o.jsx("tfoot",{className:i,style:r.tfoot,children:o.jsx("tr",{children:o.jsx("td",{colSpan:8,children:n})})}):o.jsx(o.Fragment,{})}function uje(e,t,n){for(var r=n?Dc(new Date):Gr(new Date,{locale:e,weekStartsOn:t}),i=[],a=0;a<7;a++){var s=cr(r,a);i.push(s)}return i}function dje(){var e=mn(),t=e.classNames,n=e.styles,r=e.showWeekNumber,i=e.locale,a=e.weekStartsOn,s=e.ISOWeek,l=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,f=uje(i,a,s);return o.jsxs("tr",{style:n.head_row,className:t.head_row,children:[r&&o.jsx("td",{style:n.head_cell,className:t.head_cell}),f.map(function(p,m){return o.jsx("th",{scope:"col",className:t.head_cell,style:n.head_cell,"aria-label":c(p,{locale:i}),children:l(p,{locale:i})},m)})]})}function fje(){var e,t=mn(),n=t.classNames,r=t.styles,i=t.components,a=(e=i?.HeadRow)!==null&&e!==void 0?e:dje;return o.jsx("thead",{style:r.head,className:n.head,children:o.jsx(a,{})})}function hje(e){var t=mn(),n=t.locale,r=t.formatters.formatDay;return o.jsx(o.Fragment,{children:r(e.date,{locale:n})})}var ZC=S.createContext(void 0);function pje(e){if(!Em(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return o.jsx(ZC.Provider,{value:t,children:e.children})}return o.jsx(mje,{initialProps:e.initialProps,children:e.children})}function mje(e){var t=e.initialProps,n=e.children,r=t.selected,i=t.min,a=t.max,s=function(f,p,m){var v,x;(v=t.onDayClick)===null||v===void 0||v.call(t,f,p,m);var _=!!(p.selected&&i&&r?.length===i);if(!_){var b=!!(!p.selected&&a&&r?.length===a);if(!b){var w=r?OH([],r):[];if(p.selected){var k=w.findIndex(function(E){return Kn(f,E)});w.splice(k,1)}else w.push(f);(x=t.onSelect)===null||x===void 0||x.call(t,w,f,p,m)}}},l={disabled:[]};r&&l.disabled.push(function(f){var p=a&&r.length>a-1,m=r.some(function(v){return Kn(v,f)});return!!(p&&!m)});var c={selected:r,onDayClick:s,modifiers:l};return o.jsx(ZC.Provider,{value:c,children:n})}function XC(){var e=S.useContext(ZC);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function gje(e,t){var n=t||{},r=n.from,i=n.to;return r&&i?Kn(i,e)&&Kn(r,e)?void 0:Kn(i,e)?{from:i,to:void 0}:Kn(r,e)?void 0:YN(r,e)?{from:e,to:i}:{from:r,to:e}:i?YN(e,i)?{from:i,to:e}:{from:e,to:i}:r?ul(e,r)?{from:e,to:r}:{from:r,to:e}:{from:e,to:void 0}}var QC=S.createContext(void 0);function vje(e){if(!Cm(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return o.jsx(QC.Provider,{value:t,children:e.children})}return o.jsx(yje,{initialProps:e.initialProps,children:e.children})}function yje(e){var t=e.initialProps,n=e.children,r=t.selected,i=r||{},a=i.from,s=i.to,l=t.min,c=t.max,f=function(x,_,b){var w,k;(w=t.onDayClick)===null||w===void 0||w.call(t,x,_,b);var E=gje(x,r);(k=t.onSelect)===null||k===void 0||k.call(t,E,x,_,b)},p={range_start:[],range_end:[],range_middle:[],disabled:[]};if(a?(p.range_start=[a],s?(p.range_end=[s],Kn(a,s)||(p.range_middle=[{after:a,before:s}])):p.range_end=[a]):s&&(p.range_start=[s],p.range_end=[s]),l&&(a&&!s&&p.disabled.push({after:$w(a,l-1),before:cr(a,l-1)}),a&&s&&p.disabled.push({after:a,before:cr(a,l-1)}),!a&&s&&p.disabled.push({after:$w(s,l-1),before:cr(s,l-1)})),c){if(a&&!s&&(p.disabled.push({before:cr(a,-c+1)}),p.disabled.push({after:cr(a,c-1)})),a&&s){var m=gs(s,a)+1,v=c-m;p.disabled.push({before:$w(a,v)}),p.disabled.push({after:cr(s,v)})}!a&&s&&(p.disabled.push({before:cr(s,-c+1)}),p.disabled.push({after:cr(s,c-1)}))}return o.jsx(QC.Provider,{value:{selected:r,onDayClick:f,modifiers:p},children:n})}function JC(){var e=S.useContext(QC);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function Fv(e){return Array.isArray(e)?OH([],e):e!==void 0?[e]:[]}function xje(e){var t={};return Object.entries(e).forEach(function(n){var r=n[0],i=n[1];t[r]=Fv(i)}),t}var Za;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(Za||(Za={}));var bje=Za.Selected,no=Za.Disabled,wje=Za.Hidden,_je=Za.Today,Jj=Za.RangeEnd,eN=Za.RangeMiddle,tN=Za.RangeStart,Sje=Za.Outside;function jje(e,t,n){var r,i=(r={},r[bje]=Fv(e.selected),r[no]=Fv(e.disabled),r[wje]=Fv(e.hidden),r[_je]=[e.today],r[Jj]=[],r[eN]=[],r[tN]=[],r[Sje]=[],r);return e.fromDate&&i[no].push({before:e.fromDate}),e.toDate&&i[no].push({after:e.toDate}),Em(e)?i[no]=i[no].concat(t.modifiers[no]):Cm(e)&&(i[no]=i[no].concat(n.modifiers[no]),i[tN]=n.modifiers[tN],i[eN]=n.modifiers[eN],i[Jj]=n.modifiers[Jj]),i}var DH=S.createContext(void 0);function Nje(e){var t=mn(),n=XC(),r=JC(),i=jje(t,n,r),a=xje(t.modifiers),s=ht(ht({},i),a);return o.jsx(DH.Provider,{value:s,children:e.children})}function IH(){var e=S.useContext(DH);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function Pje(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function kje(e){return!!(e&&typeof e=="object"&&"from"in e)}function Eje(e){return!!(e&&typeof e=="object"&&"after"in e)}function Cje(e){return!!(e&&typeof e=="object"&&"before"in e)}function Oje(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function Tje(e,t){var n,r=t.from,i=t.to;if(r&&i){var a=gs(i,r)<0;a&&(n=[i,r],r=n[0],i=n[1]);var s=gs(e,r)>=0&&gs(i,e)>=0;return s}return i?Kn(i,e):r?Kn(r,e):!1}function Aje(e){return jE(e)}function Rje(e){return Array.isArray(e)&&e.every(jE)}function Mje(e,t){return t.some(function(n){if(typeof n=="boolean")return n;if(Aje(n))return Kn(e,n);if(Rje(n))return n.includes(e);if(kje(n))return Tje(e,n);if(Oje(n))return n.dayOfWeek.includes(e.getDay());if(Pje(n)){var r=gs(n.before,e),i=gs(n.after,e),a=r>0,s=i<0,l=YN(n.before,n.after);return l?s&&a:a||s}return Eje(n)?gs(e,n.after)>0:Cje(n)?gs(n.before,e)>0:typeof n=="function"?n(e):!1})}function eO(e,t,n){var r=Object.keys(t).reduce(function(a,s){var l=t[s];return Mje(e,l)&&a.push(s),a},[]),i={};return r.forEach(function(a){return i[a]=!0}),n&&!Bx(e,n)&&(i.outside=!0),i}function Dje(e,t){for(var n=Yr(e[0]),r=gm(e[e.length-1]),i,a,s=n;s<=r;){var l=eO(s,t),c=!l.disabled&&!l.hidden;if(!c){s=cr(s,1);continue}if(l.selected)return s;l.today&&!a&&(a=s),i||(i=s),s=cr(s,1)}return a||i}var Ije=365;function LH(e,t){var n=t.moveBy,r=t.direction,i=t.context,a=t.modifiers,s=t.retry,l=s===void 0?{count:0,lastFocused:e}:s,c=i.weekStartsOn,f=i.fromDate,p=i.toDate,m=i.locale,v={day:cr,week:Lc,month:Gi,year:Ire,startOfWeek:function(w){return i.ISOWeek?Dc(w):Gr(w,{locale:m,weekStartsOn:c})},endOfWeek:function(w){return i.ISOWeek?Dz(w):yl(w,{locale:m,weekStartsOn:c})}},x=v[n](e,r==="after"?1:-1);r==="before"&&f?x=Lre([f,x]):r==="after"&&p&&(x=$re([p,x]));var _=!0;if(a){var b=eO(x,a);_=!b.disabled&&!b.hidden}return _?x:l.count>Ije?l.lastFocused:LH(x,{moveBy:n,direction:r,context:i,modifiers:a,retry:ht(ht({},l),{count:l.count+1})})}var $H=S.createContext(void 0);function Lje(e){var t=Om(),n=IH(),r=S.useState(),i=r[0],a=r[1],s=S.useState(),l=s[0],c=s[1],f=Dje(t.displayMonths,n),p=i??(l&&t.isDateDisplayed(l))?l:f,m=function(){c(i),a(void 0)},v=function(w){a(w)},x=mn(),_=function(w,k){if(i){var E=LH(i,{moveBy:w,direction:k,context:x,modifiers:n});Kn(i,E)||(t.goToDate(E,i),v(E))}},b={focusedDay:i,focusTarget:p,blur:m,focus:v,focusDayAfter:function(){return _("day","after")},focusDayBefore:function(){return _("day","before")},focusWeekAfter:function(){return _("week","after")},focusWeekBefore:function(){return _("week","before")},focusMonthBefore:function(){return _("month","before")},focusMonthAfter:function(){return _("month","after")},focusYearBefore:function(){return _("year","before")},focusYearAfter:function(){return _("year","after")},focusStartOfWeek:function(){return _("startOfWeek","before")},focusEndOfWeek:function(){return _("endOfWeek","after")}};return o.jsx($H.Provider,{value:b,children:e.children})}function tO(){var e=S.useContext($H);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function $je(e,t){var n=IH(),r=eO(e,n,t);return r}var nO=S.createContext(void 0);function Bje(e){if(!Rb(e.initialProps)){var t={selected:void 0};return o.jsx(nO.Provider,{value:t,children:e.children})}return o.jsx(Fje,{initialProps:e.initialProps,children:e.children})}function Fje(e){var t=e.initialProps,n=e.children,r=function(a,s,l){var c,f,p;if((c=t.onDayClick)===null||c===void 0||c.call(t,a,s,l),s.selected&&!t.required){(f=t.onSelect)===null||f===void 0||f.call(t,void 0,a,s,l);return}(p=t.onSelect)===null||p===void 0||p.call(t,a,a,s,l)},i={selected:t.selected,onDayClick:r};return o.jsx(nO.Provider,{value:i,children:n})}function BH(){var e=S.useContext(nO);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function zje(e,t){var n=mn(),r=BH(),i=XC(),a=JC(),s=tO(),l=s.focusDayAfter,c=s.focusDayBefore,f=s.focusWeekAfter,p=s.focusWeekBefore,m=s.blur,v=s.focus,x=s.focusMonthBefore,_=s.focusMonthAfter,b=s.focusYearBefore,w=s.focusYearAfter,k=s.focusStartOfWeek,E=s.focusEndOfWeek,P=function(q){var D,Q,ne,J;Rb(n)?(D=r.onDayClick)===null||D===void 0||D.call(r,e,t,q):Em(n)?(Q=i.onDayClick)===null||Q===void 0||Q.call(i,e,t,q):Cm(n)?(ne=a.onDayClick)===null||ne===void 0||ne.call(a,e,t,q):(J=n.onDayClick)===null||J===void 0||J.call(n,e,t,q)},C=function(q){var D;v(e),(D=n.onDayFocus)===null||D===void 0||D.call(n,e,t,q)},O=function(q){var D;m(),(D=n.onDayBlur)===null||D===void 0||D.call(n,e,t,q)},R=function(q){var D;(D=n.onDayMouseEnter)===null||D===void 0||D.call(n,e,t,q)},M=function(q){var D;(D=n.onDayMouseLeave)===null||D===void 0||D.call(n,e,t,q)},U=function(q){var D;(D=n.onDayPointerEnter)===null||D===void 0||D.call(n,e,t,q)},F=function(q){var D;(D=n.onDayPointerLeave)===null||D===void 0||D.call(n,e,t,q)},H=function(q){var D;(D=n.onDayTouchCancel)===null||D===void 0||D.call(n,e,t,q)},B=function(q){var D;(D=n.onDayTouchEnd)===null||D===void 0||D.call(n,e,t,q)},$=function(q){var D;(D=n.onDayTouchMove)===null||D===void 0||D.call(n,e,t,q)},G=function(q){var D;(D=n.onDayTouchStart)===null||D===void 0||D.call(n,e,t,q)},W=function(q){var D;(D=n.onDayKeyUp)===null||D===void 0||D.call(n,e,t,q)},V=function(q){var D;switch(q.key){case"ArrowLeft":q.preventDefault(),q.stopPropagation(),n.dir==="rtl"?l():c();break;case"ArrowRight":q.preventDefault(),q.stopPropagation(),n.dir==="rtl"?c():l();break;case"ArrowDown":q.preventDefault(),q.stopPropagation(),f();break;case"ArrowUp":q.preventDefault(),q.stopPropagation(),p();break;case"PageUp":q.preventDefault(),q.stopPropagation(),q.shiftKey?b():x();break;case"PageDown":q.preventDefault(),q.stopPropagation(),q.shiftKey?w():_();break;case"Home":q.preventDefault(),q.stopPropagation(),k();break;case"End":q.preventDefault(),q.stopPropagation(),E();break}(D=n.onDayKeyDown)===null||D===void 0||D.call(n,e,t,q)},K={onClick:P,onFocus:C,onBlur:O,onKeyDown:V,onKeyUp:W,onMouseEnter:R,onMouseLeave:M,onPointerEnter:U,onPointerLeave:F,onTouchCancel:H,onTouchEnd:B,onTouchMove:$,onTouchStart:G};return K}function qje(){var e=mn(),t=BH(),n=XC(),r=JC(),i=Rb(e)?t.selected:Em(e)?n.selected:Cm(e)?r.selected:void 0;return i}function Uje(e){return Object.values(Za).includes(e)}function Wje(e,t){var n=[e.classNames.day];return Object.keys(t).forEach(function(r){var i=e.modifiersClassNames[r];if(i)n.push(i);else if(Uje(r)){var a=e.classNames["day_".concat(r)];a&&n.push(a)}}),n}function Hje(e,t){var n=ht({},e.styles.day);return Object.keys(t).forEach(function(r){var i;n=ht(ht({},n),(i=e.modifiersStyles)===null||i===void 0?void 0:i[r])}),n}function Vje(e,t,n){var r,i,a,s=mn(),l=tO(),c=$je(e,t),f=zje(e,c),p=qje(),m=!!(s.onDayClick||s.mode!=="default");S.useEffect(function(){var R;c.outside||l.focusedDay&&m&&Kn(l.focusedDay,e)&&((R=n.current)===null||R===void 0||R.focus())},[l.focusedDay,e,n,m,c.outside]);var v=Wje(s,c).join(" "),x=Hje(s,c),_=!!(c.outside&&!s.showOutsideDays||c.hidden),b=(a=(i=s.components)===null||i===void 0?void 0:i.DayContent)!==null&&a!==void 0?a:hje,w=o.jsx(b,{date:e,displayMonth:t,activeModifiers:c}),k={style:x,className:v,children:w,role:"gridcell"},E=l.focusTarget&&Kn(l.focusTarget,e)&&!c.outside,P=l.focusedDay&&Kn(l.focusedDay,e),C=ht(ht(ht({},k),(r={disabled:c.disabled,role:"gridcell"},r["aria-selected"]=c.selected,r.tabIndex=P||E?0:-1,r)),f),O={isButton:m,isHidden:_,activeModifiers:c,selectedDays:p,buttonProps:C,divProps:k};return O}function Kje(e){var t=S.useRef(null),n=Vje(e.date,e.displayMonth,t);return n.isHidden?o.jsx("div",{role:"gridcell"}):n.isButton?o.jsx(cx,ht({name:"day",ref:t},n.buttonProps)):o.jsx("div",ht({},n.divProps))}function Gje(e){var t=e.number,n=e.dates,r=mn(),i=r.onWeekNumberClick,a=r.styles,s=r.classNames,l=r.locale,c=r.labels.labelWeekNumber,f=r.formatters.formatWeekNumber,p=f(Number(t),{locale:l});if(!i)return o.jsx("span",{className:s.weeknumber,style:a.weeknumber,children:p});var m=c(Number(t),{locale:l}),v=function(x){i(t,n,x)};return o.jsx(cx,{name:"week-number","aria-label":m,className:s.weeknumber,style:a.weeknumber,onClick:v,children:p})}function Yje(e){var t,n,r=mn(),i=r.styles,a=r.classNames,s=r.showWeekNumber,l=r.components,c=(t=l?.Day)!==null&&t!==void 0?t:Kje,f=(n=l?.WeekNumber)!==null&&n!==void 0?n:Gje,p;return s&&(p=o.jsx("td",{className:a.cell,style:i.cell,children:o.jsx(f,{number:e.weekNumber,dates:e.dates})})),o.jsxs("tr",{className:a.row,style:i.row,children:[p,e.dates.map(function(m){return o.jsx("td",{className:a.cell,style:i.cell,role:"presentation",children:o.jsx(c,{displayMonth:e.displayMonth,date:m})},Fie(m))})]})}function xB(e,t,n){for(var r=n?.ISOWeek?Dz(t):yl(t,n),i=n?.ISOWeek?Dc(e):Gr(e,n),a=gs(r,i),s=[],l=0;l<=a;l++)s.push(cr(i,l));var c=s.reduce(function(f,p){var m=n?.ISOWeek?Lz(p):Bz(p,n),v=f.find(function(x){return x.weekNumber===m});return v?(v.dates.push(p),f):(f.push({weekNumber:m,dates:[p]}),f)},[]);return c}function Zje(e,t){var n=xB(Yr(e),gm(e),t);if(t?.useFixedWeeks){var r=qie(e,t);if(r<6){var i=n[n.length-1],a=i.dates[i.dates.length-1],s=Lc(a,6-r),l=xB(Lc(a,1),s,t);n.push.apply(n,l)}}return n}function Xje(e){var t,n,r,i=mn(),a=i.locale,s=i.classNames,l=i.styles,c=i.hideHead,f=i.fixedWeeks,p=i.components,m=i.weekStartsOn,v=i.firstWeekContainsDate,x=i.ISOWeek,_=Zje(e.displayMonth,{useFixedWeeks:!!f,ISOWeek:x,locale:a,weekStartsOn:m,firstWeekContainsDate:v}),b=(t=p?.Head)!==null&&t!==void 0?t:fje,w=(n=p?.Row)!==null&&n!==void 0?n:Yje,k=(r=p?.Footer)!==null&&r!==void 0?r:cje;return o.jsxs("table",{id:e.id,className:s.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&o.jsx(b,{}),o.jsx("tbody",{className:s.tbody,style:l.tbody,children:_.map(function(E){return o.jsx(w,{displayMonth:e.displayMonth,dates:E.dates,weekNumber:E.weekNumber},E.weekNumber)})}),o.jsx(k,{displayMonth:e.displayMonth})]})}function Qje(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var Jje=Qje()?S.useLayoutEffect:S.useEffect,nN=!1,eNe=0;function bB(){return"react-day-picker-".concat(++eNe)}function tNe(e){var t,n=e??(nN?bB():null),r=S.useState(n),i=r[0],a=r[1];return Jje(function(){i===null&&a(bB())},[]),S.useEffect(function(){nN===!1&&(nN=!0)},[]),(t=e??i)!==null&&t!==void 0?t:void 0}function nNe(e){var t,n,r=mn(),i=r.dir,a=r.classNames,s=r.styles,l=r.components,c=Om().displayMonths,f=tNe(r.id?"".concat(r.id,"-").concat(e.displayIndex):void 0),p=r.id?"".concat(r.id,"-grid-").concat(e.displayIndex):void 0,m=[a.month],v=s.month,x=e.displayIndex===0,_=e.displayIndex===c.length-1,b=!x&&!_;i==="rtl"&&(t=[x,_],_=t[0],x=t[1]),x&&(m.push(a.caption_start),v=ht(ht({},v),s.caption_start)),_&&(m.push(a.caption_end),v=ht(ht({},v),s.caption_end)),b&&(m.push(a.caption_between),v=ht(ht({},v),s.caption_between));var w=(n=l?.Caption)!==null&&n!==void 0?n:lje;return o.jsxs("div",{className:m.join(" "),style:v,children:[o.jsx(w,{id:f,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),o.jsx(Xje,{id:p,"aria-labelledby":f,displayMonth:e.displayMonth})]},e.displayIndex)}function rNe(e){var t=mn(),n=t.classNames,r=t.styles;return o.jsx("div",{className:n.months,style:r.months,children:e.children})}function iNe(e){var t,n,r=e.initialProps,i=mn(),a=tO(),s=Om(),l=S.useState(!1),c=l[0],f=l[1];S.useEffect(function(){i.initialFocus&&a.focusTarget&&(c||(a.focus(a.focusTarget),f(!0)))},[i.initialFocus,c,a.focus,a.focusTarget,a]);var p=[i.classNames.root,i.className];i.numberOfMonths>1&&p.push(i.classNames.multiple_months),i.showWeekNumber&&p.push(i.classNames.with_weeknumber);var m=ht(ht({},i.styles.root),i.style),v=Object.keys(r).filter(function(_){return _.startsWith("data-")}).reduce(function(_,b){var w;return ht(ht({},_),(w={},w[b]=r[b],w))},{}),x=(n=(t=r.components)===null||t===void 0?void 0:t.Months)!==null&&n!==void 0?n:rNe;return o.jsx("div",ht({className:p.join(" "),style:m,dir:i.dir,id:i.id,nonce:r.nonce,title:r.title,lang:r.lang},v,{children:o.jsx(x,{children:s.displayMonths.map(function(_,b){return o.jsx(nNe,{displayIndex:b,displayMonth:_},b)})})}))}function aNe(e){var t=e.children,n=CSe(e,["children"]);return o.jsx(GSe,{initialProps:n,children:o.jsx(ije,{children:o.jsx(Bje,{initialProps:n,children:o.jsx(pje,{initialProps:n,children:o.jsx(vje,{initialProps:n,children:o.jsx(Nje,{children:o.jsx(Lje,{children:t})})})})})})})}function sNe(e){return o.jsx(aNe,ht({},e,{children:o.jsx(iNe,{initialProps:e})}))}function FH({className:e,classNames:t,showOutsideDays:n=!0,...r}){return o.jsx(sNe,{showOutsideDays:n,className:qe("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:qe(FN({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:qe(FN({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...i})=>o.jsx(mo,{className:"h-4 w-4"}),IconRight:({...i})=>o.jsx(Ka,{className:"h-4 w-4"})},...r})}FH.displayName="Calendar";var Mb="Popover",[zH]=Ar(Mb,[Nl]),Tm=Nl(),[oNe,Dl]=zH(Mb),qH=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:i,onOpenChange:a,modal:s=!1}=e,l=Tm(t),c=S.useRef(null),[f,p]=S.useState(!1),[m,v]=Va({prop:r,defaultProp:i??!1,onChange:a,caller:Mb});return o.jsx(Zk,{...l,children:o.jsx(oNe,{scope:t,contentId:Wa(),triggerRef:c,open:m,onOpenChange:v,onOpenToggle:S.useCallback(()=>v(x=>!x),[v]),hasCustomAnchor:f,onCustomAnchorAdd:S.useCallback(()=>p(!0),[]),onCustomAnchorRemove:S.useCallback(()=>p(!1),[]),modal:s,children:n})})};qH.displayName=Mb;var UH="PopoverAnchor",lNe=S.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=Dl(UH,n),a=Tm(n),{onCustomAnchorAdd:s,onCustomAnchorRemove:l}=i;return S.useEffect(()=>(s(),()=>l()),[s,l]),o.jsx(om,{...a,...r,ref:t})});lNe.displayName=UH;var WH="PopoverTrigger",HH=S.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=Dl(WH,n),a=Tm(n),s=dt(t,i.triggerRef),l=o.jsx(ze.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":ZH(i.open),...r,ref:s,onClick:Ae(e.onClick,i.onOpenToggle)});return i.hasCustomAnchor?l:o.jsx(om,{asChild:!0,...a,children:l})});HH.displayName=WH;var rO="PopoverPortal",[cNe,uNe]=zH(rO,{forceMount:void 0}),VH=e=>{const{__scopePopover:t,forceMount:n,children:r,container:i}=e,a=Dl(rO,t);return o.jsx(cNe,{scope:t,forceMount:n,children:o.jsx(_r,{present:n||a.open,children:o.jsx(df,{asChild:!0,container:i,children:r})})})};VH.displayName=rO;var cf="PopoverContent",KH=S.forwardRef((e,t)=>{const n=uNe(cf,e.__scopePopover),{forceMount:r=n.forceMount,...i}=e,a=Dl(cf,e.__scopePopover);return o.jsx(_r,{present:r||a.open,children:a.modal?o.jsx(fNe,{...i,ref:t}):o.jsx(hNe,{...i,ref:t})})});KH.displayName=cf;var dNe=wl("PopoverContent.RemoveScroll"),fNe=S.forwardRef((e,t)=>{const n=Dl(cf,e.__scopePopover),r=S.useRef(null),i=dt(t,r),a=S.useRef(!1);return S.useEffect(()=>{const s=r.current;if(s)return Ax(s)},[]),o.jsx(fm,{as:dNe,allowPinchZoom:!0,children:o.jsx(GH,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ae(e.onCloseAutoFocus,s=>{s.preventDefault(),a.current||n.triggerRef.current?.focus()}),onPointerDownOutside:Ae(e.onPointerDownOutside,s=>{const l=s.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,f=l.button===2||c;a.current=f},{checkForDefaultPrevented:!1}),onFocusOutside:Ae(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1})})})}),hNe=S.forwardRef((e,t)=>{const n=Dl(cf,e.__scopePopover),r=S.useRef(!1),i=S.useRef(!1);return o.jsx(GH,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{e.onCloseAutoFocus?.(a),a.defaultPrevented||(r.current||n.triggerRef.current?.focus(),a.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:a=>{e.onInteractOutside?.(a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const s=a.target;n.triggerRef.current?.contains(s)&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),GH=S.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:s,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:f,onInteractOutside:p,...m}=e,v=Dl(cf,n),x=Tm(n);return Ox(),o.jsx(um,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:a,children:o.jsx(Gc,{asChild:!0,disableOutsidePointerEvents:s,onInteractOutside:p,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:f,onDismiss:()=>v.onOpenChange(!1),children:o.jsx(_x,{"data-state":ZH(v.open),role:"dialog",id:v.contentId,...x,...m,ref:t,style:{...m.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),YH="PopoverClose",pNe=S.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=Dl(YH,n);return o.jsx(ze.button,{type:"button",...r,ref:t,onClick:Ae(e.onClick,()=>i.onOpenChange(!1))})});pNe.displayName=YH;var mNe="PopoverArrow",gNe=S.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=Tm(n);return o.jsx(Sx,{...i,...r,ref:t})});gNe.displayName=mNe;function ZH(e){return e?"open":"closed"}var vNe=qH,yNe=HH,xNe=VH,XH=KH;const bNe=vNe,wNe=yNe,QH=S.forwardRef(({className:e,align:t="center",sideOffset:n=4,...r},i)=>o.jsx(xNe,{children:o.jsx(XH,{ref:i,align:t,sideOffset:n,className:qe("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));QH.displayName=XH.displayName;const ds=e=>{const[t,n]=e.split(":").map(Number);return t*60+n},hc=e=>{const t=Math.floor(e/60),n=e%60;return`${t.toString().padStart(2,"0")}:${n.toString().padStart(2,"0")}`};function iO({salonId:e,selectedStylistId:t,serviceDuration:n,onSelectSlot:r}){const{t:i,i18n:a}=Pt(),s=a.language==="de"?qn:Cn,l=Ic(new Date),[c,f]=S.useState(()=>Gr(l,{weekStartsOn:1})),{data:p}=Tr({queryKey:["salon-hours",e],queryFn:async()=>{const{data:$,error:G}=await ye.from("salons").select("opening_hours").eq("id",e).single();if(G)throw G;return $},enabled:!!e}),{data:m=[]}=Tr({queryKey:["salon-closures",e,c],queryFn:async()=>{const $=yl(c,{weekStartsOn:1}),{data:G,error:W}=await ye.from("salon_closures").select("start_date, end_date").eq("salon_id",e).lte("start_date",$.toISOString().split("T")[0]).gte("end_date",c.toISOString().split("T")[0]);if(W)throw W;return G||[]},enabled:!!e}),{data:v=[],isLoading:x}=Tr({queryKey:["appointments-week",e,t,c],queryFn:async()=>{const $=cr(yl(c,{weekStartsOn:1}),1);let G=ye.from("appointments").select("start_time, end_time, employee_id, status").eq("salon_id",e).gte("start_time",c.toISOString()).lt("start_time",$.toISOString()).neq("status","cancelled");t&&t!=="any"&&(G=G.eq("employee_id",t));const{data:W,error:V}=await G;if(V)throw V;return console.log("Fetched appointments:",W),W||[]},enabled:!!e}),{data:_=[]}=Tr({queryKey:["leave-requests",e,t,c],queryFn:async()=>{const $=yl(c,{weekStartsOn:1}),{data:G,error:W}=await ye.from("leave_requests").select("start_date, end_date, employee_id").eq("status","approved").lte("start_date",$.toISOString().split("T")[0]).gte("end_date",c.toISOString().split("T")[0]);if(W)throw W;return G||[]},enabled:!!e}),b=S.useMemo(()=>{const $=[];for(let G=0;G<7;G++)$.push(cr(c,G));return $},[c]),w=$=>{const G=Le($,"yyyy-MM-dd");return m.some(W=>G>=W.start_date&&G<=W.end_date)},k=$=>{if(!t||t==="any")return!1;const G=Le($,"yyyy-MM-dd");return _.some(W=>t!=="any"&&W.employee_id!==t?!1:G>=W.start_date&&G<=W.end_date)},E=$=>{if(!p?.opening_hours)return null;const W=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][$],V=p.opening_hours?.[W];return!V||V.closed?null:{open:V.open||"09:00",close:V.close||"18:00"}},P=$=>{const G=Le($,"yyyy-MM-dd");return v.filter(W=>{const V=new Date(W.start_time);return Le(V,"yyyy-MM-dd")===G}).map(W=>({startTime:Le(new Date(W.start_time),"HH:mm"),endTime:Le(new Date(W.end_time),"HH:mm")}))},C=$=>{const G=ul($,l),W=w($),V=k($),K=E($.getDay());if(G)return{date:$,isOpen:!1,openTime:null,closeTime:null,blocks:[{startTime:"00:00",endTime:"24:00",status:"past"}]};if(W||!K)return{date:$,isOpen:!1,openTime:null,closeTime:null,blocks:[{startTime:"00:00",endTime:"24:00",status:"closed"}]};if(V)return{date:$,isOpen:!1,openTime:K.open,closeTime:K.close,blocks:[{startTime:K.open,endTime:K.close,status:"absent"}]};const q=P($),D=[],Q=ds(K.open),ne=ds(K.close),J=ne-n;let ee=Q;if(Kn($,l)){const ie=new Date,se=ie.getHours()*60+ie.getMinutes();ee=Math.max(Q,Math.ceil(se/15)*15)}const te=[...q].sort((ie,se)=>ds(ie.startTime)-ds(se.startTime));let re=ee;for(const ie of te){const se=ds(ie.startTime),oe=ds(ie.endTime);if(oe<=ee||se>=ne)continue;se>re&&re<J&&D.push({startTime:hc(re),endTime:hc(Math.min(se,ne)),status:"available"});const be=Math.max(se,ee),fe=Math.min(oe,ne);fe>be&&D.push({startTime:hc(be),endTime:hc(fe),status:"booked"}),re=Math.max(re,oe)}return re<J?D.push({startTime:hc(re),endTime:K.close,status:"available"}):re<ne&&D.length===0&&D.push({startTime:hc(re),endTime:K.close,status:"closed"}),D.length===0&&ee<J&&D.push({startTime:hc(ee),endTime:K.close,status:"available"}),{date:$,isOpen:!0,openTime:K.open,closeTime:K.close,blocks:D}},O=S.useMemo(()=>b.map($=>C($)),[b,v,m,_,p,t,n,l]),R=()=>{f(Lc(c,1))},M=()=>{const $=Lc(c,-1),G=Gr(l,{weekStartsOn:1});ul($,G)||f($)},U=$=>{$&&!ul($,l)&&f(Gr($,{weekStartsOn:1}))},F=!Kn(c,Gr(l,{weekStartsOn:1})),H=($,G)=>{G.status==="available"&&r($,G.startTime)},B=($,G,W)=>{const V=ds(G),K=ds(W),q=K-V;if(q<=0)return{top:"0%",height:"100%"};const D=ds($.startTime),Q=ds($.endTime),ne=Math.max(0,D-V),J=Math.min(Q,K)-Math.max(D,V),ee=ne/q*100,te=Math.max(J/q*100,8);return{top:`${ee}%`,height:`${te}%`}};return x?o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx(bs,{className:"w-8 h-8 animate-spin text-primary"})}):o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between gap-4",children:[o.jsx(Se,{variant:"outline",size:"icon",onClick:M,disabled:!F,className:"shrink-0",children:o.jsx(mo,{className:"w-4 h-4"})}),o.jsx("div",{className:"flex-1 flex items-center justify-center gap-2",children:o.jsxs(bNe,{children:[o.jsx(wNe,{asChild:!0,children:o.jsxs(Se,{variant:"outline",className:"gap-2",children:[o.jsx(wn,{className:"w-4 h-4"}),o.jsxs("span",{className:"hidden sm:inline",children:[Le(c,"d. MMM",{locale:s})," - ",Le(cr(c,6),"d. MMM yyyy",{locale:s})]}),o.jsxs("span",{className:"sm:hidden",children:[Le(c,"d.M.",{locale:s})," - ",Le(cr(c,6),"d.M.yy",{locale:s})]})]})}),o.jsx(QH,{className:"w-auto p-0",align:"center",children:o.jsx(FH,{mode:"single",selected:c,onSelect:U,disabled:$=>ul($,l),initialFocus:!0,className:"p-3 pointer-events-auto",locale:s})})]})}),o.jsx(Se,{variant:"outline",size:"icon",onClick:R,className:"shrink-0",children:o.jsx(Ka,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"flex flex-wrap gap-4 text-xs justify-center",children:[o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx("div",{className:"w-3 h-3 rounded bg-primary/30 border border-primary"}),o.jsx("span",{className:"text-muted-foreground",children:i("booking.available")})]}),o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx("div",{className:"w-3 h-3 rounded bg-muted border border-border"}),o.jsx("span",{className:"text-muted-foreground",children:i("booking.booked")})]}),o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx("div",{className:"w-3 h-3 rounded bg-amber-500/30 border border-amber-500"}),o.jsx("span",{className:"text-muted-foreground",children:i("booking.absent")})]}),o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx("div",{className:"w-3 h-3 rounded bg-muted/30 border border-border"}),o.jsx("span",{className:"text-muted-foreground",children:i("booking.closed")})]}),o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx("div",{className:"w-3 h-3 rounded bg-muted/50 border border-border"}),o.jsx("span",{className:"text-muted-foreground",children:i("booking.past")})]})]}),o.jsxs("div",{className:"text-center text-xs text-muted-foreground",children:[i("booking.serviceDuration"),": ",n," ",i("booking.minutes")]}),o.jsx("div",{className:"overflow-x-auto -mx-4 px-4",children:o.jsxs("div",{className:"min-w-[700px]",children:[o.jsx("div",{className:"grid grid-cols-7 gap-2 mb-2",children:O.map(($,G)=>o.jsxs("div",{className:qe("text-center py-2 rounded-lg",Kn($.date,l)&&"bg-primary/10",!$.isOpen&&"opacity-60"),children:[o.jsx("div",{className:"text-xs font-medium text-muted-foreground",children:Le($.date,"EEE",{locale:s})}),o.jsx("div",{className:qe("text-sm font-semibold",Kn($.date,l)?"text-primary":"text-foreground"),children:Le($.date,"d",{locale:s})}),$.openTime&&$.closeTime&&o.jsxs("div",{className:"text-[10px] text-muted-foreground",children:[$.openTime," - ",$.closeTime]}),!$.isOpen&&!$.openTime&&o.jsx("div",{className:"text-[10px] text-destructive font-medium",children:ul($.date,l)?i("booking.past"):i("booking.closed")})]},G))}),o.jsx("div",{className:"grid grid-cols-7 gap-2",children:O.map(($,G)=>o.jsx("div",{className:qe("relative rounded-lg border min-h-[300px] overflow-hidden",$.isOpen?"bg-card border-border":"bg-muted/20 border-border/50"),children:$.isOpen&&$.openTime&&$.closeTime?o.jsx("div",{className:"relative h-full",children:$.blocks.map((W,V)=>{const K=B(W,$.openTime,$.closeTime),q={available:"bg-primary/20 hover:bg-primary/30 border-l-2 border-l-primary cursor-pointer",booked:"bg-muted/50 border-l-2 border-l-muted-foreground/50",absent:"bg-amber-500/20 border-l-2 border-l-amber-500",closed:"bg-muted/30",past:"bg-muted/30"}[W.status];return o.jsxs("button",{onClick:()=>H($.date,W),disabled:W.status!=="available",className:qe("absolute left-0 right-0 mx-1 rounded transition-all flex flex-col items-center justify-center text-[10px]",q,W.status!=="available"&&"cursor-default"),style:K,children:[W.status==="available"&&o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"font-medium text-primary",children:W.startTime}),o.jsx("span",{className:"text-muted-foreground",children:"-"}),o.jsx("span",{className:"font-medium text-primary",children:W.endTime})]}),W.status==="booked"&&o.jsx("span",{className:"text-muted-foreground",children:i("booking.booked")}),W.status==="absent"&&o.jsx("span",{className:"text-amber-600",children:i("booking.absent")}),W.status==="past"&&o.jsx("span",{className:"text-muted-foreground",children:i("booking.past")}),W.status==="closed"&&o.jsx("span",{className:"text-muted-foreground",children:i("booking.closed")})]},V)})}):o.jsx("div",{className:"h-full flex items-center justify-center",children:o.jsx("span",{className:"text-xs text-muted-foreground",children:ul($.date,l)?i("booking.past"):k($.date)?i("booking.absent"):i("booking.closed")})})},G))})]})})]})}const Dh=e=>{const[t,n]=e.split(":").map(Number);return t*60+n};function JH({isOpen:e,onClose:t,selectedDate:n,selectedTime:r,serviceDuration:i,service:a,stylist:s,salonId:l,salonName:c,openingHours:f,onConfirm:p}){const{t:m,i18n:v}=Pt(),x=v.language==="de"?qn:Cn,_=S.useRef(null),[b,w]=S.useState(r||""),[k,E]=S.useState(""),[P,C]=S.useState(null),[O,R]=S.useState(null),[M,U]=S.useState(!1),[F,H]=S.useState(""),[B,$]=S.useState(""),[G,W]=S.useState(""),[V,K]=S.useState(!1),[q,D]=S.useState(null),{data:Q=[]}=Tr({queryKey:["day-appointments",l,n,s?.id],queryFn:async()=>{if(!n)return[];const se=Le(n,"yyyy-MM-dd"),oe=`${se}T00:00:00`,be=`${se}T23:59:59`;let fe=ye.from("appointments").select("start_time, end_time, employee_id").eq("salon_id",l).gte("start_time",oe).lte("start_time",be).neq("status","cancelled");s&&s.id!=="any"&&(fe=fe.eq("employee_id",s.id));const{data:xe,error:ce}=await fe;if(ce)throw ce;return xe||[]},enabled:e&&!!n&&!!l});S.useEffect(()=>{r&&(w(r),D(null))},[r]),S.useEffect(()=>{if(!b||!f||!n){D(null);return}const se=Dh(b),oe=Dh(f.open),fe=Dh(f.close)-i;if(se<oe){D(m("booking.timeTooEarly",{time:f.open}));return}if(se>fe){const ce=`${Math.floor(fe/60).toString().padStart(2,"0")}:${(fe%60).toString().padStart(2,"0")}`;D(m("booking.timeTooLate",{time:ce}));return}const xe=se+i;for(const ce of Q){const ue=Dh(Le(new Date(ce.start_time),"HH:mm")),je=Dh(Le(new Date(ce.end_time),"HH:mm"));if(se<je&&xe>ue){const Re=Le(new Date(ce.start_time),"HH:mm"),Xe=Le(new Date(ce.end_time),"HH:mm");D(m("booking.timeConflict",{start:Re,end:Xe}));return}}D(null)},[b,f,i,Q,n,m]);const ne=n&&b&&!q?Le(Dre(new Date(`${Le(n,"yyyy-MM-dd")}T${b}:00`),i),"HH:mm"):"",J=async se=>{const oe=se.target.files?.[0];if(!oe)return;if(!oe.type.startsWith("image/")){ut.error(m("booking.invalidImageType"));return}if(oe.size>5*1024*1024){ut.error(m("booking.imageTooLarge"));return}const be=new FileReader;be.onloadend=()=>{R(be.result)},be.readAsDataURL(oe),U(!0);try{const fe=`appointments/${Date.now()}_${oe.name}`,{error:xe}=await ye.storage.from("avatars").upload(fe,oe);if(xe)throw xe;const{data:{publicUrl:ce}}=ye.storage.from("avatars").getPublicUrl(fe);C(ce),ut.success(m("booking.imageUploaded"))}catch(fe){console.error("Image upload error:",fe),ut.error(m("booking.imageUploadError")),R(null)}finally{U(!1)}},ee=()=>{C(null),R(null),_.current&&(_.current.value="")},te=async()=>{if(!n||!b||!F||!B||q){ut.error(m("booking.fillRequired"));return}K(!0),p({date:n,time:b,notes:k,imageUrl:P,guestName:F,guestEmail:B,guestPhone:G})},re=se=>{w(se.target.value)};if(!n||!a)return null;const ie=b&&!q&&F&&B;return o.jsx(fr,{open:e,onOpenChange:()=>t(),children:o.jsxs(Gn,{className:"max-w-lg max-h-[90vh] overflow-y-auto",children:[o.jsxs(Yn,{children:[o.jsx(Zn,{className:"text-xl font-display",children:m("booking.confirmBooking")}),o.jsx(H6,{className:"text-muted-foreground",children:m("booking.fillDetailsBelow")})]}),o.jsxs("div",{className:"space-y-6 py-4",children:[o.jsxs("div",{className:"p-4 rounded-xl bg-muted/50 space-y-3",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center",children:o.jsx(wn,{className:"w-5 h-5 text-primary"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:m("booking.date")}),o.jsx("p",{className:"font-semibold text-foreground",children:Le(n,"EEEE, d. MMMM yyyy",{locale:x})})]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center",children:o.jsx(ba,{className:"w-5 h-5 text-primary"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:m("booking.time")}),o.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[o.jsx(ke,{type:"time",value:b,onChange:re,className:`w-32 ${q?"border-destructive":""}`,step:"60"}),b&&!q&&o.jsxs("span",{className:"text-sm text-muted-foreground",children:["- ",ne," (",i," Min)"]})]}),q&&o.jsxs("div",{className:"flex items-center gap-1 mt-1 text-destructive text-sm",children:[o.jsx(A9,{className:"w-4 h-4"}),o.jsx("span",{children:q})]}),f&&o.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[m("booking.openingHours"),": ",f.open," - ",f.close]})]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center",children:o.jsx(Qt,{className:"w-5 h-5 text-primary"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:m("booking.service")}),o.jsx("p",{className:"font-semibold text-foreground",children:a.name}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[a.duration_minutes," Min  ",a.price.toFixed(2),"*"]})]})]}),s&&s.id!=="any"&&o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center",children:o.jsx(Kr,{className:"w-5 h-5 text-primary"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:m("booking.stylist")}),o.jsx("p",{className:"font-semibold text-foreground",children:s.name})]})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"font-semibold text-foreground",children:m("booking.yourDetails")}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Pe,{htmlFor:"name",children:[m("booking.name")," *"]}),o.jsx(ke,{id:"name",value:F,onChange:se=>H(se.target.value),placeholder:m("booking.namePlaceholder"),required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Pe,{htmlFor:"email",children:[m("booking.email")," *"]}),o.jsx(ke,{id:"email",type:"email",value:B,onChange:se=>$(se.target.value),placeholder:m("booking.emailPlaceholder"),required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Pe,{htmlFor:"phone",children:m("booking.phone")}),o.jsx(ke,{id:"phone",type:"tel",value:G,onChange:se=>W(se.target.value),placeholder:m("booking.phonePlaceholder")})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"font-semibold text-foreground",children:m("booking.additionalInfo")}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Pe,{htmlFor:"notes",children:m("booking.notes")}),o.jsx(Wi,{id:"notes",value:k,onChange:se=>E(se.target.value),placeholder:m("booking.notesPlaceholder"),rows:3})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Pe,{children:m("booking.referenceImage")}),O?o.jsxs("div",{className:"relative w-32 h-32",children:[o.jsx("img",{src:O,alt:"Reference",className:"w-full h-full object-cover rounded-lg"}),o.jsx("button",{onClick:ee,className:"absolute -top-2 -right-2 w-6 h-6 bg-destructive text-destructive-foreground rounded-full flex items-center justify-center",children:o.jsx(pf,{className:"w-4 h-4"})})]}):o.jsx("button",{onClick:()=>_.current?.click(),disabled:M,className:"w-32 h-32 border-2 border-dashed border-border rounded-lg flex flex-col items-center justify-center gap-2 hover:border-primary/50 transition-colors",children:M?o.jsx(bs,{className:"w-6 h-6 animate-spin text-muted-foreground"}):o.jsxs(o.Fragment,{children:[o.jsx(zv,{className:"w-6 h-6 text-muted-foreground"}),o.jsx("span",{className:"text-xs text-muted-foreground",children:m("booking.addImage")})]})}),o.jsx("input",{ref:_,type:"file",accept:"image/*",onChange:J,className:"hidden"})]})]})]}),o.jsxs(RE,{className:"gap-2",children:[o.jsx(Se,{variant:"outline",onClick:t,children:m("common.cancel")}),o.jsxs(Se,{onClick:te,disabled:V||!ie,children:[V&&o.jsx(bs,{className:"w-4 h-4 mr-2 animate-spin"}),m("booking.confirmBooking")]})]})]})})}const _Ne=()=>{const{t:e,i18n:t}=Pt();t.language;const[n,r]=S.useState(1),[i,a]=S.useState(null),[s,l]=S.useState(null),[c,f]=S.useState(null),[p,m]=S.useState(null),[v,x]=S.useState(null),[_,b]=S.useState(!1),[w,k]=S.useState(!1),{data:E=[],isLoading:P}=Tr({queryKey:["salons"],queryFn:async()=>{const{data:q,error:D}=await ye.from("salons").select("*").eq("is_active",!0).eq("booking_enabled",!0).order("name");if(D)throw D;return q||[]}}),{data:C=[]}=Tr({queryKey:["services",i],queryFn:async()=>{const{data:q,error:D}=await ye.from("services").select("*").eq("salon_id",i).eq("is_active",!0).order("category");if(D)throw D;return q},enabled:!!i}),{data:O=[]}=Tr({queryKey:["employees",i],queryFn:async()=>{const{data:q,error:D}=await ye.from("employees").select("id, display_name, position, is_active").eq("salon_id",i).eq("is_active",!0);if(D)throw D;return q||[]},enabled:!!i}),R=E.find(q=>q.id===i),M=C.find(q=>q.id===s),U=M?(M.duration_minutes||0)+(M.buffer_before||0)+(M.buffer_after||0):0,F=O.find(q=>q.id===c),H=()=>F?F.display_name||e("booking.stylist"):e("booking.anyStylist"),B=()=>r(q=>Math.min(q+1,4)),$=()=>r(q=>Math.max(q-1,1)),G=(q,D)=>{m(q),x(D),b(!0)},W=async q=>{if(!M||!i){ut.error(e("booking.fillRequired"));return}k(!0);const D=new Date(`${Le(q.date,"yyyy-MM-dd")}T${q.time}:00`),Q=new Date(D.getTime()+U*6e4),ne=Le(D,"yyyyMMdd");let J=1;try{const{count:se}=await ye.from("appointments").select("*",{count:"exact",head:!0}).eq("salon_id",i).gte("start_time",`${ne}T00:00:00`).lt("start_time",`${ne}T23:59:59`);J=(se??0)+1}catch(se){console.error("Error computing appointment sequence during booking:",se)}let ee="";try{const{data:se}=await ye.from("salons").select("name, owner_id").eq("id",i).single();if(se){const oe=se.name||"";let be="";if(se.owner_id){const{data:ce}=await ye.from("profiles").select("first_name").eq("user_id",se.owner_id).maybeSingle();be=ce?.first_name||""}const fe=oe.trim()[0]||"",xe=be.trim()[0]||"";fe&&(ee=fe.toLowerCase()+(xe?xe.toLowerCase():""))}}catch(se){console.error("Error computing appointment prefix during booking:",se)}const te=`${ee}t${ne}${String(J).padStart(5,"0")}`;let re=null;try{if(q.guestEmail){const{data:se,error:oe}=await ye.from("customer_profiles").select("id").eq("salon_id",i).eq("email",q.guestEmail).maybeSingle();!oe&&se&&se.id&&(re=se.id)}if(!re&&q.guestPhone){const{data:se,error:oe}=await ye.from("customer_profiles").select("id").eq("salon_id",i).eq("phone",q.guestPhone).maybeSingle();!oe&&se&&se.id&&(re=se.id)}}catch(se){console.error("Error looking up existing customer profile during booking:",se)}if(!re)try{const se=Le(new Date,"yyyyMMdd");let oe=1;try{const je=new Date;je.setHours(0,0,0,0);const Re=new Date(je);Re.setDate(je.getDate()+1);const{count:Xe}=await ye.from("customer_profiles").select("*",{count:"exact",head:!0}).eq("salon_id",i).gte("created_at",je.toISOString()).lt("created_at",Re.toISOString());oe=(Xe??0)+1}catch(je){console.error("Error computing customer daily sequence during booking:",je)}const be=`${ee}${se}${String(oe).padStart(5,"0")}`;let fe=q.guestName?.trim()||"",xe="";if(fe){const je=fe.split(" ");fe=je[0]||"",xe=je.slice(1).join(" ")||""}const{data:ce,error:ue}=await ye.from("customer_profiles").insert({salon_id:i,user_id:null,first_name:fe,last_name:xe,birthdate:null,phone:q.guestPhone||null,email:q.guestEmail||null,street:null,house_number:null,postal_code:null,city:null,address:null,image_urls:null,notes:null,customer_number:be}).select().single();!ue&&ce&&ce.id&&(re=ce.id)}catch(se){console.error("Error creating customer profile during booking:",se)}const{error:ie}=await ye.from("appointments").insert({salon_id:i,service_id:s,employee_id:c==="any"?null:c,guest_name:q.guestName,guest_email:q.guestEmail,guest_phone:q.guestPhone,notes:q.notes,image_url:q.imageUrl,start_time:D.toISOString(),end_time:Q.toISOString(),price:M.price,status:"pending",buffer_before:M.buffer_before||0,buffer_after:M.buffer_after||0,appointment_number:te,customer_profile_id:re});k(!1),b(!1),ie?(ut.error(e("booking.bookingError")),console.error(ie)):(ut.success(e("booking.bookingSuccess")),r(1),a(null),l(null),f(null),m(null),x(null))},V=()=>{if(!p||!R?.opening_hours)return null;const D=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][p.getDay()],Q=R.opening_hours?.[D];return!Q||Q.closed?null:{open:Q.open||"09:00",close:Q.close||"18:00"}},K=[{num:1,label:e("booking.salon")},{num:2,label:e("booking.service")},{num:3,label:e("booking.stylist")},{num:4,label:e("booking.appointment")}];return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx("header",{className:"glass border-b border-border sticky top-0 z-50",children:o.jsxs("div",{className:"container px-4 h-16 flex items-center justify-between",children:[o.jsxs(Rt,{to:"/",className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-10 h-10 gradient-primary rounded-xl flex items-center justify-center",children:o.jsx(Qt,{className:"w-5 h-5 text-primary-foreground"})}),o.jsxs("span",{className:"text-xl font-display font-bold text-foreground",children:["Salon",o.jsx("span",{className:"text-primary",children:"Manager"})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Mr,{}),o.jsx(Rr,{})]})]})}),o.jsxs("main",{className:"container px-4 py-8 max-w-4xl mx-auto",children:[o.jsx("div",{className:"flex items-center justify-center mb-12",children:K.map((q,D)=>o.jsxs("div",{className:"flex items-center",children:[o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-sm font-semibold transition-all ${n>=q.num?"gradient-primary text-primary-foreground shadow-glow":"bg-muted text-muted-foreground"}`,children:n>q.num?o.jsx(ya,{className:"w-5 h-5"}):q.num}),o.jsx("span",{className:`text-xs mt-2 ${n>=q.num?"text-foreground":"text-muted-foreground"}`,children:q.label})]}),D<K.length-1&&o.jsx("div",{className:`w-12 md:w-16 h-0.5 mx-1 md:mx-2 ${n>q.num?"bg-primary":"bg-border"}`})]},q.num))}),o.jsxs("div",{className:"animate-fade-in",children:[n===1&&o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"flex justify-end",children:o.jsx(Rt,{to:"/booking-map",className:"inline-block",children:o.jsxs(Se,{variant:"outline",size:"sm",className:"inline-flex items-center gap-1",children:[o.jsx(gd,{className:"w-4 h-4"})," ",e("booking.mapView",{defaultValue:"Map"})]})})}),o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h1",{className:"text-3xl font-display font-bold mb-2",children:e("booking.selectSalon")}),o.jsx("p",{className:"text-muted-foreground",children:e("booking.whereToBbook")})]}),P?o.jsx("div",{className:"flex justify-center py-12",children:o.jsx(bs,{className:"w-8 h-8 animate-spin text-primary"})}):E.length===0?o.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[o.jsx(gd,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:e("booking.noSalons")})]}):o.jsx("div",{className:"grid gap-4",children:E.map(q=>o.jsx("button",{onClick:()=>a(q.id),className:`p-6 rounded-2xl border text-left transition-all ${i===q.id?"border-primary bg-primary/5 shadow-lg":"border-border bg-card hover:border-primary/50"}`,children:o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:"w-12 h-12 rounded-xl bg-primary/10 flex items-center justify-center flex-shrink-0",children:o.jsx(gd,{className:"w-6 h-6 text-primary"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"font-semibold text-lg text-foreground",children:q.name}),q.address&&o.jsxs("p",{className:"text-muted-foreground truncate",children:[q.address,", ",q.postal_code," ",q.city]}),q.description&&o.jsx("p",{className:"text-sm text-muted-foreground mt-1 line-clamp-2",children:q.description})]})]})},q.id))})]}),n===2&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h1",{className:"text-3xl font-display font-bold mb-2",children:e("booking.selectService")}),o.jsx("p",{className:"text-muted-foreground",children:e("booking.whatToBook")})]}),C.length===0?o.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[o.jsx(wn,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:e("booking.noServices")})]}):o.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:C.map(q=>o.jsxs("button",{onClick:()=>l(q.id),className:`p-6 rounded-2xl border text-left transition-all ${s===q.id?"border-primary bg-primary/5 shadow-lg":"border-border bg-card hover:border-primary/50"}`,children:[o.jsxs("div",{className:"flex justify-between items-start mb-3",children:[q.category&&o.jsx("span",{className:"text-xs font-medium px-2 py-1 rounded-full bg-secondary text-secondary-foreground",children:q.category}),o.jsxs("span",{className:"text-lg font-bold text-primary",children:["",q.price]})]}),o.jsx("h3",{className:"font-semibold text-lg text-foreground mb-1",children:q.name}),q.description&&o.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:q.description}),o.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground",children:[o.jsx(ba,{className:"w-4 h-4"}),o.jsxs("span",{className:"text-sm",children:[q.duration_minutes," Min"]})]})]},q.id))})]}),n===3&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h1",{className:"text-3xl font-display font-bold mb-2",children:e("booking.selectStylist")}),o.jsx("p",{className:"text-muted-foreground",children:e("booking.orLetUsChoose")})]}),o.jsx("button",{onClick:()=>f("any"),className:`w-full p-6 rounded-2xl border text-left transition-all mb-4 ${c==="any"?"border-primary bg-primary/5 shadow-lg":"border-border bg-card hover:border-primary/50"}`,children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"w-12 h-12 rounded-full gradient-primary flex items-center justify-center text-primary-foreground font-semibold",children:"?"}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-lg text-foreground",children:e("booking.anyAvailable")}),o.jsx("p",{className:"text-muted-foreground",children:e("booking.weChooseBest")})]})]})}),O.length>0&&o.jsx("div",{className:"grid gap-4 md:grid-cols-3",children:O.map(q=>{const D=q.display_name||e("booking.stylist"),Q=D.split(" ").map(ne=>ne[0]).join("").toUpperCase()||"SM";return o.jsxs("button",{onClick:()=>f(q.id),className:`p-6 rounded-2xl border text-center transition-all ${c===q.id?"border-primary bg-primary/5 shadow-lg":"border-border bg-card hover:border-primary/50"}`,children:[o.jsx("div",{className:"w-16 h-16 rounded-full bg-secondary mx-auto mb-4 flex items-center justify-center text-xl font-semibold text-secondary-foreground",children:Q}),o.jsx("h3",{className:"font-semibold text-foreground",children:D}),q.position&&o.jsx("p",{className:"text-sm text-muted-foreground",children:q.position})]},q.id)})})]}),n===4&&i&&M&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h1",{className:"text-3xl font-display font-bold mb-2",children:e("booking.selectDateTime")}),o.jsx("p",{className:"text-muted-foreground",children:e("booking.clickToBook")})]}),o.jsx(iO,{salonId:i,selectedStylistId:c,serviceDuration:U,onSelectSlot:G})]})]}),o.jsxs("div",{className:"flex justify-between mt-12",children:[o.jsxs(Se,{variant:"outline",onClick:$,disabled:n===1,className:"gap-2",children:[o.jsx(mo,{className:"w-4 h-4"}),e("common.back")]}),n<4&&o.jsxs(Se,{onClick:B,disabled:n===1&&!i||n===2&&!s||n===3&&!c,className:"gap-2",children:[e("common.next"),o.jsx(Ka,{className:"w-4 h-4"})]})]})]}),o.jsx(JH,{isOpen:_,onClose:()=>b(!1),selectedDate:p,selectedTime:v,serviceDuration:U,service:M?{id:M.id,name:M.name,price:M.price,duration_minutes:M.duration_minutes}:null,stylist:c&&c!=="any"?{id:c,name:H()}:null,salonId:i||"",salonName:R?.name||"",openingHours:V(),onConfirm:W})]})},SNe=()=>{const{t:e,i18n:t}=Pt(),{salonId:n}=p5(),[r]=$X(),i=r.get("categories"),a=i?i.split(",").map(D=>decodeURIComponent(D)):[];t.language;const[s,l]=S.useState(1),[c,f]=S.useState(null),[p,m]=S.useState(null),[v,x]=S.useState(null),[_,b]=S.useState(null),[w,k]=S.useState(!1),[E,P]=S.useState(!1),{data:C,isLoading:O}=Tr({queryKey:["salon",n],queryFn:async()=>{const{data:D,error:Q}=await ye.from("salons").select("*").eq("id",n).eq("is_active",!0).maybeSingle();if(Q)throw Q;return D},enabled:!!n}),{data:R=[]}=Tr({queryKey:["services",n],queryFn:async()=>{const{data:D,error:Q}=await ye.from("services").select("*").eq("salon_id",n).eq("is_active",!0).order("category",{ascending:!0});if(Q)throw Q;return D},enabled:!!n}),M=a.length>0?R.filter(D=>D.category&&a.includes(D.category)):R,{data:U=[]}=Tr({queryKey:["employees-booking",n],queryFn:async()=>{const{data:D,error:Q}=await ye.from("employees").select("id, display_name, position, is_active").eq("salon_id",n).eq("is_active",!0);if(Q)throw Q;return D||[]},enabled:!!n}),F=M.find(D=>D.id===c),H=U.find(D=>D.id===p),B=()=>H?H.display_name||e("booking.stylist"):e("booking.anyStylist"),$=()=>l(D=>Math.min(D+1,3)),G=()=>l(D=>Math.max(D-1,1)),W=(D,Q)=>{x(D),b(Q),k(!0)},V=async D=>{if(!F||!n){ut.error(e("booking.fillRequired"));return}P(!0);const Q=new Date(`${Le(D.date,"yyyy-MM-dd")}T${D.time}:00`),ne=new Date(Q.getTime()+F.duration_minutes*6e4),J=Le(Q,"yyyyMMdd");let ee=1;try{const{count:oe}=await ye.from("appointments").select("*",{count:"exact",head:!0}).eq("salon_id",n).gte("start_time",`${J}T00:00:00`).lt("start_time",`${J}T23:59:59`);ee=(oe??0)+1}catch(oe){console.error("Error computing appointment sequence:",oe)}let te="";try{const{data:oe}=await ye.from("salons").select("name, owner_id").eq("id",n).single();if(oe){const be=oe.name||"";let fe="";if(oe.owner_id){const{data:ue}=await ye.from("profiles").select("first_name").eq("user_id",oe.owner_id).maybeSingle();fe=ue?.first_name||""}const xe=be.trim()[0]||"",ce=fe.trim()[0]||"";xe&&(te=xe.toLowerCase()+(ce?ce.toLowerCase():""))}}catch(oe){console.error("Error computing prefix during booking:",oe)}const re=`${te}t${J}${String(ee).padStart(5,"0")}`;let ie=null;try{if(D.guestEmail){const{data:oe,error:be}=await ye.from("customer_profiles").select("id").eq("salon_id",n).eq("email",D.guestEmail).maybeSingle();!be&&oe&&oe.id&&(ie=oe.id)}if(!ie&&D.guestPhone){const{data:oe,error:be}=await ye.from("customer_profiles").select("id").eq("salon_id",n).eq("phone",D.guestPhone).maybeSingle();!be&&oe&&oe.id&&(ie=oe.id)}}catch(oe){console.error("Error looking up existing customer profile",oe)}if(!ie)try{const oe=new Date,be=new Date(oe);be.setHours(0,0,0,0);const fe=new Date(be);fe.setDate(be.getDate()+1);let xe=1;try{const{count:Me}=await ye.from("customer_profiles").select("*",{count:"exact",head:!0}).eq("salon_id",n).gte("created_at",be.toISOString()).lt("created_at",fe.toISOString());xe=(Me??0)+1}catch(Me){console.error("Error computing customer daily sequence during booking:",Me)}const ce=`${te}${J}${String(xe).padStart(5,"0")}`;let ue=D.guestName?.trim()||"",je="";if(ue){const Me=ue.split(" ");ue=Me[0]||"",je=Me.slice(1).join(" ")||""}const{data:Re,error:Xe}=await ye.from("customer_profiles").insert({salon_id:n,user_id:null,first_name:ue,last_name:je,birthdate:null,phone:D.guestPhone||null,email:D.guestEmail||null,street:null,house_number:null,postal_code:null,city:null,address:null,image_urls:null,notes:null,customer_number:ce}).select().single();!Xe&&Re&&Re.id&&(ie=Re.id)}catch(oe){console.error("Error creating customer profile during booking:",oe)}const{error:se}=await ye.from("appointments").insert({salon_id:n,service_id:c,employee_id:p==="any"?null:p,guest_name:D.guestName,guest_email:D.guestEmail,guest_phone:D.guestPhone,notes:D.notes,image_url:D.imageUrl,start_time:Q.toISOString(),end_time:ne.toISOString(),price:F.price,status:"pending",appointment_number:re,customer_profile_id:ie});P(!1),k(!1),se?(ut.error(e("booking.bookingError")),console.error(se)):(ut.success(e("booking.bookingSuccess")),l(1),f(null),m(null),x(null),b(null))},K=()=>{if(!v||!C?.opening_hours)return null;const Q=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][v.getDay()],ne=C.opening_hours?.[Q];return!ne||ne.closed?null:{open:ne.open||"09:00",close:ne.close||"18:00"}},q=[{num:1,label:e("booking.service")},{num:2,label:e("booking.stylist")},{num:3,label:e("booking.appointment")}];return O?o.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:o.jsx(bs,{className:"w-8 h-8 animate-spin text-primary"})}):C?C.booking_enabled===!1?o.jsxs("div",{className:"min-h-screen bg-background flex flex-col items-center justify-center p-4 text-center",children:[o.jsx(Qt,{className:"w-16 h-16 text-muted-foreground mb-4"}),o.jsx("h1",{className:"text-2xl font-display font-bold mb-2",children:e("booking.disabledTitle","Booking unavailable")}),o.jsx("p",{className:"text-muted-foreground mb-6",children:e("booking.disabledMessage","This salon currently does not accept online bookings. Please contact the salon directly to make an appointment.")}),o.jsx(Se,{asChild:!0,children:o.jsx(Rt,{to:"/",children:e("common.backToHome")})})]}):o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx("header",{className:"glass border-b border-border sticky top-0 z-50",children:o.jsxs("div",{className:"container px-4 h-16 flex items-center justify-between",children:[o.jsxs(Rt,{to:"/",className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-10 h-10 gradient-primary rounded-xl flex items-center justify-center",children:o.jsx(Qt,{className:"w-5 h-5 text-primary-foreground"})}),o.jsxs("span",{className:"text-xl font-display font-bold text-foreground",children:["Salon",o.jsx("span",{className:"text-primary",children:"Manager"})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Mr,{}),o.jsx(Rr,{})]})]})}),o.jsxs("main",{className:"container px-4 py-8 max-w-4xl mx-auto",children:[o.jsxs("div",{className:"text-center mb-8 animate-fade-in",children:[o.jsx("div",{className:"w-20 h-20 gradient-primary rounded-2xl mx-auto mb-4 flex items-center justify-center shadow-glow",children:o.jsx(Qt,{className:"w-10 h-10 text-primary-foreground"})}),o.jsx("h1",{className:"text-3xl font-display font-bold mb-2",children:C.name}),C.address&&o.jsxs("p",{className:"text-muted-foreground flex items-center justify-center gap-2",children:[o.jsx(gd,{className:"w-4 h-4"}),C.address,", ",C.postal_code," ",C.city]}),o.jsxs("div",{className:"flex items-center justify-center gap-4 mt-2 text-sm text-muted-foreground",children:[C.phone&&o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(vx,{className:"w-4 h-4"}),C.phone]}),C.email&&o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(hf,{className:"w-4 h-4"}),C.email]})]})]}),o.jsx("div",{className:"flex items-center justify-center mb-12",children:q.map((D,Q)=>o.jsxs("div",{className:"flex items-center",children:[o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-sm font-semibold transition-all ${s>=D.num?"gradient-primary text-primary-foreground shadow-glow":"bg-muted text-muted-foreground"}`,children:s>D.num?o.jsx(ya,{className:"w-5 h-5"}):D.num}),o.jsx("span",{className:`text-xs mt-2 ${s>=D.num?"text-foreground":"text-muted-foreground"}`,children:D.label})]}),Q<q.length-1&&o.jsx("div",{className:`w-16 h-0.5 mx-2 ${s>D.num?"bg-primary":"bg-border"}`})]},D.num))}),o.jsxs("div",{className:"animate-fade-in",children:[s===1&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h2",{className:"text-2xl font-display font-bold mb-2",children:e("booking.selectService")}),o.jsx("p",{className:"text-muted-foreground",children:e("booking.whatToBook")})]}),M.length===0?o.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[o.jsx(wn,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:e("booking.noServices")})]}):o.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:M.map(D=>o.jsxs("button",{onClick:()=>f(D.id),className:`p-6 rounded-2xl border text-left transition-all ${c===D.id?"border-primary bg-primary/5 shadow-lg":"border-border bg-card hover:border-primary/50"}`,children:[o.jsxs("div",{className:"flex justify-between items-start mb-3",children:[D.category&&o.jsx("span",{className:"text-xs font-medium px-2 py-1 rounded-full bg-secondary text-secondary-foreground",children:D.category}),o.jsxs("span",{className:"text-lg font-bold text-primary",children:["",D.price.toFixed(2),"*"]})]}),o.jsx("h3",{className:"font-semibold text-lg text-foreground mb-1",children:D.name}),D.description&&o.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:D.description}),o.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground",children:[o.jsx(ba,{className:"w-4 h-4"}),o.jsxs("span",{className:"text-sm",children:[D.duration_minutes," Min"]})]})]},D.id))}),M.length>0&&o.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["* ",e("booking.priceDisclaimer","Prices may vary depending on products and effort.")]})]}),s===2&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h2",{className:"text-2xl font-display font-bold mb-2",children:e("booking.selectStylist")}),o.jsx("p",{className:"text-muted-foreground",children:e("booking.orLetUsChoose")})]}),o.jsx("button",{onClick:()=>m("any"),className:`w-full p-6 rounded-2xl border text-left transition-all mb-4 ${p==="any"?"border-primary bg-primary/5 shadow-lg":"border-border bg-card hover:border-primary/50"}`,children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"w-12 h-12 rounded-full gradient-primary flex items-center justify-center text-primary-foreground font-semibold",children:"?"}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-lg text-foreground",children:e("booking.anyAvailable")}),o.jsx("p",{className:"text-muted-foreground",children:e("booking.weChooseBest")})]})]})}),U.length>0?o.jsx("div",{className:"grid gap-4 md:grid-cols-3",children:U.map(D=>{const Q=D.display_name||e("booking.stylist"),ne=Q.split(" ").map(J=>J[0]).join("").toUpperCase()||"SM";return o.jsxs("button",{onClick:()=>m(D.id),className:`p-6 rounded-2xl border text-center transition-all ${p===D.id?"border-primary bg-primary/5 shadow-lg":"border-border bg-card hover:border-primary/50"}`,children:[o.jsx("div",{className:"w-16 h-16 rounded-full bg-secondary mx-auto mb-4 flex items-center justify-center text-xl font-semibold text-secondary-foreground",children:ne}),o.jsx("h3",{className:"font-semibold text-foreground",children:Q}),D.position&&o.jsx("p",{className:"text-sm text-muted-foreground",children:D.position})]},D.id)})}):o.jsx("p",{className:"text-center text-muted-foreground",children:e("booking.selectAnyAvailable")})]}),s===3&&n&&F&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h2",{className:"text-2xl font-display font-bold mb-2",children:e("booking.selectDateTime")}),o.jsx("p",{className:"text-muted-foreground",children:e("booking.clickToBook")})]}),o.jsx(iO,{salonId:n,selectedStylistId:p,serviceDuration:F.duration_minutes,onSelectSlot:W})]})]}),o.jsxs("div",{className:"flex justify-between mt-12",children:[o.jsxs(Se,{variant:"outline",onClick:G,disabled:s===1,className:"gap-2",children:[o.jsx(mo,{className:"w-4 h-4"}),e("common.back")]}),s<3&&o.jsxs(Se,{onClick:$,disabled:s===1&&!c||s===2&&!p,className:"gap-2",children:[e("common.next"),o.jsx(Ka,{className:"w-4 h-4"})]})]})]}),o.jsx(JH,{isOpen:w,onClose:()=>k(!1),selectedDate:v,selectedTime:_,serviceDuration:F?.duration_minutes||30,service:F?{id:F.id,name:F.name,price:F.price,duration_minutes:F.duration_minutes}:null,stylist:p&&p!=="any"?{id:p,name:B()}:null,salonId:n||"",salonName:C?.name||"",openingHours:K(),onConfirm:V})]}):o.jsxs("div",{className:"min-h-screen bg-background flex flex-col items-center justify-center p-4",children:[o.jsx(Qt,{className:"w-16 h-16 text-muted-foreground mb-4"}),o.jsx("h1",{className:"text-2xl font-display font-bold mb-2",children:e("booking.salonNotFound")}),o.jsx("p",{className:"text-muted-foreground mb-6",children:e("booking.salonNotFoundDesc")}),o.jsx(Se,{asChild:!0,children:o.jsx(Rt,{to:"/",children:e("common.backToHome")})})]})};async function wB(e,t,n,r={}){const{minRating:i=null,minPrice:a=null,maxPrice:s=null,categories:l=null,start:c=null,end:f=null}=r,{data:p,error:m}=await ye.rpc("salons_within_radius_filtered",{p_lat:e,p_lon:t,p_radius:n,p_min_rating:i,p_min_price:a,p_max_price:s,p_categories:l,p_start:c,p_end:f});return{data:p,error:m}}function eV(e,t){const n=S.useRef(t);S.useEffect(function(){t!==n.current&&e.attributionControl!=null&&(n.current!=null&&e.attributionControl.removeAttribution(n.current),t!=null&&e.attributionControl.addAttribution(t)),n.current=t},[e,t])}const jNe=1;function NNe(e){return Object.freeze({__version:jNe,map:e})}function PNe(e,t){return Object.freeze({...e,...t})}const tV=S.createContext(null),nV=tV.Provider;function rV(){const e=S.useContext(tV);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function kNe(e){function t(n,r){const{instance:i,context:a}=e(n).current;return S.useImperativeHandle(r,()=>i),n.children==null?null:Z.createElement(nV,{value:a},n.children)}return S.forwardRef(t)}function ENe(e){function t(n,r){const[i,a]=S.useState(!1),{instance:s}=e(n,a).current;S.useImperativeHandle(r,()=>s),S.useEffect(function(){i&&s.update()},[s,i,n.children]);const l=s._contentNode;return l?Kc.createPortal(n.children,l):null}return S.forwardRef(t)}function CNe(e){function t(n,r){const{instance:i}=e(n).current;return S.useImperativeHandle(r,()=>i),null}return S.forwardRef(t)}function iV(e,t){const n=S.useRef();S.useEffect(function(){return t!=null&&e.instance.on(t),n.current=t,function(){n.current!=null&&e.instance.off(n.current),n.current=null}},[e,t])}function aO(e,t){const n=e.pane??t.pane;return n?{...e,pane:n}:e}function ONe(e,t){return function(r,i){const a=rV(),s=e(aO(r,a),a);return eV(a.map,r.attribution),iV(s.current,r.eventHandlers),t(s.current,a,r,i),s}}var Wh={exports:{}};var TNe=Wh.exports,_B;function ANe(){return _B||(_B=1,(function(e,t){(function(n,r){r(t)})(TNe,(function(n){var r="1.9.4";function i(d){var g,j,T,z;for(j=1,T=arguments.length;j<T;j++){z=arguments[j];for(g in z)d[g]=z[g]}return d}var a=Object.create||(function(){function d(){}return function(g){return d.prototype=g,new d}})();function s(d,g){var j=Array.prototype.slice;if(d.bind)return d.bind.apply(d,j.call(arguments,1));var T=j.call(arguments,2);return function(){return d.apply(g,T.length?T.concat(j.call(arguments)):arguments)}}var l=0;function c(d){return"_leaflet_id"in d||(d._leaflet_id=++l),d._leaflet_id}function f(d,g,j){var T,z,X,le;return le=function(){T=!1,z&&(X.apply(j,z),z=!1)},X=function(){T?z=arguments:(d.apply(j,arguments),setTimeout(le,g),T=!0)},X}function p(d,g,j){var T=g[1],z=g[0],X=T-z;return d===T&&j?d:((d-z)%X+X)%X+z}function m(){return!1}function v(d,g){if(g===!1)return d;var j=Math.pow(10,g===void 0?6:g);return Math.round(d*j)/j}function x(d){return d.trim?d.trim():d.replace(/^\s+|\s+$/g,"")}function _(d){return x(d).split(/\s+/)}function b(d,g){Object.prototype.hasOwnProperty.call(d,"options")||(d.options=d.options?a(d.options):{});for(var j in g)d.options[j]=g[j];return d.options}function w(d,g,j){var T=[];for(var z in d)T.push(encodeURIComponent(j?z.toUpperCase():z)+"="+encodeURIComponent(d[z]));return(!g||g.indexOf("?")===-1?"?":"&")+T.join("&")}var k=/\{ *([\w_ -]+) *\}/g;function E(d,g){return d.replace(k,function(j,T){var z=g[T];if(z===void 0)throw new Error("No value provided for variable "+j);return typeof z=="function"&&(z=z(g)),z})}var P=Array.isArray||function(d){return Object.prototype.toString.call(d)==="[object Array]"};function C(d,g){for(var j=0;j<d.length;j++)if(d[j]===g)return j;return-1}var O="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function R(d){return window["webkit"+d]||window["moz"+d]||window["ms"+d]}var M=0;function U(d){var g=+new Date,j=Math.max(0,16-(g-M));return M=g+j,window.setTimeout(d,j)}var F=window.requestAnimationFrame||R("RequestAnimationFrame")||U,H=window.cancelAnimationFrame||R("CancelAnimationFrame")||R("CancelRequestAnimationFrame")||function(d){window.clearTimeout(d)};function B(d,g,j){if(j&&F===U)d.call(g);else return F.call(window,s(d,g))}function $(d){d&&H.call(window,d)}var G={__proto__:null,extend:i,create:a,bind:s,get lastId(){return l},stamp:c,throttle:f,wrapNum:p,falseFn:m,formatNum:v,trim:x,splitWords:_,setOptions:b,getParamString:w,template:E,isArray:P,indexOf:C,emptyImageUrl:O,requestFn:F,cancelFn:H,requestAnimFrame:B,cancelAnimFrame:$};function W(){}W.extend=function(d){var g=function(){b(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},j=g.__super__=this.prototype,T=a(j);T.constructor=g,g.prototype=T;for(var z in this)Object.prototype.hasOwnProperty.call(this,z)&&z!=="prototype"&&z!=="__super__"&&(g[z]=this[z]);return d.statics&&i(g,d.statics),d.includes&&(V(d.includes),i.apply(null,[T].concat(d.includes))),i(T,d),delete T.statics,delete T.includes,T.options&&(T.options=j.options?a(j.options):{},i(T.options,d.options)),T._initHooks=[],T.callInitHooks=function(){if(!this._initHooksCalled){j.callInitHooks&&j.callInitHooks.call(this),this._initHooksCalled=!0;for(var X=0,le=T._initHooks.length;X<le;X++)T._initHooks[X].call(this)}},g},W.include=function(d){var g=this.prototype.options;return i(this.prototype,d),d.options&&(this.prototype.options=g,this.mergeOptions(d.options)),this},W.mergeOptions=function(d){return i(this.prototype.options,d),this},W.addInitHook=function(d){var g=Array.prototype.slice.call(arguments,1),j=typeof d=="function"?d:function(){this[d].apply(this,g)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(j),this};function V(d){if(!(typeof L>"u"||!L||!L.Mixin)){d=P(d)?d:[d];for(var g=0;g<d.length;g++)d[g]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var K={on:function(d,g,j){if(typeof d=="object")for(var T in d)this._on(T,d[T],g);else{d=_(d);for(var z=0,X=d.length;z<X;z++)this._on(d[z],g,j)}return this},off:function(d,g,j){if(!arguments.length)delete this._events;else if(typeof d=="object")for(var T in d)this._off(T,d[T],g);else{d=_(d);for(var z=arguments.length===1,X=0,le=d.length;X<le;X++)z?this._off(d[X]):this._off(d[X],g,j)}return this},_on:function(d,g,j,T){if(typeof g!="function"){console.warn("wrong listener type: "+typeof g);return}if(this._listens(d,g,j)===!1){j===this&&(j=void 0);var z={fn:g,ctx:j};T&&(z.once=!0),this._events=this._events||{},this._events[d]=this._events[d]||[],this._events[d].push(z)}},_off:function(d,g,j){var T,z,X;if(this._events&&(T=this._events[d],!!T)){if(arguments.length===1){if(this._firingCount)for(z=0,X=T.length;z<X;z++)T[z].fn=m;delete this._events[d];return}if(typeof g!="function"){console.warn("wrong listener type: "+typeof g);return}var le=this._listens(d,g,j);if(le!==!1){var me=T[le];this._firingCount&&(me.fn=m,this._events[d]=T=T.slice()),T.splice(le,1)}}},fire:function(d,g,j){if(!this.listens(d,j))return this;var T=i({},g,{type:d,target:this,sourceTarget:g&&g.sourceTarget||this});if(this._events){var z=this._events[d];if(z){this._firingCount=this._firingCount+1||1;for(var X=0,le=z.length;X<le;X++){var me=z[X],we=me.fn;me.once&&this.off(d,we,me.ctx),we.call(me.ctx||this,T)}this._firingCount--}}return j&&this._propagateEvent(T),this},listens:function(d,g,j,T){typeof d!="string"&&console.warn('"string" type argument expected');var z=g;typeof g!="function"&&(T=!!g,z=void 0,j=void 0);var X=this._events&&this._events[d];if(X&&X.length&&this._listens(d,z,j)!==!1)return!0;if(T){for(var le in this._eventParents)if(this._eventParents[le].listens(d,g,j,T))return!0}return!1},_listens:function(d,g,j){if(!this._events)return!1;var T=this._events[d]||[];if(!g)return!!T.length;j===this&&(j=void 0);for(var z=0,X=T.length;z<X;z++)if(T[z].fn===g&&T[z].ctx===j)return z;return!1},once:function(d,g,j){if(typeof d=="object")for(var T in d)this._on(T,d[T],g,!0);else{d=_(d);for(var z=0,X=d.length;z<X;z++)this._on(d[z],g,j,!0)}return this},addEventParent:function(d){return this._eventParents=this._eventParents||{},this._eventParents[c(d)]=d,this},removeEventParent:function(d){return this._eventParents&&delete this._eventParents[c(d)],this},_propagateEvent:function(d){for(var g in this._eventParents)this._eventParents[g].fire(d.type,i({layer:d.target,propagatedFrom:d.target},d),!0)}};K.addEventListener=K.on,K.removeEventListener=K.clearAllEventListeners=K.off,K.addOneTimeEventListener=K.once,K.fireEvent=K.fire,K.hasEventListeners=K.listens;var q=W.extend(K);function D(d,g,j){this.x=j?Math.round(d):d,this.y=j?Math.round(g):g}var Q=Math.trunc||function(d){return d>0?Math.floor(d):Math.ceil(d)};D.prototype={clone:function(){return new D(this.x,this.y)},add:function(d){return this.clone()._add(ne(d))},_add:function(d){return this.x+=d.x,this.y+=d.y,this},subtract:function(d){return this.clone()._subtract(ne(d))},_subtract:function(d){return this.x-=d.x,this.y-=d.y,this},divideBy:function(d){return this.clone()._divideBy(d)},_divideBy:function(d){return this.x/=d,this.y/=d,this},multiplyBy:function(d){return this.clone()._multiplyBy(d)},_multiplyBy:function(d){return this.x*=d,this.y*=d,this},scaleBy:function(d){return new D(this.x*d.x,this.y*d.y)},unscaleBy:function(d){return new D(this.x/d.x,this.y/d.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Q(this.x),this.y=Q(this.y),this},distanceTo:function(d){d=ne(d);var g=d.x-this.x,j=d.y-this.y;return Math.sqrt(g*g+j*j)},equals:function(d){return d=ne(d),d.x===this.x&&d.y===this.y},contains:function(d){return d=ne(d),Math.abs(d.x)<=Math.abs(this.x)&&Math.abs(d.y)<=Math.abs(this.y)},toString:function(){return"Point("+v(this.x)+", "+v(this.y)+")"}};function ne(d,g,j){return d instanceof D?d:P(d)?new D(d[0],d[1]):d==null?d:typeof d=="object"&&"x"in d&&"y"in d?new D(d.x,d.y):new D(d,g,j)}function J(d,g){if(d)for(var j=g?[d,g]:d,T=0,z=j.length;T<z;T++)this.extend(j[T])}J.prototype={extend:function(d){var g,j;if(!d)return this;if(d instanceof D||typeof d[0]=="number"||"x"in d)g=j=ne(d);else if(d=ee(d),g=d.min,j=d.max,!g||!j)return this;return!this.min&&!this.max?(this.min=g.clone(),this.max=j.clone()):(this.min.x=Math.min(g.x,this.min.x),this.max.x=Math.max(j.x,this.max.x),this.min.y=Math.min(g.y,this.min.y),this.max.y=Math.max(j.y,this.max.y)),this},getCenter:function(d){return ne((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,d)},getBottomLeft:function(){return ne(this.min.x,this.max.y)},getTopRight:function(){return ne(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(d){var g,j;return typeof d[0]=="number"||d instanceof D?d=ne(d):d=ee(d),d instanceof J?(g=d.min,j=d.max):g=j=d,g.x>=this.min.x&&j.x<=this.max.x&&g.y>=this.min.y&&j.y<=this.max.y},intersects:function(d){d=ee(d);var g=this.min,j=this.max,T=d.min,z=d.max,X=z.x>=g.x&&T.x<=j.x,le=z.y>=g.y&&T.y<=j.y;return X&&le},overlaps:function(d){d=ee(d);var g=this.min,j=this.max,T=d.min,z=d.max,X=z.x>g.x&&T.x<j.x,le=z.y>g.y&&T.y<j.y;return X&&le},isValid:function(){return!!(this.min&&this.max)},pad:function(d){var g=this.min,j=this.max,T=Math.abs(g.x-j.x)*d,z=Math.abs(g.y-j.y)*d;return ee(ne(g.x-T,g.y-z),ne(j.x+T,j.y+z))},equals:function(d){return d?(d=ee(d),this.min.equals(d.getTopLeft())&&this.max.equals(d.getBottomRight())):!1}};function ee(d,g){return!d||d instanceof J?d:new J(d,g)}function te(d,g){if(d)for(var j=g?[d,g]:d,T=0,z=j.length;T<z;T++)this.extend(j[T])}te.prototype={extend:function(d){var g=this._southWest,j=this._northEast,T,z;if(d instanceof ie)T=d,z=d;else if(d instanceof te){if(T=d._southWest,z=d._northEast,!T||!z)return this}else return d?this.extend(se(d)||re(d)):this;return!g&&!j?(this._southWest=new ie(T.lat,T.lng),this._northEast=new ie(z.lat,z.lng)):(g.lat=Math.min(T.lat,g.lat),g.lng=Math.min(T.lng,g.lng),j.lat=Math.max(z.lat,j.lat),j.lng=Math.max(z.lng,j.lng)),this},pad:function(d){var g=this._southWest,j=this._northEast,T=Math.abs(g.lat-j.lat)*d,z=Math.abs(g.lng-j.lng)*d;return new te(new ie(g.lat-T,g.lng-z),new ie(j.lat+T,j.lng+z))},getCenter:function(){return new ie((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ie(this.getNorth(),this.getWest())},getSouthEast:function(){return new ie(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(d){typeof d[0]=="number"||d instanceof ie||"lat"in d?d=se(d):d=re(d);var g=this._southWest,j=this._northEast,T,z;return d instanceof te?(T=d.getSouthWest(),z=d.getNorthEast()):T=z=d,T.lat>=g.lat&&z.lat<=j.lat&&T.lng>=g.lng&&z.lng<=j.lng},intersects:function(d){d=re(d);var g=this._southWest,j=this._northEast,T=d.getSouthWest(),z=d.getNorthEast(),X=z.lat>=g.lat&&T.lat<=j.lat,le=z.lng>=g.lng&&T.lng<=j.lng;return X&&le},overlaps:function(d){d=re(d);var g=this._southWest,j=this._northEast,T=d.getSouthWest(),z=d.getNorthEast(),X=z.lat>g.lat&&T.lat<j.lat,le=z.lng>g.lng&&T.lng<j.lng;return X&&le},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(d,g){return d?(d=re(d),this._southWest.equals(d.getSouthWest(),g)&&this._northEast.equals(d.getNorthEast(),g)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function re(d,g){return d instanceof te?d:new te(d,g)}function ie(d,g,j){if(isNaN(d)||isNaN(g))throw new Error("Invalid LatLng object: ("+d+", "+g+")");this.lat=+d,this.lng=+g,j!==void 0&&(this.alt=+j)}ie.prototype={equals:function(d,g){if(!d)return!1;d=se(d);var j=Math.max(Math.abs(this.lat-d.lat),Math.abs(this.lng-d.lng));return j<=(g===void 0?1e-9:g)},toString:function(d){return"LatLng("+v(this.lat,d)+", "+v(this.lng,d)+")"},distanceTo:function(d){return be.distance(this,se(d))},wrap:function(){return be.wrapLatLng(this)},toBounds:function(d){var g=180*d/40075017,j=g/Math.cos(Math.PI/180*this.lat);return re([this.lat-g,this.lng-j],[this.lat+g,this.lng+j])},clone:function(){return new ie(this.lat,this.lng,this.alt)}};function se(d,g,j){return d instanceof ie?d:P(d)&&typeof d[0]!="object"?d.length===3?new ie(d[0],d[1],d[2]):d.length===2?new ie(d[0],d[1]):null:d==null?d:typeof d=="object"&&"lat"in d?new ie(d.lat,"lng"in d?d.lng:d.lon,d.alt):g===void 0?null:new ie(d,g,j)}var oe={latLngToPoint:function(d,g){var j=this.projection.project(d),T=this.scale(g);return this.transformation._transform(j,T)},pointToLatLng:function(d,g){var j=this.scale(g),T=this.transformation.untransform(d,j);return this.projection.unproject(T)},project:function(d){return this.projection.project(d)},unproject:function(d){return this.projection.unproject(d)},scale:function(d){return 256*Math.pow(2,d)},zoom:function(d){return Math.log(d/256)/Math.LN2},getProjectedBounds:function(d){if(this.infinite)return null;var g=this.projection.bounds,j=this.scale(d),T=this.transformation.transform(g.min,j),z=this.transformation.transform(g.max,j);return new J(T,z)},infinite:!1,wrapLatLng:function(d){var g=this.wrapLng?p(d.lng,this.wrapLng,!0):d.lng,j=this.wrapLat?p(d.lat,this.wrapLat,!0):d.lat,T=d.alt;return new ie(j,g,T)},wrapLatLngBounds:function(d){var g=d.getCenter(),j=this.wrapLatLng(g),T=g.lat-j.lat,z=g.lng-j.lng;if(T===0&&z===0)return d;var X=d.getSouthWest(),le=d.getNorthEast(),me=new ie(X.lat-T,X.lng-z),we=new ie(le.lat-T,le.lng-z);return new te(me,we)}},be=i({},oe,{wrapLng:[-180,180],R:6371e3,distance:function(d,g){var j=Math.PI/180,T=d.lat*j,z=g.lat*j,X=Math.sin((g.lat-d.lat)*j/2),le=Math.sin((g.lng-d.lng)*j/2),me=X*X+Math.cos(T)*Math.cos(z)*le*le,we=2*Math.atan2(Math.sqrt(me),Math.sqrt(1-me));return this.R*we}}),fe=6378137,xe={R:fe,MAX_LATITUDE:85.0511287798,project:function(d){var g=Math.PI/180,j=this.MAX_LATITUDE,T=Math.max(Math.min(j,d.lat),-j),z=Math.sin(T*g);return new D(this.R*d.lng*g,this.R*Math.log((1+z)/(1-z))/2)},unproject:function(d){var g=180/Math.PI;return new ie((2*Math.atan(Math.exp(d.y/this.R))-Math.PI/2)*g,d.x*g/this.R)},bounds:(function(){var d=fe*Math.PI;return new J([-d,-d],[d,d])})()};function ce(d,g,j,T){if(P(d)){this._a=d[0],this._b=d[1],this._c=d[2],this._d=d[3];return}this._a=d,this._b=g,this._c=j,this._d=T}ce.prototype={transform:function(d,g){return this._transform(d.clone(),g)},_transform:function(d,g){return g=g||1,d.x=g*(this._a*d.x+this._b),d.y=g*(this._c*d.y+this._d),d},untransform:function(d,g){return g=g||1,new D((d.x/g-this._b)/this._a,(d.y/g-this._d)/this._c)}};function ue(d,g,j,T){return new ce(d,g,j,T)}var je=i({},be,{code:"EPSG:3857",projection:xe,transformation:(function(){var d=.5/(Math.PI*xe.R);return ue(d,.5,-d,.5)})()}),Re=i({},je,{code:"EPSG:900913"});function Xe(d){return document.createElementNS("http://www.w3.org/2000/svg",d)}function Me(d,g){var j="",T,z,X,le,me,we;for(T=0,X=d.length;T<X;T++){for(me=d[T],z=0,le=me.length;z<le;z++)we=me[z],j+=(z?"L":"M")+we.x+" "+we.y;j+=g?Ye.svg?"z":"x":""}return j||"M0 0"}var tt=document.documentElement.style,Wt="ActiveXObject"in window,Ht=Wt&&!document.addEventListener,Mt="msLaunchUri"in navigator&&!("documentMode"in document),It=Ir("webkit"),it=Ir("android"),Et=Ir("android 2")||Ir("android 3"),jr=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),pe=it&&Ir("Google")&&jr<537&&!("AudioNode"in window),pt=!!window.opera,sn=!Mt&&Ir("chrome"),_i=Ir("gecko")&&!It&&!pt&&!Wt,Yi=!sn&&Ir("safari"),Nr=Ir("phantom"),On="OTransition"in tt,As=navigator.platform.indexOf("Win")===0,Sa=Wt&&"transition"in tt,Zr="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Et,Rs="MozPerspective"in tt,ci=!window.L_DISABLE_3D&&(Sa||Zr||Rs)&&!On&&!Nr,Si=typeof orientation<"u"||Ir("mobile"),nt=Si&&It,Ot=Si&&Zr,Lt=!window.PointerEvent&&window.MSPointerEvent,Dt=!!(window.PointerEvent||Lt),jt="ontouchstart"in window||!!window.TouchEvent,on=!window.L_NO_TOUCH&&(jt||Dt),Tn=Si&&pt,Ke=Si&&_i,bt=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Tt=(function(){var d=!1;try{var g=Object.defineProperty({},"passive",{get:function(){d=!0}});window.addEventListener("testPassiveEventSupport",m,g),window.removeEventListener("testPassiveEventSupport",m,g)}catch{}return d})(),ln=(function(){return!!document.createElement("canvas").getContext})(),Yt=!!(document.createElementNS&&Xe("svg").createSVGRect),Ln=!!Yt&&(function(){var d=document.createElement("div");return d.innerHTML="<svg/>",(d.firstChild&&d.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),Dr=!Yt&&(function(){try{var d=document.createElement("div");d.innerHTML='<v:shape adj="1"/>';var g=d.firstChild;return g.style.behavior="url(#default#VML)",g&&typeof g.adj=="object"}catch{return!1}})(),Jn=navigator.platform.indexOf("Mac")===0,Zi=navigator.platform.indexOf("Linux")===0;function Ir(d){return navigator.userAgent.toLowerCase().indexOf(d)>=0}var Ye={ie:Wt,ielt9:Ht,edge:Mt,webkit:It,android:it,android23:Et,androidStock:pe,opera:pt,chrome:sn,gecko:_i,safari:Yi,phantom:Nr,opera12:On,win:As,ie3d:Sa,webkit3d:Zr,gecko3d:Rs,any3d:ci,mobile:Si,mobileWebkit:nt,mobileWebkit3d:Ot,msPointer:Lt,pointer:Dt,touch:on,touchNative:jt,mobileOpera:Tn,mobileGecko:Ke,retina:bt,passiveEvents:Tt,canvas:ln,svg:Yt,vml:Dr,inlineSvg:Ln,mac:Jn,linux:Zi},Il=Ye.msPointer?"MSPointerDown":"pointerdown",su=Ye.msPointer?"MSPointerMove":"pointermove",Mm=Ye.msPointer?"MSPointerUp":"pointerup",Dm=Ye.msPointer?"MSPointerCancel":"pointercancel",Af={touchstart:Il,touchmove:su,touchend:Mm,touchcancel:Dm},Ja={touchstart:Sn,touchmove:ou,touchend:ou,touchcancel:ou},Ms={},Rf=!1;function Ib(d,g,j){return g==="touchstart"&&Lb(),Ja[g]?(j=Ja[g].bind(this,j),d.addEventListener(Af[g],j,!1),j):(console.warn("wrong event specified:",g),m)}function Im(d,g,j){if(!Af[g]){console.warn("wrong event specified:",g);return}d.removeEventListener(Af[g],j,!1)}function Lm(d){Ms[d.pointerId]=d}function $m(d){Ms[d.pointerId]&&(Ms[d.pointerId]=d)}function Mf(d){delete Ms[d.pointerId]}function Lb(){Rf||(document.addEventListener(Il,Lm,!0),document.addEventListener(su,$m,!0),document.addEventListener(Mm,Mf,!0),document.addEventListener(Dm,Mf,!0),Rf=!0)}function ou(d,g){if(g.pointerType!==(g.MSPOINTER_TYPE_MOUSE||"mouse")){g.touches=[];for(var j in Ms)g.touches.push(Ms[j]);g.changedTouches=[g],d(g)}}function Sn(d,g){g.MSPOINTER_TYPE_TOUCH&&g.pointerType===g.MSPOINTER_TYPE_TOUCH&&jn(g),ou(d,g)}function $b(d){var g={},j,T;for(T in d)j=d[T],g[T]=j&&j.bind?j.bind(d):j;return d=g,g.type="dblclick",g.detail=2,g.isTrusted=!1,g._simulated=!0,g}var Df=200;function Bm(d,g){d.addEventListener("dblclick",g);var j=0,T;function z(X){if(X.detail!==1){T=X.detail;return}if(!(X.pointerType==="mouse"||X.sourceCapabilities&&!X.sourceCapabilities.firesTouchEvents)){var le=Ls(X);if(!(le.some(function(we){return we instanceof HTMLLabelElement&&we.attributes.for})&&!le.some(function(we){return we instanceof HTMLInputElement||we instanceof HTMLSelectElement}))){var me=Date.now();me-j<=Df?(T++,T===2&&g($b(X))):T=1,j=me}}}return d.addEventListener("click",z),{dblclick:g,simDblclick:z}}function lu(d,g){d.removeEventListener("dblclick",g.dblclick),d.removeEventListener("click",g.simDblclick)}var If=Co(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Po=Co(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Ll=Po==="webkitTransition"||Po==="OTransition"?Po+"End":"transitionend";function ji(d){return typeof d=="string"?document.getElementById(d):d}function $l(d,g){var j=d.style[g]||d.currentStyle&&d.currentStyle[g];if((!j||j==="auto")&&document.defaultView){var T=document.defaultView.getComputedStyle(d,null);j=T?T[g]:null}return j==="auto"?null:j}function wt(d,g,j){var T=document.createElement(d);return T.className=g||"",j&&j.appendChild(T),T}function gn(d){var g=d.parentNode;g&&g.removeChild(d)}function cu(d){for(;d.firstChild;)d.removeChild(d.firstChild)}function ko(d){var g=d.parentNode;g&&g.lastChild!==d&&g.appendChild(d)}function ja(d){var g=d.parentNode;g&&g.firstChild!==d&&g.insertBefore(d,g.firstChild)}function Eo(d,g){if(d.classList!==void 0)return d.classList.contains(g);var j=uu(d);return j.length>0&&new RegExp("(^|\\s)"+g+"(\\s|$)").test(j)}function vt(d,g){if(d.classList!==void 0)for(var j=_(g),T=0,z=j.length;T<z;T++)d.classList.add(j[T]);else if(!Eo(d,g)){var X=uu(d);Lf(d,(X?X+" ":"")+g)}}function cn(d,g){d.classList!==void 0?d.classList.remove(g):Lf(d,x((" "+uu(d)+" ").replace(" "+g+" "," ")))}function Lf(d,g){d.className.baseVal===void 0?d.className=g:d.className.baseVal=g}function uu(d){return d.correspondingElement&&(d=d.correspondingElement),d.className.baseVal===void 0?d.className:d.className.baseVal}function Lr(d,g){"opacity"in d.style?d.style.opacity=g:"filter"in d.style&&Fm(d,g)}function Fm(d,g){var j=!1,T="DXImageTransform.Microsoft.Alpha";try{j=d.filters.item(T)}catch{if(g===1)return}g=Math.round(g*100),j?(j.Enabled=g!==100,j.Opacity=g):d.style.filter+=" progid:"+T+"(opacity="+g+")"}function Co(d){for(var g=document.documentElement.style,j=0;j<d.length;j++)if(d[j]in g)return d[j];return!1}function Ni(d,g,j){var T=g||new D(0,0);d.style[If]=(Ye.ie3d?"translate("+T.x+"px,"+T.y+"px)":"translate3d("+T.x+"px,"+T.y+"px,0)")+(j?" scale("+j+")":"")}function An(d,g){d._leaflet_pos=g,Ye.any3d?Ni(d,g):(d.style.left=g.x+"px",d.style.top=g.y+"px")}function Na(d){return d._leaflet_pos||new D(0,0)}var $t,Oo,du;if("onselectstart"in document)$t=function(){ft(window,"selectstart",jn)},Oo=function(){Jt(window,"selectstart",jn)};else{var Ds=Co(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);$t=function(){if(Ds){var d=document.documentElement.style;du=d[Ds],d[Ds]="none"}},Oo=function(){Ds&&(document.documentElement.style[Ds]=du,du=void 0)}}function fu(){ft(window,"dragstart",jn)}function hu(){Jt(window,"dragstart",jn)}var Bl,Fl;function To(d){for(;d.tabIndex===-1;)d=d.parentNode;d.style&&(Pi(),Bl=d,Fl=d.style.outlineStyle,d.style.outlineStyle="none",ft(window,"keydown",Pi))}function Pi(){Bl&&(Bl.style.outlineStyle=Fl,Bl=void 0,Fl=void 0,Jt(window,"keydown",Pi))}function Pa(d){do d=d.parentNode;while((!d.offsetWidth||!d.offsetHeight)&&d!==document.body);return d}function Xi(d){var g=d.getBoundingClientRect();return{x:g.width/d.offsetWidth||1,y:g.height/d.offsetHeight||1,boundingClientRect:g}}var zl={__proto__:null,TRANSFORM:If,TRANSITION:Po,TRANSITION_END:Ll,get:ji,getStyle:$l,create:wt,remove:gn,empty:cu,toFront:ko,toBack:ja,hasClass:Eo,addClass:vt,removeClass:cn,setClass:Lf,getClass:uu,setOpacity:Lr,testProp:Co,setTransform:Ni,setPosition:An,getPosition:Na,get disableTextSelection(){return $t},get enableTextSelection(){return Oo},disableImageDrag:fu,enableImageDrag:hu,preventOutline:To,restoreOutline:Pi,getSizedParentNode:Pa,getScale:Xi};function ft(d,g,j,T){if(g&&typeof g=="object")for(var z in g)Bf(d,z,g[z],j);else{g=_(g);for(var X=0,le=g.length;X<le;X++)Bf(d,g[X],j,T)}return this}var er="_leaflet_events";function Jt(d,g,j,T){if(arguments.length===1)$f(d),delete d[er];else if(g&&typeof g=="object")for(var z in g)pu(d,z,g[z],j);else if(g=_(g),arguments.length===2)$f(d,function(me){return C(g,me)!==-1});else for(var X=0,le=g.length;X<le;X++)pu(d,g[X],j,T);return this}function $f(d,g){for(var j in d[er]){var T=j.split(/\d/)[0];(!g||g(T))&&pu(d,T,null,null,j)}}var Is={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Bf(d,g,j,T){var z=g+c(j)+(T?"_"+c(T):"");if(d[er]&&d[er][z])return this;var X=function(me){return j.call(T||d,me||window.event)},le=X;!Ye.touchNative&&Ye.pointer&&g.indexOf("touch")===0?X=Ib(d,g,X):Ye.touch&&g==="dblclick"?X=Bm(d,X):"addEventListener"in d?g==="touchstart"||g==="touchmove"||g==="wheel"||g==="mousewheel"?d.addEventListener(Is[g]||g,X,Ye.passiveEvents?{passive:!1}:!1):g==="mouseenter"||g==="mouseleave"?(X=function(me){me=me||window.event,Wl(d,me)&&le(me)},d.addEventListener(Is[g],X,!1)):d.addEventListener(g,le,!1):d.attachEvent("on"+g,X),d[er]=d[er]||{},d[er][z]=X}function pu(d,g,j,T,z){z=z||g+c(j)+(T?"_"+c(T):"");var X=d[er]&&d[er][z];if(!X)return this;!Ye.touchNative&&Ye.pointer&&g.indexOf("touch")===0?Im(d,g,X):Ye.touch&&g==="dblclick"?lu(d,X):"removeEventListener"in d?d.removeEventListener(Is[g]||g,X,!1):d.detachEvent("on"+g,X),d[er][z]=null}function Qi(d){return d.stopPropagation?d.stopPropagation():d.originalEvent?d.originalEvent._stopped=!0:d.cancelBubble=!0,this}function mu(d){return Bf(d,"wheel",Qi),this}function ql(d){return ft(d,"mousedown touchstart dblclick contextmenu",Qi),d._leaflet_disable_click=!0,this}function jn(d){return d.preventDefault?d.preventDefault():d.returnValue=!1,this}function ki(d){return jn(d),Qi(d),this}function Ls(d){if(d.composedPath)return d.composedPath();for(var g=[],j=d.target;j;)g.push(j),j=j.parentNode;return g}function Ul(d,g){if(!g)return new D(d.clientX,d.clientY);var j=Xi(g),T=j.boundingClientRect;return new D((d.clientX-T.left)/j.x-g.clientLeft,(d.clientY-T.top)/j.y-g.clientTop)}var Bb=Ye.linux&&Ye.chrome?window.devicePixelRatio:Ye.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function zm(d){return Ye.edge?d.wheelDeltaY/2:d.deltaY&&d.deltaMode===0?-d.deltaY/Bb:d.deltaY&&d.deltaMode===1?-d.deltaY*20:d.deltaY&&d.deltaMode===2?-d.deltaY*60:d.deltaX||d.deltaZ?0:d.wheelDelta?(d.wheelDeltaY||d.wheelDelta)/2:d.detail&&Math.abs(d.detail)<32765?-d.detail*20:d.detail?d.detail/-32765*60:0}function Wl(d,g){var j=g.relatedTarget;if(!j)return!0;try{for(;j&&j!==d;)j=j.parentNode}catch{return!1}return j!==d}var gu={__proto__:null,on:ft,off:Jt,stopPropagation:Qi,disableScrollPropagation:mu,disableClickPropagation:ql,preventDefault:jn,stop:ki,getPropagationPath:Ls,getMousePosition:Ul,getWheelDelta:zm,isExternalTarget:Wl,addListener:ft,removeListener:Jt},vu=q.extend({run:function(d,g,j,T){this.stop(),this._el=d,this._inProgress=!0,this._duration=j||.25,this._easeOutPower=1/Math.max(T||.5,.2),this._startPos=Na(d),this._offset=g.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=B(this._animate,this),this._step()},_step:function(d){var g=+new Date-this._startTime,j=this._duration*1e3;g<j?this._runFrame(this._easeOut(g/j),d):(this._runFrame(1),this._complete())},_runFrame:function(d,g){var j=this._startPos.add(this._offset.multiplyBy(d));g&&j._round(),An(this._el,j),this.fire("step")},_complete:function(){$(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(d){return 1-Math.pow(1-d,this._easeOutPower)}}),At=q.extend({options:{crs:je,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(d,g){g=b(this,g),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(d),this._initLayout(),this._onResize=s(this._onResize,this),this._initEvents(),g.maxBounds&&this.setMaxBounds(g.maxBounds),g.zoom!==void 0&&(this._zoom=this._limitZoom(g.zoom)),g.center&&g.zoom!==void 0&&this.setView(se(g.center),g.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Po&&Ye.any3d&&!Ye.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),ft(this._proxy,Ll,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(d,g,j){if(g=g===void 0?this._zoom:this._limitZoom(g),d=this._limitCenter(se(d),g,this.options.maxBounds),j=j||{},this._stop(),this._loaded&&!j.reset&&j!==!0){j.animate!==void 0&&(j.zoom=i({animate:j.animate},j.zoom),j.pan=i({animate:j.animate,duration:j.duration},j.pan));var T=this._zoom!==g?this._tryAnimatedZoom&&this._tryAnimatedZoom(d,g,j.zoom):this._tryAnimatedPan(d,j.pan);if(T)return clearTimeout(this._sizeTimer),this}return this._resetView(d,g,j.pan&&j.pan.noMoveStart),this},setZoom:function(d,g){return this._loaded?this.setView(this.getCenter(),d,{zoom:g}):(this._zoom=d,this)},zoomIn:function(d,g){return d=d||(Ye.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+d,g)},zoomOut:function(d,g){return d=d||(Ye.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-d,g)},setZoomAround:function(d,g,j){var T=this.getZoomScale(g),z=this.getSize().divideBy(2),X=d instanceof D?d:this.latLngToContainerPoint(d),le=X.subtract(z).multiplyBy(1-1/T),me=this.containerPointToLatLng(z.add(le));return this.setView(me,g,{zoom:j})},_getBoundsCenterZoom:function(d,g){g=g||{},d=d.getBounds?d.getBounds():re(d);var j=ne(g.paddingTopLeft||g.padding||[0,0]),T=ne(g.paddingBottomRight||g.padding||[0,0]),z=this.getBoundsZoom(d,!1,j.add(T));if(z=typeof g.maxZoom=="number"?Math.min(g.maxZoom,z):z,z===1/0)return{center:d.getCenter(),zoom:z};var X=T.subtract(j).divideBy(2),le=this.project(d.getSouthWest(),z),me=this.project(d.getNorthEast(),z),we=this.unproject(le.add(me).divideBy(2).add(X),z);return{center:we,zoom:z}},fitBounds:function(d,g){if(d=re(d),!d.isValid())throw new Error("Bounds are not valid.");var j=this._getBoundsCenterZoom(d,g);return this.setView(j.center,j.zoom,g)},fitWorld:function(d){return this.fitBounds([[-90,-180],[90,180]],d)},panTo:function(d,g){return this.setView(d,this._zoom,{pan:g})},panBy:function(d,g){if(d=ne(d).round(),g=g||{},!d.x&&!d.y)return this.fire("moveend");if(g.animate!==!0&&!this.getSize().contains(d))return this._resetView(this.unproject(this.project(this.getCenter()).add(d)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new vu,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),g.noMoveStart||this.fire("movestart"),g.animate!==!1){vt(this._mapPane,"leaflet-pan-anim");var j=this._getMapPanePos().subtract(d).round();this._panAnim.run(this._mapPane,j,g.duration||.25,g.easeLinearity)}else this._rawPanBy(d),this.fire("move").fire("moveend");return this},flyTo:function(d,g,j){if(j=j||{},j.animate===!1||!Ye.any3d)return this.setView(d,g,j);this._stop();var T=this.project(this.getCenter()),z=this.project(d),X=this.getSize(),le=this._zoom;d=se(d),g=g===void 0?le:g;var me=Math.max(X.x,X.y),we=me*this.getZoomScale(le,g),Ee=z.distanceTo(T)||1,Be=1.42,rt=Be*Be;function Nt(Vt){var Vo=Vt?-1:1,Jb=Vt?we:me,e0=we*we-me*me+Vo*rt*rt*Ee*Ee,Ws=2*Jb*rt*Ee,Hs=e0/Ws,Vs=Math.sqrt(Hs*Hs+1)-Hs,Tu=Vs<1e-9?-18:Math.log(Vs);return Tu}function tr(Vt){return(Math.exp(Vt)-Math.exp(-Vt))/2}function Un(Vt){return(Math.exp(Vt)+Math.exp(-Vt))/2}function Jr(Vt){return tr(Vt)/Un(Vt)}var Br=Nt(0);function Wo(Vt){return me*(Un(Br)/Un(Br+Be*Vt))}function sh(Vt){return me*(Un(Br)*Jr(Br+Be*Vt)-tr(Br))/rt}function os(Vt){return 1-Math.pow(1-Vt,1.5)}var lg=Date.now(),Us=(Nt(1)-Br)/Be,na=j.duration?1e3*j.duration:1e3*Us*.8;function Ho(){var Vt=(Date.now()-lg)/na,Vo=os(Vt)*Us;Vt<=1?(this._flyToFrame=B(Ho,this),this._move(this.unproject(T.add(z.subtract(T).multiplyBy(sh(Vo)/Ee)),le),this.getScaleZoom(me/Wo(Vo),le),{flyTo:!0})):this._move(d,g)._moveEnd(!0)}return this._moveStart(!0,j.noMoveStart),Ho.call(this),this},flyToBounds:function(d,g){var j=this._getBoundsCenterZoom(d,g);return this.flyTo(j.center,j.zoom,g)},setMaxBounds:function(d){return d=re(d),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),d.isValid()?(this.options.maxBounds=d,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(d){var g=this.options.minZoom;return this.options.minZoom=d,this._loaded&&g!==d&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(d):this},setMaxZoom:function(d){var g=this.options.maxZoom;return this.options.maxZoom=d,this._loaded&&g!==d&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(d):this},panInsideBounds:function(d,g){this._enforcingBounds=!0;var j=this.getCenter(),T=this._limitCenter(j,this._zoom,re(d));return j.equals(T)||this.panTo(T,g),this._enforcingBounds=!1,this},panInside:function(d,g){g=g||{};var j=ne(g.paddingTopLeft||g.padding||[0,0]),T=ne(g.paddingBottomRight||g.padding||[0,0]),z=this.project(this.getCenter()),X=this.project(d),le=this.getPixelBounds(),me=ee([le.min.add(j),le.max.subtract(T)]),we=me.getSize();if(!me.contains(X)){this._enforcingBounds=!0;var Ee=X.subtract(me.getCenter()),Be=me.extend(X).getSize().subtract(we);z.x+=Ee.x<0?-Be.x:Be.x,z.y+=Ee.y<0?-Be.y:Be.y,this.panTo(this.unproject(z),g),this._enforcingBounds=!1}return this},invalidateSize:function(d){if(!this._loaded)return this;d=i({animate:!1,pan:!0},d===!0?{animate:!0}:d);var g=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var j=this.getSize(),T=g.divideBy(2).round(),z=j.divideBy(2).round(),X=T.subtract(z);return!X.x&&!X.y?this:(d.animate&&d.pan?this.panBy(X):(d.pan&&this._rawPanBy(X),this.fire("move"),d.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(s(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:g,newSize:j}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(d){if(d=this._locateOptions=i({timeout:1e4,watch:!1},d),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var g=s(this._handleGeolocationResponse,this),j=s(this._handleGeolocationError,this);return d.watch?this._locationWatchId=navigator.geolocation.watchPosition(g,j,d):navigator.geolocation.getCurrentPosition(g,j,d),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(d){if(this._container._leaflet_id){var g=d.code,j=d.message||(g===1?"permission denied":g===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:g,message:"Geolocation error: "+j+"."})}},_handleGeolocationResponse:function(d){if(this._container._leaflet_id){var g=d.coords.latitude,j=d.coords.longitude,T=new ie(g,j),z=T.toBounds(d.coords.accuracy*2),X=this._locateOptions;if(X.setView){var le=this.getBoundsZoom(z);this.setView(T,X.maxZoom?Math.min(le,X.maxZoom):le)}var me={latlng:T,bounds:z,timestamp:d.timestamp};for(var we in d.coords)typeof d.coords[we]=="number"&&(me[we]=d.coords[we]);this.fire("locationfound",me)}},addHandler:function(d,g){if(!g)return this;var j=this[d]=new g(this);return this._handlers.push(j),this.options[d]&&j.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),gn(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&($(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var d;for(d in this._layers)this._layers[d].remove();for(d in this._panes)gn(this._panes[d]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(d,g){var j="leaflet-pane"+(d?" leaflet-"+d.replace("Pane","")+"-pane":""),T=wt("div",j,g||this._mapPane);return d&&(this._panes[d]=T),T},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var d=this.getPixelBounds(),g=this.unproject(d.getBottomLeft()),j=this.unproject(d.getTopRight());return new te(g,j)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(d,g,j){d=re(d),j=ne(j||[0,0]);var T=this.getZoom()||0,z=this.getMinZoom(),X=this.getMaxZoom(),le=d.getNorthWest(),me=d.getSouthEast(),we=this.getSize().subtract(j),Ee=ee(this.project(me,T),this.project(le,T)).getSize(),Be=Ye.any3d?this.options.zoomSnap:1,rt=we.x/Ee.x,Nt=we.y/Ee.y,tr=g?Math.max(rt,Nt):Math.min(rt,Nt);return T=this.getScaleZoom(tr,T),Be&&(T=Math.round(T/(Be/100))*(Be/100),T=g?Math.ceil(T/Be)*Be:Math.floor(T/Be)*Be),Math.max(z,Math.min(X,T))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new D(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(d,g){var j=this._getTopLeftPoint(d,g);return new J(j,j.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(d){return this.options.crs.getProjectedBounds(d===void 0?this.getZoom():d)},getPane:function(d){return typeof d=="string"?this._panes[d]:d},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(d,g){var j=this.options.crs;return g=g===void 0?this._zoom:g,j.scale(d)/j.scale(g)},getScaleZoom:function(d,g){var j=this.options.crs;g=g===void 0?this._zoom:g;var T=j.zoom(d*j.scale(g));return isNaN(T)?1/0:T},project:function(d,g){return g=g===void 0?this._zoom:g,this.options.crs.latLngToPoint(se(d),g)},unproject:function(d,g){return g=g===void 0?this._zoom:g,this.options.crs.pointToLatLng(ne(d),g)},layerPointToLatLng:function(d){var g=ne(d).add(this.getPixelOrigin());return this.unproject(g)},latLngToLayerPoint:function(d){var g=this.project(se(d))._round();return g._subtract(this.getPixelOrigin())},wrapLatLng:function(d){return this.options.crs.wrapLatLng(se(d))},wrapLatLngBounds:function(d){return this.options.crs.wrapLatLngBounds(re(d))},distance:function(d,g){return this.options.crs.distance(se(d),se(g))},containerPointToLayerPoint:function(d){return ne(d).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(d){return ne(d).add(this._getMapPanePos())},containerPointToLatLng:function(d){var g=this.containerPointToLayerPoint(ne(d));return this.layerPointToLatLng(g)},latLngToContainerPoint:function(d){return this.layerPointToContainerPoint(this.latLngToLayerPoint(se(d)))},mouseEventToContainerPoint:function(d){return Ul(d,this._container)},mouseEventToLayerPoint:function(d){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(d))},mouseEventToLatLng:function(d){return this.layerPointToLatLng(this.mouseEventToLayerPoint(d))},_initContainer:function(d){var g=this._container=ji(d);if(g){if(g._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");ft(g,"scroll",this._onScroll,this),this._containerId=c(g)},_initLayout:function(){var d=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ye.any3d,vt(d,"leaflet-container"+(Ye.touch?" leaflet-touch":"")+(Ye.retina?" leaflet-retina":"")+(Ye.ielt9?" leaflet-oldie":"")+(Ye.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var g=$l(d,"position");g!=="absolute"&&g!=="relative"&&g!=="fixed"&&g!=="sticky"&&(d.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var d=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),An(this._mapPane,new D(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(vt(d.markerPane,"leaflet-zoom-hide"),vt(d.shadowPane,"leaflet-zoom-hide"))},_resetView:function(d,g,j){An(this._mapPane,new D(0,0));var T=!this._loaded;this._loaded=!0,g=this._limitZoom(g),this.fire("viewprereset");var z=this._zoom!==g;this._moveStart(z,j)._move(d,g)._moveEnd(z),this.fire("viewreset"),T&&this.fire("load")},_moveStart:function(d,g){return d&&this.fire("zoomstart"),g||this.fire("movestart"),this},_move:function(d,g,j,T){g===void 0&&(g=this._zoom);var z=this._zoom!==g;return this._zoom=g,this._lastCenter=d,this._pixelOrigin=this._getNewPixelOrigin(d),T?j&&j.pinch&&this.fire("zoom",j):((z||j&&j.pinch)&&this.fire("zoom",j),this.fire("move",j)),this},_moveEnd:function(d){return d&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return $(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(d){An(this._mapPane,this._getMapPanePos().subtract(d))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(d){this._targets={},this._targets[c(this._container)]=this;var g=d?Jt:ft;g(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&g(window,"resize",this._onResize,this),Ye.any3d&&this.options.transform3DLimit&&(d?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){$(this._resizeRequest),this._resizeRequest=B(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var d=this._getMapPanePos();Math.max(Math.abs(d.x),Math.abs(d.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(d,g){for(var j=[],T,z=g==="mouseout"||g==="mouseover",X=d.target||d.srcElement,le=!1;X;){if(T=this._targets[c(X)],T&&(g==="click"||g==="preclick")&&this._draggableMoved(T)){le=!0;break}if(T&&T.listens(g,!0)&&(z&&!Wl(X,d)||(j.push(T),z))||X===this._container)break;X=X.parentNode}return!j.length&&!le&&!z&&this.listens(g,!0)&&(j=[this]),j},_isClickDisabled:function(d){for(;d&&d!==this._container;){if(d._leaflet_disable_click)return!0;d=d.parentNode}},_handleDOMEvent:function(d){var g=d.target||d.srcElement;if(!(!this._loaded||g._leaflet_disable_events||d.type==="click"&&this._isClickDisabled(g))){var j=d.type;j==="mousedown"&&To(g),this._fireDOMEvent(d,j)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(d,g,j){if(d.type==="click"){var T=i({},d);T.type="preclick",this._fireDOMEvent(T,T.type,j)}var z=this._findEventTargets(d,g);if(j){for(var X=[],le=0;le<j.length;le++)j[le].listens(g,!0)&&X.push(j[le]);z=X.concat(z)}if(z.length){g==="contextmenu"&&jn(d);var me=z[0],we={originalEvent:d};if(d.type!=="keypress"&&d.type!=="keydown"&&d.type!=="keyup"){var Ee=me.getLatLng&&(!me._radius||me._radius<=10);we.containerPoint=Ee?this.latLngToContainerPoint(me.getLatLng()):this.mouseEventToContainerPoint(d),we.layerPoint=this.containerPointToLayerPoint(we.containerPoint),we.latlng=Ee?me.getLatLng():this.layerPointToLatLng(we.layerPoint)}for(le=0;le<z.length;le++)if(z[le].fire(g,we,!0),we.originalEvent._stopped||z[le].options.bubblingMouseEvents===!1&&C(this._mouseEvents,g)!==-1)return}},_draggableMoved:function(d){return d=d.dragging&&d.dragging.enabled()?d:this,d.dragging&&d.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var d=0,g=this._handlers.length;d<g;d++)this._handlers[d].disable()},whenReady:function(d,g){return this._loaded?d.call(g||this,{target:this}):this.on("load",d,g),this},_getMapPanePos:function(){return Na(this._mapPane)||new D(0,0)},_moved:function(){var d=this._getMapPanePos();return d&&!d.equals([0,0])},_getTopLeftPoint:function(d,g){var j=d&&g!==void 0?this._getNewPixelOrigin(d,g):this.getPixelOrigin();return j.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(d,g){var j=this.getSize()._divideBy(2);return this.project(d,g)._subtract(j)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(d,g,j){var T=this._getNewPixelOrigin(j,g);return this.project(d,g)._subtract(T)},_latLngBoundsToNewLayerBounds:function(d,g,j){var T=this._getNewPixelOrigin(j,g);return ee([this.project(d.getSouthWest(),g)._subtract(T),this.project(d.getNorthWest(),g)._subtract(T),this.project(d.getSouthEast(),g)._subtract(T),this.project(d.getNorthEast(),g)._subtract(T)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(d){return this.latLngToLayerPoint(d).subtract(this._getCenterLayerPoint())},_limitCenter:function(d,g,j){if(!j)return d;var T=this.project(d,g),z=this.getSize().divideBy(2),X=new J(T.subtract(z),T.add(z)),le=this._getBoundsOffset(X,j,g);return Math.abs(le.x)<=1&&Math.abs(le.y)<=1?d:this.unproject(T.add(le),g)},_limitOffset:function(d,g){if(!g)return d;var j=this.getPixelBounds(),T=new J(j.min.add(d),j.max.add(d));return d.add(this._getBoundsOffset(T,g))},_getBoundsOffset:function(d,g,j){var T=ee(this.project(g.getNorthEast(),j),this.project(g.getSouthWest(),j)),z=T.min.subtract(d.min),X=T.max.subtract(d.max),le=this._rebound(z.x,-X.x),me=this._rebound(z.y,-X.y);return new D(le,me)},_rebound:function(d,g){return d+g>0?Math.round(d-g)/2:Math.max(0,Math.ceil(d))-Math.max(0,Math.floor(g))},_limitZoom:function(d){var g=this.getMinZoom(),j=this.getMaxZoom(),T=Ye.any3d?this.options.zoomSnap:1;return T&&(d=Math.round(d/T)*T),Math.max(g,Math.min(j,d))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){cn(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(d,g){var j=this._getCenterOffset(d)._trunc();return(g&&g.animate)!==!0&&!this.getSize().contains(j)?!1:(this.panBy(j,g),!0)},_createAnimProxy:function(){var d=this._proxy=wt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(d),this.on("zoomanim",function(g){var j=If,T=this._proxy.style[j];Ni(this._proxy,this.project(g.center,g.zoom),this.getZoomScale(g.zoom,1)),T===this._proxy.style[j]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){gn(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var d=this.getCenter(),g=this.getZoom();Ni(this._proxy,this.project(d,g),this.getZoomScale(g,1))},_catchTransitionEnd:function(d){this._animatingZoom&&d.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(d,g,j){if(this._animatingZoom)return!0;if(j=j||{},!this._zoomAnimated||j.animate===!1||this._nothingToAnimate()||Math.abs(g-this._zoom)>this.options.zoomAnimationThreshold)return!1;var T=this.getZoomScale(g),z=this._getCenterOffset(d)._divideBy(1-1/T);return j.animate!==!0&&!this.getSize().contains(z)?!1:(B(function(){this._moveStart(!0,j.noMoveStart||!1)._animateZoom(d,g,!0)},this),!0)},_animateZoom:function(d,g,j,T){this._mapPane&&(j&&(this._animatingZoom=!0,this._animateToCenter=d,this._animateToZoom=g,vt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:d,zoom:g,noUpdate:T}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(s(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&cn(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function es(d,g){return new At(d,g)}var Xr=W.extend({options:{position:"topright"},initialize:function(d){b(this,d)},getPosition:function(){return this.options.position},setPosition:function(d){var g=this._map;return g&&g.removeControl(this),this.options.position=d,g&&g.addControl(this),this},getContainer:function(){return this._container},addTo:function(d){this.remove(),this._map=d;var g=this._container=this.onAdd(d),j=this.getPosition(),T=d._controlCorners[j];return vt(g,"leaflet-control"),j.indexOf("bottom")!==-1?T.insertBefore(g,T.firstChild):T.appendChild(g),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(gn(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(d){this._map&&d&&d.screenX>0&&d.screenY>0&&this._map.getContainer().focus()}}),ts=function(d){return new Xr(d)};At.include({addControl:function(d){return d.addTo(this),this},removeControl:function(d){return d.remove(),this},_initControlPos:function(){var d=this._controlCorners={},g="leaflet-",j=this._controlContainer=wt("div",g+"control-container",this._container);function T(z,X){var le=g+z+" "+g+X;d[z+X]=wt("div",le,j)}T("top","left"),T("top","right"),T("bottom","left"),T("bottom","right")},_clearControlPos:function(){for(var d in this._controlCorners)gn(this._controlCorners[d]);gn(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Ff=Xr.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(d,g,j,T){return j<T?-1:T<j?1:0}},initialize:function(d,g,j){b(this,j),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var T in d)this._addLayer(d[T],T);for(T in g)this._addLayer(g[T],T,!0)},onAdd:function(d){this._initLayout(),this._update(),this._map=d,d.on("zoomend",this._checkDisabledLayers,this);for(var g=0;g<this._layers.length;g++)this._layers[g].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(d){return Xr.prototype.addTo.call(this,d),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var d=0;d<this._layers.length;d++)this._layers[d].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(d,g){return this._addLayer(d,g),this._map?this._update():this},addOverlay:function(d,g){return this._addLayer(d,g,!0),this._map?this._update():this},removeLayer:function(d){d.off("add remove",this._onLayerChange,this);var g=this._getLayer(c(d));return g&&this._layers.splice(this._layers.indexOf(g),1),this._map?this._update():this},expand:function(){vt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var d=this._map.getSize().y-(this._container.offsetTop+50);return d<this._section.clientHeight?(vt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=d+"px"):cn(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return cn(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var d="leaflet-control-layers",g=this._container=wt("div",d),j=this.options.collapsed;g.setAttribute("aria-haspopup",!0),ql(g),mu(g);var T=this._section=wt("section",d+"-list");j&&(this._map.on("click",this.collapse,this),ft(g,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var z=this._layersLink=wt("a",d+"-toggle",g);z.href="#",z.title="Layers",z.setAttribute("role","button"),ft(z,{keydown:function(X){X.keyCode===13&&this._expandSafely()},click:function(X){jn(X),this._expandSafely()}},this),j||this.expand(),this._baseLayersList=wt("div",d+"-base",T),this._separator=wt("div",d+"-separator",T),this._overlaysList=wt("div",d+"-overlays",T),g.appendChild(T)},_getLayer:function(d){for(var g=0;g<this._layers.length;g++)if(this._layers[g]&&c(this._layers[g].layer)===d)return this._layers[g]},_addLayer:function(d,g,j){this._map&&d.on("add remove",this._onLayerChange,this),this._layers.push({layer:d,name:g,overlay:j}),this.options.sortLayers&&this._layers.sort(s(function(T,z){return this.options.sortFunction(T.layer,z.layer,T.name,z.name)},this)),this.options.autoZIndex&&d.setZIndex&&(this._lastZIndex++,d.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;cu(this._baseLayersList),cu(this._overlaysList),this._layerControlInputs=[];var d,g,j,T,z=0;for(j=0;j<this._layers.length;j++)T=this._layers[j],this._addItem(T),g=g||T.overlay,d=d||!T.overlay,z+=T.overlay?0:1;return this.options.hideSingleBase&&(d=d&&z>1,this._baseLayersList.style.display=d?"":"none"),this._separator.style.display=g&&d?"":"none",this},_onLayerChange:function(d){this._handlingClick||this._update();var g=this._getLayer(c(d.target)),j=g.overlay?d.type==="add"?"overlayadd":"overlayremove":d.type==="add"?"baselayerchange":null;j&&this._map.fire(j,g)},_createRadioElement:function(d,g){var j='<input type="radio" class="leaflet-control-layers-selector" name="'+d+'"'+(g?' checked="checked"':"")+"/>",T=document.createElement("div");return T.innerHTML=j,T.firstChild},_addItem:function(d){var g=document.createElement("label"),j=this._map.hasLayer(d.layer),T;d.overlay?(T=document.createElement("input"),T.type="checkbox",T.className="leaflet-control-layers-selector",T.defaultChecked=j):T=this._createRadioElement("leaflet-base-layers_"+c(this),j),this._layerControlInputs.push(T),T.layerId=c(d.layer),ft(T,"click",this._onInputClick,this);var z=document.createElement("span");z.innerHTML=" "+d.name;var X=document.createElement("span");g.appendChild(X),X.appendChild(T),X.appendChild(z);var le=d.overlay?this._overlaysList:this._baseLayersList;return le.appendChild(g),this._checkDisabledLayers(),g},_onInputClick:function(){if(!this._preventClick){var d=this._layerControlInputs,g,j,T=[],z=[];this._handlingClick=!0;for(var X=d.length-1;X>=0;X--)g=d[X],j=this._getLayer(g.layerId).layer,g.checked?T.push(j):g.checked||z.push(j);for(X=0;X<z.length;X++)this._map.hasLayer(z[X])&&this._map.removeLayer(z[X]);for(X=0;X<T.length;X++)this._map.hasLayer(T[X])||this._map.addLayer(T[X]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var d=this._layerControlInputs,g,j,T=this._map.getZoom(),z=d.length-1;z>=0;z--)g=d[z],j=this._getLayer(g.layerId).layer,g.disabled=j.options.minZoom!==void 0&&T<j.options.minZoom||j.options.maxZoom!==void 0&&T>j.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var d=this._section;this._preventClick=!0,ft(d,"click",jn),this.expand();var g=this;setTimeout(function(){Jt(d,"click",jn),g._preventClick=!1})}}),yu=function(d,g,j){return new Ff(d,g,j)},Ao=Xr.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(d){var g="leaflet-control-zoom",j=wt("div",g+" leaflet-bar"),T=this.options;return this._zoomInButton=this._createButton(T.zoomInText,T.zoomInTitle,g+"-in",j,this._zoomIn),this._zoomOutButton=this._createButton(T.zoomOutText,T.zoomOutTitle,g+"-out",j,this._zoomOut),this._updateDisabled(),d.on("zoomend zoomlevelschange",this._updateDisabled,this),j},onRemove:function(d){d.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(d){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(d.shiftKey?3:1))},_zoomOut:function(d){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(d.shiftKey?3:1))},_createButton:function(d,g,j,T,z){var X=wt("a",j,T);return X.innerHTML=d,X.href="#",X.title=g,X.setAttribute("role","button"),X.setAttribute("aria-label",g),ql(X),ft(X,"click",ki),ft(X,"click",z,this),ft(X,"click",this._refocusOnMap,this),X},_updateDisabled:function(){var d=this._map,g="leaflet-disabled";cn(this._zoomInButton,g),cn(this._zoomOutButton,g),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||d._zoom===d.getMinZoom())&&(vt(this._zoomOutButton,g),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||d._zoom===d.getMaxZoom())&&(vt(this._zoomInButton,g),this._zoomInButton.setAttribute("aria-disabled","true"))}});At.mergeOptions({zoomControl:!0}),At.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Ao,this.addControl(this.zoomControl))});var qm=function(d){return new Ao(d)},$r=Xr.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(d){var g="leaflet-control-scale",j=wt("div",g),T=this.options;return this._addScales(T,g+"-line",j),d.on(T.updateWhenIdle?"moveend":"move",this._update,this),d.whenReady(this._update,this),j},onRemove:function(d){d.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(d,g,j){d.metric&&(this._mScale=wt("div",g,j)),d.imperial&&(this._iScale=wt("div",g,j))},_update:function(){var d=this._map,g=d.getSize().y/2,j=d.distance(d.containerPointToLatLng([0,g]),d.containerPointToLatLng([this.options.maxWidth,g]));this._updateScales(j)},_updateScales:function(d){this.options.metric&&d&&this._updateMetric(d),this.options.imperial&&d&&this._updateImperial(d)},_updateMetric:function(d){var g=this._getRoundNum(d),j=g<1e3?g+" m":g/1e3+" km";this._updateScale(this._mScale,j,g/d)},_updateImperial:function(d){var g=d*3.2808399,j,T,z;g>5280?(j=g/5280,T=this._getRoundNum(j),this._updateScale(this._iScale,T+" mi",T/j)):(z=this._getRoundNum(g),this._updateScale(this._iScale,z+" ft",z/g))},_updateScale:function(d,g,j){d.style.width=Math.round(this.options.maxWidth*j)+"px",d.innerHTML=g},_getRoundNum:function(d){var g=Math.pow(10,(Math.floor(d)+"").length-1),j=d/g;return j=j>=10?10:j>=5?5:j>=3?3:j>=2?2:1,g*j}}),Ro=function(d){return new $r(d)},zf='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',$s=Xr.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Ye.inlineSvg?zf+" ":"")+"Leaflet</a>"},initialize:function(d){b(this,d),this._attributions={}},onAdd:function(d){d.attributionControl=this,this._container=wt("div","leaflet-control-attribution"),ql(this._container);for(var g in d._layers)d._layers[g].getAttribution&&this.addAttribution(d._layers[g].getAttribution());return this._update(),d.on("layeradd",this._addAttribution,this),this._container},onRemove:function(d){d.off("layeradd",this._addAttribution,this)},_addAttribution:function(d){d.layer.getAttribution&&(this.addAttribution(d.layer.getAttribution()),d.layer.once("remove",function(){this.removeAttribution(d.layer.getAttribution())},this))},setPrefix:function(d){return this.options.prefix=d,this._update(),this},addAttribution:function(d){return d?(this._attributions[d]||(this._attributions[d]=0),this._attributions[d]++,this._update(),this):this},removeAttribution:function(d){return d?(this._attributions[d]&&(this._attributions[d]--,this._update()),this):this},_update:function(){if(this._map){var d=[];for(var g in this._attributions)this._attributions[g]&&d.push(g);var j=[];this.options.prefix&&j.push(this.options.prefix),d.length&&j.push(d.join(", ")),this._container.innerHTML=j.join(' <span aria-hidden="true">|</span> ')}}});At.mergeOptions({attributionControl:!0}),At.addInitHook(function(){this.options.attributionControl&&new $s().addTo(this)});var Fb=function(d){return new $s(d)};Xr.Layers=Ff,Xr.Zoom=Ao,Xr.Scale=$r,Xr.Attribution=$s,ts.layers=yu,ts.zoom=qm,ts.scale=Ro,ts.attribution=Fb;var ui=W.extend({initialize:function(d){this._map=d},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});ui.addTo=function(d,g){return d.addHandler(g,this),this};var qf={Events:K},Mo=Ye.touch?"touchstart mousedown":"mousedown",Ei=q.extend({options:{clickTolerance:3},initialize:function(d,g,j,T){b(this,T),this._element=d,this._dragStartTarget=g||d,this._preventOutline=j},enable:function(){this._enabled||(ft(this._dragStartTarget,Mo,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Ei._dragging===this&&this.finishDrag(!0),Jt(this._dragStartTarget,Mo,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(d){if(this._enabled&&(this._moved=!1,!Eo(this._element,"leaflet-zoom-anim"))){if(d.touches&&d.touches.length!==1){Ei._dragging===this&&this.finishDrag();return}if(!(Ei._dragging||d.shiftKey||d.which!==1&&d.button!==1&&!d.touches)&&(Ei._dragging=this,this._preventOutline&&To(this._element),fu(),$t(),!this._moving)){this.fire("down");var g=d.touches?d.touches[0]:d,j=Pa(this._element);this._startPoint=new D(g.clientX,g.clientY),this._startPos=Na(this._element),this._parentScale=Xi(j);var T=d.type==="mousedown";ft(document,T?"mousemove":"touchmove",this._onMove,this),ft(document,T?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(d){if(this._enabled){if(d.touches&&d.touches.length>1){this._moved=!0;return}var g=d.touches&&d.touches.length===1?d.touches[0]:d,j=new D(g.clientX,g.clientY)._subtract(this._startPoint);!j.x&&!j.y||Math.abs(j.x)+Math.abs(j.y)<this.options.clickTolerance||(j.x/=this._parentScale.x,j.y/=this._parentScale.y,jn(d),this._moved||(this.fire("dragstart"),this._moved=!0,vt(document.body,"leaflet-dragging"),this._lastTarget=d.target||d.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),vt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(j),this._moving=!0,this._lastEvent=d,this._updatePosition())}},_updatePosition:function(){var d={originalEvent:this._lastEvent};this.fire("predrag",d),An(this._element,this._newPos),this.fire("drag",d)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(d){cn(document.body,"leaflet-dragging"),this._lastTarget&&(cn(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Jt(document,"mousemove touchmove",this._onMove,this),Jt(document,"mouseup touchend touchcancel",this._onUp,this),hu(),Oo();var g=this._moved&&this._moving;this._moving=!1,Ei._dragging=!1,g&&this.fire("dragend",{noInertia:d,distance:this._newPos.distanceTo(this._startPos)})}});function Uf(d,g,j){var T,z=[1,4,2,8],X,le,me,we,Ee,Be,rt,Nt;for(X=0,Be=d.length;X<Be;X++)d[X]._code=Bs(d[X],g);for(me=0;me<4;me++){for(rt=z[me],T=[],X=0,Be=d.length,le=Be-1;X<Be;le=X++)we=d[X],Ee=d[le],we._code&rt?Ee._code&rt||(Nt=bu(Ee,we,rt,g,j),Nt._code=Bs(Nt,g),T.push(Nt)):(Ee._code&rt&&(Nt=bu(Ee,we,rt,g,j),Nt._code=Bs(Nt,g),T.push(Nt)),T.push(we));d=T}return d}function Um(d,g){var j,T,z,X,le,me,we,Ee,Be;if(!d||d.length===0)throw new Error("latlngs not passed");di(d)||(console.warn("latlngs are not flat! Only the first ring will be used"),d=d[0]);var rt=se([0,0]),Nt=re(d),tr=Nt.getNorthWest().distanceTo(Nt.getSouthWest())*Nt.getNorthEast().distanceTo(Nt.getNorthWest());tr<1700&&(rt=Wf(d));var Un=d.length,Jr=[];for(j=0;j<Un;j++){var Br=se(d[j]);Jr.push(g.project(se([Br.lat-rt.lat,Br.lng-rt.lng])))}for(me=we=Ee=0,j=0,T=Un-1;j<Un;T=j++)z=Jr[j],X=Jr[T],le=z.y*X.x-X.y*z.x,we+=(z.x+X.x)*le,Ee+=(z.y+X.y)*le,me+=le*3;me===0?Be=Jr[0]:Be=[we/me,Ee/me];var Wo=g.unproject(ne(Be));return se([Wo.lat+rt.lat,Wo.lng+rt.lng])}function Wf(d){for(var g=0,j=0,T=0,z=0;z<d.length;z++){var X=se(d[z]);g+=X.lat,j+=X.lng,T++}return se([g/T,j/T])}var zb={__proto__:null,clipPolygon:Uf,polygonCenter:Um,centroid:Wf};function xu(d,g){if(!g||!d.length)return d.slice();var j=g*g;return d=Wb(d,j),d=Ub(d,j),d}function Wm(d,g,j){return Math.sqrt(Fs(d,g,j,!0))}function qb(d,g,j){return Fs(d,g,j)}function Ub(d,g){var j=d.length,T=typeof Uint8Array<"u"?Uint8Array:Array,z=new T(j);z[0]=z[j-1]=1,Hf(d,z,g,0,j-1);var X,le=[];for(X=0;X<j;X++)z[X]&&le.push(d[X]);return le}function Hf(d,g,j,T,z){var X=0,le,me,we;for(me=T+1;me<=z-1;me++)we=Fs(d[me],d[T],d[z],!0),we>X&&(le=me,X=we);X>j&&(g[le]=1,Hf(d,g,j,T,le),Hf(d,g,j,le,z))}function Wb(d,g){for(var j=[d[0]],T=1,z=0,X=d.length;T<X;T++)Hb(d[T],d[z])>g&&(j.push(d[T]),z=T);return z<X-1&&j.push(d[X-1]),j}var Vf;function Hm(d,g,j,T,z){var X=T?Vf:Bs(d,j),le=Bs(g,j),me,we,Ee;for(Vf=le;;){if(!(X|le))return[d,g];if(X&le)return!1;me=X||le,we=bu(d,g,me,j,z),Ee=Bs(we,j),me===X?(d=we,X=Ee):(g=we,le=Ee)}}function bu(d,g,j,T,z){var X=g.x-d.x,le=g.y-d.y,me=T.min,we=T.max,Ee,Be;return j&8?(Ee=d.x+X*(we.y-d.y)/le,Be=we.y):j&4?(Ee=d.x+X*(me.y-d.y)/le,Be=me.y):j&2?(Ee=we.x,Be=d.y+le*(we.x-d.x)/X):j&1&&(Ee=me.x,Be=d.y+le*(me.x-d.x)/X),new D(Ee,Be,z)}function Bs(d,g){var j=0;return d.x<g.min.x?j|=1:d.x>g.max.x&&(j|=2),d.y<g.min.y?j|=4:d.y>g.max.y&&(j|=8),j}function Hb(d,g){var j=g.x-d.x,T=g.y-d.y;return j*j+T*T}function Fs(d,g,j,T){var z=g.x,X=g.y,le=j.x-z,me=j.y-X,we=le*le+me*me,Ee;return we>0&&(Ee=((d.x-z)*le+(d.y-X)*me)/we,Ee>1?(z=j.x,X=j.y):Ee>0&&(z+=le*Ee,X+=me*Ee)),le=d.x-z,me=d.y-X,T?le*le+me*me:new D(z,X)}function di(d){return!P(d[0])||typeof d[0][0]!="object"&&typeof d[0][0]<"u"}function Vm(d){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),di(d)}function Km(d,g){var j,T,z,X,le,me,we,Ee;if(!d||d.length===0)throw new Error("latlngs not passed");di(d)||(console.warn("latlngs are not flat! Only the first ring will be used"),d=d[0]);var Be=se([0,0]),rt=re(d),Nt=rt.getNorthWest().distanceTo(rt.getSouthWest())*rt.getNorthEast().distanceTo(rt.getNorthWest());Nt<1700&&(Be=Wf(d));var tr=d.length,Un=[];for(j=0;j<tr;j++){var Jr=se(d[j]);Un.push(g.project(se([Jr.lat-Be.lat,Jr.lng-Be.lng])))}for(j=0,T=0;j<tr-1;j++)T+=Un[j].distanceTo(Un[j+1])/2;if(T===0)Ee=Un[0];else for(j=0,X=0;j<tr-1;j++)if(le=Un[j],me=Un[j+1],z=le.distanceTo(me),X+=z,X>T){we=(X-T)/z,Ee=[me.x-we*(me.x-le.x),me.y-we*(me.y-le.y)];break}var Br=g.unproject(ne(Ee));return se([Br.lat+Be.lat,Br.lng+Be.lng])}var Gm={__proto__:null,simplify:xu,pointToSegmentDistance:Wm,closestPointOnSegment:qb,clipSegment:Hm,_getEdgeIntersection:bu,_getBitCode:Bs,_sqClosestPointOnSegment:Fs,isFlat:di,_flat:Vm,polylineCenter:Km},Kf={project:function(d){return new D(d.lng,d.lat)},unproject:function(d){return new ie(d.y,d.x)},bounds:new J([-180,-90],[180,90])},Gf={R:6378137,R_MINOR:6356752314245179e-9,bounds:new J([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(d){var g=Math.PI/180,j=this.R,T=d.lat*g,z=this.R_MINOR/j,X=Math.sqrt(1-z*z),le=X*Math.sin(T),me=Math.tan(Math.PI/4-T/2)/Math.pow((1-le)/(1+le),X/2);return T=-j*Math.log(Math.max(me,1e-10)),new D(d.lng*g*j,T)},unproject:function(d){for(var g=180/Math.PI,j=this.R,T=this.R_MINOR/j,z=Math.sqrt(1-T*T),X=Math.exp(-d.y/j),le=Math.PI/2-2*Math.atan(X),me=0,we=.1,Ee;me<15&&Math.abs(we)>1e-7;me++)Ee=z*Math.sin(le),Ee=Math.pow((1-Ee)/(1+Ee),z/2),we=Math.PI/2-2*Math.atan(X*Ee)-le,le+=we;return new ie(le*g,d.x*g/j)}},Vb={__proto__:null,LonLat:Kf,Mercator:Gf,SphericalMercator:xe},Kb=i({},be,{code:"EPSG:3395",projection:Gf,transformation:(function(){var d=.5/(Math.PI*Gf.R);return ue(d,.5,-d,.5)})()}),Ym=i({},be,{code:"EPSG:4326",projection:Kf,transformation:ue(1/180,1,-1/180,.5)}),Gb=i({},oe,{projection:Kf,transformation:ue(1,0,-1,0),scale:function(d){return Math.pow(2,d)},zoom:function(d){return Math.log(d)/Math.LN2},distance:function(d,g){var j=g.lng-d.lng,T=g.lat-d.lat;return Math.sqrt(j*j+T*T)},infinite:!0});oe.Earth=be,oe.EPSG3395=Kb,oe.EPSG3857=je,oe.EPSG900913=Re,oe.EPSG4326=Ym,oe.Simple=Gb;var Ci=q.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(d){return d.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(d){return d&&d.removeLayer(this),this},getPane:function(d){return this._map.getPane(d?this.options[d]||d:this.options.pane)},addInteractiveTarget:function(d){return this._map._targets[c(d)]=this,this},removeInteractiveTarget:function(d){return delete this._map._targets[c(d)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(d){var g=d.target;if(g.hasLayer(this)){if(this._map=g,this._zoomAnimated=g._zoomAnimated,this.getEvents){var j=this.getEvents();g.on(j,this),this.once("remove",function(){g.off(j,this)},this)}this.onAdd(g),this.fire("add"),g.fire("layeradd",{layer:this})}}});At.include({addLayer:function(d){if(!d._layerAdd)throw new Error("The provided object is not a Layer.");var g=c(d);return this._layers[g]?this:(this._layers[g]=d,d._mapToAdd=this,d.beforeAdd&&d.beforeAdd(this),this.whenReady(d._layerAdd,d),this)},removeLayer:function(d){var g=c(d);return this._layers[g]?(this._loaded&&d.onRemove(this),delete this._layers[g],this._loaded&&(this.fire("layerremove",{layer:d}),d.fire("remove")),d._map=d._mapToAdd=null,this):this},hasLayer:function(d){return c(d)in this._layers},eachLayer:function(d,g){for(var j in this._layers)d.call(g,this._layers[j]);return this},_addLayers:function(d){d=d?P(d)?d:[d]:[];for(var g=0,j=d.length;g<j;g++)this.addLayer(d[g])},_addZoomLimit:function(d){(!isNaN(d.options.maxZoom)||!isNaN(d.options.minZoom))&&(this._zoomBoundLayers[c(d)]=d,this._updateZoomLevels())},_removeZoomLimit:function(d){var g=c(d);this._zoomBoundLayers[g]&&(delete this._zoomBoundLayers[g],this._updateZoomLevels())},_updateZoomLevels:function(){var d=1/0,g=-1/0,j=this._getZoomSpan();for(var T in this._zoomBoundLayers){var z=this._zoomBoundLayers[T].options;d=z.minZoom===void 0?d:Math.min(d,z.minZoom),g=z.maxZoom===void 0?g:Math.max(g,z.maxZoom)}this._layersMaxZoom=g===-1/0?void 0:g,this._layersMinZoom=d===1/0?void 0:d,j!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ns=Ci.extend({initialize:function(d,g){b(this,g),this._layers={};var j,T;if(d)for(j=0,T=d.length;j<T;j++)this.addLayer(d[j])},addLayer:function(d){var g=this.getLayerId(d);return this._layers[g]=d,this._map&&this._map.addLayer(d),this},removeLayer:function(d){var g=d in this._layers?d:this.getLayerId(d);return this._map&&this._layers[g]&&this._map.removeLayer(this._layers[g]),delete this._layers[g],this},hasLayer:function(d){var g=typeof d=="number"?d:this.getLayerId(d);return g in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(d){var g=Array.prototype.slice.call(arguments,1),j,T;for(j in this._layers)T=this._layers[j],T[d]&&T[d].apply(T,g);return this},onAdd:function(d){this.eachLayer(d.addLayer,d)},onRemove:function(d){this.eachLayer(d.removeLayer,d)},eachLayer:function(d,g){for(var j in this._layers)d.call(g,this._layers[j]);return this},getLayer:function(d){return this._layers[d]},getLayers:function(){var d=[];return this.eachLayer(d.push,d),d},setZIndex:function(d){return this.invoke("setZIndex",d)},getLayerId:function(d){return c(d)}}),Hl=function(d,g){return new ns(d,g)},ka=ns.extend({addLayer:function(d){return this.hasLayer(d)?this:(d.addEventParent(this),ns.prototype.addLayer.call(this,d),this.fire("layeradd",{layer:d}))},removeLayer:function(d){return this.hasLayer(d)?(d in this._layers&&(d=this._layers[d]),d.removeEventParent(this),ns.prototype.removeLayer.call(this,d),this.fire("layerremove",{layer:d})):this},setStyle:function(d){return this.invoke("setStyle",d)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var d=new te;for(var g in this._layers){var j=this._layers[g];d.extend(j.getBounds?j.getBounds():j.getLatLng())}return d}}),Zm=function(d,g){return new ka(d,g)},zs=W.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(d){b(this,d)},createIcon:function(d){return this._createIcon("icon",d)},createShadow:function(d){return this._createIcon("shadow",d)},_createIcon:function(d,g){var j=this._getIconUrl(d);if(!j){if(d==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var T=this._createImg(j,g&&g.tagName==="IMG"?g:null);return this._setIconStyles(T,d),(this.options.crossOrigin||this.options.crossOrigin==="")&&(T.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),T},_setIconStyles:function(d,g){var j=this.options,T=j[g+"Size"];typeof T=="number"&&(T=[T,T]);var z=ne(T),X=ne(g==="shadow"&&j.shadowAnchor||j.iconAnchor||z&&z.divideBy(2,!0));d.className="leaflet-marker-"+g+" "+(j.className||""),X&&(d.style.marginLeft=-X.x+"px",d.style.marginTop=-X.y+"px"),z&&(d.style.width=z.x+"px",d.style.height=z.y+"px")},_createImg:function(d,g){return g=g||document.createElement("img"),g.src=d,g},_getIconUrl:function(d){return Ye.retina&&this.options[d+"RetinaUrl"]||this.options[d+"Url"]}});function Xm(d){return new zs(d)}var Do=zs.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(d){return typeof Do.imagePath!="string"&&(Do.imagePath=this._detectIconPath()),(this.options.imagePath||Do.imagePath)+zs.prototype._getIconUrl.call(this,d)},_stripUrl:function(d){var g=function(j,T,z){var X=T.exec(j);return X&&X[z]};return d=g(d,/^url\((['"])?(.+)\1\)$/,2),d&&g(d,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var d=wt("div","leaflet-default-icon-path",document.body),g=$l(d,"background-image")||$l(d,"backgroundImage");if(document.body.removeChild(d),g=this._stripUrl(g),g)return g;var j=document.querySelector('link[href$="leaflet.css"]');return j?j.href.substring(0,j.href.length-11-1):""}}),Yf=ui.extend({initialize:function(d){this._marker=d},addHooks:function(){var d=this._marker._icon;this._draggable||(this._draggable=new Ei(d,d,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),vt(d,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&cn(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(d){var g=this._marker,j=g._map,T=this._marker.options.autoPanSpeed,z=this._marker.options.autoPanPadding,X=Na(g._icon),le=j.getPixelBounds(),me=j.getPixelOrigin(),we=ee(le.min._subtract(me).add(z),le.max._subtract(me).subtract(z));if(!we.contains(X)){var Ee=ne((Math.max(we.max.x,X.x)-we.max.x)/(le.max.x-we.max.x)-(Math.min(we.min.x,X.x)-we.min.x)/(le.min.x-we.min.x),(Math.max(we.max.y,X.y)-we.max.y)/(le.max.y-we.max.y)-(Math.min(we.min.y,X.y)-we.min.y)/(le.min.y-we.min.y)).multiplyBy(T);j.panBy(Ee,{animate:!1}),this._draggable._newPos._add(Ee),this._draggable._startPos._add(Ee),An(g._icon,this._draggable._newPos),this._onDrag(d),this._panRequest=B(this._adjustPan.bind(this,d))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(d){this._marker.options.autoPan&&($(this._panRequest),this._panRequest=B(this._adjustPan.bind(this,d)))},_onDrag:function(d){var g=this._marker,j=g._shadow,T=Na(g._icon),z=g._map.layerPointToLatLng(T);j&&An(j,T),g._latlng=z,d.latlng=z,d.oldLatLng=this._oldLatLng,g.fire("move",d).fire("drag",d)},_onDragEnd:function(d){$(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",d)}}),Ea=Ci.extend({options:{icon:new Do,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(d,g){b(this,g),this._latlng=se(d)},onAdd:function(d){this._zoomAnimated=this._zoomAnimated&&d.options.markerZoomAnimation,this._zoomAnimated&&d.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(d){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&d.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(d){var g=this._latlng;return this._latlng=se(d),this.update(),this.fire("move",{oldLatLng:g,latlng:this._latlng})},setZIndexOffset:function(d){return this.options.zIndexOffset=d,this.update()},getIcon:function(){return this.options.icon},setIcon:function(d){return this.options.icon=d,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var d=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(d)}return this},_initIcon:function(){var d=this.options,g="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),j=d.icon.createIcon(this._icon),T=!1;j!==this._icon&&(this._icon&&this._removeIcon(),T=!0,d.title&&(j.title=d.title),j.tagName==="IMG"&&(j.alt=d.alt||"")),vt(j,g),d.keyboard&&(j.tabIndex="0",j.setAttribute("role","button")),this._icon=j,d.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ft(j,"focus",this._panOnFocus,this);var z=d.icon.createShadow(this._shadow),X=!1;z!==this._shadow&&(this._removeShadow(),X=!0),z&&(vt(z,g),z.alt=""),this._shadow=z,d.opacity<1&&this._updateOpacity(),T&&this.getPane().appendChild(this._icon),this._initInteraction(),z&&X&&this.getPane(d.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Jt(this._icon,"focus",this._panOnFocus,this),gn(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&gn(this._shadow),this._shadow=null},_setPos:function(d){this._icon&&An(this._icon,d),this._shadow&&An(this._shadow,d),this._zIndex=d.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(d){this._icon&&(this._icon.style.zIndex=this._zIndex+d)},_animateZoom:function(d){var g=this._map._latLngToNewLayerPoint(this._latlng,d.zoom,d.center).round();this._setPos(g)},_initInteraction:function(){if(this.options.interactive&&(vt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Yf)){var d=this.options.draggable;this.dragging&&(d=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Yf(this),d&&this.dragging.enable()}},setOpacity:function(d){return this.options.opacity=d,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var d=this.options.opacity;this._icon&&Lr(this._icon,d),this._shadow&&Lr(this._shadow,d)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var d=this._map;if(d){var g=this.options.icon.options,j=g.iconSize?ne(g.iconSize):ne(0,0),T=g.iconAnchor?ne(g.iconAnchor):ne(0,0);d.panInside(this._latlng,{paddingTopLeft:T,paddingBottomRight:j.subtract(T)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Yb(d,g){return new Ea(d,g)}var rs=Ci.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(d){this._renderer=d.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(d){return b(this,d),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&d&&Object.prototype.hasOwnProperty.call(d,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),wu=rs.extend({options:{fill:!0,radius:10},initialize:function(d,g){b(this,g),this._latlng=se(d),this._radius=this.options.radius},setLatLng:function(d){var g=this._latlng;return this._latlng=se(d),this.redraw(),this.fire("move",{oldLatLng:g,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(d){return this.options.radius=this._radius=d,this.redraw()},getRadius:function(){return this._radius},setStyle:function(d){var g=d&&d.radius||this._radius;return rs.prototype.setStyle.call(this,d),this.setRadius(g),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var d=this._radius,g=this._radiusY||d,j=this._clickTolerance(),T=[d+j,g+j];this._pxBounds=new J(this._point.subtract(T),this._point.add(T))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(d){return d.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Qm(d,g){return new wu(d,g)}var _u=wu.extend({initialize:function(d,g,j){if(typeof g=="number"&&(g=i({},j,{radius:g})),b(this,g),this._latlng=se(d),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(d){return this._mRadius=d,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var d=[this._radius,this._radiusY||this._radius];return new te(this._map.layerPointToLatLng(this._point.subtract(d)),this._map.layerPointToLatLng(this._point.add(d)))},setStyle:rs.prototype.setStyle,_project:function(){var d=this._latlng.lng,g=this._latlng.lat,j=this._map,T=j.options.crs;if(T.distance===be.distance){var z=Math.PI/180,X=this._mRadius/be.R/z,le=j.project([g+X,d]),me=j.project([g-X,d]),we=le.add(me).divideBy(2),Ee=j.unproject(we).lat,Be=Math.acos((Math.cos(X*z)-Math.sin(g*z)*Math.sin(Ee*z))/(Math.cos(g*z)*Math.cos(Ee*z)))/z;(isNaN(Be)||Be===0)&&(Be=X/Math.cos(Math.PI/180*g)),this._point=we.subtract(j.getPixelOrigin()),this._radius=isNaN(Be)?0:we.x-j.project([Ee,d-Be]).x,this._radiusY=we.y-le.y}else{var rt=T.unproject(T.project(this._latlng).subtract([this._mRadius,0]));this._point=j.latLngToLayerPoint(this._latlng),this._radius=this._point.x-j.latLngToLayerPoint(rt).x}this._updateBounds()}});function Vl(d,g,j){return new _u(d,g,j)}var Qr=rs.extend({options:{smoothFactor:1,noClip:!1},initialize:function(d,g){b(this,g),this._setLatLngs(d)},getLatLngs:function(){return this._latlngs},setLatLngs:function(d){return this._setLatLngs(d),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(d){for(var g=1/0,j=null,T=Fs,z,X,le=0,me=this._parts.length;le<me;le++)for(var we=this._parts[le],Ee=1,Be=we.length;Ee<Be;Ee++){z=we[Ee-1],X=we[Ee];var rt=T(d,z,X,!0);rt<g&&(g=rt,j=T(d,z,X))}return j&&(j.distance=Math.sqrt(g)),j},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Km(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(d,g){return g=g||this._defaultShape(),d=se(d),g.push(d),this._bounds.extend(d),this.redraw()},_setLatLngs:function(d){this._bounds=new te,this._latlngs=this._convertLatLngs(d)},_defaultShape:function(){return di(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(d){for(var g=[],j=di(d),T=0,z=d.length;T<z;T++)j?(g[T]=se(d[T]),this._bounds.extend(g[T])):g[T]=this._convertLatLngs(d[T]);return g},_project:function(){var d=new J;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,d),this._bounds.isValid()&&d.isValid()&&(this._rawPxBounds=d,this._updateBounds())},_updateBounds:function(){var d=this._clickTolerance(),g=new D(d,d);this._rawPxBounds&&(this._pxBounds=new J([this._rawPxBounds.min.subtract(g),this._rawPxBounds.max.add(g)]))},_projectLatlngs:function(d,g,j){var T=d[0]instanceof ie,z=d.length,X,le;if(T){for(le=[],X=0;X<z;X++)le[X]=this._map.latLngToLayerPoint(d[X]),j.extend(le[X]);g.push(le)}else for(X=0;X<z;X++)this._projectLatlngs(d[X],g,j)},_clipPoints:function(){var d=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(d))){if(this.options.noClip){this._parts=this._rings;return}var g=this._parts,j,T,z,X,le,me,we;for(j=0,z=0,X=this._rings.length;j<X;j++)for(we=this._rings[j],T=0,le=we.length;T<le-1;T++)me=Hm(we[T],we[T+1],d,T,!0),me&&(g[z]=g[z]||[],g[z].push(me[0]),(me[1]!==we[T+1]||T===le-2)&&(g[z].push(me[1]),z++))}},_simplifyPoints:function(){for(var d=this._parts,g=this.options.smoothFactor,j=0,T=d.length;j<T;j++)d[j]=xu(d[j],g)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(d,g){var j,T,z,X,le,me,we=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(d))return!1;for(j=0,X=this._parts.length;j<X;j++)for(me=this._parts[j],T=0,le=me.length,z=le-1;T<le;z=T++)if(!(!g&&T===0)&&Wm(d,me[z],me[T])<=we)return!0;return!1}});function Zb(d,g){return new Qr(d,g)}Qr._flat=Vm;var Ca=Qr.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Um(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(d){var g=Qr.prototype._convertLatLngs.call(this,d),j=g.length;return j>=2&&g[0]instanceof ie&&g[0].equals(g[j-1])&&g.pop(),g},_setLatLngs:function(d){Qr.prototype._setLatLngs.call(this,d),di(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return di(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var d=this._renderer._bounds,g=this.options.weight,j=new D(g,g);if(d=new J(d.min.subtract(j),d.max.add(j)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(d))){if(this.options.noClip){this._parts=this._rings;return}for(var T=0,z=this._rings.length,X;T<z;T++)X=Uf(this._rings[T],d,!0),X.length&&this._parts.push(X)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(d){var g=!1,j,T,z,X,le,me,we,Ee;if(!this._pxBounds||!this._pxBounds.contains(d))return!1;for(X=0,we=this._parts.length;X<we;X++)for(j=this._parts[X],le=0,Ee=j.length,me=Ee-1;le<Ee;me=le++)T=j[le],z=j[me],T.y>d.y!=z.y>d.y&&d.x<(z.x-T.x)*(d.y-T.y)/(z.y-T.y)+T.x&&(g=!g);return g||Qr.prototype._containsPoint.call(this,d,!0)}});function Xb(d,g){return new Ca(d,g)}var Ji=ka.extend({initialize:function(d,g){b(this,g),this._layers={},d&&this.addData(d)},addData:function(d){var g=P(d)?d:d.features,j,T,z;if(g){for(j=0,T=g.length;j<T;j++)z=g[j],(z.geometries||z.geometry||z.features||z.coordinates)&&this.addData(z);return this}var X=this.options;if(X.filter&&!X.filter(d))return this;var le=Io(d,X);return le?(le.feature=ku(d),le.defaultOptions=le.options,this.resetStyle(le),X.onEachFeature&&X.onEachFeature(d,le),this.addLayer(le)):this},resetStyle:function(d){return d===void 0?this.eachLayer(this.resetStyle,this):(d.options=i({},d.defaultOptions),this._setLayerStyle(d,this.options.style),this)},setStyle:function(d){return this.eachLayer(function(g){this._setLayerStyle(g,d)},this)},_setLayerStyle:function(d,g){d.setStyle&&(typeof g=="function"&&(g=g(d.feature)),d.setStyle(g))}});function Io(d,g){var j=d.type==="Feature"?d.geometry:d,T=j?j.coordinates:null,z=[],X=g&&g.pointToLayer,le=g&&g.coordsToLatLng||ju,me,we,Ee,Be;if(!T&&!j)return null;switch(j.type){case"Point":return me=le(T),Su(X,d,me,g);case"MultiPoint":for(Ee=0,Be=T.length;Ee<Be;Ee++)me=le(T[Ee]),z.push(Su(X,d,me,g));return new ka(z);case"LineString":case"MultiLineString":return we=Kl(T,j.type==="LineString"?0:1,le),new Qr(we,g);case"Polygon":case"MultiPolygon":return we=Kl(T,j.type==="Polygon"?1:2,le),new Ca(we,g);case"GeometryCollection":for(Ee=0,Be=j.geometries.length;Ee<Be;Ee++){var rt=Io({geometry:j.geometries[Ee],type:"Feature",properties:d.properties},g);rt&&z.push(rt)}return new ka(z);case"FeatureCollection":for(Ee=0,Be=j.features.length;Ee<Be;Ee++){var Nt=Io(j.features[Ee],g);Nt&&z.push(Nt)}return new ka(z);default:throw new Error("Invalid GeoJSON object.")}}function Su(d,g,j,T){return d?d(g,j):new Ea(j,T&&T.markersInheritOptions&&T)}function ju(d){return new ie(d[1],d[0],d[2])}function Kl(d,g,j){for(var T=[],z=0,X=d.length,le;z<X;z++)le=g?Kl(d[z],g-1,j):(j||ju)(d[z]),T.push(le);return T}function Nu(d,g){return d=se(d),d.alt!==void 0?[v(d.lng,g),v(d.lat,g),v(d.alt,g)]:[v(d.lng,g),v(d.lat,g)]}function Pu(d,g,j,T){for(var z=[],X=0,le=d.length;X<le;X++)z.push(g?Pu(d[X],di(d[X])?0:g-1,j,T):Nu(d[X],T));return!g&&j&&z.length>0&&z.push(z[0].slice()),z}function Lo(d,g){return d.feature?i({},d.feature,{geometry:g}):ku(g)}function ku(d){return d.type==="Feature"||d.type==="FeatureCollection"?d:{type:"Feature",properties:{},geometry:d}}var Zf={toGeoJSON:function(d){return Lo(this,{type:"Point",coordinates:Nu(this.getLatLng(),d)})}};Ea.include(Zf),_u.include(Zf),wu.include(Zf),Qr.include({toGeoJSON:function(d){var g=!di(this._latlngs),j=Pu(this._latlngs,g?1:0,!1,d);return Lo(this,{type:(g?"Multi":"")+"LineString",coordinates:j})}}),Ca.include({toGeoJSON:function(d){var g=!di(this._latlngs),j=g&&!di(this._latlngs[0]),T=Pu(this._latlngs,j?2:g?1:0,!0,d);return g||(T=[T]),Lo(this,{type:(j?"Multi":"")+"Polygon",coordinates:T})}}),ns.include({toMultiPoint:function(d){var g=[];return this.eachLayer(function(j){g.push(j.toGeoJSON(d).geometry.coordinates)}),Lo(this,{type:"MultiPoint",coordinates:g})},toGeoJSON:function(d){var g=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(g==="MultiPoint")return this.toMultiPoint(d);var j=g==="GeometryCollection",T=[];return this.eachLayer(function(z){if(z.toGeoJSON){var X=z.toGeoJSON(d);if(j)T.push(X.geometry);else{var le=ku(X);le.type==="FeatureCollection"?T.push.apply(T,le.features):T.push(le)}}}),j?Lo(this,{geometries:T,type:"GeometryCollection"}):{type:"FeatureCollection",features:T}}});function Jm(d,g){return new Ji(d,g)}var Oi=Jm,is=Ci.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(d,g,j){this._url=d,this._bounds=re(g),b(this,j)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(vt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){gn(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(d){return this.options.opacity=d,this._image&&this._updateOpacity(),this},setStyle:function(d){return d.opacity&&this.setOpacity(d.opacity),this},bringToFront:function(){return this._map&&ko(this._image),this},bringToBack:function(){return this._map&&ja(this._image),this},setUrl:function(d){return this._url=d,this._image&&(this._image.src=d),this},setBounds:function(d){return this._bounds=re(d),this._map&&this._reset(),this},getEvents:function(){var d={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(d.zoomanim=this._animateZoom),d},setZIndex:function(d){return this.options.zIndex=d,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var d=this._url.tagName==="IMG",g=this._image=d?this._url:wt("img");if(vt(g,"leaflet-image-layer"),this._zoomAnimated&&vt(g,"leaflet-zoom-animated"),this.options.className&&vt(g,this.options.className),g.onselectstart=m,g.onmousemove=m,g.onload=s(this.fire,this,"load"),g.onerror=s(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(g.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),d){this._url=g.src;return}g.src=this._url,g.alt=this.options.alt},_animateZoom:function(d){var g=this._map.getZoomScale(d.zoom),j=this._map._latLngBoundsToNewLayerBounds(this._bounds,d.zoom,d.center).min;Ni(this._image,j,g)},_reset:function(){var d=this._image,g=new J(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),j=g.getSize();An(d,g.min),d.style.width=j.x+"px",d.style.height=j.y+"px"},_updateOpacity:function(){Lr(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var d=this.options.errorOverlayUrl;d&&this._url!==d&&(this._url=d,this._image.src=d)},getCenter:function(){return this._bounds.getCenter()}}),eg=function(d,g,j){return new is(d,g,j)},Xf=is.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var d=this._url.tagName==="VIDEO",g=this._image=d?this._url:wt("video");if(vt(g,"leaflet-image-layer"),this._zoomAnimated&&vt(g,"leaflet-zoom-animated"),this.options.className&&vt(g,this.options.className),g.onselectstart=m,g.onmousemove=m,g.onloadeddata=s(this.fire,this,"load"),d){for(var j=g.getElementsByTagName("source"),T=[],z=0;z<j.length;z++)T.push(j[z].src);this._url=j.length>0?T:[g.src];return}P(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(g.style,"objectFit")&&(g.style.objectFit="fill"),g.autoplay=!!this.options.autoplay,g.loop=!!this.options.loop,g.muted=!!this.options.muted,g.playsInline=!!this.options.playsInline;for(var X=0;X<this._url.length;X++){var le=wt("source");le.src=this._url[X],g.appendChild(le)}}});function tg(d,g,j){return new Xf(d,g,j)}var Qf=is.extend({_initImage:function(){var d=this._image=this._url;vt(d,"leaflet-image-layer"),this._zoomAnimated&&vt(d,"leaflet-zoom-animated"),this.options.className&&vt(d,this.options.className),d.onselectstart=m,d.onmousemove=m}});function Jf(d,g,j){return new Qf(d,g,j)}var ea=Ci.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(d,g){d&&(d instanceof ie||P(d))?(this._latlng=se(d),b(this,g)):(b(this,d),this._source=g),this.options.content&&(this._content=this.options.content)},openOn:function(d){return d=arguments.length?d:this._source._map,d.hasLayer(this)||d.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(d){return this._map?this.close():(arguments.length?this._source=d:d=this._source,this._prepareOpen(),this.openOn(d._map)),this},onAdd:function(d){this._zoomAnimated=d._zoomAnimated,this._container||this._initLayout(),d._fadeAnimated&&Lr(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),d._fadeAnimated&&Lr(this._container,1),this.bringToFront(),this.options.interactive&&(vt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(d){d._fadeAnimated?(Lr(this._container,0),this._removeTimeout=setTimeout(s(gn,void 0,this._container),200)):gn(this._container),this.options.interactive&&(cn(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(d){return this._latlng=se(d),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(d){return this._content=d,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var d={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(d.zoomanim=this._animateZoom),d},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&ko(this._container),this},bringToBack:function(){return this._map&&ja(this._container),this},_prepareOpen:function(d){var g=this._source;if(!g._map)return!1;if(g instanceof ka){g=null;var j=this._source._layers;for(var T in j)if(j[T]._map){g=j[T];break}if(!g)return!1;this._source=g}if(!d)if(g.getCenter)d=g.getCenter();else if(g.getLatLng)d=g.getLatLng();else if(g.getBounds)d=g.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(d),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var d=this._contentNode,g=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof g=="string")d.innerHTML=g;else{for(;d.hasChildNodes();)d.removeChild(d.firstChild);d.appendChild(g)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var d=this._map.latLngToLayerPoint(this._latlng),g=ne(this.options.offset),j=this._getAnchor();this._zoomAnimated?An(this._container,d.add(j)):g=g.add(d).add(j);var T=this._containerBottom=-g.y,z=this._containerLeft=-Math.round(this._containerWidth/2)+g.x;this._container.style.bottom=T+"px",this._container.style.left=z+"px"}},_getAnchor:function(){return[0,0]}});At.include({_initOverlay:function(d,g,j,T){var z=g;return z instanceof d||(z=new d(T).setContent(g)),j&&z.setLatLng(j),z}}),Ci.include({_initOverlay:function(d,g,j,T){var z=j;return z instanceof d?(b(z,T),z._source=this):(z=g&&!T?g:new d(T,this),z.setContent(j)),z}});var Eu=ea.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(d){return d=arguments.length?d:this._source._map,!d.hasLayer(this)&&d._popup&&d._popup.options.autoClose&&d.removeLayer(d._popup),d._popup=this,ea.prototype.openOn.call(this,d)},onAdd:function(d){ea.prototype.onAdd.call(this,d),d.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof rs||this._source.on("preclick",Qi))},onRemove:function(d){ea.prototype.onRemove.call(this,d),d.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof rs||this._source.off("preclick",Qi))},getEvents:function(){var d=ea.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(d.preclick=this.close),this.options.keepInView&&(d.moveend=this._adjustPan),d},_initLayout:function(){var d="leaflet-popup",g=this._container=wt("div",d+" "+(this.options.className||"")+" leaflet-zoom-animated"),j=this._wrapper=wt("div",d+"-content-wrapper",g);if(this._contentNode=wt("div",d+"-content",j),ql(g),mu(this._contentNode),ft(g,"contextmenu",Qi),this._tipContainer=wt("div",d+"-tip-container",g),this._tip=wt("div",d+"-tip",this._tipContainer),this.options.closeButton){var T=this._closeButton=wt("a",d+"-close-button",g);T.setAttribute("role","button"),T.setAttribute("aria-label","Close popup"),T.href="#close",T.innerHTML='<span aria-hidden="true">&#215;</span>',ft(T,"click",function(z){jn(z),this.close()},this)}},_updateLayout:function(){var d=this._contentNode,g=d.style;g.width="",g.whiteSpace="nowrap";var j=d.offsetWidth;j=Math.min(j,this.options.maxWidth),j=Math.max(j,this.options.minWidth),g.width=j+1+"px",g.whiteSpace="",g.height="";var T=d.offsetHeight,z=this.options.maxHeight,X="leaflet-popup-scrolled";z&&T>z?(g.height=z+"px",vt(d,X)):cn(d,X),this._containerWidth=this._container.offsetWidth},_animateZoom:function(d){var g=this._map._latLngToNewLayerPoint(this._latlng,d.zoom,d.center),j=this._getAnchor();An(this._container,g.add(j))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var d=this._map,g=parseInt($l(this._container,"marginBottom"),10)||0,j=this._container.offsetHeight+g,T=this._containerWidth,z=new D(this._containerLeft,-j-this._containerBottom);z._add(Na(this._container));var X=d.layerPointToContainerPoint(z),le=ne(this.options.autoPanPadding),me=ne(this.options.autoPanPaddingTopLeft||le),we=ne(this.options.autoPanPaddingBottomRight||le),Ee=d.getSize(),Be=0,rt=0;X.x+T+we.x>Ee.x&&(Be=X.x+T-Ee.x+we.x),X.x-Be-me.x<0&&(Be=X.x-me.x),X.y+j+we.y>Ee.y&&(rt=X.y+j-Ee.y+we.y),X.y-rt-me.y<0&&(rt=X.y-me.y),(Be||rt)&&(this.options.keepInView&&(this._autopanning=!0),d.fire("autopanstart").panBy([Be,rt]))}},_getAnchor:function(){return ne(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),$o=function(d,g){return new Eu(d,g)};At.mergeOptions({closePopupOnClick:!0}),At.include({openPopup:function(d,g,j){return this._initOverlay(Eu,d,g,j).openOn(this),this},closePopup:function(d){return d=arguments.length?d:this._popup,d&&d.close(),this}}),Ci.include({bindPopup:function(d,g){return this._popup=this._initOverlay(Eu,this._popup,d,g),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(d){return this._popup&&(this instanceof ka||(this._popup._source=this),this._popup._prepareOpen(d||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(d){return this._popup&&this._popup.setContent(d),this},getPopup:function(){return this._popup},_openPopup:function(d){if(!(!this._popup||!this._map)){ki(d);var g=d.layer||d.target;if(this._popup._source===g&&!(g instanceof rs)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(d.latlng);return}this._popup._source=g,this.openPopup(d.latlng)}},_movePopup:function(d){this._popup.setLatLng(d.latlng)},_onKeyPress:function(d){d.originalEvent.keyCode===13&&this._openPopup(d)}});var Bo=ea.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(d){ea.prototype.onAdd.call(this,d),this.setOpacity(this.options.opacity),d.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(d){ea.prototype.onRemove.call(this,d),d.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var d=ea.prototype.getEvents.call(this);return this.options.permanent||(d.preclick=this.close),d},_initLayout:function(){var d="leaflet-tooltip",g=d+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=wt("div",g),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+c(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(d){var g,j,T=this._map,z=this._container,X=T.latLngToContainerPoint(T.getCenter()),le=T.layerPointToContainerPoint(d),me=this.options.direction,we=z.offsetWidth,Ee=z.offsetHeight,Be=ne(this.options.offset),rt=this._getAnchor();me==="top"?(g=we/2,j=Ee):me==="bottom"?(g=we/2,j=0):me==="center"?(g=we/2,j=Ee/2):me==="right"?(g=0,j=Ee/2):me==="left"?(g=we,j=Ee/2):le.x<X.x?(me="right",g=0,j=Ee/2):(me="left",g=we+(Be.x+rt.x)*2,j=Ee/2),d=d.subtract(ne(g,j,!0)).add(Be).add(rt),cn(z,"leaflet-tooltip-right"),cn(z,"leaflet-tooltip-left"),cn(z,"leaflet-tooltip-top"),cn(z,"leaflet-tooltip-bottom"),vt(z,"leaflet-tooltip-"+me),An(z,d)},_updatePosition:function(){var d=this._map.latLngToLayerPoint(this._latlng);this._setPosition(d)},setOpacity:function(d){this.options.opacity=d,this._container&&Lr(this._container,d)},_animateZoom:function(d){var g=this._map._latLngToNewLayerPoint(this._latlng,d.zoom,d.center);this._setPosition(g)},_getAnchor:function(){return ne(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Gl=function(d,g){return new Bo(d,g)};At.include({openTooltip:function(d,g,j){return this._initOverlay(Bo,d,g,j).openOn(this),this},closeTooltip:function(d){return d.close(),this}}),Ci.include({bindTooltip:function(d,g){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Bo,this._tooltip,d,g),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(d){if(!(!d&&this._tooltipHandlersAdded)){var g=d?"off":"on",j={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?j.add=this._openTooltip:(j.mouseover=this._openTooltip,j.mouseout=this.closeTooltip,j.click=this._openTooltip,this._map?this._addFocusListeners():j.add=this._addFocusListeners),this._tooltip.options.sticky&&(j.mousemove=this._moveTooltip),this[g](j),this._tooltipHandlersAdded=!d}},openTooltip:function(d){return this._tooltip&&(this instanceof ka||(this._tooltip._source=this),this._tooltip._prepareOpen(d)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(d){return this._tooltip&&this._tooltip.setContent(d),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(d){var g=typeof d.getElement=="function"&&d.getElement();g&&(ft(g,"focus",function(){this._tooltip._source=d,this.openTooltip()},this),ft(g,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(d){var g=typeof d.getElement=="function"&&d.getElement();g&&g.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(d){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var g=this;this._map.once("moveend",function(){g._openOnceFlag=!1,g._openTooltip(d)});return}this._tooltip._source=d.layer||d.target,this.openTooltip(this._tooltip.options.sticky?d.latlng:void 0)}},_moveTooltip:function(d){var g=d.latlng,j,T;this._tooltip.options.sticky&&d.originalEvent&&(j=this._map.mouseEventToContainerPoint(d.originalEvent),T=this._map.containerPointToLayerPoint(j),g=this._map.layerPointToLatLng(T)),this._tooltip.setLatLng(g)}});var Cu=zs.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(d){var g=d&&d.tagName==="DIV"?d:document.createElement("div"),j=this.options;if(j.html instanceof Element?(cu(g),g.appendChild(j.html)):g.innerHTML=j.html!==!1?j.html:"",j.bgPos){var T=ne(j.bgPos);g.style.backgroundPosition=-T.x+"px "+-T.y+"px"}return this._setIconStyles(g,"icon"),g},createShadow:function(){return null}});function ng(d){return new Cu(d)}zs.Default=Do;var as=Ci.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ye.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(d){b(this,d)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(d){d._addZoomLimit(this)},onRemove:function(d){this._removeAllTiles(),gn(this._container),d._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(ko(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ja(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(d){return this.options.opacity=d,this._updateOpacity(),this},setZIndex:function(d){return this.options.zIndex=d,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var d=this._clampZoom(this._map.getZoom());d!==this._tileZoom&&(this._tileZoom=d,this._updateLevels()),this._update()}return this},getEvents:function(){var d={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=f(this._onMoveEnd,this.options.updateInterval,this)),d.move=this._onMove),this._zoomAnimated&&(d.zoomanim=this._animateZoom),d},createTile:function(){return document.createElement("div")},getTileSize:function(){var d=this.options.tileSize;return d instanceof D?d:new D(d,d)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(d){for(var g=this.getPane().children,j=-d(-1/0,1/0),T=0,z=g.length,X;T<z;T++)X=g[T].style.zIndex,g[T]!==this._container&&X&&(j=d(j,+X));isFinite(j)&&(this.options.zIndex=j+d(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ye.ielt9){Lr(this._container,this.options.opacity);var d=+new Date,g=!1,j=!1;for(var T in this._tiles){var z=this._tiles[T];if(!(!z.current||!z.loaded)){var X=Math.min(1,(d-z.loaded)/200);Lr(z.el,X),X<1?g=!0:(z.active?j=!0:this._onOpaqueTile(z),z.active=!0)}}j&&!this._noPrune&&this._pruneTiles(),g&&($(this._fadeFrame),this._fadeFrame=B(this._updateOpacity,this))}},_onOpaqueTile:m,_initContainer:function(){this._container||(this._container=wt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var d=this._tileZoom,g=this.options.maxZoom;if(d!==void 0){for(var j in this._levels)j=Number(j),this._levels[j].el.children.length||j===d?(this._levels[j].el.style.zIndex=g-Math.abs(d-j),this._onUpdateLevel(j)):(gn(this._levels[j].el),this._removeTilesAtZoom(j),this._onRemoveLevel(j),delete this._levels[j]);var T=this._levels[d],z=this._map;return T||(T=this._levels[d]={},T.el=wt("div","leaflet-tile-container leaflet-zoom-animated",this._container),T.el.style.zIndex=g,T.origin=z.project(z.unproject(z.getPixelOrigin()),d).round(),T.zoom=d,this._setZoomTransform(T,z.getCenter(),z.getZoom()),m(T.el.offsetWidth),this._onCreateLevel(T)),this._level=T,T}},_onUpdateLevel:m,_onRemoveLevel:m,_onCreateLevel:m,_pruneTiles:function(){if(this._map){var d,g,j=this._map.getZoom();if(j>this.options.maxZoom||j<this.options.minZoom){this._removeAllTiles();return}for(d in this._tiles)g=this._tiles[d],g.retain=g.current;for(d in this._tiles)if(g=this._tiles[d],g.current&&!g.active){var T=g.coords;this._retainParent(T.x,T.y,T.z,T.z-5)||this._retainChildren(T.x,T.y,T.z,T.z+2)}for(d in this._tiles)this._tiles[d].retain||this._removeTile(d)}},_removeTilesAtZoom:function(d){for(var g in this._tiles)this._tiles[g].coords.z===d&&this._removeTile(g)},_removeAllTiles:function(){for(var d in this._tiles)this._removeTile(d)},_invalidateAll:function(){for(var d in this._levels)gn(this._levels[d].el),this._onRemoveLevel(Number(d)),delete this._levels[d];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(d,g,j,T){var z=Math.floor(d/2),X=Math.floor(g/2),le=j-1,me=new D(+z,+X);me.z=+le;var we=this._tileCoordsToKey(me),Ee=this._tiles[we];return Ee&&Ee.active?(Ee.retain=!0,!0):(Ee&&Ee.loaded&&(Ee.retain=!0),le>T?this._retainParent(z,X,le,T):!1)},_retainChildren:function(d,g,j,T){for(var z=2*d;z<2*d+2;z++)for(var X=2*g;X<2*g+2;X++){var le=new D(z,X);le.z=j+1;var me=this._tileCoordsToKey(le),we=this._tiles[me];if(we&&we.active){we.retain=!0;continue}else we&&we.loaded&&(we.retain=!0);j+1<T&&this._retainChildren(z,X,j+1,T)}},_resetView:function(d){var g=d&&(d.pinch||d.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),g,g)},_animateZoom:function(d){this._setView(d.center,d.zoom,!0,d.noUpdate)},_clampZoom:function(d){var g=this.options;return g.minNativeZoom!==void 0&&d<g.minNativeZoom?g.minNativeZoom:g.maxNativeZoom!==void 0&&g.maxNativeZoom<d?g.maxNativeZoom:d},_setView:function(d,g,j,T){var z=Math.round(g);this.options.maxZoom!==void 0&&z>this.options.maxZoom||this.options.minZoom!==void 0&&z<this.options.minZoom?z=void 0:z=this._clampZoom(z);var X=this.options.updateWhenZooming&&z!==this._tileZoom;(!T||X)&&(this._tileZoom=z,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),z!==void 0&&this._update(d),j||this._pruneTiles(),this._noPrune=!!j),this._setZoomTransforms(d,g)},_setZoomTransforms:function(d,g){for(var j in this._levels)this._setZoomTransform(this._levels[j],d,g)},_setZoomTransform:function(d,g,j){var T=this._map.getZoomScale(j,d.zoom),z=d.origin.multiplyBy(T).subtract(this._map._getNewPixelOrigin(g,j)).round();Ye.any3d?Ni(d.el,z,T):An(d.el,z)},_resetGrid:function(){var d=this._map,g=d.options.crs,j=this._tileSize=this.getTileSize(),T=this._tileZoom,z=this._map.getPixelWorldBounds(this._tileZoom);z&&(this._globalTileRange=this._pxBoundsToTileRange(z)),this._wrapX=g.wrapLng&&!this.options.noWrap&&[Math.floor(d.project([0,g.wrapLng[0]],T).x/j.x),Math.ceil(d.project([0,g.wrapLng[1]],T).x/j.y)],this._wrapY=g.wrapLat&&!this.options.noWrap&&[Math.floor(d.project([g.wrapLat[0],0],T).y/j.x),Math.ceil(d.project([g.wrapLat[1],0],T).y/j.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(d){var g=this._map,j=g._animatingZoom?Math.max(g._animateToZoom,g.getZoom()):g.getZoom(),T=g.getZoomScale(j,this._tileZoom),z=g.project(d,this._tileZoom).floor(),X=g.getSize().divideBy(T*2);return new J(z.subtract(X),z.add(X))},_update:function(d){var g=this._map;if(g){var j=this._clampZoom(g.getZoom());if(d===void 0&&(d=g.getCenter()),this._tileZoom!==void 0){var T=this._getTiledPixelBounds(d),z=this._pxBoundsToTileRange(T),X=z.getCenter(),le=[],me=this.options.keepBuffer,we=new J(z.getBottomLeft().subtract([me,-me]),z.getTopRight().add([me,-me]));if(!(isFinite(z.min.x)&&isFinite(z.min.y)&&isFinite(z.max.x)&&isFinite(z.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Ee in this._tiles){var Be=this._tiles[Ee].coords;(Be.z!==this._tileZoom||!we.contains(new D(Be.x,Be.y)))&&(this._tiles[Ee].current=!1)}if(Math.abs(j-this._tileZoom)>1){this._setView(d,j);return}for(var rt=z.min.y;rt<=z.max.y;rt++)for(var Nt=z.min.x;Nt<=z.max.x;Nt++){var tr=new D(Nt,rt);if(tr.z=this._tileZoom,!!this._isValidTile(tr)){var Un=this._tiles[this._tileCoordsToKey(tr)];Un?Un.current=!0:le.push(tr)}}if(le.sort(function(Br,Wo){return Br.distanceTo(X)-Wo.distanceTo(X)}),le.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Jr=document.createDocumentFragment();for(Nt=0;Nt<le.length;Nt++)this._addTile(le[Nt],Jr);this._level.el.appendChild(Jr)}}}},_isValidTile:function(d){var g=this._map.options.crs;if(!g.infinite){var j=this._globalTileRange;if(!g.wrapLng&&(d.x<j.min.x||d.x>j.max.x)||!g.wrapLat&&(d.y<j.min.y||d.y>j.max.y))return!1}if(!this.options.bounds)return!0;var T=this._tileCoordsToBounds(d);return re(this.options.bounds).overlaps(T)},_keyToBounds:function(d){return this._tileCoordsToBounds(this._keyToTileCoords(d))},_tileCoordsToNwSe:function(d){var g=this._map,j=this.getTileSize(),T=d.scaleBy(j),z=T.add(j),X=g.unproject(T,d.z),le=g.unproject(z,d.z);return[X,le]},_tileCoordsToBounds:function(d){var g=this._tileCoordsToNwSe(d),j=new te(g[0],g[1]);return this.options.noWrap||(j=this._map.wrapLatLngBounds(j)),j},_tileCoordsToKey:function(d){return d.x+":"+d.y+":"+d.z},_keyToTileCoords:function(d){var g=d.split(":"),j=new D(+g[0],+g[1]);return j.z=+g[2],j},_removeTile:function(d){var g=this._tiles[d];g&&(gn(g.el),delete this._tiles[d],this.fire("tileunload",{tile:g.el,coords:this._keyToTileCoords(d)}))},_initTile:function(d){vt(d,"leaflet-tile");var g=this.getTileSize();d.style.width=g.x+"px",d.style.height=g.y+"px",d.onselectstart=m,d.onmousemove=m,Ye.ielt9&&this.options.opacity<1&&Lr(d,this.options.opacity)},_addTile:function(d,g){var j=this._getTilePos(d),T=this._tileCoordsToKey(d),z=this.createTile(this._wrapCoords(d),s(this._tileReady,this,d));this._initTile(z),this.createTile.length<2&&B(s(this._tileReady,this,d,null,z)),An(z,j),this._tiles[T]={el:z,coords:d,current:!0},g.appendChild(z),this.fire("tileloadstart",{tile:z,coords:d})},_tileReady:function(d,g,j){g&&this.fire("tileerror",{error:g,tile:j,coords:d});var T=this._tileCoordsToKey(d);j=this._tiles[T],j&&(j.loaded=+new Date,this._map._fadeAnimated?(Lr(j.el,0),$(this._fadeFrame),this._fadeFrame=B(this._updateOpacity,this)):(j.active=!0,this._pruneTiles()),g||(vt(j.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:j.el,coords:d})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ye.ielt9||!this._map._fadeAnimated?B(this._pruneTiles,this):setTimeout(s(this._pruneTiles,this),250)))},_getTilePos:function(d){return d.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(d){var g=new D(this._wrapX?p(d.x,this._wrapX):d.x,this._wrapY?p(d.y,this._wrapY):d.y);return g.z=d.z,g},_pxBoundsToTileRange:function(d){var g=this.getTileSize();return new J(d.min.unscaleBy(g).floor(),d.max.unscaleBy(g).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var d in this._tiles)if(!this._tiles[d].loaded)return!1;return!0}});function Fo(d){return new as(d)}var ss=as.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(d,g){this._url=d,g=b(this,g),g.detectRetina&&Ye.retina&&g.maxZoom>0?(g.tileSize=Math.floor(g.tileSize/2),g.zoomReverse?(g.zoomOffset--,g.minZoom=Math.min(g.maxZoom,g.minZoom+1)):(g.zoomOffset++,g.maxZoom=Math.max(g.minZoom,g.maxZoom-1)),g.minZoom=Math.max(0,g.minZoom)):g.zoomReverse?g.minZoom=Math.min(g.maxZoom,g.minZoom):g.maxZoom=Math.max(g.minZoom,g.maxZoom),typeof g.subdomains=="string"&&(g.subdomains=g.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(d,g){return this._url===d&&g===void 0&&(g=!0),this._url=d,g||this.redraw(),this},createTile:function(d,g){var j=document.createElement("img");return ft(j,"load",s(this._tileOnLoad,this,g,j)),ft(j,"error",s(this._tileOnError,this,g,j)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(j.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(j.referrerPolicy=this.options.referrerPolicy),j.alt="",j.src=this.getTileUrl(d),j},getTileUrl:function(d){var g={r:Ye.retina?"@2x":"",s:this._getSubdomain(d),x:d.x,y:d.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var j=this._globalTileRange.max.y-d.y;this.options.tms&&(g.y=j),g["-y"]=j}return E(this._url,i(g,this.options))},_tileOnLoad:function(d,g){Ye.ielt9?setTimeout(s(d,this,null,g),0):d(null,g)},_tileOnError:function(d,g,j){var T=this.options.errorTileUrl;T&&g.getAttribute("src")!==T&&(g.src=T),d(j,g)},_onTileRemove:function(d){d.tile.onload=null},_getZoomForUrl:function(){var d=this._tileZoom,g=this.options.maxZoom,j=this.options.zoomReverse,T=this.options.zoomOffset;return j&&(d=g-d),d+T},_getSubdomain:function(d){var g=Math.abs(d.x+d.y)%this.options.subdomains.length;return this.options.subdomains[g]},_abortLoading:function(){var d,g;for(d in this._tiles)if(this._tiles[d].coords.z!==this._tileZoom&&(g=this._tiles[d].el,g.onload=m,g.onerror=m,!g.complete)){g.src=O;var j=this._tiles[d].coords;gn(g),delete this._tiles[d],this.fire("tileabort",{tile:g,coords:j})}},_removeTile:function(d){var g=this._tiles[d];if(g)return g.el.setAttribute("src",O),as.prototype._removeTile.call(this,d)},_tileReady:function(d,g,j){if(!(!this._map||j&&j.getAttribute("src")===O))return as.prototype._tileReady.call(this,d,g,j)}});function eh(d,g){return new ss(d,g)}var Yl=ss.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(d,g){this._url=d;var j=i({},this.defaultWmsParams);for(var T in g)T in this.options||(j[T]=g[T]);g=b(this,g);var z=g.detectRetina&&Ye.retina?2:1,X=this.getTileSize();j.width=X.x*z,j.height=X.y*z,this.wmsParams=j},onAdd:function(d){this._crs=this.options.crs||d.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var g=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[g]=this._crs.code,ss.prototype.onAdd.call(this,d)},getTileUrl:function(d){var g=this._tileCoordsToNwSe(d),j=this._crs,T=ee(j.project(g[0]),j.project(g[1])),z=T.min,X=T.max,le=(this._wmsVersion>=1.3&&this._crs===Ym?[z.y,z.x,X.y,X.x]:[z.x,z.y,X.x,X.y]).join(","),me=ss.prototype.getTileUrl.call(this,d);return me+w(this.wmsParams,me,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+le},setParams:function(d,g){return i(this.wmsParams,d),g||this.redraw(),this}});function rg(d,g){return new Yl(d,g)}ss.WMS=Yl,eh.wms=rg;var ta=Ci.extend({options:{padding:.1},initialize:function(d){b(this,d),c(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),vt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var d={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(d.zoomanim=this._onAnimZoom),d},_onAnimZoom:function(d){this._updateTransform(d.center,d.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(d,g){var j=this._map.getZoomScale(g,this._zoom),T=this._map.getSize().multiplyBy(.5+this.options.padding),z=this._map.project(this._center,g),X=T.multiplyBy(-j).add(z).subtract(this._map._getNewPixelOrigin(d,g));Ye.any3d?Ni(this._container,X,j):An(this._container,X)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var d in this._layers)this._layers[d]._reset()},_onZoomEnd:function(){for(var d in this._layers)this._layers[d]._project()},_updatePaths:function(){for(var d in this._layers)this._layers[d]._update()},_update:function(){var d=this.options.padding,g=this._map.getSize(),j=this._map.containerPointToLayerPoint(g.multiplyBy(-d)).round();this._bounds=new J(j,j.add(g.multiplyBy(1+d*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),th=ta.extend({options:{tolerance:0},getEvents:function(){var d=ta.prototype.getEvents.call(this);return d.viewprereset=this._onViewPreReset,d},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){ta.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var d=this._container=document.createElement("canvas");ft(d,"mousemove",this._onMouseMove,this),ft(d,"click dblclick mousedown mouseup contextmenu",this._onClick,this),ft(d,"mouseout",this._handleMouseOut,this),d._leaflet_disable_events=!0,this._ctx=d.getContext("2d")},_destroyContainer:function(){$(this._redrawRequest),delete this._ctx,gn(this._container),Jt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var d;this._redrawBounds=null;for(var g in this._layers)d=this._layers[g],d._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ta.prototype._update.call(this);var d=this._bounds,g=this._container,j=d.getSize(),T=Ye.retina?2:1;An(g,d.min),g.width=T*j.x,g.height=T*j.y,g.style.width=j.x+"px",g.style.height=j.y+"px",Ye.retina&&this._ctx.scale(2,2),this._ctx.translate(-d.min.x,-d.min.y),this.fire("update")}},_reset:function(){ta.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(d){this._updateDashArray(d),this._layers[c(d)]=d;var g=d._order={layer:d,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=g),this._drawLast=g,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(d){this._requestRedraw(d)},_removePath:function(d){var g=d._order,j=g.next,T=g.prev;j?j.prev=T:this._drawLast=T,T?T.next=j:this._drawFirst=j,delete d._order,delete this._layers[c(d)],this._requestRedraw(d)},_updatePath:function(d){this._extendRedrawBounds(d),d._project(),d._update(),this._requestRedraw(d)},_updateStyle:function(d){this._updateDashArray(d),this._requestRedraw(d)},_updateDashArray:function(d){if(typeof d.options.dashArray=="string"){var g=d.options.dashArray.split(/[, ]+/),j=[],T,z;for(z=0;z<g.length;z++){if(T=Number(g[z]),isNaN(T))return;j.push(T)}d.options._dashArray=j}else d.options._dashArray=d.options.dashArray},_requestRedraw:function(d){this._map&&(this._extendRedrawBounds(d),this._redrawRequest=this._redrawRequest||B(this._redraw,this))},_extendRedrawBounds:function(d){if(d._pxBounds){var g=(d.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new J,this._redrawBounds.extend(d._pxBounds.min.subtract([g,g])),this._redrawBounds.extend(d._pxBounds.max.add([g,g]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var d=this._redrawBounds;if(d){var g=d.getSize();this._ctx.clearRect(d.min.x,d.min.y,g.x,g.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var d,g=this._redrawBounds;if(this._ctx.save(),g){var j=g.getSize();this._ctx.beginPath(),this._ctx.rect(g.min.x,g.min.y,j.x,j.y),this._ctx.clip()}this._drawing=!0;for(var T=this._drawFirst;T;T=T.next)d=T.layer,(!g||d._pxBounds&&d._pxBounds.intersects(g))&&d._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(d,g){if(this._drawing){var j,T,z,X,le=d._parts,me=le.length,we=this._ctx;if(me){for(we.beginPath(),j=0;j<me;j++){for(T=0,z=le[j].length;T<z;T++)X=le[j][T],we[T?"lineTo":"moveTo"](X.x,X.y);g&&we.closePath()}this._fillStroke(we,d)}}},_updateCircle:function(d){if(!(!this._drawing||d._empty())){var g=d._point,j=this._ctx,T=Math.max(Math.round(d._radius),1),z=(Math.max(Math.round(d._radiusY),1)||T)/T;z!==1&&(j.save(),j.scale(1,z)),j.beginPath(),j.arc(g.x,g.y/z,T,0,Math.PI*2,!1),z!==1&&j.restore(),this._fillStroke(j,d)}},_fillStroke:function(d,g){var j=g.options;j.fill&&(d.globalAlpha=j.fillOpacity,d.fillStyle=j.fillColor||j.color,d.fill(j.fillRule||"evenodd")),j.stroke&&j.weight!==0&&(d.setLineDash&&d.setLineDash(g.options&&g.options._dashArray||[]),d.globalAlpha=j.opacity,d.lineWidth=j.weight,d.strokeStyle=j.color,d.lineCap=j.lineCap,d.lineJoin=j.lineJoin,d.stroke())},_onClick:function(d){for(var g=this._map.mouseEventToLayerPoint(d),j,T,z=this._drawFirst;z;z=z.next)j=z.layer,j.options.interactive&&j._containsPoint(g)&&(!(d.type==="click"||d.type==="preclick")||!this._map._draggableMoved(j))&&(T=j);this._fireEvent(T?[T]:!1,d)},_onMouseMove:function(d){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var g=this._map.mouseEventToLayerPoint(d);this._handleMouseHover(d,g)}},_handleMouseOut:function(d){var g=this._hoveredLayer;g&&(cn(this._container,"leaflet-interactive"),this._fireEvent([g],d,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(d,g){if(!this._mouseHoverThrottled){for(var j,T,z=this._drawFirst;z;z=z.next)j=z.layer,j.options.interactive&&j._containsPoint(g)&&(T=j);T!==this._hoveredLayer&&(this._handleMouseOut(d),T&&(vt(this._container,"leaflet-interactive"),this._fireEvent([T],d,"mouseover"),this._hoveredLayer=T)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,d),this._mouseHoverThrottled=!0,setTimeout(s(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(d,g,j){this._map._fireDOMEvent(g,j||g.type,d)},_bringToFront:function(d){var g=d._order;if(g){var j=g.next,T=g.prev;if(j)j.prev=T;else return;T?T.next=j:j&&(this._drawFirst=j),g.prev=this._drawLast,this._drawLast.next=g,g.next=null,this._drawLast=g,this._requestRedraw(d)}},_bringToBack:function(d){var g=d._order;if(g){var j=g.next,T=g.prev;if(T)T.next=j;else return;j?j.prev=T:T&&(this._drawLast=T),g.prev=null,g.next=this._drawFirst,this._drawFirst.prev=g,this._drawFirst=g,this._requestRedraw(d)}}});function nh(d){return Ye.canvas?new th(d):null}var zo=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(d){return document.createElement("<lvml:"+d+' class="lvml">')}}catch{}return function(d){return document.createElement("<"+d+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),ig={_initContainer:function(){this._container=wt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(ta.prototype._update.call(this),this.fire("update"))},_initPath:function(d){var g=d._container=zo("shape");vt(g,"leaflet-vml-shape "+(this.options.className||"")),g.coordsize="1 1",d._path=zo("path"),g.appendChild(d._path),this._updateStyle(d),this._layers[c(d)]=d},_addPath:function(d){var g=d._container;this._container.appendChild(g),d.options.interactive&&d.addInteractiveTarget(g)},_removePath:function(d){var g=d._container;gn(g),d.removeInteractiveTarget(g),delete this._layers[c(d)]},_updateStyle:function(d){var g=d._stroke,j=d._fill,T=d.options,z=d._container;z.stroked=!!T.stroke,z.filled=!!T.fill,T.stroke?(g||(g=d._stroke=zo("stroke")),z.appendChild(g),g.weight=T.weight+"px",g.color=T.color,g.opacity=T.opacity,T.dashArray?g.dashStyle=P(T.dashArray)?T.dashArray.join(" "):T.dashArray.replace(/( *, *)/g," "):g.dashStyle="",g.endcap=T.lineCap.replace("butt","flat"),g.joinstyle=T.lineJoin):g&&(z.removeChild(g),d._stroke=null),T.fill?(j||(j=d._fill=zo("fill")),z.appendChild(j),j.color=T.fillColor||T.color,j.opacity=T.fillOpacity):j&&(z.removeChild(j),d._fill=null)},_updateCircle:function(d){var g=d._point.round(),j=Math.round(d._radius),T=Math.round(d._radiusY||j);this._setPath(d,d._empty()?"M0 0":"AL "+g.x+","+g.y+" "+j+","+T+" 0,"+65535*360)},_setPath:function(d,g){d._path.v=g},_bringToFront:function(d){ko(d._container)},_bringToBack:function(d){ja(d._container)}},Ti=Ye.vml?zo:Xe,qs=ta.extend({_initContainer:function(){this._container=Ti("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Ti("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){gn(this._container),Jt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ta.prototype._update.call(this);var d=this._bounds,g=d.getSize(),j=this._container;(!this._svgSize||!this._svgSize.equals(g))&&(this._svgSize=g,j.setAttribute("width",g.x),j.setAttribute("height",g.y)),An(j,d.min),j.setAttribute("viewBox",[d.min.x,d.min.y,g.x,g.y].join(" ")),this.fire("update")}},_initPath:function(d){var g=d._path=Ti("path");d.options.className&&vt(g,d.options.className),d.options.interactive&&vt(g,"leaflet-interactive"),this._updateStyle(d),this._layers[c(d)]=d},_addPath:function(d){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(d._path),d.addInteractiveTarget(d._path)},_removePath:function(d){gn(d._path),d.removeInteractiveTarget(d._path),delete this._layers[c(d)]},_updatePath:function(d){d._project(),d._update()},_updateStyle:function(d){var g=d._path,j=d.options;g&&(j.stroke?(g.setAttribute("stroke",j.color),g.setAttribute("stroke-opacity",j.opacity),g.setAttribute("stroke-width",j.weight),g.setAttribute("stroke-linecap",j.lineCap),g.setAttribute("stroke-linejoin",j.lineJoin),j.dashArray?g.setAttribute("stroke-dasharray",j.dashArray):g.removeAttribute("stroke-dasharray"),j.dashOffset?g.setAttribute("stroke-dashoffset",j.dashOffset):g.removeAttribute("stroke-dashoffset")):g.setAttribute("stroke","none"),j.fill?(g.setAttribute("fill",j.fillColor||j.color),g.setAttribute("fill-opacity",j.fillOpacity),g.setAttribute("fill-rule",j.fillRule||"evenodd")):g.setAttribute("fill","none"))},_updatePoly:function(d,g){this._setPath(d,Me(d._parts,g))},_updateCircle:function(d){var g=d._point,j=Math.max(Math.round(d._radius),1),T=Math.max(Math.round(d._radiusY),1)||j,z="a"+j+","+T+" 0 1,0 ",X=d._empty()?"M0 0":"M"+(g.x-j)+","+g.y+z+j*2+",0 "+z+-j*2+",0 ";this._setPath(d,X)},_setPath:function(d,g){d._path.setAttribute("d",g)},_bringToFront:function(d){ko(d._path)},_bringToBack:function(d){ja(d._path)}});Ye.vml&&qs.include(ig);function Ou(d){return Ye.svg||Ye.vml?new qs(d):null}At.include({getRenderer:function(d){var g=d.options.renderer||this._getPaneRenderer(d.options.pane)||this.options.renderer||this._renderer;return g||(g=this._renderer=this._createRenderer()),this.hasLayer(g)||this.addLayer(g),g},_getPaneRenderer:function(d){if(d==="overlayPane"||d===void 0)return!1;var g=this._paneRenderers[d];return g===void 0&&(g=this._createRenderer({pane:d}),this._paneRenderers[d]=g),g},_createRenderer:function(d){return this.options.preferCanvas&&nh(d)||Ou(d)}});var ag=Ca.extend({initialize:function(d,g){Ca.prototype.initialize.call(this,this._boundsToLatLngs(d),g)},setBounds:function(d){return this.setLatLngs(this._boundsToLatLngs(d))},_boundsToLatLngs:function(d){return d=re(d),[d.getSouthWest(),d.getNorthWest(),d.getNorthEast(),d.getSouthEast()]}});function Qb(d,g){return new ag(d,g)}qs.create=Ti,qs.pointsToPath=Me,Ji.geometryToLayer=Io,Ji.coordsToLatLng=ju,Ji.coordsToLatLngs=Kl,Ji.latLngToCoords=Nu,Ji.latLngsToCoords=Pu,Ji.getFeature=Lo,Ji.asFeature=ku,At.mergeOptions({boxZoom:!0});var qo=ui.extend({initialize:function(d){this._map=d,this._container=d._container,this._pane=d._panes.overlayPane,this._resetStateTimeout=0,d.on("unload",this._destroy,this)},addHooks:function(){ft(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Jt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){gn(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(d){if(!d.shiftKey||d.which!==1&&d.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),$t(),fu(),this._startPoint=this._map.mouseEventToContainerPoint(d),ft(document,{contextmenu:ki,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(d){this._moved||(this._moved=!0,this._box=wt("div","leaflet-zoom-box",this._container),vt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(d);var g=new J(this._point,this._startPoint),j=g.getSize();An(this._box,g.min),this._box.style.width=j.x+"px",this._box.style.height=j.y+"px"},_finish:function(){this._moved&&(gn(this._box),cn(this._container,"leaflet-crosshair")),Oo(),hu(),Jt(document,{contextmenu:ki,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(d){if(!(d.which!==1&&d.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(s(this._resetState,this),0);var g=new te(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(g).fire("boxzoomend",{boxZoomBounds:g})}},_onKeyDown:function(d){d.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});At.addInitHook("addHandler","boxZoom",qo),At.mergeOptions({doubleClickZoom:!0});var sg=ui.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(d){var g=this._map,j=g.getZoom(),T=g.options.zoomDelta,z=d.originalEvent.shiftKey?j-T:j+T;g.options.doubleClickZoom==="center"?g.setZoom(z):g.setZoomAround(d.containerPoint,z)}});At.addInitHook("addHandler","doubleClickZoom",sg),At.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var rh=ui.extend({addHooks:function(){if(!this._draggable){var d=this._map;this._draggable=new Ei(d._mapPane,d._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),d.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),d.on("zoomend",this._onZoomEnd,this),d.whenReady(this._onZoomEnd,this))}vt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){cn(this._map._container,"leaflet-grab"),cn(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var d=this._map;if(d._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var g=re(this._map.options.maxBounds);this._offsetLimit=ee(this._map.latLngToContainerPoint(g.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(g.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;d.fire("movestart").fire("dragstart"),d.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(d){if(this._map.options.inertia){var g=this._lastTime=+new Date,j=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(j),this._times.push(g),this._prunePositions(g)}this._map.fire("move",d).fire("drag",d)},_prunePositions:function(d){for(;this._positions.length>1&&d-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var d=this._map.getSize().divideBy(2),g=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=g.subtract(d).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(d,g){return d-(d-g)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var d=this._draggable._newPos.subtract(this._draggable._startPos),g=this._offsetLimit;d.x<g.min.x&&(d.x=this._viscousLimit(d.x,g.min.x)),d.y<g.min.y&&(d.y=this._viscousLimit(d.y,g.min.y)),d.x>g.max.x&&(d.x=this._viscousLimit(d.x,g.max.x)),d.y>g.max.y&&(d.y=this._viscousLimit(d.y,g.max.y)),this._draggable._newPos=this._draggable._startPos.add(d)}},_onPreDragWrap:function(){var d=this._worldWidth,g=Math.round(d/2),j=this._initialWorldOffset,T=this._draggable._newPos.x,z=(T-g+j)%d+g-j,X=(T+g+j)%d-g-j,le=Math.abs(z+j)<Math.abs(X+j)?z:X;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=le},_onDragEnd:function(d){var g=this._map,j=g.options,T=!j.inertia||d.noInertia||this._times.length<2;if(g.fire("dragend",d),T)g.fire("moveend");else{this._prunePositions(+new Date);var z=this._lastPos.subtract(this._positions[0]),X=(this._lastTime-this._times[0])/1e3,le=j.easeLinearity,me=z.multiplyBy(le/X),we=me.distanceTo([0,0]),Ee=Math.min(j.inertiaMaxSpeed,we),Be=me.multiplyBy(Ee/we),rt=Ee/(j.inertiaDeceleration*le),Nt=Be.multiplyBy(-rt/2).round();!Nt.x&&!Nt.y?g.fire("moveend"):(Nt=g._limitOffset(Nt,g.options.maxBounds),B(function(){g.panBy(Nt,{duration:rt,easeLinearity:le,noMoveStart:!0,animate:!0})}))}}});At.addInitHook("addHandler","dragging",rh),At.mergeOptions({keyboard:!0,keyboardPanDelta:80});var ih=ui.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(d){this._map=d,this._setPanDelta(d.options.keyboardPanDelta),this._setZoomDelta(d.options.zoomDelta)},addHooks:function(){var d=this._map._container;d.tabIndex<=0&&(d.tabIndex="0"),ft(d,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Jt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var d=document.body,g=document.documentElement,j=d.scrollTop||g.scrollTop,T=d.scrollLeft||g.scrollLeft;this._map._container.focus(),window.scrollTo(T,j)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(d){var g=this._panKeys={},j=this.keyCodes,T,z;for(T=0,z=j.left.length;T<z;T++)g[j.left[T]]=[-1*d,0];for(T=0,z=j.right.length;T<z;T++)g[j.right[T]]=[d,0];for(T=0,z=j.down.length;T<z;T++)g[j.down[T]]=[0,d];for(T=0,z=j.up.length;T<z;T++)g[j.up[T]]=[0,-1*d]},_setZoomDelta:function(d){var g=this._zoomKeys={},j=this.keyCodes,T,z;for(T=0,z=j.zoomIn.length;T<z;T++)g[j.zoomIn[T]]=d;for(T=0,z=j.zoomOut.length;T<z;T++)g[j.zoomOut[T]]=-d},_addHooks:function(){ft(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Jt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(d){if(!(d.altKey||d.ctrlKey||d.metaKey)){var g=d.keyCode,j=this._map,T;if(g in this._panKeys){if(!j._panAnim||!j._panAnim._inProgress)if(T=this._panKeys[g],d.shiftKey&&(T=ne(T).multiplyBy(3)),j.options.maxBounds&&(T=j._limitOffset(ne(T),j.options.maxBounds)),j.options.worldCopyJump){var z=j.wrapLatLng(j.unproject(j.project(j.getCenter()).add(T)));j.panTo(z)}else j.panBy(T)}else if(g in this._zoomKeys)j.setZoom(j.getZoom()+(d.shiftKey?3:1)*this._zoomKeys[g]);else if(g===27&&j._popup&&j._popup.options.closeOnEscapeKey)j.closePopup();else return;ki(d)}}});At.addInitHook("addHandler","keyboard",ih),At.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var en=ui.extend({addHooks:function(){ft(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Jt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(d){var g=zm(d),j=this._map.options.wheelDebounceTime;this._delta+=g,this._lastMousePos=this._map.mouseEventToContainerPoint(d),this._startTime||(this._startTime=+new Date);var T=Math.max(j-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(s(this._performZoom,this),T),ki(d)},_performZoom:function(){var d=this._map,g=d.getZoom(),j=this._map.options.zoomSnap||0;d._stop();var T=this._delta/(this._map.options.wheelPxPerZoomLevel*4),z=4*Math.log(2/(1+Math.exp(-Math.abs(T))))/Math.LN2,X=j?Math.ceil(z/j)*j:z,le=d._limitZoom(g+(this._delta>0?X:-X))-g;this._delta=0,this._startTime=null,le&&(d.options.scrollWheelZoom==="center"?d.setZoom(g+le):d.setZoomAround(this._lastMousePos,g+le))}});At.addInitHook("addHandler","scrollWheelZoom",en);var ah=600;At.mergeOptions({tapHold:Ye.touchNative&&Ye.safari&&Ye.mobile,tapTolerance:15});var Zl=ui.extend({addHooks:function(){ft(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Jt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(d){if(clearTimeout(this._holdTimeout),d.touches.length===1){var g=d.touches[0];this._startPos=this._newPos=new D(g.clientX,g.clientY),this._holdTimeout=setTimeout(s(function(){this._cancel(),this._isTapValid()&&(ft(document,"touchend",jn),ft(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",g))},this),ah),ft(document,"touchend touchcancel contextmenu",this._cancel,this),ft(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function d(){Jt(document,"touchend",jn),Jt(document,"touchend touchcancel",d)},_cancel:function(){clearTimeout(this._holdTimeout),Jt(document,"touchend touchcancel contextmenu",this._cancel,this),Jt(document,"touchmove",this._onMove,this)},_onMove:function(d){var g=d.touches[0];this._newPos=new D(g.clientX,g.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(d,g){var j=new MouseEvent(d,{bubbles:!0,cancelable:!0,view:window,screenX:g.screenX,screenY:g.screenY,clientX:g.clientX,clientY:g.clientY});j._simulated=!0,g.target.dispatchEvent(j)}});At.addInitHook("addHandler","tapHold",Zl),At.mergeOptions({touchZoom:Ye.touch,bounceAtZoomLimits:!0});var Uo=ui.extend({addHooks:function(){vt(this._map._container,"leaflet-touch-zoom"),ft(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){cn(this._map._container,"leaflet-touch-zoom"),Jt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(d){var g=this._map;if(!(!d.touches||d.touches.length!==2||g._animatingZoom||this._zooming)){var j=g.mouseEventToContainerPoint(d.touches[0]),T=g.mouseEventToContainerPoint(d.touches[1]);this._centerPoint=g.getSize()._divideBy(2),this._startLatLng=g.containerPointToLatLng(this._centerPoint),g.options.touchZoom!=="center"&&(this._pinchStartLatLng=g.containerPointToLatLng(j.add(T)._divideBy(2))),this._startDist=j.distanceTo(T),this._startZoom=g.getZoom(),this._moved=!1,this._zooming=!0,g._stop(),ft(document,"touchmove",this._onTouchMove,this),ft(document,"touchend touchcancel",this._onTouchEnd,this),jn(d)}},_onTouchMove:function(d){if(!(!d.touches||d.touches.length!==2||!this._zooming)){var g=this._map,j=g.mouseEventToContainerPoint(d.touches[0]),T=g.mouseEventToContainerPoint(d.touches[1]),z=j.distanceTo(T)/this._startDist;if(this._zoom=g.getScaleZoom(z,this._startZoom),!g.options.bounceAtZoomLimits&&(this._zoom<g.getMinZoom()&&z<1||this._zoom>g.getMaxZoom()&&z>1)&&(this._zoom=g._limitZoom(this._zoom)),g.options.touchZoom==="center"){if(this._center=this._startLatLng,z===1)return}else{var X=j._add(T)._divideBy(2)._subtract(this._centerPoint);if(z===1&&X.x===0&&X.y===0)return;this._center=g.unproject(g.project(this._pinchStartLatLng,this._zoom).subtract(X),this._zoom)}this._moved||(g._moveStart(!0,!1),this._moved=!0),$(this._animRequest);var le=s(g._move,g,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=B(le,this,!0),jn(d)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,$(this._animRequest),Jt(document,"touchmove",this._onTouchMove,this),Jt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});At.addInitHook("addHandler","touchZoom",Uo),At.BoxZoom=qo,At.DoubleClickZoom=sg,At.Drag=rh,At.Keyboard=ih,At.ScrollWheelZoom=en,At.TapHold=Zl,At.TouchZoom=Uo,n.Bounds=J,n.Browser=Ye,n.CRS=oe,n.Canvas=th,n.Circle=_u,n.CircleMarker=wu,n.Class=W,n.Control=Xr,n.DivIcon=Cu,n.DivOverlay=ea,n.DomEvent=gu,n.DomUtil=zl,n.Draggable=Ei,n.Evented=q,n.FeatureGroup=ka,n.GeoJSON=Ji,n.GridLayer=as,n.Handler=ui,n.Icon=zs,n.ImageOverlay=is,n.LatLng=ie,n.LatLngBounds=te,n.Layer=Ci,n.LayerGroup=ns,n.LineUtil=Gm,n.Map=At,n.Marker=Ea,n.Mixin=qf,n.Path=rs,n.Point=D,n.PolyUtil=zb,n.Polygon=Ca,n.Polyline=Qr,n.Popup=Eu,n.PosAnimation=vu,n.Projection=Vb,n.Rectangle=ag,n.Renderer=ta,n.SVG=qs,n.SVGOverlay=Qf,n.TileLayer=ss,n.Tooltip=Bo,n.Transformation=ce,n.Util=G,n.VideoOverlay=Xf,n.bind=s,n.bounds=ee,n.canvas=nh,n.circle=Vl,n.circleMarker=Qm,n.control=ts,n.divIcon=ng,n.extend=i,n.featureGroup=Zm,n.geoJSON=Jm,n.geoJson=Oi,n.gridLayer=Fo,n.icon=Xm,n.imageOverlay=eg,n.latLng=se,n.latLngBounds=re,n.layerGroup=Hl,n.map=es,n.marker=Yb,n.point=ne,n.polygon=Xb,n.polyline=Zb,n.popup=$o,n.rectangle=Qb,n.setOptions=b,n.stamp=c,n.svg=Ou,n.svgOverlay=Jf,n.tileLayer=eh,n.tooltip=Gl,n.transformation=ue,n.version=r,n.videoOverlay=tg;var og=window.L;n.noConflict=function(){return window.L=og,this},window.L=n}))})(Wh,Wh.exports)),Wh.exports}var Am=ANe();const rm=Ft(Am);function sO(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function oO(e,t){return t==null?function(r,i){const a=S.useRef();return a.current||(a.current=e(r,i)),a}:function(r,i){const a=S.useRef();a.current||(a.current=e(r,i));const s=S.useRef(r),{instance:l}=a.current;return S.useEffect(function(){s.current!==r&&(t(l,r,s.current),s.current=r)},[l,r,i]),a}}function RNe(e,t){S.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){t.layerContainer?.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function aV(e){return function(n){const r=rV(),i=e(aO(n,r),r);return eV(r.map,n.attribution),iV(i.current,n.eventHandlers),RNe(i.current,r),i}}function MNe(e,t){const n=oO(e,t),r=aV(n);return kNe(r)}function DNe(e,t){const n=oO(e),r=ONe(n,t);return ENe(r)}function INe(e,t){const n=oO(e,t),r=aV(n);return CNe(r)}function LNe(e,t,n){const{opacity:r,zIndex:i}=t;r!=null&&r!==n.opacity&&e.setOpacity(r),i!=null&&i!==n.zIndex&&e.setZIndex(i)}function Nk(){return Nk=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Nk.apply(this,arguments)}function $Ne({bounds:e,boundsOptions:t,center:n,children:r,className:i,id:a,placeholder:s,style:l,whenReady:c,zoom:f,...p},m){const[v]=S.useState({className:i,id:a,style:l}),[x,_]=S.useState(null);S.useImperativeHandle(m,()=>x?.map??null,[x]);const b=S.useCallback(k=>{if(k!==null&&x===null){const E=new Am.Map(k,p);n!=null&&f!=null?E.setView(n,f):e!=null&&E.fitBounds(e,t),c!=null&&E.whenReady(c),_(NNe(E))}},[]);S.useEffect(()=>()=>{x?.map.remove()},[x]);const w=x?Z.createElement(nV,{value:x},r):s??null;return Z.createElement("div",Nk({},v,{ref:b}),w)}const BNe=S.forwardRef($Ne),Pk=MNe(function({position:t,...n},r){const i=new Am.Marker(t,n);return sO(i,PNe(r,{overlayContainer:i}))},function(t,n,r){n.position!==r.position&&t.setLatLng(n.position),n.icon!=null&&n.icon!==r.icon&&t.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==r.zIndexOffset&&t.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==r.opacity&&t.setOpacity(n.opacity),t.dragging!=null&&n.draggable!==r.draggable&&(n.draggable===!0?t.dragging.enable():t.dragging.disable())}),kk=DNe(function(t,n){const r=new Am.Popup(t,n.overlayContainer);return sO(r,n)},function(t,n,{position:r},i){S.useEffect(function(){const{instance:s}=t;function l(f){f.popup===s&&(s.update(),i(!0))}function c(f){f.popup===s&&i(!1)}return n.map.on({popupopen:l,popupclose:c}),n.overlayContainer==null?(r!=null&&s.setLatLng(r),s.openOn(n.map)):n.overlayContainer.bindPopup(s),function(){n.map.off({popupopen:l,popupclose:c}),n.overlayContainer?.unbindPopup(),n.map.removeLayer(s)}},[t,n,i,r])}),FNe=INe(function({url:t,...n},r){const i=new Am.TileLayer(t,aO(n,r));return sO(i,r)},function(t,n,r){LNe(t,n,r);const{url:i}=n;i!=null&&i!==r.url&&t.setUrl(i)}),zNe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",qNe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAABSCAMAAAAhFXfZAAAC91BMVEVMaXEzeak2f7I4g7g3g7cua5gzeKg8hJo3grY4g7c3grU0gLI2frE0daAubJc2gbQwd6QzeKk2gLMtd5sxdKIua5g1frA2f7IydaM0e6w2fq41fK01eqo3grgubJgta5cxdKI1f7AydaQydaMxc6EubJgvbJkwcZ4ubZkwcJwubZgubJcydqUydKIxapgubJctbJcubZcubJcvbJYubJcvbZkubJctbJctbZcubJg2f7AubJcrbZcubJcubJcua5g3grY0fq8ubJcubJdEkdEwhsw6i88vhswuhcsuhMtBjMgthMsrg8srgss6is8qgcs8i9A9iMYtg8spgcoogMo7hcMngMonf8olfso4gr8kfck5iM8jfMk4iM8he8k1fro7itAgesk2hs8eecgzfLcofssdeMg0hc4cd8g2hcsxeLQbdsgZdcgxeLImfcszhM0vda4xgckzhM4xg84wf8Yxgs4udKsvfcQucqhUndROmdM1fK0wcZ8vb5w0eqpQm9MzeKhXoNVcpdYydKNWn9VZotVKltJFjsIwcJ1Rms9OlslLmtH///8+kc9epdYzd6dbo9VHkMM2f7FHmNBClM8ydqVcpNY9hro3gLM9hLczealQmcw3fa46f7A8gLMxc6I3eagyc6FIldJMl9JSnNRSntNNl9JPnNJFi75UnM9ZodVKksg8kM45jc09e6ZHltFBk883gbRBh7pDk9EwcaBzn784g7dKkcY2i81Om9M7j85Llc81is09g7Q4grY/j9A0eqxKmdFFltBEjcXf6fFImdBCiLxJl9FGlNFBi78yiMxVndEvbpo6js74+vx+psPP3+o/ks5HkcpGmNCjwdZCkNDM3ehYoNJEls+lxNkxh8xHks0+jdC1zd5Lg6r+/v/H2ufz9/o3jM3t8/edvdM/k89Th61OiLBSjbZklbaTt9BfptdjmL1AicBHj8hGk9FAgK1dkLNTjLRekrdClc/k7fM0icy0y9tgp9c4jc2NtM9Dlc8zicxeXZn3AAAAQ3RSTlMAHDdTb4yPA+LtnEQmC4L2EmHqB7XA0d0sr478x4/Yd5i1zOfyPkf1sLVq4Nh3FvjxopQ2/STNuFzUwFIwxKaejILpIBEV9wAABhVJREFUeF6s1NdyFEcYBeBeoQIhRAkLlRDGrhIgY3BJL8CVeKzuyXFzzjkn5ZxzzuScg3PO8cKzu70JkO0LfxdTU//pM9vTu7Xgf6KqOVTb9X7toRrVEfBf1HTVjZccrT/2by1VV928Yty9ZbVuucdz90frG8DBjl9pVApbOstvmMuvVgaNXSfAAd6pGxpy6yxf5ph43pS/4f3uoaGm2rdu72S9xzOvMymkZFq/ptDrk90mhW7e4zl7HLzhxGWPR20xmSxJ/VqldG5m9XhaVOA1DadsNh3Pu5L2N6QtPO/32JpqQBVVk20oy/Pi2s23WEvyfHbe1thadVQttvm7Llf65gGmXK67XtupyoM7HQhmXdLS8oGWJNeOJ3C5fG5XCEJnkez3/oFdsvgJ4l2ANZwhrJKk/7OSXa+3Vw2WJMlKnGkobouYk6T0TyX30klOUnTD9HJ5qpckL3EW/w4XF3Xd0FGywXUrstrclVsqz5Pd/sXFYyDnPdrLcQODmGOK47IZb4CmibmMn+MYRzFZ5jg33ZL/EJrWcszHmANy3ARBK/IXtciJy8VsitPSdE3uuHxzougojcUdr8/32atnz/ev3f/K5wtpxUTpcaI45zusVDpYtZi+jg0oU9b3x74h7+n9ABvYEZeKaVq0sh0AtLKsFtqNBdeT0MrSzwwlq9+x6xAO4tgOtSzbCjrNQQiNvQUbUEubvzBUeGw26yDCsRHCoLkTHDa7IdOLIThs/gHvChszh2CimE8peRs47cxANI0lYNB5y1DljpOF0IhzBDPOZnDOqYYbeGKECbPzWnXludPphw5c2YBq5zlwXphIbO4VDCZ0gnPfUO1TwZoYwAs2ExPCedAu9DAjfQUjzITQb3jNj0KG2Sgt6BHaQUdYzWz+XmBktOHwanXjaSTcwwziBcuMOtwBmqPrTOxFQR/DRKKPqyur0aiW6cULYsx6tBm0jXpR/AUWR6HRq9WVW6MRhIq5jLyjbaCTDCijyYJNpCajdyobP/eTw0iexBAKkJ3gA5KcQb2zBXsIBckn+xVv8jkZSaEFHE+jFEleAEfayRU0MouNoBmB/L50Ai/HSLIHxcrpCvnhSQAuakKp2C/YbCylJjXRVy/z3+Kv/RrNcCo+WUzlVEhzKffnTQnxeN9fWF88fiNCUdSTsaufaChKWInHeysygfpIqagoakW+vV20J8uyl6TyNKEZWV4oRSPyCkWpgOLSbkCObT8o2r6tlG58HQquf6O0v50tB7JM7F4EORd2dx/K0w/KHsVkLPaoYrwgP/y7krr3SSMA4zj+OBgmjYkxcdIJQyQRKgg2viX9Hddi9UBb29LrKR7CVVEEEXWojUkXNyfTNDE14W9gbHJNuhjDettN3ZvbOvdOqCD3Jp/9l+/wJE+9PkYGjx/fqkys3S2rMozM/o2106rfMUINo6hVqz+eu/hd1c4xTg0TAfy5kV+4UG6+IthHTU9woWmxuKNbTfuCSfovBCxq7EtHqvYL4Sm6F8GVxsSXHMQ07TOi1DKtZxjWaaIyi4CXWjxPccUw8WVbMYY5wxC1mzEyXMJWkllpRloi+Kkoq69sxBTlElF6aAxYUbjXNlhlDZilDnM4U5SlN5biRsRHnbx3mbeWjEh4mEyiuJDl5XcWVmX5GvNkFgLWZM5qwsop4/AWfLhU1cR7k1VVvcYCWRkOI6Xy5gmnphCYIkvzuNYzHzosq2oNk2RtSs8khfUOfHIDgR6ysYBaMpl4uEgk2U/oJTs9AaTSwma7dT69geAE2ZpEjUsn2ieJNHeKfrI3EcAGJ2ZaNgVuC8EBctCLc57P5u5led6IOBkIYkuQMrmmjChs4VkfOerHqSBkPzZlhe06RslZ3zMjk2sscqKwY0RcjKK+LWbzd7KiHhkncs/siFJ+V5eXxD34B8nVuJEpGJNmxN2gH3vSvp7J70tF+D1Ej8qUJD1TkErAND2GZwTFg/LubvmgiBG3SOvdlsqFQrkEzJCL1rstlnVFROixZoDDSuXQFHESwVGlcuQcMb/b42NgjLowh5MTDFE3vNB5qStRIErdCQEh6pLPR92anSUb/wAIhldAaDMpGgAAAABJRU5ErkJggg==",UNe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC";delete rm.Icon.Default.prototype._getIconUrl;rm.Icon.Default.mergeOptions({iconUrl:zNe,iconRetinaUrl:qNe,shadowUrl:UNe});const WNe=({center:e,children:t,scroll:n=!0,zoom:r=13,userLabel:i,userColor:a})=>{if(!e)return null;const s=S.useMemo(()=>{if(!a)return;const l=16,c=`<span style="background-color:${a};width:${l}px;height:${l}px;display:block;border-radius:50%;border:2px solid white;"></span>`;return rm.divIcon({html:c,className:""})},[a]);return o.jsxs(BNe,{center:e,zoom:r,scrollWheelZoom:n,style:{height:"100%",width:"100%"},children:[o.jsx(FNe,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),o.jsx(Pk,{position:e,icon:s,children:i?o.jsx(kk,{children:i}):null}),t]})};var sV=["PageUp","PageDown"],oV=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],lV={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Tf="Slider",[Ek,HNe,VNe]=im(Tf),[cV]=Ar(Tf,[VNe]),[KNe,Db]=cV(Tf),uV=S.forwardRef((e,t)=>{const{name:n,min:r=0,max:i=100,step:a=1,orientation:s="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:f=[r],value:p,onValueChange:m=()=>{},onValueCommit:v=()=>{},inverted:x=!1,form:_,...b}=e,w=S.useRef(new Set),k=S.useRef(0),P=s==="horizontal"?GNe:YNe,[C=[],O]=Va({prop:p,defaultProp:f,onChange:B=>{[...w.current][k.current]?.focus(),m(B)}}),R=S.useRef(C);function M(B){const $=ePe(C,B);H(B,$)}function U(B){H(B,k.current)}function F(){const B=R.current[k.current];C[k.current]!==B&&v(C)}function H(B,$,{commit:G}={commit:!1}){const W=iPe(a),V=aPe(Math.round((B-r)/a)*a+r,W),K=bp(V,[r,i]);O((q=[])=>{const D=QNe(q,K,$);if(rPe(D,c*a)){k.current=D.indexOf(K);const Q=String(D)!==String(q);return Q&&G&&v(D),Q?D:q}else return q})}return o.jsx(KNe,{scope:e.__scopeSlider,name:n,disabled:l,min:r,max:i,valueIndexToChangeRef:k,thumbs:w.current,values:C,orientation:s,form:_,children:o.jsx(Ek.Provider,{scope:e.__scopeSlider,children:o.jsx(Ek.Slot,{scope:e.__scopeSlider,children:o.jsx(P,{"aria-disabled":l,"data-disabled":l?"":void 0,...b,ref:t,onPointerDown:Ae(b.onPointerDown,()=>{l||(R.current=C)}),min:r,max:i,inverted:x,onSlideStart:l?void 0:M,onSlideMove:l?void 0:U,onSlideEnd:l?void 0:F,onHomeKeyDown:()=>!l&&H(r,0,{commit:!0}),onEndKeyDown:()=>!l&&H(i,C.length-1,{commit:!0}),onStepKeyDown:({event:B,direction:$})=>{if(!l){const V=sV.includes(B.key)||B.shiftKey&&oV.includes(B.key)?10:1,K=k.current,q=C[K],D=a*V*$;H(q+D,K,{commit:!0})}}})})})})});uV.displayName=Tf;var[dV,fV]=cV(Tf,{startEdge:"left",endEdge:"right",size:"width",direction:1}),GNe=S.forwardRef((e,t)=>{const{min:n,max:r,dir:i,inverted:a,onSlideStart:s,onSlideMove:l,onSlideEnd:c,onStepKeyDown:f,...p}=e,[m,v]=S.useState(null),x=dt(t,P=>v(P)),_=S.useRef(void 0),b=bf(i),w=b==="ltr",k=w&&!a||!w&&a;function E(P){const C=_.current||m.getBoundingClientRect(),O=[0,C.width],M=lO(O,k?[n,r]:[r,n]);return _.current=C,M(P-C.left)}return o.jsx(dV,{scope:e.__scopeSlider,startEdge:k?"left":"right",endEdge:k?"right":"left",direction:k?1:-1,size:"width",children:o.jsx(hV,{dir:b,"data-orientation":"horizontal",...p,ref:x,style:{...p.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:P=>{const C=E(P.clientX);s?.(C)},onSlideMove:P=>{const C=E(P.clientX);l?.(C)},onSlideEnd:()=>{_.current=void 0,c?.()},onStepKeyDown:P=>{const O=lV[k?"from-left":"from-right"].includes(P.key);f?.({event:P,direction:O?-1:1})}})})}),YNe=S.forwardRef((e,t)=>{const{min:n,max:r,inverted:i,onSlideStart:a,onSlideMove:s,onSlideEnd:l,onStepKeyDown:c,...f}=e,p=S.useRef(null),m=dt(t,p),v=S.useRef(void 0),x=!i;function _(b){const w=v.current||p.current.getBoundingClientRect(),k=[0,w.height],P=lO(k,x?[r,n]:[n,r]);return v.current=w,P(b-w.top)}return o.jsx(dV,{scope:e.__scopeSlider,startEdge:x?"bottom":"top",endEdge:x?"top":"bottom",size:"height",direction:x?1:-1,children:o.jsx(hV,{"data-orientation":"vertical",...f,ref:m,style:{...f.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:b=>{const w=_(b.clientY);a?.(w)},onSlideMove:b=>{const w=_(b.clientY);s?.(w)},onSlideEnd:()=>{v.current=void 0,l?.()},onStepKeyDown:b=>{const k=lV[x?"from-bottom":"from-top"].includes(b.key);c?.({event:b,direction:k?-1:1})}})})}),hV=S.forwardRef((e,t)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:i,onSlideEnd:a,onHomeKeyDown:s,onEndKeyDown:l,onStepKeyDown:c,...f}=e,p=Db(Tf,n);return o.jsx(ze.span,{...f,ref:t,onKeyDown:Ae(e.onKeyDown,m=>{m.key==="Home"?(s(m),m.preventDefault()):m.key==="End"?(l(m),m.preventDefault()):sV.concat(oV).includes(m.key)&&(c(m),m.preventDefault())}),onPointerDown:Ae(e.onPointerDown,m=>{const v=m.target;v.setPointerCapture(m.pointerId),m.preventDefault(),p.thumbs.has(v)?v.focus():r(m)}),onPointerMove:Ae(e.onPointerMove,m=>{m.target.hasPointerCapture(m.pointerId)&&i(m)}),onPointerUp:Ae(e.onPointerUp,m=>{const v=m.target;v.hasPointerCapture(m.pointerId)&&(v.releasePointerCapture(m.pointerId),a(m))})})}),pV="SliderTrack",mV=S.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,i=Db(pV,n);return o.jsx(ze.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...r,ref:t})});mV.displayName=pV;var Ck="SliderRange",gV=S.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,i=Db(Ck,n),a=fV(Ck,n),s=S.useRef(null),l=dt(t,s),c=i.values.length,f=i.values.map(v=>xV(v,i.min,i.max)),p=c>1?Math.min(...f):0,m=100-Math.max(...f);return o.jsx(ze.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...r,ref:l,style:{...e.style,[a.startEdge]:p+"%",[a.endEdge]:m+"%"}})});gV.displayName=Ck;var Ok="SliderThumb",vV=S.forwardRef((e,t)=>{const n=HNe(e.__scopeSlider),[r,i]=S.useState(null),a=dt(t,l=>i(l)),s=S.useMemo(()=>r?n().findIndex(l=>l.ref.current===r):-1,[n,r]);return o.jsx(ZNe,{...e,ref:a,index:s})}),ZNe=S.forwardRef((e,t)=>{const{__scopeSlider:n,index:r,name:i,...a}=e,s=Db(Ok,n),l=fV(Ok,n),[c,f]=S.useState(null),p=dt(t,E=>f(E)),m=c?s.form||!!c.closest("form"):!0,v=wx(c),x=s.values[r],_=x===void 0?0:xV(x,s.min,s.max),b=JNe(r,s.values.length),w=v?.[l.size],k=w?tPe(w,_,l.direction):0;return S.useEffect(()=>{if(c)return s.thumbs.add(c),()=>{s.thumbs.delete(c)}},[c,s.thumbs]),o.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${_}% + ${k}px)`},children:[o.jsx(Ek.ItemSlot,{scope:e.__scopeSlider,children:o.jsx(ze.span,{role:"slider","aria-label":e["aria-label"]||b,"aria-valuemin":s.min,"aria-valuenow":x,"aria-valuemax":s.max,"aria-orientation":s.orientation,"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,tabIndex:s.disabled?void 0:0,...a,ref:p,style:x===void 0?{display:"none"}:e.style,onFocus:Ae(e.onFocus,()=>{s.valueIndexToChangeRef.current=r})})}),m&&o.jsx(yV,{name:i??(s.name?s.name+(s.values.length>1?"[]":""):void 0),form:s.form,value:x},r)]})});vV.displayName=Ok;var XNe="RadioBubbleInput",yV=S.forwardRef(({__scopeSlider:e,value:t,...n},r)=>{const i=S.useRef(null),a=dt(i,r),s=Fx(t);return S.useEffect(()=>{const l=i.current;if(!l)return;const c=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(c,"value").set;if(s!==t&&p){const m=new Event("input",{bubbles:!0});p.call(l,t),l.dispatchEvent(m)}},[s,t]),o.jsx(ze.input,{style:{display:"none"},...n,ref:a,defaultValue:t})});yV.displayName=XNe;function QNe(e=[],t,n){const r=[...e];return r[n]=t,r.sort((i,a)=>i-a)}function xV(e,t,n){const a=100/(n-t)*(e-t);return bp(a,[0,100])}function JNe(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function ePe(e,t){if(e.length===1)return 0;const n=e.map(i=>Math.abs(i-t)),r=Math.min(...n);return n.indexOf(r)}function tPe(e,t,n){const r=e/2,a=lO([0,50],[0,r]);return(r-a(t)*n)*n}function nPe(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}function rPe(e,t){if(t>0){const n=nPe(e);return Math.min(...n)>=t}return!0}function lO(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function iPe(e){return(String(e).split(".")[1]||"").length}function aPe(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}var bV=uV,sPe=mV,oPe=gV,lPe=vV;const Hh=S.forwardRef(({className:e,...t},n)=>o.jsxs(bV,{ref:n,className:qe("relative flex w-full touch-none select-none items-center",e),...t,children:[o.jsx(sPe,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:o.jsx(oPe,{className:"absolute h-full bg-primary"})}),o.jsx(lPe,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));Hh.displayName=bV.displayName;function cPe(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}const wV=Z.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),Rm=()=>{const e=Z.useContext(wV);if(!e)throw new Error("useDrawerContext must be used within a Drawer.Root");return e};cPe(`[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,100%,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,-100%,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(-100%,0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(100%,0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(
[data-state=closed]
){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,100%,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,100%,0)}}@keyframes slideFromTop{from{transform:translate3d(0,-100%,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,-100%,0)}}@keyframes slideFromLeft{from{transform:translate3d(-100%,0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(-100%,0,0)}}@keyframes slideFromRight{from{transform:translate3d(100%,0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(100%,0,0)}}`);const uPe=24,dPe=typeof window<"u"?S.useLayoutEffect:S.useEffect;function SB(...e){return(...t)=>{for(let n of e)typeof n=="function"&&n(...t)}}function fPe(){return cO(/^Mac/)}function hPe(){return cO(/^iPhone/)}function jB(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function pPe(){return cO(/^iPad/)||fPe()&&navigator.maxTouchPoints>1}function _V(){return hPe()||pPe()}function cO(e){return typeof window<"u"&&window.navigator!=null?e.test(window.navigator.platform):void 0}const rN=typeof document<"u"&&window.visualViewport;function NB(e){let t=window.getComputedStyle(e);return/(auto|scroll)/.test(t.overflow+t.overflowX+t.overflowY)}function SV(e){for(NB(e)&&(e=e.parentElement);e&&!NB(e);)e=e.parentElement;return e||document.scrollingElement||document.documentElement}const mPe=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let Tv=0,iN;function gPe(e={}){let{isDisabled:t}=e;dPe(()=>{if(!t)return Tv++,Tv===1&&_V()&&(iN=vPe()),()=>{Tv--,Tv===0&&iN?.()}},[t])}function vPe(){let e,t=0,n=m=>{e=SV(m.target),!(e===document.documentElement&&e===document.body)&&(t=m.changedTouches[0].pageY)},r=m=>{if(!e||e===document.documentElement||e===document.body){m.preventDefault();return}let v=m.changedTouches[0].pageY,x=e.scrollTop,_=e.scrollHeight-e.clientHeight;_!==0&&((x<=0&&v>t||x>=_&&v<t)&&m.preventDefault(),t=v)},i=m=>{let v=m.target;Tk(v)&&v!==document.activeElement&&(m.preventDefault(),v.style.transform="translateY(-2000px)",v.focus(),requestAnimationFrame(()=>{v.style.transform=""}))},a=m=>{let v=m.target;Tk(v)&&(v.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{v.style.transform="",rN&&(rN.height<window.innerHeight?requestAnimationFrame(()=>{PB(v)}):rN.addEventListener("resize",()=>PB(v),{once:!0}))}))},s=()=>{window.scrollTo(0,0)},l=window.pageXOffset,c=window.pageYOffset,f=SB(yPe(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let p=SB(Ih(document,"touchstart",n,{passive:!1,capture:!0}),Ih(document,"touchmove",r,{passive:!1,capture:!0}),Ih(document,"touchend",i,{passive:!1,capture:!0}),Ih(document,"focus",a,!0),Ih(window,"scroll",s));return()=>{f(),p(),window.scrollTo(l,c)}}function yPe(e,t,n){let r=e.style[t];return e.style[t]=n,()=>{e.style[t]=r}}function Ih(e,t,n,r){return e.addEventListener(t,n,r),()=>{e.removeEventListener(t,n,r)}}function PB(e){let t=document.scrollingElement||document.documentElement;for(;e&&e!==t;){let n=SV(e);if(n!==document.documentElement&&n!==document.body&&n!==e){let r=n.getBoundingClientRect().top,i=e.getBoundingClientRect().top,a=e.getBoundingClientRect().bottom;const s=n.getBoundingClientRect().bottom+uPe;a>s&&(n.scrollTop+=i-r)}e=n.parentElement}}function Tk(e){return e instanceof HTMLInputElement&&!mPe.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}function xPe(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function bPe(...e){return t=>e.forEach(n=>xPe(n,t))}function jV(...e){return S.useCallback(bPe(...e),e)}const NV=new WeakMap;function or(e,t,n=!1){if(!e||!(e instanceof HTMLElement))return;let r={};Object.entries(t).forEach(([i,a])=>{if(i.startsWith("--")){e.style.setProperty(i,a);return}r[i]=e.style[i],e.style[i]=a}),!n&&NV.set(e,r)}function wPe(e,t){if(!e||!(e instanceof HTMLElement))return;let n=NV.get(e);n&&(e.style[t]=n[t])}const lr=e=>{switch(e){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return e}};function Av(e,t){if(!e)return null;const n=window.getComputedStyle(e),r=n.transform||n.webkitTransform||n.mozTransform;let i=r.match(/^matrix3d\((.+)\)$/);return i?parseFloat(i[1].split(", ")[lr(t)?13:12]):(i=r.match(/^matrix\((.+)\)$/),i?parseFloat(i[1].split(", ")[lr(t)?5:4]):null)}function _Pe(e){return 8*(Math.log(e+1)-2)}function aN(e,t){if(!e)return()=>{};const n=e.style.cssText;return Object.assign(e.style,t),()=>{e.style.cssText=n}}function SPe(...e){return(...t)=>{for(const n of e)typeof n=="function"&&n(...t)}}const En={DURATION:.5,EASE:[.32,.72,0,1]},PV=.4,jPe=.25,NPe=100,kV=8,pc=16,Ak=26,sN="vaul-dragging";function EV(e){const t=Z.useRef(e);return Z.useEffect(()=>{t.current=e}),Z.useMemo(()=>(...n)=>t.current==null?void 0:t.current.call(t,...n),[])}function PPe({defaultProp:e,onChange:t}){const n=Z.useState(e),[r]=n,i=Z.useRef(r),a=EV(t);return Z.useEffect(()=>{i.current!==r&&(a(r),i.current=r)},[r,i,a]),n}function CV({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,i]=PPe({defaultProp:t,onChange:n}),a=e!==void 0,s=a?e:r,l=EV(n),c=Z.useCallback(f=>{if(a){const m=typeof f=="function"?f(e):f;m!==e&&l(m)}else i(f)},[a,e,i,l]);return[s,c]}function kPe({activeSnapPointProp:e,setActiveSnapPointProp:t,snapPoints:n,drawerRef:r,overlayRef:i,fadeFromIndex:a,onSnapPointChange:s,direction:l="bottom",container:c,snapToSequentialPoint:f}){const[p,m]=CV({prop:e,defaultProp:n?.[0],onChange:t}),[v,x]=Z.useState(typeof window<"u"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);Z.useEffect(()=>{function M(){x({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",M),()=>window.removeEventListener("resize",M)},[]);const _=Z.useMemo(()=>p===n?.[n.length-1]||null,[n,p]),b=Z.useMemo(()=>n?.findIndex(M=>M===p),[n,p]),w=n&&n.length>0&&(a||a===0)&&!Number.isNaN(a)&&n[a]===p||!n,k=Z.useMemo(()=>{const M=c?{width:c.getBoundingClientRect().width,height:c.getBoundingClientRect().height}:typeof window<"u"?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};var U;return(U=n?.map(F=>{const H=typeof F=="string";let B=0;if(H&&(B=parseInt(F,10)),lr(l)){const G=H?B:v?F*M.height:0;return v?l==="bottom"?M.height-G:-M.height+G:G}const $=H?B:v?F*M.width:0;return v?l==="right"?M.width-$:-M.width+$:$}))!=null?U:[]},[n,v,c]),E=Z.useMemo(()=>b!==null?k?.[b]:null,[k,b]),P=Z.useCallback(M=>{var U;const F=(U=k?.findIndex(H=>H===M))!=null?U:null;s(F),or(r.current,{transition:`transform ${En.DURATION}s cubic-bezier(${En.EASE.join(",")})`,transform:lr(l)?`translate3d(0, ${M}px, 0)`:`translate3d(${M}px, 0, 0)`}),k&&F!==k.length-1&&F!==a&&F<a?or(i.current,{transition:`opacity ${En.DURATION}s cubic-bezier(${En.EASE.join(",")})`,opacity:"0"}):or(i.current,{transition:`opacity ${En.DURATION}s cubic-bezier(${En.EASE.join(",")})`,opacity:"1"}),m(n?.[Math.max(F,0)])},[r.current,n,k,a,i,m]);Z.useEffect(()=>{if(p||e){var M;const U=(M=n?.findIndex(F=>F===e||F===p))!=null?M:-1;k&&U!==-1&&typeof k[U]=="number"&&P(k[U])}},[p,e,n,k,P]);function C({draggedDistance:M,closeDrawer:U,velocity:F,dismissible:H}){if(a===void 0)return;const B=l==="bottom"||l==="right"?(E??0)-M:(E??0)+M,$=b===a-1,G=b===0,W=M>0;if($&&or(i.current,{transition:`opacity ${En.DURATION}s cubic-bezier(${En.EASE.join(",")})`}),!f&&F>2&&!W){H?U():P(k[0]);return}if(!f&&F>2&&W&&k&&n){P(k[n.length-1]);return}const V=k?.reduce((q,D)=>typeof q!="number"||typeof D!="number"?q:Math.abs(D-B)<Math.abs(q-B)?D:q),K=lr(l)?window.innerHeight:window.innerWidth;if(F>PV&&Math.abs(M)<K*.4){const q=W?1:-1;if(q>0&&_){P(k[n.length-1]);return}if(G&&q<0&&H&&U(),b===null)return;P(k[b+q]);return}P(V)}function O({draggedDistance:M}){if(E===null)return;const U=l==="bottom"||l==="right"?E-M:E+M;(l==="bottom"||l==="right")&&U<k[k.length-1]||(l==="top"||l==="left")&&U>k[k.length-1]||or(r.current,{transform:lr(l)?`translate3d(0, ${U}px, 0)`:`translate3d(${U}px, 0, 0)`})}function R(M,U){if(!n||typeof b!="number"||!k||a===void 0)return null;const F=b===a-1;if(b>=a&&U)return 0;if(F&&!U)return 1;if(!w&&!F)return null;const B=F?b+1:b-1,$=F?k[B]-k[B-1]:k[B+1]-k[B],G=M/Math.abs($);return F?1-G:G}return{isLastSnapPoint:_,activeSnapPoint:p,shouldFade:w,getPercentageDragged:R,setActiveSnapPoint:m,activeSnapPointIndex:b,onRelease:C,onDrag:O,snapPointsOffset:k}}const EPe=()=>()=>{};function CPe(){const{direction:e,isOpen:t,shouldScaleBackground:n,setBackgroundColorOnScale:r,noBodyStyles:i}=Rm(),a=Z.useRef(null),s=S.useMemo(()=>document.body.style.backgroundColor,[]);function l(){return(window.innerWidth-Ak)/window.innerWidth}Z.useEffect(()=>{if(t&&n){a.current&&clearTimeout(a.current);const c=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!c)return;SPe(r&&!i?aN(document.body,{background:"black"}):EPe,aN(c,{transformOrigin:lr(e)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${En.DURATION}s`,transitionTimingFunction:`cubic-bezier(${En.EASE.join(",")})`}));const f=aN(c,{borderRadius:`${kV}px`,overflow:"hidden",...lr(e)?{transform:`scale(${l()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${l()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}});return()=>{f(),a.current=window.setTimeout(()=>{s?document.body.style.background=s:document.body.style.removeProperty("background")},En.DURATION*1e3)}}},[t,n,s])}let Lh=null;function OPe({isOpen:e,modal:t,nested:n,hasBeenOpened:r,preventScrollRestoration:i,noBodyStyles:a}){const[s,l]=Z.useState(()=>typeof window<"u"?window.location.href:""),c=Z.useRef(0),f=Z.useCallback(()=>{if(jB()&&Lh===null&&e&&!a){Lh={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:m,innerHeight:v}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-c.current}px`,left:`${-m}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const x=v-window.innerHeight;x&&c.current>=v&&(document.body.style.top=`${-(c.current+x)}px`)}),300)}},[e]),p=Z.useCallback(()=>{if(jB()&&Lh!==null&&!a){const m=-parseInt(document.body.style.top,10),v=-parseInt(document.body.style.left,10);Object.assign(document.body.style,Lh),window.requestAnimationFrame(()=>{if(i&&s!==window.location.href){l(window.location.href);return}window.scrollTo(v,m)}),Lh=null}},[s]);return Z.useEffect(()=>{function m(){c.current=window.scrollY}return m(),window.addEventListener("scroll",m),()=>{window.removeEventListener("scroll",m)}},[]),Z.useEffect(()=>{n||!r||(e?(!window.matchMedia("(display-mode: standalone)").matches&&f(),t||window.setTimeout(()=>{p()},500)):p())},[e,r,s,t,n,f,p]),{restorePositionSetting:p}}function TPe({open:e,onOpenChange:t,children:n,onDrag:r,onRelease:i,snapPoints:a,shouldScaleBackground:s=!1,setBackgroundColorOnScale:l=!0,closeThreshold:c=jPe,scrollLockTimeout:f=NPe,dismissible:p=!0,handleOnly:m=!1,fadeFromIndex:v=a&&a.length-1,activeSnapPoint:x,setActiveSnapPoint:_,fixed:b,modal:w=!0,onClose:k,nested:E,noBodyStyles:P,direction:C="bottom",defaultOpen:O=!1,disablePreventScroll:R=!0,snapToSequentialPoint:M=!1,preventScrollRestoration:U=!1,repositionInputs:F=!0,onAnimationEnd:H,container:B,autoFocus:$=!1}){var G,W;const[V=!1,K]=CV({defaultProp:O,prop:e,onChange:nt=>{t?.(nt),!nt&&!E&&pt(),setTimeout(()=>{H?.(nt)},En.DURATION*1e3),nt&&!w&&typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),nt||(document.body.style.pointerEvents="auto")}}),[q,D]=Z.useState(!1),[Q,ne]=Z.useState(!1),[J,ee]=Z.useState(!1),te=Z.useRef(null),re=Z.useRef(null),ie=Z.useRef(null),se=Z.useRef(null),oe=Z.useRef(null),be=Z.useRef(!1),fe=Z.useRef(null),xe=Z.useRef(0),ce=Z.useRef(!1),ue=Z.useRef(0),je=Z.useRef(null),Re=Z.useRef(((G=je.current)==null?void 0:G.getBoundingClientRect().height)||0),Xe=Z.useRef(((W=je.current)==null?void 0:W.getBoundingClientRect().width)||0),Me=Z.useRef(0),tt=Z.useCallback(nt=>{a&&nt===it.length-1&&(re.current=new Date)},[]),{activeSnapPoint:Wt,activeSnapPointIndex:Ht,setActiveSnapPoint:Mt,onRelease:It,snapPointsOffset:it,onDrag:Et,shouldFade:jr,getPercentageDragged:pe}=kPe({snapPoints:a,activeSnapPointProp:x,setActiveSnapPointProp:_,drawerRef:je,fadeFromIndex:v,overlayRef:te,onSnapPointChange:tt,direction:C,container:B,snapToSequentialPoint:M});gPe({isDisabled:!V||Q||!w||J||!q||!F||!R});const{restorePositionSetting:pt}=OPe({isOpen:V,modal:w,nested:E,hasBeenOpened:q,preventScrollRestoration:U,noBodyStyles:P});function sn(){return(window.innerWidth-Ak)/window.innerWidth}function _i(nt){var Ot,Lt;!p&&!a||je.current&&!je.current.contains(nt.target)||(Re.current=((Ot=je.current)==null?void 0:Ot.getBoundingClientRect().height)||0,Xe.current=((Lt=je.current)==null?void 0:Lt.getBoundingClientRect().width)||0,ne(!0),ie.current=new Date,_V()&&window.addEventListener("touchend",()=>be.current=!1,{once:!0}),nt.target.setPointerCapture(nt.pointerId),xe.current=lr(C)?nt.pageY:nt.pageX)}function Yi(nt,Ot){var Lt,Dt;let jt=nt;const on=(Lt=window.getSelection())==null?void 0:Lt.toString(),Tn=je.current?Av(je.current,C):null,Ke=new Date;if(jt.hasAttribute("data-vaul-no-drag")||jt.closest("[data-vaul-no-drag]"))return!1;if(C==="right"||C==="left")return!0;if(re.current&&Ke.getTime()-re.current.getTime()<500)return!1;if(Tn!==null&&(C==="bottom"?Tn>0:Tn<0))return!0;if(on&&on.length>0)return!1;if(Ke.getTime()-((Dt=oe.current)==null?void 0:Dt.getTime())<f&&Tn===0||Ot)return oe.current=Ke,!1;for(;jt;){if(jt.scrollHeight>jt.clientHeight){if(jt.scrollTop!==0)return oe.current=new Date,!1;if(jt.getAttribute("role")==="dialog")return!0}jt=jt.parentNode}return!0}function Nr(nt){if(je.current&&Q){const Ot=C==="bottom"||C==="right"?1:-1,Lt=(xe.current-(lr(C)?nt.pageY:nt.pageX))*Ot,Dt=Lt>0,jt=a&&!p&&!Dt;if(jt&&Ht===0)return;const on=Math.abs(Lt),Tn=document.querySelector("[data-vaul-drawer-wrapper]"),Ke=C==="bottom"||C==="top"?Re.current:Xe.current;let bt=on/Ke;const Tt=pe(on,Dt);if(Tt!==null&&(bt=Tt),jt&&bt>=1||!be.current&&!Yi(nt.target,Dt))return;if(je.current.classList.add(sN),be.current=!0,or(je.current,{transition:"none"}),or(te.current,{transition:"none"}),a&&Et({draggedDistance:Lt}),Dt&&!a){const Yt=_Pe(Lt),Ln=Math.min(Yt*-1,0)*Ot;or(je.current,{transform:lr(C)?`translate3d(0, ${Ln}px, 0)`:`translate3d(${Ln}px, 0, 0)`});return}const ln=1-bt;if((jr||v&&Ht===v-1)&&(r?.(nt,bt),or(te.current,{opacity:`${ln}`,transition:"none"},!0)),Tn&&te.current&&s){const Yt=Math.min(sn()+bt*(1-sn()),1),Ln=8-bt*8,Dr=Math.max(0,14-bt*14);or(Tn,{borderRadius:`${Ln}px`,transform:lr(C)?`scale(${Yt}) translate3d(0, ${Dr}px, 0)`:`scale(${Yt}) translate3d(${Dr}px, 0, 0)`,transition:"none"},!0)}if(!a){const Yt=on*Ot;or(je.current,{transform:lr(C)?`translate3d(0, ${Yt}px, 0)`:`translate3d(${Yt}px, 0, 0)`})}}}Z.useEffect(()=>{var nt;function Ot(){if(!je.current||!F)return;const Lt=document.activeElement;if(Tk(Lt)||ce.current){var Dt;const jt=((Dt=window.visualViewport)==null?void 0:Dt.height)||0,on=window.innerHeight;let Tn=on-jt;const Ke=je.current.getBoundingClientRect().height||0,bt=Ke>on*.8;Me.current||(Me.current=Ke);const Tt=je.current.getBoundingClientRect().top;if(Math.abs(ue.current-Tn)>60&&(ce.current=!ce.current),a&&a.length>0&&it&&Ht){const ln=it[Ht]||0;Tn+=ln}if(ue.current=Tn,Ke>jt||ce.current){const ln=je.current.getBoundingClientRect().height;let Yt=ln;ln>jt&&(Yt=jt-(bt?Tt:Ak)),b?je.current.style.height=`${ln-Math.max(Tn,0)}px`:je.current.style.height=`${Math.max(Yt,jt-Tt)}px`}else je.current.style.height=`${Me.current}px`;a&&a.length>0&&!ce.current?je.current.style.bottom="0px":je.current.style.bottom=`${Math.max(Tn,0)}px`}}return(nt=window.visualViewport)==null||nt.addEventListener("resize",Ot),()=>{var Lt;return(Lt=window.visualViewport)==null?void 0:Lt.removeEventListener("resize",Ot)}},[Ht,a,it]);function On(nt){Sa(),k?.(),nt||K(!1),setTimeout(()=>{a&&Mt(a[0])},En.DURATION*1e3)}function As(){if(!je.current)return;const nt=document.querySelector("[data-vaul-drawer-wrapper]"),Ot=Av(je.current,C);or(je.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${En.DURATION}s cubic-bezier(${En.EASE.join(",")})`}),or(te.current,{transition:`opacity ${En.DURATION}s cubic-bezier(${En.EASE.join(",")})`,opacity:"1"}),s&&Ot&&Ot>0&&V&&or(nt,{borderRadius:`${kV}px`,overflow:"hidden",...lr(C)?{transform:`scale(${sn()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${sn()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${En.DURATION}s`,transitionTimingFunction:`cubic-bezier(${En.EASE.join(",")})`},!0)}function Sa(){!Q||!je.current||(je.current.classList.remove(sN),be.current=!1,ne(!1),se.current=new Date)}function Zr(nt){if(!Q||!je.current)return;je.current.classList.remove(sN),be.current=!1,ne(!1),se.current=new Date;const Ot=Av(je.current,C);if(!Yi(nt.target,!1)||!Ot||Number.isNaN(Ot)||ie.current===null)return;const Lt=se.current.getTime()-ie.current.getTime(),Dt=xe.current-(lr(C)?nt.pageY:nt.pageX),jt=Math.abs(Dt)/Lt;if(jt>.05&&(ee(!0),setTimeout(()=>{ee(!1)},200)),a){It({draggedDistance:Dt*(C==="bottom"||C==="right"?1:-1),closeDrawer:On,velocity:jt,dismissible:p}),i?.(nt,!0);return}if(C==="bottom"||C==="right"?Dt>0:Dt<0){As(),i?.(nt,!0);return}if(jt>PV){On(),i?.(nt,!1);return}var on;const Tn=Math.min((on=je.current.getBoundingClientRect().height)!=null?on:0,window.innerHeight);var Ke;const bt=Math.min((Ke=je.current.getBoundingClientRect().width)!=null?Ke:0,window.innerWidth),Tt=C==="left"||C==="right";if(Math.abs(Ot)>=(Tt?bt:Tn)*c){On(),i?.(nt,!1);return}i?.(nt,!0),As()}Z.useEffect(()=>(V&&(or(document.documentElement,{scrollBehavior:"auto"}),re.current=new Date),()=>{wPe(document.documentElement,"scrollBehavior")}),[V]);function Rs(nt){const Ot=nt?(window.innerWidth-pc)/window.innerWidth:1,Lt=nt?-pc:0;fe.current&&window.clearTimeout(fe.current),or(je.current,{transition:`transform ${En.DURATION}s cubic-bezier(${En.EASE.join(",")})`,transform:`scale(${Ot}) translate3d(0, ${Lt}px, 0)`}),!nt&&je.current&&(fe.current=setTimeout(()=>{const Dt=Av(je.current,C);or(je.current,{transition:"none",transform:lr(C)?`translate3d(0, ${Dt}px, 0)`:`translate3d(${Dt}px, 0, 0)`})},500))}function ci(nt,Ot){if(Ot<0)return;const Lt=(window.innerWidth-pc)/window.innerWidth,Dt=Lt+Ot*(1-Lt),jt=-pc+Ot*pc;or(je.current,{transform:lr(C)?`scale(${Dt}) translate3d(0, ${jt}px, 0)`:`scale(${Dt}) translate3d(${jt}px, 0, 0)`,transition:"none"})}function Si(nt,Ot){const Lt=lr(C)?window.innerHeight:window.innerWidth,Dt=Ot?(Lt-pc)/Lt:1,jt=Ot?-pc:0;Ot&&or(je.current,{transition:`transform ${En.DURATION}s cubic-bezier(${En.EASE.join(",")})`,transform:lr(C)?`scale(${Dt}) translate3d(0, ${jt}px, 0)`:`scale(${Dt}) translate3d(${jt}px, 0, 0)`})}return Z.createElement(z6,{defaultOpen:O,onOpenChange:nt=>{!p&&!nt||(nt?D(!0):On(!0),K(nt))},open:V},Z.createElement(wV.Provider,{value:{activeSnapPoint:Wt,snapPoints:a,setActiveSnapPoint:Mt,drawerRef:je,overlayRef:te,onOpenChange:t,onPress:_i,onRelease:Zr,onDrag:Nr,dismissible:p,handleOnly:m,isOpen:V,isDragging:Q,shouldFade:jr,closeDrawer:On,onNestedDrag:ci,onNestedOpenChange:Rs,onNestedRelease:Si,keyboardIsOpen:ce,modal:w,snapPointsOffset:it,direction:C,shouldScaleBackground:s,setBackgroundColorOnScale:l,noBodyStyles:P,container:B,autoFocus:$}},n))}const OV=Z.forwardRef(function({...e},t){const{overlayRef:n,snapPoints:r,onRelease:i,shouldFade:a,isOpen:s,modal:l}=Rm(),c=jV(t,n),f=r&&r.length>0;return l?Z.createElement(CE,{onMouseUp:i,ref:c,"data-vaul-overlay":"","data-vaul-snap-points":s&&f?"true":"false","data-vaul-snap-points-overlay":s&&a?"true":"false",...e}):(typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),null)});OV.displayName="Drawer.Overlay";const TV=Z.forwardRef(function({onPointerDownOutside:e,style:t,onOpenAutoFocus:n,...r},i){const{drawerRef:a,onPress:s,onRelease:l,onDrag:c,keyboardIsOpen:f,snapPointsOffset:p,modal:m,isOpen:v,direction:x,snapPoints:_,container:b,handleOnly:w,autoFocus:k}=Rm(),[E,P]=Z.useState(!1),C=jV(i,a),O=Z.useRef(null),R=Z.useRef(null),M=Z.useRef(!1),U=_&&_.length>0;CPe();const F=(B,$,G=0)=>{if(M.current)return!0;const W=Math.abs(B.y),V=Math.abs(B.x),K=V>W,q=["bottom","right"].includes($)?1:-1;if($==="left"||$==="right"){if(!(B.x*q<0)&&V>=0&&V<=G)return K}else if(!(B.y*q<0)&&W>=0&&W<=G)return!K;return M.current=!0,!0};Z.useEffect(()=>{U&&window.requestAnimationFrame(()=>{P(!0)})},[]);function H(B){O.current=null,M.current=!1,l(B)}return Z.createElement(OE,{"data-vaul-drawer-direction":x,"data-vaul-drawer":"","data-vaul-delayed-snap-points":E?"true":"false","data-vaul-snap-points":v&&U?"true":"false","data-vaul-custom-container":b?"true":"false",...r,ref:C,style:p&&p.length>0?{"--snap-point-height":`${p[0]}px`,...t}:t,onPointerDown:B=>{w||(r.onPointerDown==null||r.onPointerDown.call(r,B),O.current={x:B.pageX,y:B.pageY},s(B))},onOpenAutoFocus:B=>{n?.(B),k||B.preventDefault()},onPointerDownOutside:B=>{if(e?.(B),!m||B.defaultPrevented){B.preventDefault();return}f.current&&(f.current=!1)},onFocusOutside:B=>{if(!m){B.preventDefault();return}},onPointerMove:B=>{if(R.current=B,w||(r.onPointerMove==null||r.onPointerMove.call(r,B),!O.current))return;const $=B.pageY-O.current.y,G=B.pageX-O.current.x,W=B.pointerType==="touch"?10:2;F({x:G,y:$},x,W)?c(B):(Math.abs(G)>W||Math.abs($)>W)&&(O.current=null)},onPointerUp:B=>{r.onPointerUp==null||r.onPointerUp.call(r,B),O.current=null,M.current=!1,l(B)},onPointerOut:B=>{r.onPointerOut==null||r.onPointerOut.call(r,B),H(R.current)},onContextMenu:B=>{r.onContextMenu==null||r.onContextMenu.call(r,B),H(R.current)}})});TV.displayName="Drawer.Content";const APe=250,RPe=120,MPe=Z.forwardRef(function({preventCycle:e=!1,children:t,...n},r){const{closeDrawer:i,isDragging:a,snapPoints:s,activeSnapPoint:l,setActiveSnapPoint:c,dismissible:f,handleOnly:p,isOpen:m,onPress:v,onDrag:x}=Rm(),_=Z.useRef(null),b=Z.useRef(!1);function w(){if(b.current){P();return}window.setTimeout(()=>{k()},RPe)}function k(){if(a||e||b.current){P();return}if(P(),(!s||s.length===0)&&f){i();return}if(l===s[s.length-1]&&f){i();return}const O=s.findIndex(M=>M===l);if(O===-1)return;const R=s[O+1];c(R)}function E(){_.current=window.setTimeout(()=>{b.current=!0},APe)}function P(){window.clearTimeout(_.current),b.current=!1}return Z.createElement("div",{onClick:w,onPointerCancel:P,onPointerDown:C=>{p&&v(C),E()},onPointerMove:C=>{p&&x(C)},ref:r,"data-vaul-drawer-visible":m?"true":"false","data-vaul-handle":"","aria-hidden":"true",...n},Z.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},t))});MPe.displayName="Drawer.Handle";function DPe(e){const t=Rm(),{container:n=t.container,...r}=e;return Z.createElement(U6,{container:n,...r})}const Ts={Root:TPe,Content:TV,Overlay:OV,Trigger:q6,Portal:DPe,Title:TE,Description:AE},AV=({shouldScaleBackground:e=!0,...t})=>o.jsx(Ts.Root,{shouldScaleBackground:e,...t});AV.displayName="Drawer";const IPe=Ts.Trigger,LPe=Ts.Portal,RV=S.forwardRef(({className:e,...t},n)=>o.jsx(Ts.Overlay,{ref:n,className:qe("fixed inset-0 z-50 bg-black/80",e),...t}));RV.displayName=Ts.Overlay.displayName;const MV=S.forwardRef(({className:e,children:t,...n},r)=>o.jsxs(LPe,{children:[o.jsx(RV,{}),o.jsxs(Ts.Content,{ref:r,className:qe("fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background",e),...n,children:[o.jsx("div",{className:"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted"}),t]})]}));MV.displayName="DrawerContent";const DV=({className:e,...t})=>o.jsx("div",{className:qe("grid gap-1.5 p-4 text-center sm:text-left",e),...t});DV.displayName="DrawerHeader";const IV=S.forwardRef(({className:e,...t},n)=>o.jsx(Ts.Title,{ref:n,className:qe("text-lg font-semibold leading-none tracking-tight",e),...t}));IV.displayName=Ts.Title.displayName;const $Pe=S.forwardRef(({className:e,...t},n)=>o.jsx(Ts.Description,{ref:n,className:qe("text-sm text-muted-foreground",e),...t}));$Pe.displayName=Ts.Description.displayName;const BPe=()=>{const{t:e}=Pt(),t=pr(),[n,r]=S.useState([]),[i,a]=S.useState([]),[s,l]=S.useState(!0),[c,f]=S.useState(null),[p,m]=S.useState(null),[v,x]=S.useState(!1),[_,b]=S.useState(""),[w,k]=S.useState(!1),[E,P]=S.useState(null),[C,O]=S.useState(20),[R,M]=S.useState(0),[U,F]=S.useState([0,0]),[H,B]=S.useState([0,0]),[$,G]=S.useState([]),[W,V]=S.useState([]),[K,q]=S.useState("any");S.useEffect(()=>{typeof navigator<"u"&&navigator.geolocation?navigator.geolocation.getCurrentPosition(async te=>{const re=te.coords.latitude,ie=te.coords.longitude;m([re,ie]),x(!1)},te=>{console.warn("Geolocation error",te),x(!0),l(!1)}):(x(!0),l(!1))},[]),S.useEffect(()=>{if(!p)return;const te=C*1e3;(async()=>{try{const{data:re,error:ie}=await wB(p[0],p[1],te,{});ie&&(console.error(ie),f(ie.message||"Failed to fetch salons")),r(re||[])}catch(re){console.error(re),f(re.message)}})()},[p,C]),S.useEffect(()=>{if(!p)return;const te=C*1e3,re=R>0?R:null;let[ie,se]=U;H[0]===H[1]&&U[0]===H[0]&&U[1]===H[1]&&(ie=null,se=null);const oe=$.length>0?$:null;let be=null,fe=null;if(K!=="any"){const xe=new Date;let ce=new Date(xe),ue=new Date(xe);switch(K){case"nextHour":ce=new Date(xe),ue=new Date(xe.getTime()+3600*1e3);break;case"today":ce=new Date(xe),ce.setHours(0,0,0,0),ue=new Date(xe),ue.setHours(23,59,59,999);break;case"thisWeek":{const je=new Date(xe),Re=je.getDay(),Xe=je.getDate()-Re+(Re===0?-6:1);ce=new Date(je),ce.setDate(Xe),ce.setHours(0,0,0,0),ue=new Date(ce),ue.setDate(ce.getDate()+6),ue.setHours(23,59,59,999);break}case"next2Weeks":ce=new Date(xe),ue=new Date(xe.getTime()+336*60*60*1e3);break;default:ce=new Date(xe),ue=new Date(xe);break}be=ce.toISOString(),fe=ue.toISOString()}l(!0),(async()=>{try{const{data:xe,error:ce}=await wB(p[0],p[1],te,{minRating:re,minPrice:ie,maxPrice:se,categories:oe,start:be,end:fe});ce&&(console.error(ce),f(ce.message||"Failed to fetch salons")),a(xe||[])}catch(xe){console.error(xe),f(xe.message)}finally{l(!1)}})()},[p,C,R,U,$,K]),S.useEffect(()=>{if(n&&n.length>0){const te=new Set;let re=null,ie=null;n.forEach(se=>{if(se.categories&&se.categories.forEach(oe=>te.add(oe)),se.min_price!=null){const oe=Number(se.min_price);(re===null||oe<re)&&(re=oe)}if(se.max_price!=null){const oe=Number(se.max_price);(ie===null||oe>ie)&&(ie=oe)}}),V(Array.from(te)),re!==null&&ie!==null&&(B([re,ie]),F(se=>se[0]===0&&se[1]===0?[re,ie]:se))}},[n]);const D=S.useMemo(()=>new Set(i.map(te=>te.id)),[i]),Q=$.length>0?`?categories=${encodeURIComponent($.join(","))}`:"",ne=.02,J=S.useMemo(()=>{const te=new Map;n.forEach(ie=>{if(ie.latitude==null||ie.longitude==null)return;const se=ie.latitude,oe=ie.longitude,be=Math.floor(se/ne),fe=Math.floor(oe/ne),xe=`${be}:${fe}`;let ce=te.get(xe);const ue=D.has(ie.id);ce||(ce={members:[],latSum:0,lonSum:0,active:!1},te.set(xe,ce)),ce.members.push(ie),ce.latSum+=se,ce.lonSum+=oe,ue&&(ce.active=!0)});const re=[];return te.forEach(ie=>{const se=ie.members.length,oe=ie.latSum/se,be=ie.lonSum/se;re.push({count:se,lat:oe,lon:be,members:ie.members,active:ie.active})}),re},[n,D]),ee=async()=>{if(!(!_||_.trim().length===0)){k(!0),P(null);try{const te=encodeURIComponent(_.trim()),re=await fetch(`https://nominatim.openstreetmap.org/search?format=json&limit=1&q=${te}`,{headers:{Accept:"application/json","User-Agent":"salon-booking-app/1.0 (example@example.com)"}});if(!re.ok)throw new Error("Geocoding request failed");const ie=await re.json();if(!ie||ie.length===0){P(e("booking.addressNotFound",{defaultValue:"Address not found"}));return}const se=ie[0],oe=parseFloat(se.lat),be=parseFloat(se.lon);if(isNaN(oe)||isNaN(be)){P(e("booking.addressNotFound",{defaultValue:"Address not found"}));return}m([oe,be]),x(!1),l(!0)}catch(te){console.error(te),P(e("booking.addressNotFound",{defaultValue:"Address not found"}))}finally{k(!1)}}};return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx("header",{className:"glass border-b border-border sticky top-0 z-50",children:o.jsxs("div",{className:"container px-4 h-16 flex items-center justify-between",children:[o.jsxs(Rt,{to:"/",className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-10 h-10 gradient-primary rounded-xl flex items-center justify-center",children:o.jsx(Qt,{className:"w-5 h-5 text-primary-foreground"})}),o.jsxs("span",{className:"text-xl font-display font-bold text-foreground",children:["Salon",o.jsx("span",{className:"text-primary",children:"Manager"})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Mr,{}),o.jsx(Rr,{})]})]})}),o.jsxs("main",{className:"container px-4 py-8 max-w-4xl mx-auto animate-fade-in",children:[o.jsx("h1",{className:"text-3xl font-display font-bold text-center mb-8",children:e("booking.mapViewTitle")}),s&&o.jsx("p",{children:e("common.loading")}),!s&&c&&o.jsx("p",{className:"text-destructive",children:c}),!s&&!c&&p&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"mb-4 md:hidden",children:o.jsxs(AV,{children:[o.jsx(IPe,{asChild:!0,children:o.jsx(Se,{variant:"outline",className:"w-full",children:e("booking.filter",{defaultValue:"Filters"})})}),o.jsxs(MV,{className:"p-4",children:[o.jsx(DV,{children:o.jsx(IV,{children:e("booking.filter",{defaultValue:"Filters"})})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(Pe,{className:"block mb-1",children:e("booking.filterRating",{defaultValue:"Minimum rating"})}),o.jsxs(ao,{value:R.toString(),onValueChange:te=>M(Number(te)),children:[o.jsx(vs,{className:"w-full",children:o.jsx(so,{placeholder:e("booking.filterRating",{defaultValue:"Minimum rating"})})}),o.jsxs(ys,{children:[o.jsx(Zt,{value:"0",children:e("common.all",{defaultValue:"All"})}),o.jsxs(Zt,{value:"1",children:["","+"]}),o.jsxs(Zt,{value:"2",children:["".repeat(2),"+"]}),o.jsxs(Zt,{value:"3",children:["".repeat(3),"+"]}),o.jsxs(Zt,{value:"4",children:["".repeat(4),"+"]}),o.jsx(Zt,{value:"5",children:"".repeat(5)})]})]})]}),o.jsxs("div",{children:[o.jsx(Pe,{className:"block mb-1",children:e("booking.filterPrice",{defaultValue:"Price range ()"})}),o.jsx(Hh,{min:H[0],max:H[1]>H[0]?H[1]:H[0]+1,step:1,value:U,onValueChange:te=>F(te)}),o.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground mt-1",children:[o.jsxs("span",{children:["",U[0]?.toFixed(0)]}),o.jsxs("span",{children:["",U[1]?.toFixed(0)]})]})]}),o.jsxs("div",{children:[o.jsx(Pe,{className:"block mb-1",children:e("booking.filterCategories",{defaultValue:"Categories"})}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[W.map(te=>o.jsxs("label",{className:"flex items-center space-x-2 text-sm",children:[o.jsx(Sd,{checked:$.includes(te),onCheckedChange:re=>{G(ie=>re?[...ie,te]:ie.filter(se=>se!==te))}}),o.jsx("span",{children:te})]},te)),W.length===0&&o.jsx("span",{className:"text-sm text-muted-foreground",children:e("booking.noCategories",{defaultValue:"No categories"})})]})]}),o.jsxs("div",{children:[o.jsx(Pe,{className:"block mb-1",children:e("booking.filterDistance",{defaultValue:"Distance (km)"})}),o.jsx(Hh,{min:1,max:200,step:1,value:[C],onValueChange:te=>O(te[0])}),o.jsx("div",{className:"flex justify-end text-xs text-muted-foreground mt-1",children:o.jsxs("span",{children:[C," km"]})})]}),o.jsxs("div",{children:[o.jsx(Pe,{className:"block mb-1",children:e("booking.filterTime",{defaultValue:"Next slot"})}),o.jsxs(ao,{value:K,onValueChange:te=>q(te),children:[o.jsx(vs,{className:"w-full",children:o.jsx(so,{placeholder:e("booking.filterTime",{defaultValue:"Next slot"})})}),o.jsxs(ys,{children:[o.jsx(Zt,{value:"any",children:e("booking.timeAny",{defaultValue:"Any time"})}),o.jsx(Zt,{value:"nextHour",children:e("booking.timeNextHour",{defaultValue:"Next hour"})}),o.jsx(Zt,{value:"today",children:e("booking.timeToday",{defaultValue:"Today"})}),o.jsx(Zt,{value:"thisWeek",children:e("booking.timeThisWeek",{defaultValue:"This week"})}),o.jsx(Zt,{value:"next2Weeks",children:e("booking.timeNext2Weeks",{defaultValue:"Next 2 weeks"})})]})]})]}),o.jsxs("div",{className:"flex justify-between items-center pt-2",children:[o.jsx("button",{type:"button",className:"text-sm text-primary underline",onClick:()=>{M(0),G([]),H[0]!==H[1]&&F([H[0],H[1]]),O(20),q("any")},children:e("booking.resetFilters",{defaultValue:"Reset filters"})}),o.jsx("span",{className:"text-sm",children:e("booking.salonsFound",{count:i.length})})]})]})]})]})}),o.jsxs("div",{className:"hidden md:block bg-card border border-border rounded-2xl p-4 mb-4",children:[o.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-5 gap-4",children:[o.jsxs("div",{children:[o.jsx(Pe,{className:"block mb-1",children:e("booking.filterRating",{defaultValue:"Minimum rating"})}),o.jsxs(ao,{value:R.toString(),onValueChange:te=>M(Number(te)),children:[o.jsx(vs,{className:"w-full",children:o.jsx(so,{placeholder:e("booking.filterRating",{defaultValue:"Minimum rating"})})}),o.jsxs(ys,{children:[o.jsx(Zt,{value:"0",children:e("common.all",{defaultValue:"All"})}),o.jsxs(Zt,{value:"1",children:["","+"]}),o.jsxs(Zt,{value:"2",children:["".repeat(2),"+"]}),o.jsxs(Zt,{value:"3",children:["".repeat(3),"+"]}),o.jsxs(Zt,{value:"4",children:["".repeat(4),"+"]}),o.jsx(Zt,{value:"5",children:"".repeat(5)})]})]})]}),o.jsxs("div",{children:[o.jsx(Pe,{className:"block mb-1",children:e("booking.filterPrice",{defaultValue:"Price range ()"})}),o.jsx(Hh,{min:H[0],max:H[1]>H[0]?H[1]:H[0]+1,step:1,value:U,onValueChange:te=>F(te)}),o.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground mt-1",children:[o.jsxs("span",{children:["",U[0]?.toFixed(0)]}),o.jsxs("span",{children:["",U[1]?.toFixed(0)]})]})]}),o.jsxs("div",{children:[o.jsx(Pe,{className:"block mb-1",children:e("booking.filterCategories",{defaultValue:"Categories"})}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[W.map(te=>o.jsxs("label",{className:"flex items-center space-x-2 text-sm",children:[o.jsx(Sd,{checked:$.includes(te),onCheckedChange:re=>{G(ie=>re?[...ie,te]:ie.filter(se=>se!==te))}}),o.jsx("span",{children:te})]},te)),W.length===0&&o.jsx("span",{className:"text-sm text-muted-foreground",children:e("booking.noCategories",{defaultValue:"No categories"})})]})]}),o.jsxs("div",{children:[o.jsx(Pe,{className:"block mb-1",children:e("booking.filterDistance",{defaultValue:"Distance (km)"})}),o.jsx(Hh,{min:1,max:200,step:1,value:[C],onValueChange:te=>O(te[0])}),o.jsx("div",{className:"flex justify-end text-xs text-muted-foreground mt-1",children:o.jsxs("span",{children:[C," km"]})})]}),o.jsxs("div",{children:[o.jsx(Pe,{className:"block mb-1",children:e("booking.filterTime",{defaultValue:"Next slot"})}),o.jsxs(ao,{value:K,onValueChange:te=>q(te),children:[o.jsx(vs,{className:"w-full",children:o.jsx(so,{placeholder:e("booking.filterTime",{defaultValue:"Next slot"})})}),o.jsxs(ys,{children:[o.jsx(Zt,{value:"any",children:e("booking.timeAny",{defaultValue:"Any time"})}),o.jsx(Zt,{value:"nextHour",children:e("booking.timeNextHour",{defaultValue:"Next hour"})}),o.jsx(Zt,{value:"today",children:e("booking.timeToday",{defaultValue:"Today"})}),o.jsx(Zt,{value:"thisWeek",children:e("booking.timeThisWeek",{defaultValue:"This week"})}),o.jsx(Zt,{value:"next2Weeks",children:e("booking.timeNext2Weeks",{defaultValue:"Next 2 weeks"})})]})]})]})]}),o.jsxs("div",{className:"flex justify-between items-center border-t border-border pt-4 mt-4",children:[o.jsx("button",{type:"button",className:"text-sm text-primary underline",onClick:()=>{M(0),G([]),H[0]!==H[1]&&F([H[0],H[1]]),O(20),q("any")},children:e("booking.resetFilters",{defaultValue:"Reset filters"})}),o.jsx("span",{className:"text-sm",children:e("booking.salonsFound",{count:i.length})})]})]})]}),!s&&!c&&p&&o.jsx("div",{className:"w-full rounded-lg overflow-hidden border border-border bg-card h-[70vh] md:h-[60vh] mt-6",children:o.jsx(WNe,{center:p,userLabel:e("booking.youAreHere",{defaultValue:"You are here"}),userColor:"#2563eb",children:J.map((te,re)=>{if(te.count===1){const fe=te.members[0],ue=`<span style="background-color:${D.has(fe.id)?"#FBBF24":"#D1D5DB"};width:16px;height:16px;display:block;border-radius:50%;border:2px solid white;"></span>`,je=rm.divIcon({html:ue,className:""});return o.jsx(Pk,{position:[fe.latitude,fe.longitude],icon:je,children:o.jsx(kk,{children:o.jsxs("div",{className:"space-y-1",children:[o.jsx("p",{className:"font-semibold text-sm",children:fe.name}),fe.address&&o.jsxs("p",{className:"text-xs text-muted-foreground",children:[fe.address,", ",fe.postal_code," ",fe.city]}),fe.rating!=null&&o.jsxs("p",{className:"text-xs",children:[" ",Number(fe.rating).toFixed(1)," (",fe.reviews_count||0,")"]}),fe.categories&&fe.categories.length>0&&o.jsx("p",{className:"text-xs text-muted-foreground",children:fe.categories.join(", ")}),fe.min_price!=null&&fe.max_price!=null&&o.jsxs("p",{className:"text-xs",children:["",Number(fe.min_price).toFixed(2),"  ",Number(fe.max_price).toFixed(2)]}),o.jsx(Rt,{to:`/salon/${fe.id}${Q}`,children:o.jsx(Se,{size:"sm",children:e("booking.bookHere",{defaultValue:"Book here"})})})]})})},`salon-${fe.id}`)}const ie=32,oe=`<div style="background-color:${te.active?"#FBBF24":"#a1a1aa"};width:${ie}px;height:${ie}px;border-radius:9999px;display:flex;align-items:center;justify-content:center;font-size:14px;color:white;">${te.count}</div>`,be=rm.divIcon({html:oe,className:""});return o.jsx(Pk,{position:[te.lat,te.lon],opacity:te.active?1:.5,icon:be,children:o.jsx(kk,{children:o.jsxs("div",{className:"space-y-2",children:[o.jsx("p",{className:"font-semibold text-sm",children:e("booking.clusterMultiple",{count:te.count,defaultValue:`${te.count} salons in this area`})}),o.jsxs("ul",{className:"space-y-1",children:[te.members.slice(0,5).map(fe=>o.jsx("li",{children:o.jsx(Rt,{to:`/salon/${fe.id}${Q}`,className:"text-primary underline text-sm",children:fe.name})},fe.id)),te.members.length>5&&o.jsx("li",{className:"text-sm text-muted-foreground",children:""})]})]})})},`cluster-${re}`)})})}),!s&&!c&&p&&n.length===0&&o.jsx("p",{className:"mt-4 text-muted-foreground",children:e("booking.noSalonsNearby",{defaultValue:"No salons found nearby."})}),!s&&!c&&!p&&v&&o.jsxs("div",{className:"space-y-2",children:[o.jsxs("p",{children:[e("booking.geoError",{defaultValue:"Unable to access your location."})," ",e("booking.geoPrompt",{defaultValue:"Please enter your address to find salons near you."})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[o.jsx(ke,{value:_,onChange:te=>b(te.target.value),placeholder:e("booking.enterAddress",{defaultValue:"Street, city, etc."})}),o.jsx(Se,{onClick:ee,disabled:w||!_.trim(),children:w?e("common.loading",{defaultValue:"Loading..."}):e("booking.searchAddress",{defaultValue:"Search"})})]}),E&&o.jsx("p",{className:"text-sm text-destructive",children:E})]}),!s&&!c&&!p&&!v&&o.jsx("p",{children:e("booking.noSalonsNearby",{defaultValue:"No salons found nearby."})}),o.jsx("div",{className:"mt-8 flex",children:o.jsxs(Se,{variant:"ghost",size:"sm",onClick:()=>t(-1),children:[o.jsx(ff,{className:"w-4 h-4 mr-2"}),e("common.back",{defaultValue:"Back"})]})})]})]})},FPe=()=>{const e=Xc();return S.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),o.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),o.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),o.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},zPe=()=>{const{t:e}=Pt(),t=pr(),[n,r]=S.useState(!1),[i,a]=S.useState(!0),[s,l]=S.useState(!1),[c,f]=S.useState(null),[p,m]=S.useState(""),[v,x]=S.useState(""),[_,b]=S.useState(!1);S.useEffect(()=>{(async()=>{_||(await ye.auth.signOut(),b(!0));const{data:E,error:P}=await ye.auth.getUser();if(P){console.error(P),ut.error(P.message),a(!1);return}f(E.user?.email??null),a(!1)})()},[_]);const w=async k=>{if(k.preventDefault(),s)return;if(p!==v){ut.error(e("auth.passwordsDoNotMatch",{defaultValue:"Die Passwrter stimmen nicht berein."}));return}if(!c){ut.error(e("auth.noInviteUser",{defaultValue:"Kein eingeladener Benutzer gefunden."}));return}l(!0);const{error:E}=await ye.auth.updateUser({password:p});if(E){ut.error(E.message),l(!1);return}await ye.from("employee_invitations").update({status:"accepted"}).in("status",["pending","sent"]).eq("email",c),ut.success(e("auth.passwordUpdated",{defaultValue:"Passwort erfolgreich gespeichert."})),l(!1),t("/employee-dashboard")};return i?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:o.jsx("p",{className:"text-muted-foreground",children:e("common.loading",{defaultValue:"Ldt"})})}):o.jsxs("div",{className:"min-h-screen bg-background flex",children:[o.jsxs("div",{className:"flex-1 flex flex-col",children:[o.jsxs("div",{className:"flex justify-end p-4 gap-2",children:[o.jsx(Mr,{}),o.jsx(Rr,{})]}),o.jsx("div",{className:"flex-1 flex items-center justify-center p-8",children:o.jsxs("div",{className:"w-full max-w-md space-y-8 animate-fade-in",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"text-3xl font-display font-bold text-foreground mb-2",children:e("auth.setPasswordTitle",{defaultValue:"Passwort festlegen"})}),o.jsx("p",{className:"text-muted-foreground",children:e("auth.setPasswordSubtitle",{defaultValue:"Bitte legen Sie Ihr neues Passwort fest."})})]}),o.jsxs("form",{onSubmit:w,className:"space-y-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Pe,{htmlFor:"password",children:e("auth.newPassword",{defaultValue:"Neues Passwort"})}),o.jsxs("div",{className:"relative",children:[o.jsx(Oc,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),o.jsx(ke,{id:"password",type:n?"text":"password",placeholder:"",className:"pl-10 pr-10",value:p,onChange:k=>m(k.target.value),required:!0,minLength:8}),o.jsx("button",{type:"button",className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",onClick:()=>r(!n),children:n?o.jsx(mx,{className:"w-5 h-5"}):o.jsx(gx,{className:"w-5 h-5"})})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Pe,{htmlFor:"confirmPassword",children:e("auth.confirmPassword",{defaultValue:"Passwort besttigen"})}),o.jsxs("div",{className:"relative",children:[o.jsx(Oc,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),o.jsx(ke,{id:"confirmPassword",type:n?"text":"password",placeholder:"",className:"pl-10 pr-10",value:v,onChange:k=>x(k.target.value),required:!0,minLength:8})]})]}),o.jsx(Se,{type:"submit",variant:"hero",className:"w-full",size:"lg",disabled:s,children:s?e("common.loading",{defaultValue:"Ldt"}):e("auth.savePassword",{defaultValue:"Passwort speichern"})})]})]})})]}),o.jsxs("div",{className:"hidden lg:flex flex-1 gradient-primary relative overflow-hidden",children:[o.jsxs("div",{className:"absolute inset-0 opacity-10",children:[o.jsx("div",{className:"absolute top-20 right-20 w-72 h-72 border border-primary-foreground rounded-full"}),o.jsx("div",{className:"absolute bottom-20 left-20 w-96 h-96 border border-primary-foreground rounded-full"}),o.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-64 h-64 border border-primary-foreground rounded-full"})]}),o.jsx("div",{className:"flex items-center justify-center w-full",children:o.jsxs("div",{className:"text-center text-primary-foreground p-12",children:[o.jsx("h2",{className:"text-4xl font-display font-bold mb-4",children:e("landing.cta.badge",{defaultValue:"Willkommen"})}),o.jsx("p",{className:"text-xl opacity-80 max-w-md",children:e("landing.cta.subtitle",{defaultValue:"Starten Sie mit Ihrer neuen Rolle."})})]})})]})]})},qPe=()=>{const{t:e}=Pt(),[t,n]=S.useState(""),[r,i]=S.useState(!1),a=async s=>{if(s.preventDefault(),!r){i(!0);try{const l=`${window.location.origin}/#/reset-password`,{error:c}=await ye.auth.resetPasswordForEmail(t,{redirectTo:l});c?ut.error(c.message):ut.success(e("auth.resetPasswordSent",{defaultValue:"Ein Link zum Zurcksetzen wurde an Ihre E-Mail gesendet."}))}catch(l){console.error("Forgot password error:",l),ut.error(e("auth.resetPasswordError",{defaultValue:"Fehler beim Senden des Zurcksetz-Links."}))}finally{i(!1)}}};return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:o.jsxs("div",{className:"w-full max-w-md space-y-8 animate-fade-in",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"text-3xl font-display font-bold text-foreground mb-2",children:e("auth.forgotPasswordTitle",{defaultValue:"Passwort vergessen"})}),o.jsx("p",{className:"text-muted-foreground",children:e("auth.forgotPasswordSubtitle",{defaultValue:"Geben Sie Ihre E-Mail-Adresse ein, um einen Reset-Link zu erhalten."})})]}),o.jsxs("form",{onSubmit:a,className:"space-y-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Pe,{htmlFor:"email",children:e("auth.email")}),o.jsx(ke,{id:"email",type:"email",value:t,onChange:s=>n(s.target.value),required:!0,placeholder:"ihre@email.de"})]}),o.jsx(Se,{type:"submit",className:"w-full",disabled:r,variant:"hero",size:"lg",children:r?e("common.loading",{defaultValue:"Ldt"}):e("auth.sendResetLink",{defaultValue:"Reset-Link senden"})})]}),o.jsx("p",{className:"text-center text-sm text-muted-foreground",children:o.jsx(Rt,{to:"/login",className:"text-primary font-medium hover:underline",children:e("auth.backToLogin",{defaultValue:"Zurck zum Login"})})})]})})},UPe=()=>{const{t:e}=Pt(),t=pr(),[n,r]=S.useState(!0),[i,a]=S.useState(!1),[s,l]=S.useState(!1),[c,f]=S.useState(""),[p,m]=S.useState("");S.useEffect(()=>{(async()=>{const{data:_,error:b}=await ye.auth.getUser();if(b||!_.user){ut.error(e("auth.noResetUser",{defaultValue:"Keine gltige Session fr Passwort-Reset gefunden. Bitte erneut versuchen."})),r(!1);return}r(!1)})()},[e]);const v=async x=>{if(x.preventDefault(),i)return;if(c!==p){ut.error(e("auth.passwordsDoNotMatch",{defaultValue:"Die Passwrter stimmen nicht berein."}));return}a(!0);const{error:_}=await ye.auth.updateUser({password:c});if(_){ut.error(_.message),a(!1);return}ut.success(e("auth.passwordUpdated",{defaultValue:"Passwort erfolgreich gespeichert."})),a(!1),await ye.auth.signOut(),t("/login")};return n?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:o.jsx("p",{className:"text-muted-foreground",children:e("common.loading",{defaultValue:"Ldt"})})}):o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:o.jsxs("div",{className:"w-full max-w-md space-y-8 animate-fade-in",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"text-3xl font-display font-bold text-foreground mb-2",children:e("auth.resetPasswordTitle",{defaultValue:"Neues Passwort whlen"})}),o.jsx("p",{className:"text-muted-foreground",children:e("auth.resetPasswordSubtitle",{defaultValue:"Bitte geben Sie Ihr neues Passwort ein."})})]}),o.jsxs("form",{onSubmit:v,className:"space-y-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Pe,{htmlFor:"password",children:e("auth.newPassword",{defaultValue:"Neues Passwort"})}),o.jsxs("div",{className:"relative",children:[o.jsx(Oc,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),o.jsx(ke,{id:"password",type:s?"text":"password",placeholder:"",className:"pl-10 pr-10",value:c,onChange:x=>f(x.target.value),required:!0,minLength:8}),o.jsx("button",{type:"button",className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",onClick:()=>l(!s),children:s?o.jsx(mx,{className:"w-5 h-5"}):o.jsx(gx,{className:"w-5 h-5"})})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Pe,{htmlFor:"confirmPassword",children:e("auth.confirmPassword",{defaultValue:"Passwort besttigen"})}),o.jsxs("div",{className:"relative",children:[o.jsx(Oc,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),o.jsx(ke,{id:"confirmPassword",type:s?"text":"password",placeholder:"",className:"pl-10 pr-10",value:p,onChange:x=>m(x.target.value),required:!0,minLength:8})]})]}),o.jsx(Se,{type:"submit",variant:"hero",className:"w-full",size:"lg",disabled:i,children:i?e("common.loading",{defaultValue:"Ldt"}):e("auth.savePassword",{defaultValue:"Passwort speichern"})})]})]})})},WPe=()=>{const{t:e}=Pt(),t=pr(),{customerId:n}=p5(),{user:r,loading:i}=mr();S.useEffect(()=>{!i&&!r&&t("/login")},[r,i,t]);const[a,s]=S.useState(1),[l,c]=S.useState(null),[f,p]=S.useState(null),[m,v]=S.useState(null),[x,_]=S.useState(null),[b,w]=S.useState(!1),[k,E]=S.useState(""),[P,C]=S.useState(!1),{data:O,isLoading:R}=Tr({queryKey:["customer-profile",n],queryFn:async()=>{if(!n)return null;const{data:q,error:D}=await ye.from("customer_profiles").select("*").eq("id",n).single();if(D)throw D;return q},enabled:!!n}),M=O?.salon_id??null,{data:U=[],isLoading:F}=Tr({queryKey:["services",M],queryFn:async()=>{if(!M)return[];const{data:q,error:D}=await ye.from("services").select("*").eq("salon_id",M).eq("is_active",!0).order("category",{ascending:!0});if(D)throw D;return q||[]},enabled:!!M}),{data:H=[],isLoading:B}=Tr({queryKey:["employees",M],queryFn:async()=>{if(!M)return[];const{data:q,error:D}=await ye.from("employees").select("id, display_name, is_active").eq("salon_id",M).eq("is_active",!0);if(D)throw D;return q||[]},enabled:!!M}),$=(q,D)=>{v(q),_(D),w(!0)},G=async()=>{if(!M)return"";try{const{data:q}=await ye.from("salons").select("name, owner_id").eq("id",M).single();if(!q)return"";const D=q.name||"";let Q="";if(q.owner_id){const{data:ee}=await ye.from("profiles").select("first_name").eq("user_id",q.owner_id).maybeSingle();Q=ee?.first_name||""}const ne=D.trim()[0]||"",J=Q.trim()[0]||"";return`${ne}${J}`.toLowerCase()}catch(q){return console.error("Error computing appointment prefix:",q),""}},W=async()=>{if(!O||!M||!l||!m||!x)return;const q=U.find(D=>D.id===l);if(q){C(!0);try{const D=new Date(`${Le(m,"yyyy-MM-dd")}T${x}:00`),Q=(q.duration_minutes||0)+(q.buffer_before||0)+(q.buffer_after||0),ne=new Date(D.getTime()+Q*6e4),J=await G(),ee=Le(D,"yyyyMMdd");let te=1;try{const{count:fe}=await ye.from("appointments").select("*",{count:"exact",head:!0}).eq("salon_id",M).gte("start_time",`${ee}T00:00:00`).lt("start_time",`${ee}T23:59:59`);te=(fe??0)+1}catch(fe){console.error("Error computing appointment sequence:",fe)}const re=`${J}t${ee}${String(te).padStart(5,"0")}`,ie=`${O.first_name||""} ${O.last_name||""}`.trim(),se=O.email||null,oe=O.phone||null,{error:be}=await ye.from("appointments").insert({salon_id:M,service_id:l,employee_id:f==="any"?null:f,guest_name:ie||null,guest_email:se||null,guest_phone:oe||null,notes:k||null,image_url:null,start_time:D.toISOString(),end_time:ne.toISOString(),price:q.price,status:"pending",appointment_number:re,customer_profile_id:n});be?console.error("Error creating appointment:",be):t(-1)}catch(D){console.error("Failed to create appointment:",D)}finally{C(!1),w(!1)}}};if(R||F||B)return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:o.jsx(bs,{className:"w-8 h-8 animate-spin text-primary"})});if(!O||!M)return o.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-background text-center p-4",children:[o.jsx("p",{children:e("booking.customerNotFound","Der Kunde konnte nicht geladen werden.")}),o.jsx(Se,{onClick:()=>t(-1),className:"mt-4",children:e("common.back","Zurck")})]});const V=U.find(q=>q.id===l),K=V?(V.duration_minutes||0)+(V.buffer_before||0)+(V.buffer_after||0):0;return o.jsx("div",{className:"min-h-screen bg-background",children:o.jsxs("main",{className:"container px-4 py-8 max-w-4xl mx-auto",children:[o.jsx("h1",{className:"text-2xl font-display font-bold mb-6",children:e("booking.newAppointmentFor",{name:`${O.first_name} ${O.last_name}`},`Neuen Termin fr ${O.first_name} ${O.last_name}`)}),(()=>{const q=[{num:1,label:e("booking.service")},{num:2,label:e("booking.stylist")},{num:3,label:e("booking.appointment")},{num:4,label:e("booking.confirmAppointment","Besttigen")}];return o.jsx("div",{className:"flex items-center justify-center mb-12",children:q.map((D,Q)=>o.jsxs("div",{className:"flex items-center",children:[o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-sm font-semibold transition-all ${a>=D.num?"gradient-primary text-primary-foreground shadow-glow":"bg-muted text-muted-foreground"}`,children:a>D.num?o.jsx(ya,{className:"w-5 h-5"}):D.num}),o.jsx("span",{className:`text-xs mt-2 ${a>=D.num?"text-foreground":"text-muted-foreground"}`,children:D.label})]}),Q<q.length-1&&o.jsx("div",{className:`w-16 h-0.5 mx-2 ${a>D.num?"bg-primary":"bg-border"}`})]},D.num))})})(),o.jsxs("div",{className:"animate-fade-in",children:[a===1&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h2",{className:"text-2xl font-display font-bold mb-2",children:e("booking.selectService")}),o.jsx("p",{className:"text-muted-foreground",children:e("booking.whatToBook")})]}),U.length===0?o.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[o.jsx(wn,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:e("booking.noServices")})]}):o.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:U.map(q=>o.jsxs("button",{onClick:()=>c(q.id),className:`p-6 rounded-2xl border text-left transition-all ${l===q.id?"border-primary bg-primary/5 shadow-lg":"border-border bg-card hover:border-primary/50"}`,children:[o.jsxs("div",{className:"flex justify-between items-start mb-3",children:[q.category&&o.jsx("span",{className:"text-xs font-medium px-2 py-1 rounded-full bg-secondary text-secondary-foreground",children:q.category}),o.jsxs("span",{className:"text-lg font-bold text-primary",children:["",q.price.toFixed(2),"*"]})]}),o.jsx("h3",{className:"font-semibold text-lg text-foreground mb-1",children:q.name}),q.description&&o.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:q.description}),o.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground",children:[o.jsx(ba,{className:"w-4 h-4"}),o.jsxs("span",{className:"text-sm",children:[q.duration_minutes," Min"]})]})]},q.id))}),U.length>0&&o.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["* ",e("booking.priceDisclaimer","Prices may vary depending on products and effort.")]})]}),a===2&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h2",{className:"text-2xl font-display font-bold mb-2",children:e("booking.selectStylist")}),o.jsx("p",{className:"text-muted-foreground",children:e("booking.orLetUsChoose")})]}),o.jsx("button",{onClick:()=>p("any"),className:`w-full p-6 rounded-2xl border text-left transition-all mb-4 ${f==="any"?"border-primary bg-primary/5 shadow-lg":"border-border bg-card hover:border-primary/50"}`,children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"w-12 h-12 rounded-full gradient-primary flex items-center justify-center text-primary-foreground font-semibold",children:"?"}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-lg text-foreground",children:e("booking.anyAvailable")}),o.jsx("p",{className:"text-muted-foreground",children:e("booking.weChooseBest")})]})]})}),H.length>0?o.jsx("div",{className:"grid gap-4 md:grid-cols-3",children:H.map(q=>{const D=q.display_name||e("booking.stylist"),Q=D.split(" ").map(ne=>ne[0]).join("").toUpperCase()||"SM";return o.jsxs("button",{onClick:()=>p(q.id),className:`p-6 rounded-2xl border text-center transition-all ${f===q.id?"border-primary bg-primary/5 shadow-lg":"border-border bg-card hover:border-primary/50"}`,children:[o.jsx("div",{className:"w-16 h-16 rounded-full bg-secondary mx-auto mb-4 flex items-center justify-center text-xl font-semibold text-secondary-foreground",children:Q}),o.jsx("h3",{className:"font-semibold text-foreground",children:D}),q.position&&o.jsx("p",{className:"text-sm text-muted-foreground",children:q.position})]},q.id)})}):o.jsx("p",{className:"text-center text-muted-foreground",children:e("booking.selectAnyAvailable")})]}),a===3&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h2",{className:"text-2xl font-display font-bold mb-2",children:e("booking.selectDateTime")}),o.jsx("p",{className:"text-muted-foreground",children:e("booking.clickToBook")})]}),V&&o.jsx(iO,{salonId:M,selectedStylistId:f,serviceDuration:K,onSelectSlot:$})]})]}),o.jsxs("div",{className:"flex justify-between mt-12",children:[o.jsxs(Se,{variant:"outline",onClick:()=>{a===1?t(-1):s(a-1)},className:"gap-2",children:[o.jsx(mo,{className:"w-4 h-4"}),e("common.back")]}),a<3&&o.jsxs(Se,{onClick:()=>s(a+1),disabled:a===1&&!l||a===2&&!f,className:"gap-2",children:[e("common.next"),o.jsx(Ka,{className:"w-4 h-4"})]})]}),o.jsx(fr,{open:b,onOpenChange:q=>!q&&w(!1),children:o.jsxs(Gn,{className:"max-w-md",children:[o.jsx(Yn,{children:o.jsx(Zn,{children:e("booking.confirmAppointment","Termin besttigen")})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("p",{children:[e("booking.service"),": ",V?.name]}),o.jsxs("p",{children:[e("booking.stylist"),": ",f==="any"?e("booking.anyStylist"):H.find(q=>q.id===f)?.display_name]}),o.jsxs("p",{children:[e("booking.date"),": ",m?Le(m,"dd.MM.yyyy"):""]}),o.jsxs("p",{children:[e("booking.time"),": ",x]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",htmlFor:"notes",children:e("booking.notes","Notizen")}),o.jsx(Wi,{id:"notes",value:k,onChange:q=>E(q.target.value),placeholder:e("booking.addNote","Notiz hinzufgen")})]})]}),o.jsxs(RE,{className:"flex justify-end gap-2 mt-4",children:[o.jsx(Se,{variant:"outline",onClick:()=>w(!1),children:e("common.cancel","Abbrechen")}),o.jsx(Se,{onClick:W,disabled:P,children:P?o.jsx(bs,{className:"w-4 h-4 animate-spin"}):e("booking.confirm","Besttigen")})]})]})})]})})},HPe=()=>{const{profile:e,loading:t,updateProfile:n}=Z8(),{t:r}=Pt(),[i,a]=S.useState(!1),l=Xc().pathname||"/";if(S.useEffect(()=>{if(!t&&e){const p=!e.cookie_consent||!e.privacy_consent||!e.terms_consent;a(p)}else if(!t&&!e){const p=typeof window<"u"&&localStorage.getItem("guest_consent")==="true";a(!p)}},[e,t]),t||!i||["/","/login","/register","/forgot-password","/reset-password","/employee-invite","/profile"].includes(l))return null;const f=async()=>{try{e?(await n({cookie_consent:!0,privacy_consent:!0,terms_consent:!0}),a(!1)):(typeof window<"u"&&localStorage.setItem("guest_consent","true"),a(!1))}catch(p){console.error("Error updating consents:",p)}};return o.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-background/80 backdrop-blur",children:o.jsxs("div",{className:"bg-card border border-border rounded-lg p-6 shadow-lg max-w-md w-full mx-4",children:[o.jsx("h2",{className:"text-xl font-display font-bold mb-2 text-foreground",children:r("consent.title",{defaultValue:"Einwilligungen erforderlich"})}),o.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:r("consent.description",{defaultValue:"Bitte akzeptiere unsere Cookies, Datenschutzbestimmungen und Allgemeinen Geschftsbedingungen, um die Anwendung zu nutzen."})}),o.jsxs("div",{className:"flex flex-wrap justify-end items-center gap-3",children:[o.jsx(Rt,{to:"/profile",className:"text-sm underline text-primary",children:r("consent.goToProfile",{defaultValue:"Profil bearbeiten"})}),o.jsx(Se,{onClick:f,className:"whitespace-nowrap",children:r("consent.acceptAll",{defaultValue:"Alles akzeptieren"})})]})]})})},VPe=()=>o.jsx(SZ,{client:s5,children:o.jsx(BX,{children:o.jsx(gee,{children:o.jsxs(tZ,{children:[o.jsx(BK,{}),o.jsx(vG,{}),o.jsxs(MX,{children:[o.jsx(HPe,{}),o.jsxs(PX,{children:[o.jsx(Mn,{path:"/",element:o.jsx(Pre,{})}),o.jsx(Mn,{path:"/login",element:o.jsx(Cre,{})}),o.jsx(Mn,{path:"/register",element:o.jsx(Ore,{})}),o.jsx(Mn,{path:"/forgot-password",element:o.jsx(qPe,{})}),o.jsx(Mn,{path:"/reset-password",element:o.jsx(UPe,{})}),o.jsx(Mn,{path:"/dashboard",element:o.jsx($ae,{})}),o.jsx(Mn,{path:"/employee-dashboard",element:o.jsx(toe,{})}),o.jsx(Mn,{path:"/admin",element:o.jsx(Soe,{})}),o.jsx(Mn,{path:"/salon-setup",element:o.jsx(Loe,{})}),o.jsx(Mn,{path:"/calendar",element:o.jsx(Foe,{})}),o.jsx(Mn,{path:"/inventory",element:o.jsx(Goe,{})}),o.jsx(Mn,{path:"/reports",element:o.jsx(PSe,{})}),o.jsx(Mn,{path:"/schedule",element:o.jsx(kSe,{})}),o.jsx(Mn,{path:"/closures",element:o.jsx(ESe,{})}),o.jsx(Mn,{path:"/booking",element:o.jsx(_Ne,{})}),o.jsx(Mn,{path:"/booking-map",element:o.jsx(BPe,{})}),o.jsx(Mn,{path:"/salon/:salonId",element:o.jsx(SNe,{})}),o.jsx(Mn,{path:"/new-appointment/:customerId",element:o.jsx(WPe,{})}),o.jsx(Mn,{path:"/employee-invite",element:o.jsx(zPe,{})}),o.jsx(Mn,{path:"/profile",element:o.jsx(Doe,{})}),o.jsx(Mn,{path:"*",element:o.jsx(FPe,{})})]})]})]})})})}),KPe={settings:"Profil-Einstellungen",clickToUpload:"Klicken Sie auf das Bild zum ndern",firstName:"Vorname",lastName:"Nachname",phone:"Telefon",save:"Speichern",avatarUpdated:"Profilbild erfolgreich aktualisiert",avatarError:"Fehler beim Hochladen des Profilbilds",profileUpdated:"Profil erfolgreich aktualisiert",updateError:"Fehler beim Aktualisieren des Profils",invalidFileType:"Bitte whlen Sie eine Bilddatei",fileTooLarge:"Die Datei ist zu gro (max. 5MB)"},GPe={save:"Speichern",cancel:"Abbrechen",delete:"Lschen",edit:"Bearbeiten",create:"Erstellen",search:"Suchen...",loading:"Laden...",error:"Fehler",success:"Erfolgreich",back:"Zurck",next:"Weiter",submit:"Absenden",close:"Schlieen",confirm:"Besttigen",yes:"Ja",no:"Nein",or:"oder",and:"und",all:"Alle",none:"Keine",today:"Heute",tomorrow:"Morgen",yesterday:"Gestern",viewAll:"Alle anzeigen",active:"Aktiv",inactive:"Inaktiv",approve:"Genehmigen",reject:"Ablehnen",backToHome:"Zurck zur Startseite",more:"weitere",viewWeek:"Diese Woche",showNext:"Nchste"},YPe={home:"Startseite",dashboard:"Dashboard",calendar:"Kalender",appointments:"Termine",staff:"Mitarbeiter",customers:"Kunden",services:"Dienstleistungen",inventory:"Lager",reports:"Berichte",settings:"Einstellungen",profile:"Profil",logout:"Abmelden",login:"Anmelden",register:"Registrieren"},ZPe={title:"Kundenkartei",addCustomer:"Kunde hinzufgen",editCustomer:"Kunde bearbeiten",deleteCustomer:"Kunde lschen",firstName:"Vorname",lastName:"Nachname",birthdate:"Geburtsdatum",phone:"Telefon",email:"E-Mail",street:"Strae",houseNumber:"Hausnummer",postalCode:"PLZ",city:"Ort",address:"Adresse",notes:"Notizen",images:"Bilder",noCustomers:"Keine Kunden gefunden.",searchPlaceholder:"Suche...",birthdays:"Geburtstage",todayBirthdays:"Geburtstage heute",monthBirthdays:"Geburtstage in diesem Monat",noBirthdays:"Keine Geburtstage in diesem Zeitraum.",appointments:"Vergangene Termine",noAppointments:"Keine vergangenen Termine vorhanden.",saveCustomer:"Kunde speichern",updateCustomer:"Kunde aktualisieren",createCustomer:"Kunde anlegen",customerNumber:"Kundennummer",confirmDelete:"Sind Sie sicher, dass Sie diesen Kunden lschen mchten?"},XPe={login:"Anmelden",register:"Registrieren",logout:"Abmelden",email:"E-Mail",password:"Passwort",confirmPassword:"Passwort besttigen",forgotPassword:"Passwort vergessen?",resetPassword:"Passwort zurcksetzen",firstName:"Vorname",lastName:"Nachname",phone:"Telefon",welcomeBack:"Willkommen zurck",loginSubtitle:"Melden Sie sich an, um fortzufahren",createAccount:"Konto erstellen",registerSubtitle:"Starten Sie Ihre kostenlose Testphase",noAccount:"Noch kein Konto?",hasAccount:"Bereits ein Konto?",continueWith:"Fortfahren mit",termsAgree:"Mit der Registrierung akzeptieren Sie unsere",terms:"AGB",privacy:"Datenschutzrichtlinie",minPassword:"Mindestens 8 Zeichen",salonName:"Salonname"},QPe={hero:{badge:"Die All-in-One Salon-Lsung",title:"Salon",titleHighlight:"Manager",subtitle:"Verwalten Sie Termine, Mitarbeiter und Kunden in einer eleganten Plattform. Entwickelt fr moderne Friseursalons.",cta:"Jetzt starten",demo:"Demo ansehen",stats:{salons:"Aktive Salons",appointments:"Termine/Monat",satisfaction:"Zufriedenheit"}},features:{title:"Alles was Ihr Salon braucht",subtitle:"Von der Terminbuchung bis zur Lagerverwaltung  SalonManager vereint alle wichtigen Funktionen in einer eleganten Lsung.",scheduling:{title:"Intelligente Terminplanung",description:"Kunden buchen online, Stylisten besttigen. Automatische Pufferzeiten und Konflikterkennung."},staff:{title:"Mitarbeiterverwaltung",description:"Dienstplne, Urlaub, Krankmeldungen und Zeiterfassung per NFC/QR-Code an einem Ort."},time:{title:"Zeiterfassung",description:"Check-in/Check-out mit NFC oder QR. Automatische Pausenerkennung und Stundenkonten."},reports:{title:"Berichte & Analysen",description:"Auslastung, Umsatz pro Dienstleistung und Mitarbeiterperformance auf einen Blick."},notifications:{title:"Benachrichtigungen",description:"Automatische Terminerinnerungen per E-Mail und Push. Keine vergessenen Termine mehr."},security:{title:"Datenschutz",description:"DSGVO-konform. Sichere Speicherung aller Kunden- und Mitarbeiterdaten."},multiPlatform:{title:"Multi-Plattform",description:"Web-App fr Admin, mobile Apps fr Stylisten und Kunden. berall verfgbar."},multiSalon:{title:"Multi-Salon Support",description:"Verwalten Sie mehrere Standorte zentral. Individuelle Einstellungen pro Salon."}},roles:{title:"Mageschneiderte Erfahrung",subtitle:"Jede Rolle hat ihre eigene, optimierte Oberflche  perfekt abgestimmt auf die jeweiligen Bedrfnisse.",owner:{title:"Saloninhaber",subtitle:"Volle Kontrolle",description:"Verwalten Sie alle Aspekte Ihres Salons von einem Dashboard aus.",features:["Mitarbeiter & Dienstplne verwalten","ffnungszeiten & Feiertage festlegen","Berichte & Umsatzanalysen","Lagerverwaltung & Bestellungen","Kundendaten & Historie"]},stylist:{title:"Stylisten",subtitle:"Effizient arbeiten",description:"Alle wichtigen Informationen auf einen Blick fr den perfekten Arbeitstag.",features:["Persnlicher Terminkalender","Kundendetails & Notizen","Zeiterfassung per NFC/QR","Urlaub & Abwesenheiten beantragen","Push-Benachrichtigungen"]},customer:{title:"Kunden",subtitle:"Einfach buchen",description:"Termine buchen war noch nie so einfach und komfortabel.",features:["Online Terminbuchung 24/7","Stylisten & Service auswhlen","Bilder & Wnsche teilen","Terminerinnerungen erhalten","Buchungshistorie einsehen"]},learnMore:"Mehr erfahren"},cta:{badge:"14 Tage kostenlos testen",title:"Bereit, Ihren Salon zu transformieren?",subtitle:"Starten Sie noch heute und erleben Sie, wie einfach Salonmanagement sein kann. Keine Kreditkarte erforderlich.",primary:"Kostenlos starten",secondary:"Demo anfragen",trust:"Bereits ber 500 Salons vertrauen auf SalonManager"},footer:{description:"Die moderne Lsung fr Salonmanagement. Termine, Mitarbeiter und Kunden  alles in einer App.",product:"Produkt",company:"Unternehmen",resources:"Ressourcen",legal:"Rechtliches",features:"Funktionen",pricing:"Preise",integrations:"Integrationen",updates:"Updates",about:"ber uns",careers:"Karriere",blog:"Blog",press:"Presse",docs:"Dokumentation",help:"Hilfe-Center",api:"API",status:"Status",privacy:"Datenschutz",terms:"AGB",imprint:"Impressum",cookies:"Cookies",copyright:"Alle Rechte vorbehalten.",madeIn:"Made with  in Deutschland"}},JPe={title:"Dashboard",welcome:"Willkommen",employee:"Mitarbeiter",todayAppointments:"Termine heute",allAppointments:"Alle Termine",appointmentsToday:"Termine heute",thisWeek:"Diese Woche",activeStaff:"Mitarbeiter aktiv",todayRevenue:"Umsatz heute",upcomingAppointments:"Heutige Termine",viewAll:"Alle anzeigen",teamToday:"Team heute",manage:"Verwalten",newAppointment:"Neuer Termin",confirmed:"Besttigt",pending:"Ausstehend",appointments:"Termine",completed:"Abgeschlossen",position:"Position",notAnEmployee:"Kein Mitarbeiter",contactAdmin:"Bitte kontaktieren Sie den Administrator, um als Mitarbeiter registriert zu werden.",noAppointmentsToday:"Keine Termine fr heute",anonymousCustomer:"Kunde",noService:"Keine Dienstleistung",timeTracking:"Zeiterfassung",status:"Status",checkedIn:"Eingecheckt",checkedOut:"Ausgecheckt",notCheckedIn:"Nicht eingecheckt",workedToday:"Heute gearbeitet",checkIn:"Check-in",checkOut:"Check-out",break:"Pause",startWork:"Arbeit beginnen",endWork:"Arbeit beenden",workdayComplete:"Arbeitstag beendet",nextAppointments:"Nchste Termine",weekAppointments:"Termine diese Woche",noNextAppointments:"Keine bevorstehenden Termine",noWeekAppointments:"Keine Termine diese Woche",archivedAppointments:"Vergangene Termine",noArchivedAppointments:"Keine vergangenen Termine",requestLeave:"Urlaub beantragen",leaveType:"Art des Urlaubs",selectLeaveType:"Urlaubsart whlen",startDate:"Von",endDate:"Bis",reason:"Grund",reasonPlaceholder:"Optional: Grund fr den Urlaub...",submitRequest:"Antrag senden",fillAllFields:"Bitte fllen Sie alle Pflichtfelder aus",leaveRequestSubmitted:"Urlaubsantrag wurde eingereicht",leaveRequests:"Urlaubsantrge",noLeaveRequests:"Keine Urlaubsantrge",leaveTypes:{vacation:"Urlaub",sick:"Krankheit",personal:"Persnlich",training:"Fortbildung",other:"Sonstiges"},leaveStatus:{approved:"Genehmigt",pending:"Ausstehend",rejected:"Abgelehnt"},bookAppointmentDesc:"Buchen Sie jetzt einen Termin bei Ihrem Lieblingssalon.",myAppointments:"Meine Termine",myAppointmentsDesc:"Verwalten Sie Ihre gebuchten Termine.",noAppointments:"Keine Termine vorhanden",settingsDesc:"Profil und Einstellungen verwalten.",becomeSalonOwner:"Saloninhaber werden?",becomeSalonOwnerDesc:"Erstellen Sie Ihren eigenen Salon und verwalten Sie Termine, Mitarbeiter und mehr.",startNow:"Jetzt starten"},eke={details:"Termindetails",confirmed:"Besttigt",pending:"Ausstehend",cancelled:"Storniert",completed:"Abgeschlossen",customerNotes:"Kundenanmerkungen",stylistNotes:"Stylist-Notizen",noStylistNotes:"Keine Stylist-Notizen vorhanden",image:"Bild",bufferBefore:"Puffer vor",bufferAfter:"Puffer nach",appointmentNumber:"Terminnummer",reschedule:"Termin verschieben",newDate:"Neues Datum",newTime:"Neue Zeit",newStylist:"Neuer Stylist",complete:"Termin abschlieen",completeConfirm:"Abschlieen",manualAdjustment:"Manuelle Anpassung",finalPrice:"Gesamtpreis",noExtraReasons:"Keine Zusatzgrnde definiert",profileNotes:"Notizen aus der Kundenkartei",profileImages:"Kundenbilder",internalNote:"Interne Notiz"},tke={title:"Vergangene Termine",searchPlaceholder:"Suche nach Name, Service oder Datum",noResults:"Keine Termine gefunden"},nke={title:"Salon-Einstellungen",general:"Allgemein",address:"Adresse",booking:"Buchung",bookingEnabled:"ffentliche Buchung aktivieren",bookingExplanation:"Wenn deaktiviert, knnen Kunden keine Termine selbst buchen. Mitarbeiter knnen weiterhin intern Termine erstellen.",noSalon:"Kein Salon gefunden",updateSuccess:"Saloneinstellungen wurden erfolgreich aktualisiert",website:"Webseite",extraChargeReasonsTitle:"Zusatzgrnde",extraChargeReasonsDesc:"Definiere optionale Grnde fr zustzliche Kosten, die beim Abschlieen eines Termins angewendet werden knnen.",reasonName:"Grund",reasonNamePlaceholder:"z. B. Extra Farbe",defaultAmount:"Betrag ()",addReason:"Hinzufgen",noReasons:"Keine Zusatzgrnde vorhanden",reasonUpdated:"Grund aktualisiert",reasonDeleted:"Grund gelscht"},rke={owner:"Inhaber"},ike={title:"Dienstleistungen",new:"Neue Dienstleistung",name:"Name",namePlaceholder:"z.B. Haarschnitt",description:"Beschreibung",duration:"Dauer",price:"Preis",category:"Kategorie",categoryPlaceholder:"z.B. Haare",minutes:"Minuten",bufferBefore:"Puffer vor",bufferAfter:"Puffer nach"},ake={title:"Einstellungen",profile:"Profil",appearance:"Erscheinungsbild",language:"Sprache",notifications:"Benachrichtigungen",security:"Sicherheit",theme:"Design",lightMode:"Hell",darkMode:"Dunkel",systemMode:"System",german:"Deutsch",english:"English"},ske={minutes:"Min",hours:"Std",days:"Tage"},oke={dashboard:"Admin Dashboard",overview:"bersicht",employees:"Mitarbeiter",services:"Dienstleistungen",leaveManagement:"Urlaubsverwaltung",manageEmployees:"Mitarbeiter verwalten",manageServices:"Dienstleistungen verwalten",addEmployee:"Mitarbeiter hinzufgen",editEmployee:"Mitarbeiter bearbeiten",addService:"Dienstleistung hinzufgen",editService:"Dienstleistung bearbeiten",activeEmployees:"Aktive Mitarbeiter",totalServices:"Dienstleistungen",pendingLeave:"Offene Antrge",noEmployees:"Noch keine Mitarbeiter vorhanden",noServices:"Noch keine Dienstleistungen vorhanden",employeeCreated:"Mitarbeiter wurde erstellt",employeeUpdated:"Mitarbeiter wurde aktualisiert",employeeDeleted:"Mitarbeiter wurde gelscht",serviceCreated:"Dienstleistung wurde erstellt",serviceUpdated:"Dienstleistung wurde aktualisiert",serviceDeleted:"Dienstleistung wurde gelscht",leaveApproved:"Urlaubsantrag genehmigt",leaveRejected:"Urlaubsantrag abgelehnt",employeeEmailHint:"Der Mitarbeiter kann sich mit dieser E-Mail registrieren",shareBookingLink:"Buchungslink teilen",linkCopied:"Buchungslink kopiert!"},lke={approve:"Besttigen",reject:"Ablehnen",suggestTime:"Zeit vorschlagen",suggestNewTime:"Neue Zeit vorschlagen",rejectReason:"Ablehnungsgrund",rejectReasonPlaceholder:"Optional: Grund fr Ablehnung...",appointmentApproved:"Termin besttigt",appointmentRejected:"Termin abgelehnt",newTimeSuggested:"Neue Zeit vorgeschlagen"},cke={addItem:"Artikel hinzufgen",editItem:"Artikel bearbeiten",name:"Name",namePlaceholder:"z.B. Shampoo",description:"Beschreibung",quantity:"Menge",minQuantity:"Mindestmenge",price:"Preis",unit:"Einheit",expiryDate:"Ablaufdatum",itemCreated:"Artikel erstellt",itemUpdated:"Artikel aktualisiert",itemDeleted:"Artikel gelscht",noItems:"Keine Artikel vorhanden",lowStock:"Niedriger Bestand",itemsLowStock:"Artikel mit niedrigem Bestand",expiringSoon:"Bald ablaufend",itemsExpiring:"Artikel laufen bald ab",stock:"Bestand",min:"Min",expires:"Luft ab",low:"Niedrig",expiring:"Ablaufend"},uke={totalRevenue:"Gesamtumsatz",totalAppointments:"Termine gesamt",avgBooking:" Buchungswert",completionRate:"Abschlussrate",revenue:"Umsatz",services:"Dienstleistungen",employees:"Mitarbeiter",dailyRevenue:"Tglicher Umsatz",topServices:"Top Dienstleistungen",serviceBreakdown:"Service-Aufschlsselung",bookings:"Buchungen",employeePerformance:"Mitarbeiter-Performance"},dke={title:"Dienstplne",addSchedule:"Dienstplan hinzufgen",editSchedule:"Dienstplan bearbeiten",allEmployees:"Alle Mitarbeiter",selectEmployee:"Mitarbeiter auswhlen",recurring:"Wiederkehrend",dayOfWeek:"Wochentag",specificDate:"Bestimmtes Datum",startTime:"Startzeit",endTime:"Endzeit",created:"Dienstplan erstellt",updated:"Dienstplan aktualisiert",deleted:"Dienstplan gelscht",noSchedule:"Kein Dienstplan"},fke={title:"Schliezeiten & Feiertage",addClosure:"Schliezeit hinzufgen",editClosure:"Schliezeit bearbeiten",reason:"Grund",reasonPlaceholder:"z.B. Betriebsferien, Feiertag...",created:"Schliezeit erstellt",updated:"Schliezeit aktualisiert",deleted:"Schliezeit gelscht",currentlyClosed:"Aktuell geschlossen",upcoming:"Geplante Schliezeiten",past:"Vergangene Schliezeiten",noUpcoming:"Keine geplanten Schliezeiten"},hke={step1Title:"Salon Grunddaten",step1Description:"Geben Sie die grundlegenden Informationen zu Ihrem Salon ein.",step2Title:"Adresse",step2Description:"Wo befindet sich Ihr Salon?",step3Title:"ffnungszeiten",step3Description:"Wann ist Ihr Salon geffnet?",salonName:"Salonname",salonNamePlaceholder:"z.B. Hair Studio Berlin",description:"Beschreibung",descriptionPlaceholder:"Kurze Beschreibung Ihres Salons...",street:"Strae & Hausnummer",streetPlaceholder:"Musterstrae 123",postalCode:"PLZ",city:"Stadt",open:"Geffnet",closed:"Geschlossen",createSalon:"Salon erstellen",success:"Salon erfolgreich erstellt!"},pke={salon:"Salon",service:"Service",stylist:"Stylist",appointment:"Termin",selectSalon:"Whlen Sie einen Salon",whereToBbook:"Wo mchten Sie Ihren Termin buchen?",noSalons:"Keine Salons verfgbar",selectService:"Whlen Sie eine Dienstleistung",whatToBook:"Was mchten Sie buchen?",noServices:"Keine Dienstleistungen verfgbar",selectStylist:"Whlen Sie einen Stylisten",orLetUsChoose:"Oder lassen Sie uns den besten verfgbaren auswhlen",anyAvailable:"Egal / Nchster Verfgbarer",weChooseBest:"Wir whlen den besten verfgbaren Stylisten",anyStylist:"Beliebiger Stylist",selectDateTime:"Whlen Sie Datum & Uhrzeit",clickToBook:"Klicken Sie auf eine verfgbare Zeit, um zu buchen",available:"Verfgbar",serviceDuration:"Dienstleistungsdauer",minutes:"Minuten",booked:"Gebucht",absent:"Abwesend",closed:"Geschlossen",past:"Vergangenheit",time:"Zeit",date:"Datum",confirmBooking:"Termin besttigen",selectTime:"Uhrzeit whlen",yourDetails:"Ihre Kontaktdaten",name:"Name",namePlaceholder:"Ihr vollstndiger Name",email:"E-Mail",emailPlaceholder:"ihre@email.de",phone:"Telefon",phonePlaceholder:"+49 123 456789",additionalInfo:"Zustzliche Informationen",notes:"Anmerkungen",notesPlaceholder:"Besondere Wnsche oder Hinweise...",referenceImage:"Referenzbild",addImage:"Bild hinzufgen",imageUploaded:"Bild hochgeladen",imageUploadError:"Fehler beim Hochladen",invalidImageType:"Bitte whlen Sie eine Bilddatei",imageTooLarge:"Datei zu gro (max. 5MB)",fillRequired:"Bitte fllen Sie alle Pflichtfelder aus",bookingError:"Fehler beim Buchen. Bitte versuchen Sie es erneut.",bookingSuccess:"Termin erfolgreich gebucht! Sie erhalten eine Besttigung per E-Mail.",salonNotFound:"Salon nicht gefunden",salonNotFoundDesc:"Dieser Salon existiert nicht oder ist nicht mehr aktiv.",selectAnyAvailable:"Whlen Sie 'Beliebiger Stylist'",fillDetailsBelow:"Fllen Sie die Details unten aus, um Ihren Termin zu besttigen",openingHours:"ffnungszeiten",timeTooEarly:"Die Zeit liegt vor der ffnungszeit ({{time}})",timeTooLate:"Die Dienstleistung endet nach Ladenschluss. Spteste Buchung: {{time}}",timeConflict:"Zeitkonflikt mit einem bestehenden Termin ({{start}} - {{end}})",disabledTitle:"Terminbuchung nicht verfgbar",disabledMessage:"Dieser Salon nimmt derzeit keine Online-Buchungen entgegen. Bitte kontaktieren Sie den Salon direkt, um einen Termin zu vereinbaren.",priceDisclaimer:"Die Preise knnen je nach verwendeten Produkten und Aufwand variieren.",mapView:"Karte",mapViewTitle:"Salonkarte",mapViewDescription:"Diese Seite zeigt Salons in Ihrer Nhe auf einer interaktiven Karte.",noSalonsNearby:"Keine Salons in der Nhe gefunden.",youAreHere:"Sie sind hier",bookHere:"Hier buchen",filter:"Filter",filterRating:"Mindestbewertung",filterPrice:"Preisspanne ()",filterCategories:"Kategorien",filterDistance:"Entfernung (km)",resetFilters:"Filter zurcksetzen",noCategories:"Keine Kategorien",filterTime:"Nchster Termin",timeAny:"Beliebig",timeNextHour:"Nchste Stunde",timeToday:"Heute",timeThisWeek:"Diese Woche",timeNext2Weeks:"Nchste 2 Wochen",salonsFound:"{{count}} Salon gefunden",salonsFound_plural:"{{count}} Salons gefunden",geoError:"Ihr Standort kann nicht abgerufen werden.",geoPrompt:"Bitte geben Sie Ihre Adresse ein, um Salons in Ihrer Nhe zu finden.",enterAddress:"Adresse eingeben",searchAddress:"Suchen",addressNotFound:"Adresse nicht gefunden.",clusterMultiple:"{{count}} Salons in diesem Bereich"},mke={terminal:"Kasse",history:"Transaktionen",selectItems:"Artikel auswhlen",services:"Dienstleistungen",products:"Produkte",cart:"Warenkorb",emptyCart:"Warenkorb ist leer",uncategorized:"Sonstige",noProducts:"Keine Produkte verfgbar",inStock:"Auf Lager",discountValue:"Rabatt",tipAmount:"Trinkgeld ()",customerName:"Kundenname",customerNamePlaceholder:"Name eingeben...",subtotal:"Zwischensumme",discount:"Rabatt",tax:"MwSt.",tip:"Trinkgeld",total:"Gesamt",proceedToPayment:"Zur Zahlung",selectPaymentMethod:"Zahlungsmethode whlen",totalToPay:"Zu zahlender Betrag",cash:"Bar",card:"Karte",cashReceived:"Erhaltener Betrag",changeToGive:"Rckgeld",completePayment:"Zahlung abschlieen",transactionHistory:"Transaktionsverlauf",searchTransactions:"Transaktionen suchen...",noTransactions:"Keine Transaktionen",anonymous:"Anonym",transactionDetails:"Transaktionsdetails",transactionId:"Transaktions-ID",date:"Datum",paymentMethod:"Zahlungsmethode",customer:"Kunde",createReceipt:"Quittung erstellen",createInvoice:"Rechnung erstellen",refund:"Rckerstattung",processRefund:"Rckerstattung bearbeiten",maxRefundAmount:"Maximaler Betrag",refundAmount:"Betrag ()",refundReason:"Grund (optional)",confirmRefund:"Rckerstattung besttigen",todayRevenue:"Umsatz heute",todayTransactions:"Transaktionen heute",cashTotal:"Bar gesamt",cardTotal:"Karte gesamt",status:{pending:"Ausstehend",completed:"Abgeschlossen",failed:"Fehlgeschlagen",refunded:"Erstattet",partially_refunded:"Teilweise erstattet"}},gke={profile:KPe,common:GPe,nav:YPe,customersPage:ZPe,auth:XPe,landing:QPe,dashboard:JPe,appointments:eke,pastAppointments:tke,salonSettings:nke,staff:rke,services:ike,settings:ake,time:ske,admin:oke,calendar:lke,inventory:cke,reports:uke,schedule:dke,closures:fke,salonSetup:hke,booking:pke,pos:mke},vke={settings:"Profile Settings",clickToUpload:"Click on the image to change",firstName:"First Name",lastName:"Last Name",phone:"Phone",save:"Save",avatarUpdated:"Profile picture updated successfully",avatarError:"Error uploading profile picture",profileUpdated:"Profile updated successfully",updateError:"Error updating profile",invalidFileType:"Please select an image file",fileTooLarge:"File is too large (max 5MB)"},yke={save:"Save",cancel:"Cancel",delete:"Delete",edit:"Edit",create:"Create",search:"Search...",loading:"Loading...",error:"Error",success:"Success",back:"Back",next:"Next",submit:"Submit",close:"Close",confirm:"Confirm",yes:"Yes",no:"No",or:"or",and:"and",all:"All",none:"None",today:"Today",tomorrow:"Tomorrow",yesterday:"Yesterday",viewAll:"View All",active:"Active",inactive:"Inactive",approve:"Approve",reject:"Reject",backToHome:"Back to Home",more:"more",viewWeek:"This Week",showNext:"Show Next"},xke={home:"Home",dashboard:"Dashboard",calendar:"Calendar",appointments:"Appointments",staff:"Staff",customers:"Customers",services:"Services",inventory:"Inventory",reports:"Reports",settings:"Settings",profile:"Profile",logout:"Logout",login:"Login",register:"Register"},bke={title:"Customer Files",addCustomer:"Add Customer",editCustomer:"Edit Customer",deleteCustomer:"Delete Customer",firstName:"First Name",lastName:"Last Name",birthdate:"Birthdate",phone:"Phone",email:"Email",street:"Street",houseNumber:"House number",postalCode:"Postal code",city:"City",address:"Address",notes:"Notes",images:"Images",noCustomers:"No customers found.",searchPlaceholder:"Search...",birthdays:"Birthdays",todayBirthdays:"Birthdays today",monthBirthdays:"Birthdays this month",noBirthdays:"No birthdays in this period.",appointments:"Past Appointments",noAppointments:"No past appointments available.",saveCustomer:"Save Customer",updateCustomer:"Update Customer",createCustomer:"Create Customer",customerNumber:"Customer number",confirmDelete:"Are you sure you want to delete this customer?"},wke={login:"Login",register:"Register",logout:"Logout",email:"Email",password:"Password",confirmPassword:"Confirm Password",forgotPassword:"Forgot Password?",resetPassword:"Reset Password",firstName:"First Name",lastName:"Last Name",phone:"Phone",welcomeBack:"Welcome back",loginSubtitle:"Sign in to continue",createAccount:"Create Account",registerSubtitle:"Start your free trial",noAccount:"Don't have an account?",hasAccount:"Already have an account?",continueWith:"Continue with",termsAgree:"By registering you agree to our",terms:"Terms of Service",privacy:"Privacy Policy",minPassword:"Minimum 8 characters",salonName:"Salon Name"},_ke={hero:{badge:"The All-in-One Salon Solution",title:"Salon",titleHighlight:"Manager",subtitle:"Manage appointments, staff, and customers on one elegant platform. Built for modern hair salons.",cta:"Get Started",demo:"Watch Demo",stats:{salons:"Active Salons",appointments:"Appointments/Month",satisfaction:"Satisfaction"}},features:{title:"Everything Your Salon Needs",subtitle:"From appointment booking to inventory management  SalonManager combines all essential features in one elegant solution.",scheduling:{title:"Smart Scheduling",description:"Customers book online, stylists confirm. Automatic buffer times and conflict detection."},staff:{title:"Staff Management",description:"Schedules, vacation, sick leave and time tracking via NFC/QR code in one place."},time:{title:"Time Tracking",description:"Check-in/Check-out with NFC or QR. Automatic break detection and hour accounts."},reports:{title:"Reports & Analytics",description:"Utilization, revenue per service and staff performance at a glance."},notifications:{title:"Notifications",description:"Automatic appointment reminders via email and push. No more forgotten appointments."},security:{title:"Data Protection",description:"GDPR compliant. Secure storage of all customer and staff data."},multiPlatform:{title:"Multi-Platform",description:"Web app for admin, mobile apps for stylists and customers. Available everywhere."},multiSalon:{title:"Multi-Salon Support",description:"Manage multiple locations centrally. Individual settings per salon."}},roles:{title:"Tailored Experience",subtitle:"Each role has its own optimized interface  perfectly tailored to the respective needs.",owner:{title:"Salon Owner",subtitle:"Full Control",description:"Manage all aspects of your salon from one dashboard.",features:["Manage staff & schedules","Set opening hours & holidays","Reports & revenue analytics","Inventory management & orders","Customer data & history"]},stylist:{title:"Stylists",subtitle:"Work Efficiently",description:"All important information at a glance for the perfect workday.",features:["Personal appointment calendar","Customer details & notes","Time tracking via NFC/QR","Request vacation & absences","Push notifications"]},customer:{title:"Customers",subtitle:"Easy Booking",description:"Booking appointments has never been so easy and convenient.",features:["Online booking 24/7","Choose stylist & service","Share images & wishes","Receive appointment reminders","View booking history"]},learnMore:"Learn More"},cta:{badge:"14-day free trial",title:"Ready to Transform Your Salon?",subtitle:"Start today and experience how easy salon management can be. No credit card required.",primary:"Get Started Free",secondary:"Request Demo",trust:"Already over 500 salons trust SalonManager"},footer:{description:"The modern solution for salon management. Appointments, staff, and customers  all in one app.",product:"Product",company:"Company",resources:"Resources",legal:"Legal",features:"Features",pricing:"Pricing",integrations:"Integrations",updates:"Updates",about:"About",careers:"Careers",blog:"Blog",press:"Press",docs:"Documentation",help:"Help Center",api:"API",status:"Status",privacy:"Privacy",terms:"Terms",imprint:"Imprint",cookies:"Cookies",copyright:"All rights reserved.",madeIn:"Made with  in Germany"}},Ske={bookAppointmentDesc:"Book an appointment at your favorite salon now.",myAppointments:"My Appointments",myAppointmentsDesc:"Manage your booked appointments.",noAppointments:"No appointments",settingsDesc:"Manage profile and settings.",becomeSalonOwner:"Become a Salon Owner?",becomeSalonOwnerDesc:"Create your own salon and manage appointments, employees and more.",startNow:"Start Now",nextAppointments:"Next Appointments",weekAppointments:"This Week's Appointments",noNextAppointments:"No upcoming appointments",noWeekAppointments:"No appointments this week",archivedAppointments:"Past Appointments",noArchivedAppointments:"No past appointments",anonymousCustomer:"Customer",noService:"No Service",pastAppointments:"Past Appointments"},jke={details:"Appointment Details",confirmed:"Confirmed",pending:"Pending",cancelled:"Cancelled",completed:"Completed",customerNotes:"Customer notes",stylistNotes:"Stylist notes",noStylistNotes:"No stylist notes yet",image:"Image",bufferBefore:"Buffer before",bufferAfter:"Buffer after",appointmentNumber:"Appointment number",reschedule:"Reschedule",newDate:"New date",newTime:"New time",newStylist:"New stylist",complete:"Complete appointment",completeConfirm:"Finish",manualAdjustment:"Manual adjustment",finalPrice:"Total price",noExtraReasons:"No extra reasons defined",profileNotes:"Customer file notes",profileImages:"Customer images",internalNote:"Internal note"},Nke={title:"Past Appointments",searchPlaceholder:"Search by name, service or date",noResults:"No appointments found"},Pke={title:"Salon Settings",general:"General",address:"Address",booking:"Booking",bookingEnabled:"Enable public booking",bookingExplanation:"If disabled, customers cannot book appointments themselves. Staff can still create appointments internally.",noSalon:"No salon found",updateSuccess:"Salon settings updated successfully",website:"Website",extraChargeReasonsTitle:"Extra charge reasons",extraChargeReasonsDesc:"Define optional reasons for additional charges that can be applied when completing an appointment.",reasonName:"Reason",reasonNamePlaceholder:"e.g. Extra color",defaultAmount:"Amount ()",addReason:"Add",noReasons:"No extra charge reasons yet",reasonUpdated:"Reason updated",reasonDeleted:"Reason deleted"},kke={owner:"Owner"},Eke={title:"Services",new:"New Service",name:"Name",namePlaceholder:"e.g. Haircut",description:"Description",duration:"Duration",price:"Price",category:"Category",categoryPlaceholder:"e.g. Hair",minutes:"minutes",bufferBefore:"Buffer before",bufferAfter:"Buffer after"},Cke={title:"Settings",profile:"Profile",appearance:"Appearance",language:"Language",notifications:"Notifications",security:"Security",theme:"Theme",lightMode:"Light",darkMode:"Dark",systemMode:"System",german:"Deutsch",english:"English"},Oke={minutes:"min",hours:"hrs",days:"days"},Tke={dashboard:"Admin Dashboard",overview:"Overview",employees:"Employees",services:"Services",leaveManagement:"Leave Management",manageEmployees:"Manage Employees",manageServices:"Manage Services",addEmployee:"Add Employee",editEmployee:"Edit Employee",addService:"Add Service",editService:"Edit Service",activeEmployees:"Active Employees",totalServices:"Total Services",pendingLeave:"Pending Requests",noEmployees:"No employees yet",noServices:"No services yet",employeeCreated:"Employee created",employeeUpdated:"Employee updated",employeeDeleted:"Employee deleted",serviceCreated:"Service created",serviceUpdated:"Service updated",serviceDeleted:"Service deleted",leaveApproved:"Leave request approved",leaveRejected:"Leave request rejected",employeeEmailHint:"The employee can register with this email",shareBookingLink:"Share booking link",linkCopied:"Booking link copied!"},Ake={approve:"Approve",reject:"Reject",suggestTime:"Suggest Time",suggestNewTime:"Suggest New Time",rejectReason:"Rejection Reason",rejectReasonPlaceholder:"Optional: Reason for rejection...",appointmentApproved:"Appointment approved",appointmentRejected:"Appointment rejected",newTimeSuggested:"New time suggested"},Rke={addItem:"Add Item",editItem:"Edit Item",name:"Name",namePlaceholder:"e.g. Shampoo",description:"Description",quantity:"Quantity",minQuantity:"Minimum Quantity",price:"Price",unit:"Unit",expiryDate:"Expiry Date",itemCreated:"Item created",itemUpdated:"Item updated",itemDeleted:"Item deleted",noItems:"No items available",lowStock:"Low Stock",itemsLowStock:"Items with low stock",expiringSoon:"Expiring Soon",itemsExpiring:"Items expiring soon",stock:"Stock",min:"Min",expires:"Expires",low:"Low",expiring:"Expiring"},Mke={totalRevenue:"Total Revenue",totalAppointments:"Total Appointments",avgBooking:"Avg. Booking Value",completionRate:"Completion Rate",revenue:"Revenue",services:"Services",employees:"Employees",dailyRevenue:"Daily Revenue",topServices:"Top Services",serviceBreakdown:"Service Breakdown",bookings:"Bookings",employeePerformance:"Employee Performance"},Dke={title:"Work Schedules",addSchedule:"Add Schedule",editSchedule:"Edit Schedule",allEmployees:"All Employees",selectEmployee:"Select Employee",recurring:"Recurring",dayOfWeek:"Day of Week",specificDate:"Specific Date",startTime:"Start Time",endTime:"End Time",created:"Schedule created",updated:"Schedule updated",deleted:"Schedule deleted",noSchedule:"No schedule"},Ike={title:"Closures & Holidays",addClosure:"Add Closure",editClosure:"Edit Closure",reason:"Reason",reasonPlaceholder:"e.g. Holiday, Vacation...",created:"Closure created",updated:"Closure updated",deleted:"Closure deleted",currentlyClosed:"Currently Closed",upcoming:"Upcoming Closures",past:"Past Closures",noUpcoming:"No upcoming closures"},Lke={step1Title:"Salon Basics",step1Description:"Enter the basic information about your salon.",step2Title:"Address",step2Description:"Where is your salon located?",step3Title:"Opening Hours",step3Description:"When is your salon open?",salonName:"Salon Name",salonNamePlaceholder:"e.g. Hair Studio Berlin",description:"Description",descriptionPlaceholder:"Brief description of your salon...",street:"Street & Number",streetPlaceholder:"123 Main Street",postalCode:"Postal Code",city:"City",open:"Open",closed:"Closed",createSalon:"Create Salon",success:"Salon created successfully!"},$ke={salon:"Salon",service:"Service",stylist:"Stylist",appointment:"Appointment",selectSalon:"Select a Salon",whereToBbook:"Where would you like to book?",noSalons:"No salons available",selectService:"Select a Service",whatToBook:"What would you like to book?",noServices:"No services available",selectStylist:"Select a Stylist",orLetUsChoose:"Or let us choose the best available",anyAvailable:"Any / Next Available",weChooseBest:"We'll choose the best available stylist",anyStylist:"Any Stylist",selectDateTime:"Select Date & Time",clickToBook:"Click on an available time to book",available:"Available",serviceDuration:"Service duration",minutes:"minutes",booked:"Booked",absent:"Absent",closed:"Closed",past:"Past",time:"Time",date:"Date",confirmBooking:"Confirm Booking",selectTime:"Select time",yourDetails:"Your Contact Details",name:"Name",namePlaceholder:"Your full name",email:"Email",emailPlaceholder:"your@email.com",phone:"Phone",phonePlaceholder:"+1 234 567890",additionalInfo:"Additional Information",notes:"Notes",notesPlaceholder:"Special requests or notes...",referenceImage:"Reference Image",addImage:"Add Image",imageUploaded:"Image uploaded",imageUploadError:"Error uploading image",invalidImageType:"Please select an image file",imageTooLarge:"File too large (max 5MB)",fillRequired:"Please fill all required fields",bookingError:"Booking failed. Please try again.",bookingSuccess:"Appointment booked successfully! You will receive a confirmation email.",salonNotFound:"Salon not found",salonNotFoundDesc:"This salon does not exist or is no longer active.",selectAnyAvailable:"Select 'Any Available'",fillDetailsBelow:"Fill in the details below to confirm your appointment",openingHours:"Opening hours",timeTooEarly:"Time is before opening time ({{time}})",timeTooLate:"Service ends after closing. Latest booking: {{time}}",timeConflict:"Time conflict with existing appointment ({{start}} - {{end}})",disabledTitle:"Booking unavailable",disabledMessage:"This salon currently does not accept online bookings. Please contact the salon directly to make an appointment.",priceDisclaimer:"Prices may vary depending on products and effort.",mapView:"Map",mapViewTitle:"Salon Map",mapViewDescription:"This page will show salons near you on an interactive map.",noSalonsNearby:"No salons found nearby.",youAreHere:"You are here",bookHere:"Book here",filter:"Filters",filterRating:"Minimum rating",filterPrice:"Price range ()",filterCategories:"Categories",filterDistance:"Distance (km)",resetFilters:"Reset filters",noCategories:"No categories",filterTime:"Next slot",timeAny:"Any time",timeNextHour:"Next hour",timeToday:"Today",timeThisWeek:"This week",timeNext2Weeks:"Next 2 weeks",salonsFound:"{{count}} salon found",salonsFound_plural:"{{count}} salons found",geoError:"Unable to access your location.",geoPrompt:"Please enter your address to find salons near you.",enterAddress:"Enter address",searchAddress:"Search",addressNotFound:"Address not found.",clusterMultiple:"{{count}} salons in this area"},Bke={terminal:"POS",history:"Transactions",selectItems:"Select Items",services:"Services",products:"Products",cart:"Cart",emptyCart:"Cart is empty",uncategorized:"Other",noProducts:"No products available",inStock:"In stock",discountValue:"Discount",tipAmount:"Tip ()",customerName:"Customer Name",customerNamePlaceholder:"Enter name...",subtotal:"Subtotal",discount:"Discount",tax:"Tax",tip:"Tip",total:"Total",proceedToPayment:"Proceed to Payment",selectPaymentMethod:"Select Payment Method",totalToPay:"Total to Pay",cash:"Cash",card:"Card",cashReceived:"Cash Received",changeToGive:"Change",completePayment:"Complete Payment",transactionHistory:"Transaction History",searchTransactions:"Search transactions...",noTransactions:"No transactions",anonymous:"Anonymous",transactionDetails:"Transaction Details",transactionId:"Transaction ID",date:"Date",paymentMethod:"Payment Method",customer:"Customer",createReceipt:"Create Receipt",createInvoice:"Create Invoice",refund:"Refund",processRefund:"Process Refund",maxRefundAmount:"Maximum Amount",refundAmount:"Amount ()",refundReason:"Reason (optional)",confirmRefund:"Confirm Refund",todayRevenue:"Today's Revenue",todayTransactions:"Today's Transactions",cashTotal:"Cash Total",cardTotal:"Card Total",status:{pending:"Pending",completed:"Completed",failed:"Failed",refunded:"Refunded",partially_refunded:"Partially Refunded"}},Fke={profile:vke,common:yke,nav:xke,customersPage:bke,auth:wke,landing:_ke,dashboard:Ske,appointments:jke,pastAppointments:Nke,salonSettings:Pke,staff:kke,services:Eke,settings:Cke,time:Oke,admin:Tke,calendar:Ake,inventory:Rke,reports:Mke,schedule:Dke,closures:Ike,salonSetup:Lke,booking:$ke,pos:Bke},zke=localStorage.getItem("language")||"de";li.use(ure).init({resources:{de:{translation:gke},en:{translation:Fke}},lng:zke,fallbackLng:"de",interpolation:{escapeValue:!1}});P7.createRoot(document.getElementById("root")).render(o.jsx(VPe,{}));
